{"version":3,"file":"main.44ed6621.js","sources":["../../vite/modulepreload-polyfill","../../node_modules/gl-matrix/esm/common.js","../../node_modules/gl-matrix/esm/mat3.js","../../node_modules/gl-matrix/esm/mat4.js","../../node_modules/gl-matrix/esm/vec3.js","../../node_modules/@colormap/core/dist/index.esm.js","../../node_modules/@colormap/presets/dist/index.esm.js","../../src/core/Network.js","../../src/utilities/webgl.js","../../src/utilities/xnet.js","../../node_modules/d3-selection/src/namespaces.js","../../node_modules/d3-selection/src/namespace.js","../../node_modules/d3-selection/src/creator.js","../../node_modules/d3-selection/src/selector.js","../../node_modules/d3-selection/src/selection/select.js","../../node_modules/d3-selection/src/array.js","../../node_modules/d3-selection/src/selectorAll.js","../../node_modules/d3-selection/src/selection/selectAll.js","../../node_modules/d3-selection/src/matcher.js","../../node_modules/d3-selection/src/selection/selectChild.js","../../node_modules/d3-selection/src/selection/selectChildren.js","../../node_modules/d3-selection/src/selection/filter.js","../../node_modules/d3-selection/src/selection/sparse.js","../../node_modules/d3-selection/src/selection/enter.js","../../node_modules/d3-selection/src/constant.js","../../node_modules/d3-selection/src/selection/data.js","../../node_modules/d3-selection/src/selection/exit.js","../../node_modules/d3-selection/src/selection/join.js","../../node_modules/d3-selection/src/selection/merge.js","../../node_modules/d3-selection/src/selection/order.js","../../node_modules/d3-selection/src/selection/sort.js","../../node_modules/d3-selection/src/selection/call.js","../../node_modules/d3-selection/src/selection/nodes.js","../../node_modules/d3-selection/src/selection/node.js","../../node_modules/d3-selection/src/selection/size.js","../../node_modules/d3-selection/src/selection/empty.js","../../node_modules/d3-selection/src/selection/each.js","../../node_modules/d3-selection/src/selection/attr.js","../../node_modules/d3-selection/src/window.js","../../node_modules/d3-selection/src/selection/style.js","../../node_modules/d3-selection/src/selection/property.js","../../node_modules/d3-selection/src/selection/classed.js","../../node_modules/d3-selection/src/selection/text.js","../../node_modules/d3-selection/src/selection/html.js","../../node_modules/d3-selection/src/selection/raise.js","../../node_modules/d3-selection/src/selection/lower.js","../../node_modules/d3-selection/src/selection/append.js","../../node_modules/d3-selection/src/selection/insert.js","../../node_modules/d3-selection/src/selection/remove.js","../../node_modules/d3-selection/src/selection/clone.js","../../node_modules/d3-selection/src/selection/datum.js","../../node_modules/d3-selection/src/selection/on.js","../../node_modules/d3-selection/src/selection/dispatch.js","../../node_modules/d3-selection/src/selection/iterator.js","../../node_modules/d3-selection/src/selection/index.js","../../node_modules/d3-selection/src/select.js","../../node_modules/d3-selection/src/sourceEvent.js","../../node_modules/d3-selection/src/pointer.js","../../src/core/Scheduler.js","../../node_modules/d3-dispatch/src/dispatch.js","../../node_modules/d3-drag/src/noevent.js","../../node_modules/d3-drag/src/nodrag.js","../../node_modules/d3-color/src/define.js","../../node_modules/d3-color/src/color.js","../../node_modules/d3-color/src/math.js","../../node_modules/d3-color/src/cubehelix.js","../../node_modules/d3-interpolate/src/basis.js","../../node_modules/d3-interpolate/src/constant.js","../../node_modules/d3-interpolate/src/color.js","../../node_modules/d3-interpolate/src/rgb.js","../../node_modules/d3-interpolate/src/numberArray.js","../../node_modules/d3-interpolate/src/array.js","../../node_modules/d3-interpolate/src/date.js","../../node_modules/d3-interpolate/src/number.js","../../node_modules/d3-interpolate/src/object.js","../../node_modules/d3-interpolate/src/string.js","../../node_modules/d3-interpolate/src/value.js","../../node_modules/d3-interpolate/src/round.js","../../node_modules/d3-interpolate/src/transform/decompose.js","../../node_modules/d3-interpolate/src/transform/parse.js","../../node_modules/d3-interpolate/src/transform/index.js","../../node_modules/d3-interpolate/src/zoom.js","../../node_modules/d3-interpolate/src/cubehelix.js","../../node_modules/d3-timer/src/timer.js","../../node_modules/d3-timer/src/timeout.js","../../node_modules/d3-transition/src/transition/schedule.js","../../node_modules/d3-transition/src/interrupt.js","../../node_modules/d3-transition/src/selection/interrupt.js","../../node_modules/d3-transition/src/transition/tween.js","../../node_modules/d3-transition/src/transition/interpolate.js","../../node_modules/d3-transition/src/transition/attr.js","../../node_modules/d3-transition/src/transition/attrTween.js","../../node_modules/d3-transition/src/transition/delay.js","../../node_modules/d3-transition/src/transition/duration.js","../../node_modules/d3-transition/src/transition/ease.js","../../node_modules/d3-transition/src/transition/easeVarying.js","../../node_modules/d3-transition/src/transition/filter.js","../../node_modules/d3-transition/src/transition/merge.js","../../node_modules/d3-transition/src/transition/on.js","../../node_modules/d3-transition/src/transition/remove.js","../../node_modules/d3-transition/src/transition/select.js","../../node_modules/d3-transition/src/transition/selectAll.js","../../node_modules/d3-transition/src/transition/selection.js","../../node_modules/d3-transition/src/transition/style.js","../../node_modules/d3-transition/src/transition/styleTween.js","../../node_modules/d3-transition/src/transition/text.js","../../node_modules/d3-transition/src/transition/textTween.js","../../node_modules/d3-transition/src/transition/transition.js","../../node_modules/d3-transition/src/transition/end.js","../../node_modules/d3-transition/src/transition/index.js","../../node_modules/d3-ease/src/linear.js","../../node_modules/d3-ease/src/cubic.js","../../node_modules/d3-transition/src/selection/transition.js","../../node_modules/d3-transition/src/selection/index.js","../../node_modules/d3-zoom/src/constant.js","../../node_modules/d3-zoom/src/event.js","../../node_modules/d3-zoom/src/transform.js","../../node_modules/d3-zoom/src/noevent.js","../../node_modules/d3-zoom/src/zoom.js","../../node_modules/pica/dist/pica.js","../../src/layouts/d3force3dLayoutWorker.js","../../src/shaders/edges.js","../../src/shaders/nodes.js","../../src/core/Core.js","../../node_modules/d3-scale-chromatic/src/colors.js","../../node_modules/d3-scale-chromatic/src/categorical/category10.js","../../node_modules/d3-scale-chromatic/src/categorical/Accent.js","../../node_modules/d3-scale-chromatic/src/categorical/Dark2.js","../../node_modules/d3-scale-chromatic/src/categorical/Paired.js","../../node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","../../node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","../../node_modules/d3-scale-chromatic/src/categorical/Set1.js","../../node_modules/d3-scale-chromatic/src/categorical/Set2.js","../../node_modules/d3-scale-chromatic/src/categorical/Set3.js","../../node_modules/d3-scale-chromatic/src/categorical/Tableau10.js","../../node_modules/d3-scale-chromatic/src/ramp.js","../../node_modules/d3-scale-chromatic/src/diverging/BrBG.js","../../node_modules/d3-scale-chromatic/src/diverging/PRGn.js","../../node_modules/d3-scale-chromatic/src/diverging/PiYG.js","../../node_modules/d3-scale-chromatic/src/diverging/PuOr.js","../../node_modules/d3-scale-chromatic/src/diverging/RdBu.js","../../node_modules/d3-scale-chromatic/src/diverging/RdGy.js","../../node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","../../node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","../../node_modules/d3-scale-chromatic/src/diverging/Spectral.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","../../node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","../../node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","../../node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","../../node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","../../node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","../../node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","../../node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","../../node_modules/internmap/src/index.js","../../node_modules/d3-array/src/ticks.js","../../node_modules/d3-scale/src/init.js","../../node_modules/d3-scale/src/ordinal.js","../../node_modules/d3-scale/src/continuous.js","../../node_modules/d3-format/src/formatDecimal.js","../../node_modules/d3-format/src/exponent.js","../../node_modules/d3-format/src/formatGroup.js","../../node_modules/d3-format/src/formatNumerals.js","../../node_modules/d3-format/src/formatSpecifier.js","../../node_modules/d3-format/src/formatTrim.js","../../node_modules/d3-format/src/formatPrefixAuto.js","../../node_modules/d3-format/src/formatRounded.js","../../node_modules/d3-format/src/formatTypes.js","../../node_modules/d3-format/src/identity.js","../../node_modules/d3-format/src/locale.js","../../node_modules/d3-format/src/defaultLocale.js","../../node_modules/d3-format/src/precisionFixed.js","../../node_modules/d3-format/src/precisionPrefix.js","../../node_modules/d3-format/src/precisionRound.js","../../node_modules/d3-scale/src/tickFormat.js","../../node_modules/d3-scale/src/linear.js","../../node_modules/d3-scale/src/sequential.js","../../docs/example/extraColors.js","../../docs/example/script.js"],"sourcesContent":["__VITE_IS_MODERN__&&(function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n}());","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","function findIndex(nodes, value, start, stop) {\r\n    // Find the index in the color array for which\r\n    // nodes[index].value <= value < nodes[index + 1]\r\n    if (stop <= start) {\r\n        return start;\r\n    }\r\n    const index = Math.floor(start + (stop - start) / 2);\r\n    const delta = value - nodes[index].value;\r\n    const delta1 = value - nodes[index + 1].value;\r\n    if (delta < 0) {\r\n        return findIndex(nodes, value, start, index - 1);\r\n    }\r\n    else if (delta1 < 0) {\r\n        return index;\r\n    }\r\n    else {\r\n        return findIndex(nodes, value, index + 1, stop);\r\n    }\r\n}\r\nconst linearMixer = (value, lowerNodeValue, upperNodeValue) => {\r\n    const frac = (value - lowerNodeValue) / (upperNodeValue - lowerNodeValue);\r\n    return [1 - frac, frac];\r\n};\r\nconst floorMixer = (_value, _lowerNodeValue, _upperNodeValue) => {\r\n    return [1, 0];\r\n};\r\nconst ceilMixer = (_value, _lowerNodeValue, _upperNodeValue) => {\r\n    return [0, 1];\r\n};\r\nconst roundMixer = (value, lowerNodeValue, upperNodeValue) => {\r\n    if (value - lowerNodeValue < upperNodeValue - value) {\r\n        return [1, 0];\r\n    }\r\n    else {\r\n        return [0, 1];\r\n    }\r\n};\n\nfunction isNode(node) {\r\n    return node.value !== undefined && node.mapped !== undefined;\r\n}\r\nfunction isNodeArray(nodes) {\r\n    return nodes.length > 0 && isNode(nodes[0]);\r\n}\r\nfunction opacityCombination(a, X, b, Y) {\r\n    return a * X + b * Y;\r\n}\r\nfunction colorCombination(a, X, b, Y) {\r\n    return [\r\n        a * X[0] + b * Y[0],\r\n        a * X[1] + b * Y[1],\r\n        a * X[2] + b * Y[2]\r\n    ];\r\n}\r\nfunction ensureMixer(mixer) {\r\n    return mixer ? mixer : linearMixer;\r\n}\r\nfunction createColorMap(colors, scale, mixer) {\r\n    if (!Array.isArray(colors) || colors.length < 1) {\r\n        return noColorMap;\r\n    }\r\n    if (isNodeArray(colors)) {\r\n        return createMapFromNodes(colors, scale, ensureMixer(mixer), colorCombination);\r\n    }\r\n    else {\r\n        return createMapFromArray(colors, scale, ensureMixer(mixer), colorCombination);\r\n    }\r\n}\r\nfunction createOpacityMap(opacities, scale, mixer) {\r\n    if (!Array.isArray(opacities) || opacities.length < 1) {\r\n        return noOpacityMap;\r\n    }\r\n    if (isNodeArray(opacities)) {\r\n        return createMapFromNodes(opacities, scale, ensureMixer(mixer), opacityCombination);\r\n    }\r\n    else {\r\n        return createMapFromArray(opacities, scale, ensureMixer(mixer), opacityCombination);\r\n    }\r\n}\r\nfunction createColorOpacityMap(colorMap, opacityMap) {\r\n    return function (value) {\r\n        return colorMap(value).concat(opacityMap(value));\r\n    };\r\n}\r\nfunction createMapFromNodes(nodes, scale, mixer, linearCombination) {\r\n    const sortedNodes = nodes.sort((a, b) => a.value < b.value ? -1 : 1);\r\n    return function (value) {\r\n        const scaledValue = scale(value);\r\n        const index = findIndex(sortedNodes, scaledValue, 0, sortedNodes.length - 1);\r\n        if (index == 0 && scaledValue < sortedNodes[0].value) {\r\n            return sortedNodes[index].mapped;\r\n        }\r\n        else if (index == sortedNodes.length - 1) {\r\n            return sortedNodes[index].mapped;\r\n        }\r\n        const [coeff0, coeff1] = mixer(scaledValue, sortedNodes[index].value, sortedNodes[index + 1].value);\r\n        return linearCombination(coeff0, sortedNodes[index].mapped, coeff1, sortedNodes[index + 1].mapped);\r\n    };\r\n}\r\nfunction createMapFromArray(arr, scale, mixer, linearCombination) {\r\n    return function (value) {\r\n        const scaledValue = scale(value);\r\n        const indexFloat = (arr.length - 1) * scaledValue;\r\n        if (indexFloat <= 0) {\r\n            return arr[0];\r\n        }\r\n        else if (indexFloat >= arr.length - 1) {\r\n            return arr[arr.length - 1];\r\n        }\r\n        const index = Math.floor(indexFloat);\r\n        const [coeff0, coeff1] = mixer(indexFloat, index, index + 1);\r\n        return linearCombination(coeff0, arr[index], coeff1, arr[index + 1]);\r\n    };\r\n}\r\nfunction noColorMap(_value) {\r\n    return [0, 0, 0];\r\n}\r\nfunction noOpacityMap(_value) {\r\n    return 1;\r\n}\n\nfunction linearScale(domain, range) {\r\n    let [d0, d1] = domain;\r\n    const [r0, r1] = range;\r\n    if (Math.abs(d0 - d1) < Number.EPSILON) {\r\n        d1 = d0 + 1;\r\n    }\r\n    return function (value) {\r\n        return r0 + (r1 - r0) * ((value - d0) / (d1 - d0));\r\n    };\r\n}\n\nexport { ceilMixer, createColorMap, createColorOpacityMap, createOpacityMap, floorMixer, linearMixer, linearScale, roundMixer };\n","const colors = [\r\n    [0, 0, 0],\r\n    [1, 1, 1]\r\n];\n\nconst colors$1 = [\r\n    [0.0, 0.135112, 0.304751],\r\n    [0.0, 0.138068, 0.311105],\r\n    [0.0, 0.141013, 0.317579],\r\n    [0.0, 0.143951, 0.323982],\r\n    [0.0, 0.146877, 0.330479],\r\n    [0.0, 0.149791, 0.337065],\r\n    [0.0, 0.152673, 0.343704],\r\n    [0.0, 0.155377, 0.3505],\r\n    [0.0, 0.157932, 0.357521],\r\n    [0.0, 0.160495, 0.364534],\r\n    [0.0, 0.163058, 0.371608],\r\n    [0.0, 0.165621, 0.378769],\r\n    [0.0, 0.168204, 0.385902],\r\n    [0.0, 0.1708, 0.3931],\r\n    [0.0, 0.17342, 0.400353],\r\n    [0.0, 0.176082, 0.407577],\r\n    [0.0, 0.178802, 0.414764],\r\n    [0.0, 0.18161, 0.421859],\r\n    [0.0, 0.18455, 0.428802],\r\n    [0.0, 0.186915, 0.435532],\r\n    [0.0, 0.188769, 0.439563],\r\n    [0.0, 0.19095, 0.441085],\r\n    [0.0, 0.193366, 0.441561],\r\n    [0.003602, 0.195911, 0.441564],\r\n    [0.017852, 0.198528, 0.441248],\r\n    [0.03211, 0.201199, 0.440785],\r\n    [0.046205, 0.203903, 0.440196],\r\n    [0.058378, 0.206629, 0.439531],\r\n    [0.068968, 0.209372, 0.438863],\r\n    [0.078624, 0.212122, 0.438105],\r\n    [0.087465, 0.214879, 0.437342],\r\n    [0.095645, 0.217643, 0.436593],\r\n    [0.103401, 0.220406, 0.43579],\r\n    [0.110658, 0.22317, 0.435067],\r\n    [0.117612, 0.225935, 0.434308],\r\n    [0.124291, 0.228697, 0.433547],\r\n    [0.130669, 0.231458, 0.43284],\r\n    [0.13683, 0.234216, 0.432148],\r\n    [0.142852, 0.236972, 0.431404],\r\n    [0.148638, 0.239724, 0.430752],\r\n    [0.154261, 0.242475, 0.43012],\r\n    [0.159733, 0.245221, 0.429528],\r\n    [0.165113, 0.247965, 0.428908],\r\n    [0.170362, 0.250707, 0.428325],\r\n    [0.17549, 0.253444, 0.42779],\r\n    [0.180503, 0.25618, 0.427299],\r\n    [0.185453, 0.258914, 0.426788],\r\n    [0.190303, 0.261644, 0.426329],\r\n    [0.195057, 0.264372, 0.425924],\r\n    [0.199764, 0.267099, 0.425497],\r\n    [0.204385, 0.269823, 0.425126],\r\n    [0.208926, 0.272546, 0.424809],\r\n    [0.213431, 0.275266, 0.42448],\r\n    [0.217863, 0.277985, 0.424206],\r\n    [0.222264, 0.280702, 0.423914],\r\n    [0.226598, 0.283419, 0.423678],\r\n    [0.230871, 0.286134, 0.423498],\r\n    [0.23512, 0.288848, 0.423304],\r\n    [0.239312, 0.291562, 0.423167],\r\n    [0.243485, 0.294274, 0.423014],\r\n    [0.247605, 0.296986, 0.422917],\r\n    [0.251675, 0.299698, 0.422873],\r\n    [0.255731, 0.302409, 0.422814],\r\n    [0.25974, 0.30512, 0.42281],\r\n    [0.263738, 0.307831, 0.422789],\r\n    [0.267693, 0.310542, 0.422821],\r\n    [0.271639, 0.313253, 0.422837],\r\n    [0.275513, 0.315965, 0.422979],\r\n    [0.279411, 0.318677, 0.423031],\r\n    [0.28324, 0.32139, 0.423211],\r\n    [0.287065, 0.324103, 0.423373],\r\n    [0.290884, 0.326816, 0.423517],\r\n    [0.294669, 0.329531, 0.423716],\r\n    [0.298421, 0.332247, 0.423973],\r\n    [0.302169, 0.334963, 0.424213],\r\n    [0.305886, 0.337681, 0.424512],\r\n    [0.309601, 0.340399, 0.42479],\r\n    [0.313287, 0.34312, 0.42512],\r\n    [0.316941, 0.345842, 0.425512],\r\n    [0.320595, 0.348565, 0.425889],\r\n    [0.32425, 0.351289, 0.42625],\r\n    [0.327875, 0.354016, 0.42667],\r\n    [0.331474, 0.356744, 0.427144],\r\n    [0.335073, 0.359474, 0.427605],\r\n    [0.338673, 0.362206, 0.428053],\r\n    [0.342246, 0.364939, 0.428559],\r\n    [0.345793, 0.367676, 0.429127],\r\n    [0.349341, 0.370414, 0.429685],\r\n    [0.352892, 0.373153, 0.430226],\r\n    [0.356418, 0.375896, 0.430823],\r\n    [0.359916, 0.378641, 0.431501],\r\n    [0.363446, 0.381388, 0.432075],\r\n    [0.366923, 0.384139, 0.432796],\r\n    [0.37043, 0.38689, 0.433428],\r\n    [0.373884, 0.389646, 0.434209],\r\n    [0.377371, 0.392404, 0.43489],\r\n    [0.38083, 0.395164, 0.435653],\r\n    [0.384268, 0.397928, 0.436475],\r\n    [0.387705, 0.400694, 0.437305],\r\n    [0.391151, 0.403464, 0.438096],\r\n    [0.394568, 0.406236, 0.438986],\r\n    [0.397991, 0.409011, 0.439848],\r\n    [0.401418, 0.41179, 0.440708],\r\n    [0.40482, 0.414572, 0.441642],\r\n    [0.408226, 0.417357, 0.44257],\r\n    [0.411607, 0.420145, 0.443577],\r\n    [0.414992, 0.422937, 0.444578],\r\n    [0.418383, 0.425733, 0.44556],\r\n    [0.421748, 0.428531, 0.44664],\r\n    [0.42512, 0.431334, 0.447692],\r\n    [0.428462, 0.43414, 0.448864],\r\n    [0.431817, 0.43695, 0.449982],\r\n    [0.435168, 0.439763, 0.451134],\r\n    [0.438504, 0.44258, 0.452341],\r\n    [0.44181, 0.445402, 0.453659],\r\n    [0.445148, 0.448226, 0.454885],\r\n    [0.448447, 0.451053, 0.456264],\r\n    [0.451759, 0.453887, 0.457582],\r\n    [0.455072, 0.456718, 0.458976],\r\n    [0.458366, 0.459552, 0.460457],\r\n    [0.461616, 0.462405, 0.461969],\r\n    [0.464947, 0.465241, 0.463395],\r\n    [0.468254, 0.468083, 0.464908],\r\n    [0.471501, 0.47096, 0.466357],\r\n    [0.474812, 0.473832, 0.467681],\r\n    [0.478186, 0.476699, 0.468845],\r\n    [0.481622, 0.479573, 0.469767],\r\n    [0.485141, 0.482451, 0.470384],\r\n    [0.488697, 0.485318, 0.471008],\r\n    [0.492278, 0.488198, 0.471453],\r\n    [0.495913, 0.491076, 0.471751],\r\n    [0.499552, 0.49396, 0.472032],\r\n    [0.503185, 0.496851, 0.472305],\r\n    [0.506866, 0.499743, 0.472432],\r\n    [0.51054, 0.502643, 0.47255],\r\n    [0.514226, 0.505546, 0.47264],\r\n    [0.51792, 0.508454, 0.472707],\r\n    [0.521643, 0.511367, 0.472639],\r\n    [0.525348, 0.514285, 0.47266],\r\n    [0.529086, 0.517207, 0.472543],\r\n    [0.532829, 0.520135, 0.472401],\r\n    [0.536553, 0.523067, 0.472352],\r\n    [0.540307, 0.526005, 0.472163],\r\n    [0.544069, 0.528948, 0.471947],\r\n    [0.54784, 0.531895, 0.471704],\r\n    [0.551612, 0.534849, 0.471439],\r\n    [0.555393, 0.537807, 0.471147],\r\n    [0.559181, 0.540771, 0.470829],\r\n    [0.562972, 0.543741, 0.470488],\r\n    [0.566802, 0.546715, 0.469988],\r\n    [0.570607, 0.549695, 0.469593],\r\n    [0.574417, 0.552682, 0.469172],\r\n    [0.578236, 0.555673, 0.468724],\r\n    [0.582087, 0.55867, 0.468118],\r\n    [0.585916, 0.561674, 0.467618],\r\n    [0.589753, 0.564682, 0.46709],\r\n    [0.593622, 0.567697, 0.466401],\r\n    [0.597469, 0.570718, 0.465821],\r\n    [0.601354, 0.573743, 0.465074],\r\n    [0.605211, 0.576777, 0.464441],\r\n    [0.609105, 0.579816, 0.463638],\r\n    [0.612977, 0.582861, 0.46295],\r\n    [0.616852, 0.585913, 0.462237],\r\n    [0.620765, 0.58897, 0.461351],\r\n    [0.624654, 0.592034, 0.460583],\r\n    [0.628576, 0.595104, 0.459641],\r\n    [0.632506, 0.59818, 0.458668],\r\n    [0.636412, 0.601264, 0.457818],\r\n    [0.640352, 0.604354, 0.456791],\r\n    [0.64427, 0.60745, 0.455886],\r\n    [0.648222, 0.610553, 0.454801],\r\n    [0.652178, 0.613664, 0.453689],\r\n    [0.656114, 0.61678, 0.452702],\r\n    [0.660082, 0.619904, 0.451534],\r\n    [0.664055, 0.623034, 0.450338],\r\n    [0.668008, 0.626171, 0.44927],\r\n    [0.671991, 0.629316, 0.448018],\r\n    [0.675981, 0.632468, 0.446736],\r\n    [0.679979, 0.635626, 0.445424],\r\n    [0.68395, 0.638793, 0.444251],\r\n    [0.687957, 0.641966, 0.442886],\r\n    [0.691971, 0.645145, 0.441491],\r\n    [0.695985, 0.648334, 0.440072],\r\n    [0.700008, 0.651529, 0.438624],\r\n    [0.704037, 0.654731, 0.437147],\r\n    [0.708067, 0.657942, 0.435647],\r\n    [0.712105, 0.66116, 0.434117],\r\n    [0.716177, 0.664384, 0.432386],\r\n    [0.720222, 0.667618, 0.430805],\r\n    [0.724274, 0.670859, 0.429194],\r\n    [0.728334, 0.674107, 0.427554],\r\n    [0.732422, 0.677364, 0.425717],\r\n    [0.736488, 0.680629, 0.424028],\r\n    [0.740589, 0.6839, 0.422131],\r\n    [0.744664, 0.687181, 0.420393],\r\n    [0.748772, 0.69047, 0.418448],\r\n    [0.752886, 0.693766, 0.416472],\r\n    [0.756975, 0.697071, 0.414659],\r\n    [0.761096, 0.700384, 0.412638],\r\n    [0.765223, 0.703705, 0.410587],\r\n    [0.769353, 0.707035, 0.408516],\r\n    [0.773486, 0.710373, 0.406422],\r\n    [0.777651, 0.713719, 0.404112],\r\n    [0.781795, 0.717074, 0.401966],\r\n    [0.785965, 0.720438, 0.399613],\r\n    [0.790116, 0.72381, 0.397423],\r\n    [0.794298, 0.72719, 0.395016],\r\n    [0.79848, 0.73058, 0.392597],\r\n    [0.802667, 0.733978, 0.390153],\r\n    [0.806859, 0.737385, 0.387684],\r\n    [0.811054, 0.740801, 0.385198],\r\n    [0.815274, 0.744226, 0.382504],\r\n    [0.819499, 0.747659, 0.379785],\r\n    [0.823729, 0.751101, 0.377043],\r\n    [0.827959, 0.754553, 0.374292],\r\n    [0.832192, 0.758014, 0.371529],\r\n    [0.836429, 0.761483, 0.368747],\r\n    [0.840693, 0.764962, 0.365746],\r\n    [0.844957, 0.76845, 0.362741],\r\n    [0.849223, 0.771947, 0.359729],\r\n    [0.853515, 0.775454, 0.3565],\r\n    [0.857809, 0.778969, 0.353259],\r\n    [0.862105, 0.782494, 0.350011],\r\n    [0.866421, 0.786028, 0.346571],\r\n    [0.870717, 0.789572, 0.343333],\r\n    [0.875057, 0.793125, 0.339685],\r\n    [0.879378, 0.796687, 0.336241],\r\n    [0.88372, 0.800258, 0.332599],\r\n    [0.888081, 0.803839, 0.32877],\r\n    [0.89244, 0.80743, 0.324968],\r\n    [0.896818, 0.81103, 0.320982],\r\n    [0.901195, 0.814639, 0.317021],\r\n    [0.905589, 0.818257, 0.312889],\r\n    [0.91, 0.821885, 0.308594],\r\n    [0.914407, 0.825522, 0.304348],\r\n    [0.918828, 0.829168, 0.29996],\r\n    [0.923279, 0.832822, 0.295244],\r\n    [0.927724, 0.836486, 0.290611],\r\n    [0.93218, 0.840159, 0.28588],\r\n    [0.93666, 0.843841, 0.280876],\r\n    [0.941147, 0.84753, 0.275815],\r\n    [0.945654, 0.851228, 0.270532],\r\n    [0.950178, 0.854933, 0.265085],\r\n    [0.954725, 0.858646, 0.259365],\r\n    [0.959284, 0.862365, 0.253563],\r\n    [0.963872, 0.866089, 0.247445],\r\n    [0.968469, 0.869819, 0.24131],\r\n    [0.973114, 0.87355, 0.234677],\r\n    [0.97778, 0.877281, 0.227954],\r\n    [0.982497, 0.881008, 0.220878],\r\n    [0.987293, 0.884718, 0.213336],\r\n    [0.992218, 0.888385, 0.205468],\r\n    [0.994847, 0.892954, 0.203445],\r\n    [0.995249, 0.898384, 0.207561],\r\n    [0.995503, 0.903866, 0.21237],\r\n    [0.995737, 0.909344, 0.217772]\r\n];\n\nconst colors$2 = [\r\n    [0.001462, 0.000466, 0.013866],\r\n    [0.002267, 0.00127, 0.01857],\r\n    [0.003299, 0.002249, 0.024239],\r\n    [0.004547, 0.003392, 0.030909],\r\n    [0.006006, 0.004692, 0.038558],\r\n    [0.007676, 0.006136, 0.046836],\r\n    [0.009561, 0.007713, 0.055143],\r\n    [0.011663, 0.009417, 0.06346],\r\n    [0.013995, 0.011225, 0.071862],\r\n    [0.016561, 0.013136, 0.080282],\r\n    [0.019373, 0.015133, 0.088767],\r\n    [0.022447, 0.017199, 0.097327],\r\n    [0.025793, 0.019331, 0.10593],\r\n    [0.029432, 0.021503, 0.114621],\r\n    [0.033385, 0.023702, 0.123397],\r\n    [0.037668, 0.025921, 0.132232],\r\n    [0.042253, 0.028139, 0.141141],\r\n    [0.046915, 0.030324, 0.150164],\r\n    [0.051644, 0.032474, 0.159254],\r\n    [0.056449, 0.034569, 0.168414],\r\n    [0.06134, 0.03659, 0.177642],\r\n    [0.066331, 0.038504, 0.186962],\r\n    [0.071429, 0.040294, 0.196354],\r\n    [0.076637, 0.041905, 0.205799],\r\n    [0.081962, 0.043328, 0.215289],\r\n    [0.087411, 0.044556, 0.224813],\r\n    [0.09299, 0.045583, 0.234358],\r\n    [0.098702, 0.046402, 0.243904],\r\n    [0.104551, 0.047008, 0.25343],\r\n    [0.110536, 0.047399, 0.262912],\r\n    [0.116656, 0.047574, 0.272321],\r\n    [0.122908, 0.047536, 0.281624],\r\n    [0.129285, 0.047293, 0.290788],\r\n    [0.135778, 0.046856, 0.299776],\r\n    [0.142378, 0.046242, 0.308553],\r\n    [0.149073, 0.045468, 0.317085],\r\n    [0.15585, 0.044559, 0.325338],\r\n    [0.162689, 0.043554, 0.333277],\r\n    [0.169575, 0.042489, 0.340874],\r\n    [0.176493, 0.041402, 0.348111],\r\n    [0.183429, 0.040329, 0.354971],\r\n    [0.190367, 0.039309, 0.361447],\r\n    [0.197297, 0.0384, 0.367535],\r\n    [0.204209, 0.037632, 0.373238],\r\n    [0.211095, 0.03703, 0.378563],\r\n    [0.217949, 0.036615, 0.383522],\r\n    [0.224763, 0.036405, 0.388129],\r\n    [0.231538, 0.036405, 0.3924],\r\n    [0.238273, 0.036621, 0.396353],\r\n    [0.244967, 0.037055, 0.400007],\r\n    [0.25162, 0.037705, 0.403378],\r\n    [0.258234, 0.038571, 0.406485],\r\n    [0.26481, 0.039647, 0.409345],\r\n    [0.271347, 0.040922, 0.411976],\r\n    [0.27785, 0.042353, 0.414392],\r\n    [0.284321, 0.043933, 0.416608],\r\n    [0.290763, 0.045644, 0.418637],\r\n    [0.297178, 0.04747, 0.420491],\r\n    [0.303568, 0.049396, 0.422182],\r\n    [0.309935, 0.051407, 0.423721],\r\n    [0.316282, 0.05349, 0.425116],\r\n    [0.32261, 0.055634, 0.426377],\r\n    [0.328921, 0.057827, 0.427511],\r\n    [0.335217, 0.06006, 0.428524],\r\n    [0.3415, 0.062325, 0.429425],\r\n    [0.347771, 0.064616, 0.430217],\r\n    [0.354032, 0.066925, 0.430906],\r\n    [0.360284, 0.069247, 0.431497],\r\n    [0.366529, 0.071579, 0.431994],\r\n    [0.372768, 0.073915, 0.4324],\r\n    [0.379001, 0.076253, 0.432719],\r\n    [0.385228, 0.078591, 0.432955],\r\n    [0.391453, 0.080927, 0.433109],\r\n    [0.397674, 0.083257, 0.433183],\r\n    [0.403894, 0.08558, 0.433179],\r\n    [0.410113, 0.087896, 0.433098],\r\n    [0.416331, 0.090203, 0.432943],\r\n    [0.422549, 0.092501, 0.432714],\r\n    [0.428768, 0.09479, 0.432412],\r\n    [0.434987, 0.097069, 0.432039],\r\n    [0.441207, 0.099338, 0.431594],\r\n    [0.447428, 0.101597, 0.43108],\r\n    [0.453651, 0.103848, 0.430498],\r\n    [0.459875, 0.106089, 0.429846],\r\n    [0.4661, 0.108322, 0.429125],\r\n    [0.472328, 0.110547, 0.428334],\r\n    [0.478558, 0.112764, 0.427475],\r\n    [0.484789, 0.114974, 0.426548],\r\n    [0.491022, 0.117179, 0.425552],\r\n    [0.497257, 0.119379, 0.424488],\r\n    [0.503493, 0.121575, 0.423356],\r\n    [0.50973, 0.123769, 0.422156],\r\n    [0.515967, 0.12596, 0.420887],\r\n    [0.522206, 0.12815, 0.419549],\r\n    [0.528444, 0.130341, 0.418142],\r\n    [0.534683, 0.132534, 0.416667],\r\n    [0.54092, 0.134729, 0.415123],\r\n    [0.547157, 0.136929, 0.413511],\r\n    [0.553392, 0.139134, 0.411829],\r\n    [0.559624, 0.141346, 0.410078],\r\n    [0.565854, 0.143567, 0.408258],\r\n    [0.572081, 0.145797, 0.406369],\r\n    [0.578304, 0.148039, 0.404411],\r\n    [0.584521, 0.150294, 0.402385],\r\n    [0.590734, 0.152563, 0.40029],\r\n    [0.59694, 0.154848, 0.398125],\r\n    [0.603139, 0.157151, 0.395891],\r\n    [0.60933, 0.159474, 0.393589],\r\n    [0.615513, 0.161817, 0.391219],\r\n    [0.621685, 0.164184, 0.388781],\r\n    [0.627847, 0.166575, 0.386276],\r\n    [0.633998, 0.168992, 0.383704],\r\n    [0.640135, 0.171438, 0.381065],\r\n    [0.64626, 0.173914, 0.378359],\r\n    [0.652369, 0.176421, 0.375586],\r\n    [0.658463, 0.178962, 0.372748],\r\n    [0.66454, 0.181539, 0.369846],\r\n    [0.670599, 0.184153, 0.366879],\r\n    [0.676638, 0.186807, 0.363849],\r\n    [0.682656, 0.189501, 0.360757],\r\n    [0.688653, 0.192239, 0.357603],\r\n    [0.694627, 0.195021, 0.354388],\r\n    [0.700576, 0.197851, 0.351113],\r\n    [0.7065, 0.200728, 0.347777],\r\n    [0.712396, 0.203656, 0.344383],\r\n    [0.718264, 0.206636, 0.340931],\r\n    [0.724103, 0.20967, 0.337424],\r\n    [0.729909, 0.212759, 0.333861],\r\n    [0.735683, 0.215906, 0.330245],\r\n    [0.741423, 0.219112, 0.326576],\r\n    [0.747127, 0.222378, 0.322856],\r\n    [0.752794, 0.225706, 0.319085],\r\n    [0.758422, 0.229097, 0.315266],\r\n    [0.76401, 0.232554, 0.311399],\r\n    [0.769556, 0.236077, 0.307485],\r\n    [0.775059, 0.239667, 0.303526],\r\n    [0.780517, 0.243327, 0.299523],\r\n    [0.785929, 0.247056, 0.295477],\r\n    [0.791293, 0.250856, 0.29139],\r\n    [0.796607, 0.254728, 0.287264],\r\n    [0.801871, 0.258674, 0.283099],\r\n    [0.807082, 0.262692, 0.278898],\r\n    [0.812239, 0.266786, 0.274661],\r\n    [0.817341, 0.270954, 0.27039],\r\n    [0.822386, 0.275197, 0.266085],\r\n    [0.827372, 0.279517, 0.26175],\r\n    [0.832299, 0.283913, 0.257383],\r\n    [0.837165, 0.288385, 0.252988],\r\n    [0.841969, 0.292933, 0.248564],\r\n    [0.846709, 0.297559, 0.244113],\r\n    [0.851384, 0.30226, 0.239636],\r\n    [0.855992, 0.307038, 0.235133],\r\n    [0.860533, 0.311892, 0.230606],\r\n    [0.865006, 0.316822, 0.226055],\r\n    [0.869409, 0.321827, 0.221482],\r\n    [0.873741, 0.326906, 0.216886],\r\n    [0.878001, 0.33206, 0.212268],\r\n    [0.882188, 0.337287, 0.207628],\r\n    [0.886302, 0.342586, 0.202968],\r\n    [0.890341, 0.347957, 0.198286],\r\n    [0.894305, 0.353399, 0.193584],\r\n    [0.898192, 0.358911, 0.18886],\r\n    [0.902003, 0.364492, 0.184116],\r\n    [0.905735, 0.37014, 0.17935],\r\n    [0.90939, 0.375856, 0.174563],\r\n    [0.912966, 0.381636, 0.169755],\r\n    [0.916462, 0.387481, 0.164924],\r\n    [0.919879, 0.393389, 0.16007],\r\n    [0.923215, 0.399359, 0.155193],\r\n    [0.92647, 0.405389, 0.150292],\r\n    [0.929644, 0.411479, 0.145367],\r\n    [0.932737, 0.417627, 0.140417],\r\n    [0.935747, 0.423831, 0.13544],\r\n    [0.938675, 0.430091, 0.130438],\r\n    [0.941521, 0.436405, 0.125409],\r\n    [0.944285, 0.442772, 0.120354],\r\n    [0.946965, 0.449191, 0.115272],\r\n    [0.949562, 0.45566, 0.110164],\r\n    [0.952075, 0.462178, 0.105031],\r\n    [0.954506, 0.468744, 0.099874],\r\n    [0.956852, 0.475356, 0.094695],\r\n    [0.959114, 0.482014, 0.089499],\r\n    [0.961293, 0.488716, 0.084289],\r\n    [0.963387, 0.495462, 0.079073],\r\n    [0.965397, 0.502249, 0.073859],\r\n    [0.967322, 0.509078, 0.068659],\r\n    [0.969163, 0.515946, 0.063488],\r\n    [0.970919, 0.522853, 0.058367],\r\n    [0.97259, 0.529798, 0.053324],\r\n    [0.974176, 0.53678, 0.048392],\r\n    [0.975677, 0.543798, 0.043618],\r\n    [0.977092, 0.55085, 0.03905],\r\n    [0.978422, 0.557937, 0.034931],\r\n    [0.979666, 0.565057, 0.031409],\r\n    [0.980824, 0.572209, 0.028508],\r\n    [0.981895, 0.579392, 0.02625],\r\n    [0.982881, 0.586606, 0.024661],\r\n    [0.983779, 0.593849, 0.02377],\r\n    [0.984591, 0.601122, 0.023606],\r\n    [0.985315, 0.608422, 0.024202],\r\n    [0.985952, 0.61575, 0.025592],\r\n    [0.986502, 0.623105, 0.027814],\r\n    [0.986964, 0.630485, 0.030908],\r\n    [0.987337, 0.63789, 0.034916],\r\n    [0.987622, 0.64532, 0.039886],\r\n    [0.987819, 0.652773, 0.045581],\r\n    [0.987926, 0.66025, 0.05175],\r\n    [0.987945, 0.667748, 0.058329],\r\n    [0.987874, 0.675267, 0.065257],\r\n    [0.987714, 0.682807, 0.072489],\r\n    [0.987464, 0.690366, 0.07999],\r\n    [0.987124, 0.697944, 0.087731],\r\n    [0.986694, 0.70554, 0.095694],\r\n    [0.986175, 0.713153, 0.103863],\r\n    [0.985566, 0.720782, 0.112229],\r\n    [0.984865, 0.728427, 0.120785],\r\n    [0.984075, 0.736087, 0.129527],\r\n    [0.983196, 0.743758, 0.138453],\r\n    [0.982228, 0.751442, 0.147565],\r\n    [0.981173, 0.759135, 0.156863],\r\n    [0.980032, 0.766837, 0.166353],\r\n    [0.978806, 0.774545, 0.176037],\r\n    [0.977497, 0.782258, 0.185923],\r\n    [0.976108, 0.789974, 0.196018],\r\n    [0.974638, 0.797692, 0.206332],\r\n    [0.973088, 0.805409, 0.216877],\r\n    [0.971468, 0.813122, 0.227658],\r\n    [0.969783, 0.820825, 0.238686],\r\n    [0.968041, 0.828515, 0.249972],\r\n    [0.966243, 0.836191, 0.261534],\r\n    [0.964394, 0.843848, 0.273391],\r\n    [0.962517, 0.851476, 0.285546],\r\n    [0.960626, 0.859069, 0.29801],\r\n    [0.95872, 0.866624, 0.31082],\r\n    [0.956834, 0.874129, 0.323974],\r\n    [0.954997, 0.881569, 0.337475],\r\n    [0.953215, 0.888942, 0.351369],\r\n    [0.951546, 0.896226, 0.365627],\r\n    [0.950018, 0.903409, 0.380271],\r\n    [0.948683, 0.910473, 0.395289],\r\n    [0.947594, 0.917399, 0.410665],\r\n    [0.946809, 0.924168, 0.426373],\r\n    [0.946392, 0.930761, 0.442367],\r\n    [0.946403, 0.937159, 0.458592],\r\n    [0.946903, 0.943348, 0.47497],\r\n    [0.947937, 0.949318, 0.491426],\r\n    [0.949545, 0.955063, 0.50786],\r\n    [0.95174, 0.960587, 0.524203],\r\n    [0.954529, 0.965896, 0.540361],\r\n    [0.957896, 0.971003, 0.556275],\r\n    [0.961812, 0.975924, 0.571925],\r\n    [0.966249, 0.980678, 0.587206],\r\n    [0.971162, 0.985282, 0.602154],\r\n    [0.976511, 0.989753, 0.61676],\r\n    [0.982257, 0.994109, 0.631017],\r\n    [0.988362, 0.998364, 0.644924]\r\n];\n\nconst colors$3 = [\r\n    [0.001462, 0.000466, 0.013866],\r\n    [0.002258, 0.001295, 0.018331],\r\n    [0.003279, 0.002305, 0.023708],\r\n    [0.004512, 0.00349, 0.029965],\r\n    [0.00595, 0.004843, 0.03713],\r\n    [0.007588, 0.006356, 0.044973],\r\n    [0.009426, 0.008022, 0.052844],\r\n    [0.011465, 0.009828, 0.06075],\r\n    [0.013708, 0.011771, 0.068667],\r\n    [0.016156, 0.01384, 0.076603],\r\n    [0.018815, 0.016026, 0.084584],\r\n    [0.021692, 0.01832, 0.09261],\r\n    [0.024792, 0.020715, 0.100676],\r\n    [0.028123, 0.023201, 0.108787],\r\n    [0.031696, 0.025765, 0.116965],\r\n    [0.03552, 0.028397, 0.125209],\r\n    [0.039608, 0.03109, 0.133515],\r\n    [0.04383, 0.03383, 0.141886],\r\n    [0.048062, 0.036607, 0.150327],\r\n    [0.05232, 0.039407, 0.158841],\r\n    [0.056615, 0.04216, 0.167446],\r\n    [0.060949, 0.044794, 0.176129],\r\n    [0.06533, 0.047318, 0.184892],\r\n    [0.069764, 0.049726, 0.193735],\r\n    [0.074257, 0.052017, 0.20266],\r\n    [0.078815, 0.054184, 0.211667],\r\n    [0.083446, 0.056225, 0.220755],\r\n    [0.088155, 0.058133, 0.229922],\r\n    [0.092949, 0.059904, 0.239164],\r\n    [0.097833, 0.061531, 0.248477],\r\n    [0.102815, 0.06301, 0.257854],\r\n    [0.107899, 0.064335, 0.267289],\r\n    [0.113094, 0.065492, 0.276784],\r\n    [0.118405, 0.066479, 0.286321],\r\n    [0.123833, 0.067295, 0.295879],\r\n    [0.12938, 0.067935, 0.305443],\r\n    [0.135053, 0.068391, 0.315],\r\n    [0.140858, 0.068654, 0.324538],\r\n    [0.146785, 0.068738, 0.334011],\r\n    [0.152839, 0.068637, 0.343404],\r\n    [0.159018, 0.068354, 0.352688],\r\n    [0.165308, 0.067911, 0.361816],\r\n    [0.171713, 0.067305, 0.370771],\r\n    [0.178212, 0.066576, 0.379497],\r\n    [0.184801, 0.065732, 0.387973],\r\n    [0.19146, 0.064818, 0.396152],\r\n    [0.198177, 0.063862, 0.404009],\r\n    [0.204935, 0.062907, 0.411514],\r\n    [0.211718, 0.061992, 0.418647],\r\n    [0.218512, 0.061158, 0.425392],\r\n    [0.225302, 0.060445, 0.431742],\r\n    [0.232077, 0.059889, 0.437695],\r\n    [0.238826, 0.059517, 0.443256],\r\n    [0.245543, 0.059352, 0.448436],\r\n    [0.25222, 0.059415, 0.453248],\r\n    [0.258857, 0.059706, 0.45771],\r\n    [0.265447, 0.060237, 0.46184],\r\n    [0.271994, 0.060994, 0.46566],\r\n    [0.278493, 0.061978, 0.46919],\r\n    [0.284951, 0.063168, 0.472451],\r\n    [0.291366, 0.064553, 0.475462],\r\n    [0.29774, 0.066117, 0.478243],\r\n    [0.304081, 0.067835, 0.480812],\r\n    [0.310382, 0.069702, 0.483186],\r\n    [0.316654, 0.07169, 0.48538],\r\n    [0.322899, 0.073782, 0.487408],\r\n    [0.329114, 0.075972, 0.489287],\r\n    [0.335308, 0.078236, 0.491024],\r\n    [0.341482, 0.080564, 0.492631],\r\n    [0.347636, 0.082946, 0.494121],\r\n    [0.353773, 0.085373, 0.495501],\r\n    [0.359898, 0.087831, 0.496778],\r\n    [0.366012, 0.090314, 0.49796],\r\n    [0.372116, 0.092816, 0.499053],\r\n    [0.378211, 0.095332, 0.500067],\r\n    [0.384299, 0.097855, 0.501002],\r\n    [0.390384, 0.100379, 0.501864],\r\n    [0.396467, 0.102902, 0.502658],\r\n    [0.402548, 0.10542, 0.503386],\r\n    [0.408629, 0.10793, 0.504052],\r\n    [0.414709, 0.110431, 0.504662],\r\n    [0.420791, 0.11292, 0.505215],\r\n    [0.426877, 0.115395, 0.505714],\r\n    [0.432967, 0.117855, 0.50616],\r\n    [0.439062, 0.120298, 0.506555],\r\n    [0.445163, 0.122724, 0.506901],\r\n    [0.451271, 0.125132, 0.507198],\r\n    [0.457386, 0.127522, 0.507448],\r\n    [0.463508, 0.129893, 0.507652],\r\n    [0.46964, 0.132245, 0.507809],\r\n    [0.47578, 0.134577, 0.507921],\r\n    [0.481929, 0.136891, 0.507989],\r\n    [0.488088, 0.139186, 0.508011],\r\n    [0.494258, 0.141462, 0.507988],\r\n    [0.500438, 0.143719, 0.50792],\r\n    [0.506629, 0.145958, 0.507806],\r\n    [0.512831, 0.148179, 0.507648],\r\n    [0.519045, 0.150383, 0.507443],\r\n    [0.52527, 0.152569, 0.507192],\r\n    [0.531507, 0.154739, 0.506895],\r\n    [0.537755, 0.156894, 0.506551],\r\n    [0.544015, 0.159033, 0.506159],\r\n    [0.550287, 0.161158, 0.505719],\r\n    [0.556571, 0.163269, 0.50523],\r\n    [0.562866, 0.165368, 0.504692],\r\n    [0.569172, 0.167454, 0.504105],\r\n    [0.57549, 0.16953, 0.503466],\r\n    [0.581819, 0.171596, 0.502777],\r\n    [0.588158, 0.173652, 0.502035],\r\n    [0.594508, 0.175701, 0.501241],\r\n    [0.600868, 0.177743, 0.500394],\r\n    [0.607238, 0.179779, 0.499492],\r\n    [0.613617, 0.181811, 0.498536],\r\n    [0.620005, 0.18384, 0.497524],\r\n    [0.626401, 0.185867, 0.496456],\r\n    [0.632805, 0.187893, 0.495332],\r\n    [0.639216, 0.189921, 0.49415],\r\n    [0.645633, 0.191952, 0.49291],\r\n    [0.652056, 0.193986, 0.491611],\r\n    [0.658483, 0.196027, 0.490253],\r\n    [0.664915, 0.198075, 0.488836],\r\n    [0.671349, 0.200133, 0.487358],\r\n    [0.677786, 0.202203, 0.485819],\r\n    [0.684224, 0.204286, 0.484219],\r\n    [0.690661, 0.206384, 0.482558],\r\n    [0.697098, 0.208501, 0.480835],\r\n    [0.703532, 0.210638, 0.479049],\r\n    [0.709962, 0.212797, 0.477201],\r\n    [0.716387, 0.214982, 0.47529],\r\n    [0.722805, 0.217194, 0.473316],\r\n    [0.729216, 0.219437, 0.471279],\r\n    [0.735616, 0.221713, 0.46918],\r\n    [0.742004, 0.224025, 0.467018],\r\n    [0.748378, 0.226377, 0.464794],\r\n    [0.754737, 0.228772, 0.462509],\r\n    [0.761077, 0.231214, 0.460162],\r\n    [0.767398, 0.233705, 0.457755],\r\n    [0.773695, 0.236249, 0.455289],\r\n    [0.779968, 0.238851, 0.452765],\r\n    [0.786212, 0.241514, 0.450184],\r\n    [0.792427, 0.244242, 0.447543],\r\n    [0.798608, 0.24704, 0.444848],\r\n    [0.804752, 0.249911, 0.442102],\r\n    [0.810855, 0.252861, 0.439305],\r\n    [0.816914, 0.255895, 0.436461],\r\n    [0.822926, 0.259016, 0.433573],\r\n    [0.828886, 0.262229, 0.430644],\r\n    [0.834791, 0.26554, 0.427671],\r\n    [0.840636, 0.268953, 0.424666],\r\n    [0.846416, 0.272473, 0.421631],\r\n    [0.852126, 0.276106, 0.418573],\r\n    [0.857763, 0.279857, 0.415496],\r\n    [0.86332, 0.283729, 0.412403],\r\n    [0.868793, 0.287728, 0.409303],\r\n    [0.874176, 0.291859, 0.406205],\r\n    [0.879464, 0.296125, 0.403118],\r\n    [0.884651, 0.30053, 0.400047],\r\n    [0.889731, 0.305079, 0.397002],\r\n    [0.8947, 0.309773, 0.393995],\r\n    [0.899552, 0.314616, 0.391037],\r\n    [0.904281, 0.31961, 0.388137],\r\n    [0.908884, 0.324755, 0.385308],\r\n    [0.913354, 0.330052, 0.382563],\r\n    [0.917689, 0.3355, 0.379915],\r\n    [0.921884, 0.341098, 0.377376],\r\n    [0.925937, 0.346844, 0.374959],\r\n    [0.929845, 0.352734, 0.372677],\r\n    [0.933606, 0.358764, 0.370541],\r\n    [0.937221, 0.364929, 0.368567],\r\n    [0.940687, 0.371224, 0.366762],\r\n    [0.944006, 0.377643, 0.365136],\r\n    [0.94718, 0.384178, 0.363701],\r\n    [0.95021, 0.39082, 0.362468],\r\n    [0.953099, 0.397563, 0.361438],\r\n    [0.955849, 0.4044, 0.360619],\r\n    [0.958464, 0.411324, 0.360014],\r\n    [0.960949, 0.418323, 0.35963],\r\n    [0.96331, 0.42539, 0.359469],\r\n    [0.965549, 0.432519, 0.359529],\r\n    [0.967671, 0.439703, 0.35981],\r\n    [0.96968, 0.446936, 0.360311],\r\n    [0.971582, 0.45421, 0.36103],\r\n    [0.973381, 0.46152, 0.361965],\r\n    [0.975082, 0.468861, 0.363111],\r\n    [0.97669, 0.476226, 0.364466],\r\n    [0.97821, 0.483612, 0.366025],\r\n    [0.979645, 0.491014, 0.367783],\r\n    [0.981, 0.498428, 0.369734],\r\n    [0.982279, 0.505851, 0.371874],\r\n    [0.983485, 0.51328, 0.374198],\r\n    [0.984622, 0.520713, 0.376698],\r\n    [0.985693, 0.528148, 0.379371],\r\n    [0.9867, 0.535582, 0.38221],\r\n    [0.987646, 0.543015, 0.38521],\r\n    [0.988533, 0.550446, 0.388365],\r\n    [0.989363, 0.557873, 0.391671],\r\n    [0.990138, 0.565296, 0.395122],\r\n    [0.990871, 0.572706, 0.398714],\r\n    [0.991558, 0.580107, 0.402441],\r\n    [0.992196, 0.587502, 0.406299],\r\n    [0.992785, 0.594891, 0.410283],\r\n    [0.993326, 0.602275, 0.41439],\r\n    [0.993834, 0.609644, 0.418613],\r\n    [0.994309, 0.616999, 0.42295],\r\n    [0.994738, 0.62435, 0.427397],\r\n    [0.995122, 0.631696, 0.431951],\r\n    [0.99548, 0.639027, 0.436607],\r\n    [0.99581, 0.646344, 0.441361],\r\n    [0.996096, 0.653659, 0.446213],\r\n    [0.996341, 0.660969, 0.45116],\r\n    [0.99658, 0.668256, 0.456192],\r\n    [0.996775, 0.675541, 0.461314],\r\n    [0.996925, 0.682828, 0.466526],\r\n    [0.997077, 0.690088, 0.471811],\r\n    [0.997186, 0.697349, 0.477182],\r\n    [0.997254, 0.704611, 0.482635],\r\n    [0.997325, 0.711848, 0.488154],\r\n    [0.997351, 0.719089, 0.493755],\r\n    [0.997351, 0.726324, 0.499428],\r\n    [0.997341, 0.733545, 0.505167],\r\n    [0.997285, 0.740772, 0.510983],\r\n    [0.997228, 0.747981, 0.516859],\r\n    [0.997138, 0.75519, 0.522806],\r\n    [0.997019, 0.762398, 0.528821],\r\n    [0.996898, 0.769591, 0.534892],\r\n    [0.996727, 0.776795, 0.541039],\r\n    [0.996571, 0.783977, 0.547233],\r\n    [0.996369, 0.791167, 0.553499],\r\n    [0.996162, 0.798348, 0.55982],\r\n    [0.995932, 0.805527, 0.566202],\r\n    [0.99568, 0.812706, 0.572645],\r\n    [0.995424, 0.819875, 0.57914],\r\n    [0.995131, 0.827052, 0.585701],\r\n    [0.994851, 0.834213, 0.592307],\r\n    [0.994524, 0.841387, 0.598983],\r\n    [0.994222, 0.84854, 0.605696],\r\n    [0.993866, 0.855711, 0.612482],\r\n    [0.993545, 0.862859, 0.619299],\r\n    [0.99317, 0.870024, 0.626189],\r\n    [0.992831, 0.877168, 0.633109],\r\n    [0.99244, 0.88433, 0.640099],\r\n    [0.992089, 0.89147, 0.647116],\r\n    [0.991688, 0.898627, 0.654202],\r\n    [0.991332, 0.905763, 0.661309],\r\n    [0.99093, 0.912915, 0.668481],\r\n    [0.99057, 0.920049, 0.675675],\r\n    [0.990175, 0.927196, 0.682926],\r\n    [0.989815, 0.934329, 0.690198],\r\n    [0.989434, 0.94147, 0.697519],\r\n    [0.989077, 0.948604, 0.704863],\r\n    [0.988717, 0.955742, 0.712242],\r\n    [0.988367, 0.962878, 0.719649],\r\n    [0.988033, 0.970012, 0.727077],\r\n    [0.987691, 0.977154, 0.734536],\r\n    [0.987387, 0.984288, 0.742002],\r\n    [0.987053, 0.991438, 0.749504]\r\n];\n\nconst colors$4 = [\r\n    [0.050383, 0.029803, 0.527975],\r\n    [0.063536, 0.028426, 0.533124],\r\n    [0.075353, 0.027206, 0.538007],\r\n    [0.086222, 0.026125, 0.542658],\r\n    [0.096379, 0.025165, 0.547103],\r\n    [0.10598, 0.024309, 0.551368],\r\n    [0.115124, 0.023556, 0.555468],\r\n    [0.123903, 0.022878, 0.559423],\r\n    [0.132381, 0.022258, 0.56325],\r\n    [0.140603, 0.021687, 0.566959],\r\n    [0.148607, 0.021154, 0.570562],\r\n    [0.156421, 0.020651, 0.574065],\r\n    [0.16407, 0.020171, 0.577478],\r\n    [0.171574, 0.019706, 0.580806],\r\n    [0.17895, 0.019252, 0.584054],\r\n    [0.186213, 0.018803, 0.587228],\r\n    [0.193374, 0.018354, 0.59033],\r\n    [0.200445, 0.017902, 0.593364],\r\n    [0.207435, 0.017442, 0.596333],\r\n    [0.21435, 0.016973, 0.599239],\r\n    [0.221197, 0.016497, 0.602083],\r\n    [0.227983, 0.016007, 0.604867],\r\n    [0.234715, 0.015502, 0.607592],\r\n    [0.241396, 0.014979, 0.610259],\r\n    [0.248032, 0.014439, 0.612868],\r\n    [0.254627, 0.013882, 0.615419],\r\n    [0.261183, 0.013308, 0.617911],\r\n    [0.267703, 0.012716, 0.620346],\r\n    [0.274191, 0.012109, 0.622722],\r\n    [0.280648, 0.011488, 0.625038],\r\n    [0.287076, 0.010855, 0.627295],\r\n    [0.293478, 0.010213, 0.62949],\r\n    [0.299855, 0.009561, 0.631624],\r\n    [0.30621, 0.008902, 0.633694],\r\n    [0.312543, 0.008239, 0.6357],\r\n    [0.318856, 0.007576, 0.63764],\r\n    [0.32515, 0.006915, 0.639512],\r\n    [0.331426, 0.006261, 0.641316],\r\n    [0.337683, 0.005618, 0.643049],\r\n    [0.343925, 0.004991, 0.64471],\r\n    [0.35015, 0.004382, 0.646298],\r\n    [0.356359, 0.003798, 0.64781],\r\n    [0.362553, 0.003243, 0.649245],\r\n    [0.368733, 0.002724, 0.650601],\r\n    [0.374897, 0.002245, 0.651876],\r\n    [0.381047, 0.001814, 0.653068],\r\n    [0.387183, 0.001434, 0.654177],\r\n    [0.393304, 0.001114, 0.655199],\r\n    [0.399411, 0.000859, 0.656133],\r\n    [0.405503, 0.000678, 0.656977],\r\n    [0.41158, 0.000577, 0.65773],\r\n    [0.417642, 0.000564, 0.65839],\r\n    [0.423689, 0.000646, 0.658956],\r\n    [0.429719, 0.000831, 0.659425],\r\n    [0.435734, 0.001127, 0.659797],\r\n    [0.441732, 0.00154, 0.660069],\r\n    [0.447714, 0.00208, 0.66024],\r\n    [0.453677, 0.002755, 0.66031],\r\n    [0.459623, 0.003574, 0.660277],\r\n    [0.46555, 0.004545, 0.660139],\r\n    [0.471457, 0.005678, 0.659897],\r\n    [0.477344, 0.00698, 0.659549],\r\n    [0.48321, 0.00846, 0.659095],\r\n    [0.489055, 0.010127, 0.658534],\r\n    [0.494877, 0.01199, 0.657865],\r\n    [0.500678, 0.014055, 0.657088],\r\n    [0.506454, 0.016333, 0.656202],\r\n    [0.512206, 0.018833, 0.655209],\r\n    [0.517933, 0.021563, 0.654109],\r\n    [0.523633, 0.024532, 0.652901],\r\n    [0.529306, 0.027747, 0.651586],\r\n    [0.534952, 0.031217, 0.650165],\r\n    [0.54057, 0.03495, 0.64864],\r\n    [0.546157, 0.038954, 0.64701],\r\n    [0.551715, 0.043136, 0.645277],\r\n    [0.557243, 0.047331, 0.643443],\r\n    [0.562738, 0.051545, 0.641509],\r\n    [0.568201, 0.055778, 0.639477],\r\n    [0.573632, 0.060028, 0.637349],\r\n    [0.579029, 0.064296, 0.635126],\r\n    [0.584391, 0.068579, 0.632812],\r\n    [0.589719, 0.072878, 0.630408],\r\n    [0.595011, 0.07719, 0.627917],\r\n    [0.600266, 0.081516, 0.625342],\r\n    [0.605485, 0.085854, 0.622686],\r\n    [0.610667, 0.090204, 0.619951],\r\n    [0.615812, 0.094564, 0.61714],\r\n    [0.620919, 0.098934, 0.614257],\r\n    [0.625987, 0.103312, 0.611305],\r\n    [0.631017, 0.107699, 0.608287],\r\n    [0.636008, 0.112092, 0.605205],\r\n    [0.640959, 0.116492, 0.602065],\r\n    [0.645872, 0.120898, 0.598867],\r\n    [0.650746, 0.125309, 0.595617],\r\n    [0.65558, 0.129725, 0.592317],\r\n    [0.660374, 0.134144, 0.588971],\r\n    [0.665129, 0.138566, 0.585582],\r\n    [0.669845, 0.142992, 0.582154],\r\n    [0.674522, 0.147419, 0.578688],\r\n    [0.67916, 0.151848, 0.575189],\r\n    [0.683758, 0.156278, 0.57166],\r\n    [0.688318, 0.160709, 0.568103],\r\n    [0.69284, 0.165141, 0.564522],\r\n    [0.697324, 0.169573, 0.560919],\r\n    [0.701769, 0.174005, 0.557296],\r\n    [0.706178, 0.178437, 0.553657],\r\n    [0.710549, 0.182868, 0.550004],\r\n    [0.714883, 0.187299, 0.546338],\r\n    [0.719181, 0.191729, 0.542663],\r\n    [0.723444, 0.196158, 0.538981],\r\n    [0.72767, 0.200586, 0.535293],\r\n    [0.731862, 0.205013, 0.531601],\r\n    [0.736019, 0.209439, 0.527908],\r\n    [0.740143, 0.213864, 0.524216],\r\n    [0.744232, 0.218288, 0.520524],\r\n    [0.748289, 0.222711, 0.516834],\r\n    [0.752312, 0.227133, 0.513149],\r\n    [0.756304, 0.231555, 0.509468],\r\n    [0.760264, 0.235976, 0.505794],\r\n    [0.764193, 0.240396, 0.502126],\r\n    [0.76809, 0.244817, 0.498465],\r\n    [0.771958, 0.249237, 0.494813],\r\n    [0.775796, 0.253658, 0.491171],\r\n    [0.779604, 0.258078, 0.487539],\r\n    [0.783383, 0.2625, 0.483918],\r\n    [0.787133, 0.266922, 0.480307],\r\n    [0.790855, 0.271345, 0.476706],\r\n    [0.794549, 0.27577, 0.473117],\r\n    [0.798216, 0.280197, 0.469538],\r\n    [0.801855, 0.284626, 0.465971],\r\n    [0.805467, 0.289057, 0.462415],\r\n    [0.809052, 0.293491, 0.45887],\r\n    [0.812612, 0.297928, 0.455338],\r\n    [0.816144, 0.302368, 0.451816],\r\n    [0.819651, 0.306812, 0.448306],\r\n    [0.823132, 0.311261, 0.444806],\r\n    [0.826588, 0.315714, 0.441316],\r\n    [0.830018, 0.320172, 0.437836],\r\n    [0.833422, 0.324635, 0.434366],\r\n    [0.836801, 0.329105, 0.430905],\r\n    [0.840155, 0.33358, 0.427455],\r\n    [0.843484, 0.338062, 0.424013],\r\n    [0.846788, 0.342551, 0.420579],\r\n    [0.850066, 0.347048, 0.417153],\r\n    [0.853319, 0.351553, 0.413734],\r\n    [0.856547, 0.356066, 0.410322],\r\n    [0.85975, 0.360588, 0.406917],\r\n    [0.862927, 0.365119, 0.403519],\r\n    [0.866078, 0.36966, 0.400126],\r\n    [0.869203, 0.374212, 0.396738],\r\n    [0.872303, 0.378774, 0.393355],\r\n    [0.875376, 0.383347, 0.389976],\r\n    [0.878423, 0.387932, 0.3866],\r\n    [0.881443, 0.392529, 0.383229],\r\n    [0.884436, 0.397139, 0.37986],\r\n    [0.887402, 0.401762, 0.376494],\r\n    [0.89034, 0.406398, 0.37313],\r\n    [0.89325, 0.411048, 0.369768],\r\n    [0.896131, 0.415712, 0.366407],\r\n    [0.898984, 0.420392, 0.363047],\r\n    [0.901807, 0.425087, 0.359688],\r\n    [0.904601, 0.429797, 0.356329],\r\n    [0.907365, 0.434524, 0.35297],\r\n    [0.910098, 0.439268, 0.34961],\r\n    [0.9128, 0.444029, 0.346251],\r\n    [0.915471, 0.448807, 0.34289],\r\n    [0.918109, 0.453603, 0.339529],\r\n    [0.920714, 0.458417, 0.336166],\r\n    [0.923287, 0.463251, 0.332801],\r\n    [0.925825, 0.468103, 0.329435],\r\n    [0.928329, 0.472975, 0.326067],\r\n    [0.930798, 0.477867, 0.322697],\r\n    [0.933232, 0.48278, 0.319325],\r\n    [0.93563, 0.487712, 0.315952],\r\n    [0.93799, 0.492667, 0.312575],\r\n    [0.940313, 0.497642, 0.309197],\r\n    [0.942598, 0.502639, 0.305816],\r\n    [0.944844, 0.507658, 0.302433],\r\n    [0.947051, 0.512699, 0.299049],\r\n    [0.949217, 0.517763, 0.295662],\r\n    [0.951344, 0.52285, 0.292275],\r\n    [0.953428, 0.52796, 0.288883],\r\n    [0.95547, 0.533093, 0.28549],\r\n    [0.957469, 0.53825, 0.282096],\r\n    [0.959424, 0.543431, 0.278701],\r\n    [0.961336, 0.548636, 0.275305],\r\n    [0.963203, 0.553865, 0.271909],\r\n    [0.965024, 0.559118, 0.268513],\r\n    [0.966798, 0.564396, 0.265118],\r\n    [0.968526, 0.5697, 0.261721],\r\n    [0.970205, 0.575028, 0.258325],\r\n    [0.971835, 0.580382, 0.254931],\r\n    [0.973416, 0.585761, 0.25154],\r\n    [0.974947, 0.591165, 0.248151],\r\n    [0.976428, 0.596595, 0.244767],\r\n    [0.977856, 0.602051, 0.241387],\r\n    [0.979233, 0.607532, 0.238013],\r\n    [0.980556, 0.613039, 0.234646],\r\n    [0.981826, 0.618572, 0.231287],\r\n    [0.983041, 0.624131, 0.227937],\r\n    [0.984199, 0.629718, 0.224595],\r\n    [0.985301, 0.63533, 0.221265],\r\n    [0.986345, 0.640969, 0.217948],\r\n    [0.987332, 0.646633, 0.214648],\r\n    [0.98826, 0.652325, 0.211364],\r\n    [0.989128, 0.658043, 0.2081],\r\n    [0.989935, 0.663787, 0.204859],\r\n    [0.990681, 0.669558, 0.201642],\r\n    [0.991365, 0.675355, 0.198453],\r\n    [0.991985, 0.681179, 0.195295],\r\n    [0.992541, 0.68703, 0.19217],\r\n    [0.993032, 0.692907, 0.189084],\r\n    [0.993456, 0.69881, 0.186041],\r\n    [0.993814, 0.704741, 0.183043],\r\n    [0.994103, 0.710698, 0.180097],\r\n    [0.994324, 0.716681, 0.177208],\r\n    [0.994474, 0.722691, 0.174381],\r\n    [0.994553, 0.728728, 0.171622],\r\n    [0.994561, 0.734791, 0.168938],\r\n    [0.994495, 0.74088, 0.166335],\r\n    [0.994355, 0.746995, 0.163821],\r\n    [0.994141, 0.753137, 0.161404],\r\n    [0.993851, 0.759304, 0.159092],\r\n    [0.993482, 0.765499, 0.156891],\r\n    [0.993033, 0.77172, 0.154808],\r\n    [0.992505, 0.777967, 0.152855],\r\n    [0.991897, 0.784239, 0.151042],\r\n    [0.991209, 0.790537, 0.149377],\r\n    [0.990439, 0.796859, 0.14787],\r\n    [0.989587, 0.803205, 0.146529],\r\n    [0.988648, 0.809579, 0.145357],\r\n    [0.987621, 0.815978, 0.144363],\r\n    [0.986509, 0.822401, 0.143557],\r\n    [0.985314, 0.828846, 0.142945],\r\n    [0.984031, 0.835315, 0.142528],\r\n    [0.982653, 0.841812, 0.142303],\r\n    [0.98119, 0.848329, 0.142279],\r\n    [0.979644, 0.854866, 0.142453],\r\n    [0.977995, 0.861432, 0.142808],\r\n    [0.976265, 0.868016, 0.143351],\r\n    [0.974443, 0.874622, 0.144061],\r\n    [0.97253, 0.88125, 0.144923],\r\n    [0.970533, 0.887896, 0.145919],\r\n    [0.968443, 0.894564, 0.147014],\r\n    [0.966271, 0.901249, 0.14818],\r\n    [0.964021, 0.90795, 0.14937],\r\n    [0.961681, 0.914672, 0.15052],\r\n    [0.959276, 0.921407, 0.151566],\r\n    [0.956808, 0.928152, 0.152409],\r\n    [0.954287, 0.934908, 0.152921],\r\n    [0.951726, 0.941671, 0.152925],\r\n    [0.949151, 0.948435, 0.152178],\r\n    [0.946602, 0.95519, 0.150328],\r\n    [0.944152, 0.961916, 0.146861],\r\n    [0.941896, 0.96859, 0.140956],\r\n    [0.940015, 0.975158, 0.131326]\r\n];\n\nconst colors$5 = [\r\n    [0.267004, 0.004874, 0.329415],\r\n    [0.26851, 0.009605, 0.335427],\r\n    [0.269944, 0.014625, 0.341379],\r\n    [0.271305, 0.019942, 0.347269],\r\n    [0.272594, 0.025563, 0.353093],\r\n    [0.273809, 0.031497, 0.358853],\r\n    [0.274952, 0.037752, 0.364543],\r\n    [0.276022, 0.044167, 0.370164],\r\n    [0.277018, 0.050344, 0.375715],\r\n    [0.277941, 0.056324, 0.381191],\r\n    [0.278791, 0.062145, 0.386592],\r\n    [0.279566, 0.067836, 0.391917],\r\n    [0.280267, 0.073417, 0.397163],\r\n    [0.280894, 0.078907, 0.402329],\r\n    [0.281446, 0.08432, 0.407414],\r\n    [0.281924, 0.089666, 0.412415],\r\n    [0.282327, 0.094955, 0.417331],\r\n    [0.282656, 0.100196, 0.42216],\r\n    [0.28291, 0.105393, 0.426902],\r\n    [0.283091, 0.110553, 0.431554],\r\n    [0.283197, 0.11568, 0.436115],\r\n    [0.283229, 0.120777, 0.440584],\r\n    [0.283187, 0.125848, 0.44496],\r\n    [0.283072, 0.130895, 0.449241],\r\n    [0.282884, 0.13592, 0.453427],\r\n    [0.282623, 0.140926, 0.457517],\r\n    [0.28229, 0.145912, 0.46151],\r\n    [0.281887, 0.150881, 0.465405],\r\n    [0.281412, 0.155834, 0.469201],\r\n    [0.280868, 0.160771, 0.472899],\r\n    [0.280255, 0.165693, 0.476498],\r\n    [0.279574, 0.170599, 0.479997],\r\n    [0.278826, 0.17549, 0.483397],\r\n    [0.278012, 0.180367, 0.486697],\r\n    [0.277134, 0.185228, 0.489898],\r\n    [0.276194, 0.190074, 0.493001],\r\n    [0.275191, 0.194905, 0.496005],\r\n    [0.274128, 0.199721, 0.498911],\r\n    [0.273006, 0.20452, 0.501721],\r\n    [0.271828, 0.209303, 0.504434],\r\n    [0.270595, 0.214069, 0.507052],\r\n    [0.269308, 0.218818, 0.509577],\r\n    [0.267968, 0.223549, 0.512008],\r\n    [0.26658, 0.228262, 0.514349],\r\n    [0.265145, 0.232956, 0.516599],\r\n    [0.263663, 0.237631, 0.518762],\r\n    [0.262138, 0.242286, 0.520837],\r\n    [0.260571, 0.246922, 0.522828],\r\n    [0.258965, 0.251537, 0.524736],\r\n    [0.257322, 0.25613, 0.526563],\r\n    [0.255645, 0.260703, 0.528312],\r\n    [0.253935, 0.265254, 0.529983],\r\n    [0.252194, 0.269783, 0.531579],\r\n    [0.250425, 0.27429, 0.533103],\r\n    [0.248629, 0.278775, 0.534556],\r\n    [0.246811, 0.283237, 0.535941],\r\n    [0.244972, 0.287675, 0.53726],\r\n    [0.243113, 0.292092, 0.538516],\r\n    [0.241237, 0.296485, 0.539709],\r\n    [0.239346, 0.300855, 0.540844],\r\n    [0.237441, 0.305202, 0.541921],\r\n    [0.235526, 0.309527, 0.542944],\r\n    [0.233603, 0.313828, 0.543914],\r\n    [0.231674, 0.318106, 0.544834],\r\n    [0.229739, 0.322361, 0.545706],\r\n    [0.227802, 0.326594, 0.546532],\r\n    [0.225863, 0.330805, 0.547314],\r\n    [0.223925, 0.334994, 0.548053],\r\n    [0.221989, 0.339161, 0.548752],\r\n    [0.220057, 0.343307, 0.549413],\r\n    [0.21813, 0.347432, 0.550038],\r\n    [0.21621, 0.351535, 0.550627],\r\n    [0.214298, 0.355619, 0.551184],\r\n    [0.212395, 0.359683, 0.55171],\r\n    [0.210503, 0.363727, 0.552206],\r\n    [0.208623, 0.367752, 0.552675],\r\n    [0.206756, 0.371758, 0.553117],\r\n    [0.204903, 0.375746, 0.553533],\r\n    [0.203063, 0.379716, 0.553925],\r\n    [0.201239, 0.38367, 0.554294],\r\n    [0.19943, 0.387607, 0.554642],\r\n    [0.197636, 0.391528, 0.554969],\r\n    [0.19586, 0.395433, 0.555276],\r\n    [0.1941, 0.399323, 0.555565],\r\n    [0.192357, 0.403199, 0.555836],\r\n    [0.190631, 0.407061, 0.556089],\r\n    [0.188923, 0.41091, 0.556326],\r\n    [0.187231, 0.414746, 0.556547],\r\n    [0.185556, 0.41857, 0.556753],\r\n    [0.183898, 0.422383, 0.556944],\r\n    [0.182256, 0.426184, 0.55712],\r\n    [0.180629, 0.429975, 0.557282],\r\n    [0.179019, 0.433756, 0.55743],\r\n    [0.177423, 0.437527, 0.557565],\r\n    [0.175841, 0.44129, 0.557685],\r\n    [0.174274, 0.445044, 0.557792],\r\n    [0.172719, 0.448791, 0.557885],\r\n    [0.171176, 0.45253, 0.557965],\r\n    [0.169646, 0.456262, 0.55803],\r\n    [0.168126, 0.459988, 0.558082],\r\n    [0.166617, 0.463708, 0.558119],\r\n    [0.165117, 0.467423, 0.558141],\r\n    [0.163625, 0.471133, 0.558148],\r\n    [0.162142, 0.474838, 0.55814],\r\n    [0.160665, 0.47854, 0.558115],\r\n    [0.159194, 0.482237, 0.558073],\r\n    [0.157729, 0.485932, 0.558013],\r\n    [0.15627, 0.489624, 0.557936],\r\n    [0.154815, 0.493313, 0.55784],\r\n    [0.153364, 0.497, 0.557724],\r\n    [0.151918, 0.500685, 0.557587],\r\n    [0.150476, 0.504369, 0.55743],\r\n    [0.149039, 0.508051, 0.55725],\r\n    [0.147607, 0.511733, 0.557049],\r\n    [0.14618, 0.515413, 0.556823],\r\n    [0.144759, 0.519093, 0.556572],\r\n    [0.143343, 0.522773, 0.556295],\r\n    [0.141935, 0.526453, 0.555991],\r\n    [0.140536, 0.530132, 0.555659],\r\n    [0.139147, 0.533812, 0.555298],\r\n    [0.13777, 0.537492, 0.554906],\r\n    [0.136408, 0.541173, 0.554483],\r\n    [0.135066, 0.544853, 0.554029],\r\n    [0.133743, 0.548535, 0.553541],\r\n    [0.132444, 0.552216, 0.553018],\r\n    [0.131172, 0.555899, 0.552459],\r\n    [0.129933, 0.559582, 0.551864],\r\n    [0.128729, 0.563265, 0.551229],\r\n    [0.127568, 0.566949, 0.550556],\r\n    [0.126453, 0.570633, 0.549841],\r\n    [0.125394, 0.574318, 0.549086],\r\n    [0.124395, 0.578002, 0.548287],\r\n    [0.123463, 0.581687, 0.547445],\r\n    [0.122606, 0.585371, 0.546557],\r\n    [0.121831, 0.589055, 0.545623],\r\n    [0.121148, 0.592739, 0.544641],\r\n    [0.120565, 0.596422, 0.543611],\r\n    [0.120092, 0.600104, 0.54253],\r\n    [0.119738, 0.603785, 0.5414],\r\n    [0.119512, 0.607464, 0.540218],\r\n    [0.119423, 0.611141, 0.538982],\r\n    [0.119483, 0.614817, 0.537692],\r\n    [0.119699, 0.61849, 0.536347],\r\n    [0.120081, 0.622161, 0.534946],\r\n    [0.120638, 0.625828, 0.533488],\r\n    [0.12138, 0.629492, 0.531973],\r\n    [0.122312, 0.633153, 0.530398],\r\n    [0.123444, 0.636809, 0.528763],\r\n    [0.12478, 0.640461, 0.527068],\r\n    [0.126326, 0.644107, 0.525311],\r\n    [0.128087, 0.647749, 0.523491],\r\n    [0.130067, 0.651384, 0.521608],\r\n    [0.132268, 0.655014, 0.519661],\r\n    [0.134692, 0.658636, 0.517649],\r\n    [0.137339, 0.662252, 0.515571],\r\n    [0.14021, 0.665859, 0.513427],\r\n    [0.143303, 0.669459, 0.511215],\r\n    [0.146616, 0.67305, 0.508936],\r\n    [0.150148, 0.676631, 0.506589],\r\n    [0.153894, 0.680203, 0.504172],\r\n    [0.157851, 0.683765, 0.501686],\r\n    [0.162016, 0.687316, 0.499129],\r\n    [0.166383, 0.690856, 0.496502],\r\n    [0.170948, 0.694384, 0.493803],\r\n    [0.175707, 0.6979, 0.491033],\r\n    [0.180653, 0.701402, 0.488189],\r\n    [0.185783, 0.704891, 0.485273],\r\n    [0.19109, 0.708366, 0.482284],\r\n    [0.196571, 0.711827, 0.479221],\r\n    [0.202219, 0.715272, 0.476084],\r\n    [0.20803, 0.718701, 0.472873],\r\n    [0.214, 0.722114, 0.469588],\r\n    [0.220124, 0.725509, 0.466226],\r\n    [0.226397, 0.728888, 0.462789],\r\n    [0.232815, 0.732247, 0.459277],\r\n    [0.239374, 0.735588, 0.455688],\r\n    [0.24607, 0.73891, 0.452024],\r\n    [0.252899, 0.742211, 0.448284],\r\n    [0.259857, 0.745492, 0.444467],\r\n    [0.266941, 0.748751, 0.440573],\r\n    [0.274149, 0.751988, 0.436601],\r\n    [0.281477, 0.755203, 0.432552],\r\n    [0.288921, 0.758394, 0.428426],\r\n    [0.296479, 0.761561, 0.424223],\r\n    [0.304148, 0.764704, 0.419943],\r\n    [0.311925, 0.767822, 0.415586],\r\n    [0.319809, 0.770914, 0.411152],\r\n    [0.327796, 0.77398, 0.40664],\r\n    [0.335885, 0.777018, 0.402049],\r\n    [0.344074, 0.780029, 0.397381],\r\n    [0.35236, 0.783011, 0.392636],\r\n    [0.360741, 0.785964, 0.387814],\r\n    [0.369214, 0.788888, 0.382914],\r\n    [0.377779, 0.791781, 0.377939],\r\n    [0.386433, 0.794644, 0.372886],\r\n    [0.395174, 0.797475, 0.367757],\r\n    [0.404001, 0.800275, 0.362552],\r\n    [0.412913, 0.803041, 0.357269],\r\n    [0.421908, 0.805774, 0.35191],\r\n    [0.430983, 0.808473, 0.346476],\r\n    [0.440137, 0.811138, 0.340967],\r\n    [0.449368, 0.813768, 0.335384],\r\n    [0.458674, 0.816363, 0.329727],\r\n    [0.468053, 0.818921, 0.323998],\r\n    [0.477504, 0.821444, 0.318195],\r\n    [0.487026, 0.823929, 0.312321],\r\n    [0.496615, 0.826376, 0.306377],\r\n    [0.506271, 0.828786, 0.300362],\r\n    [0.515992, 0.831158, 0.294279],\r\n    [0.525776, 0.833491, 0.288127],\r\n    [0.535621, 0.835785, 0.281908],\r\n    [0.545524, 0.838039, 0.275626],\r\n    [0.555484, 0.840254, 0.269281],\r\n    [0.565498, 0.84243, 0.262877],\r\n    [0.575563, 0.844566, 0.256415],\r\n    [0.585678, 0.846661, 0.249897],\r\n    [0.595839, 0.848717, 0.243329],\r\n    [0.606045, 0.850733, 0.236712],\r\n    [0.616293, 0.852709, 0.230052],\r\n    [0.626579, 0.854645, 0.223353],\r\n    [0.636902, 0.856542, 0.21662],\r\n    [0.647257, 0.8584, 0.209861],\r\n    [0.657642, 0.860219, 0.203082],\r\n    [0.668054, 0.861999, 0.196293],\r\n    [0.678489, 0.863742, 0.189503],\r\n    [0.688944, 0.865448, 0.182725],\r\n    [0.699415, 0.867117, 0.175971],\r\n    [0.709898, 0.868751, 0.169257],\r\n    [0.720391, 0.87035, 0.162603],\r\n    [0.730889, 0.871916, 0.156029],\r\n    [0.741388, 0.873449, 0.149561],\r\n    [0.751884, 0.874951, 0.143228],\r\n    [0.762373, 0.876424, 0.137064],\r\n    [0.772852, 0.877868, 0.131109],\r\n    [0.783315, 0.879285, 0.125405],\r\n    [0.79376, 0.880678, 0.120005],\r\n    [0.804182, 0.882046, 0.114965],\r\n    [0.814576, 0.883393, 0.110347],\r\n    [0.82494, 0.88472, 0.106217],\r\n    [0.83527, 0.886029, 0.102646],\r\n    [0.845561, 0.887322, 0.099702],\r\n    [0.85581, 0.888601, 0.097452],\r\n    [0.866013, 0.889868, 0.095953],\r\n    [0.876168, 0.891125, 0.09525],\r\n    [0.886271, 0.892374, 0.095374],\r\n    [0.89632, 0.893616, 0.096335],\r\n    [0.906311, 0.894855, 0.098125],\r\n    [0.916242, 0.896091, 0.100717],\r\n    [0.926106, 0.89733, 0.104071],\r\n    [0.935904, 0.89857, 0.108131],\r\n    [0.945636, 0.899815, 0.112838],\r\n    [0.9553, 0.901065, 0.118128],\r\n    [0.964894, 0.902323, 0.123941],\r\n    [0.974417, 0.90359, 0.130215],\r\n    [0.983868, 0.904867, 0.136897],\r\n    [0.993248, 0.906157, 0.143936]\r\n];\n\nexport { colors as blackWhite, colors$1 as cividis, colors$2 as inferno, colors$3 as magma, colors$4 as plasma, colors$5 as viridis };\n","\nimport { createColorMap, linearScale } from \"@colormap/core\";\nimport { viridis, cividis, plasma, inferno, magma, blackWhite } from \"@colormap/presets\";\n\n//Make a node from a generic object\nclass Node{\n\tconstructor(originalObject,ID,index,network){\n\t\tfor (const [nodeProperty, value] of Object.entries(originalObject)) {\n\t\t\tif(nodeProperty == \"color\"\n\t\t\t||  nodeProperty == \"size\"\n\t\t\t||  nodeProperty == \"position\"\n\t\t\t||  nodeProperty == \"outlineColor\"\n\t\t\t||  nodeProperty == \"outlineWidth\"){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis[nodeProperty] = value;\n\t\t}\n\t\tthis._network = network;\n\t\tthis.ID = ID;\n\t\tthis.index = index;\n\t}\n\n\tset color(newColor){\n\t\tlet nodeIndex = this.index;\n\t\tthis._network.colors[nodeIndex*4+0] = newColor[0];\n\t\tthis._network.colors[nodeIndex*4+1] = newColor[1];\n\t\tthis._network.colors[nodeIndex*4+2] = newColor[2];\n\t\tif(newColor.length > 3){\n\t\t\tthis._network.colors[nodeIndex*4+3] = newColor[3];\n\t\t}\n\t}\n\n\tget color(){\n\t\tlet nodeIndex = this.index;\n\t\treturn [this._network.colors[nodeIndex*4+0],this._network.colors[nodeIndex*4+1],this._network.colors[nodeIndex*4+2],this._network.colors[nodeIndex*4+3]];\n\t}\n\n\n\tset opacity(newOpacity){\n\t\tlet nodeIndex = this.index;\n\t\tthis._network.colors[nodeIndex*4+3] = newOpacity;\n\t}\n\n\tget opacity(){\n\t\tlet nodeIndex = this.index;\n\t\treturn this._network.colors[nodeIndex*4+3];\n\t}\n\n\n\tset size(newSize){\n\t\tthis._network.sizes[this.index] = newSize;\n\t}\n\n\tget size(){\n\t\treturn this._network.sizes[this.index];\n\t}\n\n\tset outlineColor(newColor){\n\t\tlet nodeIndex = this.index;\n\t\tthis._network.outlineColors[nodeIndex*4+0] = newColor[0];\n\t\tthis._network.outlineColors[nodeIndex*4+1] = newColor[1];\n\t\tthis._network.outlineColors[nodeIndex*4+2] = newColor[2];\n\t\tif(newColor.length > 3){\n\t\t\tthis._network.outlineColors[nodeIndex*4+3] = newColor[3];\n\t\t}\n\t}\n\n\tget outlineColor(){\n\t\tlet nodeIndex = this.index;\n\t\treturn [this._network.outlineColors[nodeIndex*4+0],this._network.outlineColors[nodeIndex*4+1],this._network.outlineColors[nodeIndex*4+2],this._network.outlineColors[nodeIndex*4+3]];\n\t}\n\n\tset outlineWidth(newWidth){\n\t\tthis._network.outlineWidths[this.index] = newWidth;\n\t}\n\n\tget outlineWidth(){\n\t\treturn this._network.outlineWidths[this.index];\n\t}\n\n\tget network(){\n\t\treturn this._network;\n\t}\n\n\tset position(newPosition){\n\t\tlet nodeIndex = this.index;\n\t\tthis._network.positions[nodeIndex*3+0] = newPosition[0];\n\t\tthis._network.positions[nodeIndex*3+1] = newPosition[1];\n\t\tthis._network.positions[nodeIndex*3+2] = newPosition[2];\n\t}\n\tget position(){\n\t\tlet nodeIndex = this.index;\n\t\treturn [this._network.positions[nodeIndex*3+0],this._network.positions[nodeIndex*3+1],this._network.positions[nodeIndex*3+2]];\n\t}\n}\n\n\nexport class Network{\n\tconstructor(nodes,edges,properties){\n\t\tthis.ID2index = new Object();\n\t\tthis.index2Node = [];\n\t\tfor (const [nodeID, node] of Object.entries(nodes)) {\n\t\t\tif(!this.ID2index.hasOwnProperty(nodeID)){\n\t\t\t\tlet nodeIndex = this.index2Node.length;\n\t\t\t\tthis.ID2index[nodeID] = nodeIndex;\n\t\t\t\tnode.index = nodeIndex;\n\t\t\t\tnode.ID = nodeID;\n\t\t\t\tthis.index2Node.push(node);\n\t\t\t\tnode.neighbors = [];\n\t\t\t\tnode.edges = [];\n\t\t\t}\n\t\t}\n\n\t\tthis.indexedEdges = new Int32Array(edges.length*2);\n\t\tfor (let edgeIndex = 0; edgeIndex < edges.length; edgeIndex++) {\n\t\t\tconst edge = edges[edgeIndex];\n\t\t\t// console.log(this.index2Node)\n\t\t\tlet fromIndex =this.ID2index[edge.source];\n\t\t\tlet toIndex = this.ID2index[edge.target];\n\t\t\tlet fromNode = this.index2Node[fromIndex];\n\t\t\tlet toNode = this.index2Node[toIndex];\n\t\t\tthis.indexedEdges[edgeIndex*2] = fromIndex;\n\t\t\tthis.indexedEdges[edgeIndex*2+1] = toIndex;\n\t\t}\n\t\t\n\t\tthis.positions = new Float32Array(3*this.index2Node.length);\n\t\tthis.colors = new Float32Array(4*this.index2Node.length);\n\t\tthis.sizes = new Float32Array(this.index2Node.length);\n\t\tthis.outlineColors = new Float32Array(4*this.index2Node.length);\n\t\t//set intensities to 1.0\n\t\tfor (let nodeIndex=0; nodeIndex<this.index2Node.length;nodeIndex++){\n\t\t\tthis.colors[nodeIndex*4+3] = 1.0;\n\t\t\tthis.outlineColors[nodeIndex*4+3] = 1.0;\n\t\t}\n\n\t\tthis.outlineWidths = new Float32Array(this.index2Node.length);\n\t\t\n\t\tthis.edgePositions = null; //new Float32Array(3*this.indexedEdges.length);\n\t\tthis.edgeColors = null; //new Float32Array(3*this.indexedEdges.length);\n\t\tthis.edgeSizes = null; //new Float32Array(this.indexedEdges.length);\n\t\t// this.intensities = new Float32Array(this.indexedEdges.length);\n\t\t// this.outlineColors = new Float32Array(3*this.indexedEdges.length);\n\t\t// this.outlineWidths = new Float32Array(this.indexedEdges.length);\n\n\t\t// for (let index = 0; index < this.positions.length; index++) {\n\t\t//   this.positions[index] = (Math.random()-0.5)*2*200;\n\t\t//   this.colors[index] = Math.random()*0.8+0.2;\n\t\t// }\n\n\t\tthis.nodes = {}\n\t\t\n\t\tlet colorScale = linearScale([0, this.index2Node.length], [0, 1]);\n\t\tlet colorMap = createColorMap(inferno, colorScale);\n\t\tfor (let index = 0; index < this.index2Node.length; index++) {\n\t\t\tlet node = this.index2Node[index];\n\t\t\tif(node.hasOwnProperty(\"position\")){\n\t\t\t\tthis.positions[index*3]   = node[\"position\"][0];\n\t\t\t\tthis.positions[index*3+1] = node[\"position\"][1];\n\t\t\t\tthis.positions[index*3+2] = node[\"position\"][2];\n\t\t\t}else{\n\t\t\t\tthis.positions[index*3+0] = (Math.random()-0.5)*2*200;\n\t\t\t\tthis.positions[index*3+1] = (Math.random()-0.5)*2*200;\n\t\t\t\tthis.positions[index*3+2] = (Math.random()-0.5)*2*200;\n\t\t\t}\n\t\t\tif(node.hasOwnProperty(\"color\")){\n\t\t\t\tif(index==0){\n\t\t\t\t\tconsole.log(\"NODE COLOR:\",node[\"color\"])\n\t\t\t\t}\n\t\t\t\tthis.colors[index*4+0] = node[\"color\"][0];\n\t\t\t\tthis.colors[index*4+1] = node[\"color\"][1];\n\t\t\t\tthis.colors[index*4+2] = node[\"color\"][2];\n\t\t\t\tif(node[\"color\"].length > 3){\n\t\t\t\t\tthis.colors[index*4+3] = node[\"color\"][3];\n\t\t\t\t}else{\n\t\t\t\t\tthis.colors[index*4+3]=1.0;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tlet color = colorMap(index);\n\t\t\t\tthis.colors[index*4+0] = color[0];\n\t\t\t\tthis.colors[index*4+1] = color[1];\n\t\t\t\tthis.colors[index*4+2] = color[2];\n\t\t\t\tif(color.length > 3){\n\t\t\t\t\tthis.colors[index*4+3] = color[3];\n\t\t\t\t}else{\n\t\t\t\t\tthis.colors[index*4+3]=1.0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(node.hasOwnProperty(\"size\")){\n\t\t\t\tthis.sizes[index] = node[\"size\"];\n\t\t\t}else{\n\t\t\t\tthis.sizes[index] = 1.0;\n\t\t\t}\n\n\t\t\tif(node.hasOwnProperty(\"outlineColor\")){\n\t\t\t\tthis.outlineColors[index*4+0] = node[\"outlineColor\"][0];\n\t\t\t\tthis.outlineColors[index*4+1] = node[\"outlineColor\"][1];\n\t\t\t\tthis.outlineColors[index*4+2] = node[\"outlineColor\"][2];\n\t\t\t\tif(node[\"outlineColor\"].length > 3){\n\t\t\t\t\tthis.outlineColors[index*4+3] = node[\"outlineColor\"][3];\n\t\t\t\t}else{\n\t\t\t\t\tthis.outlineColors[index*4+3]=1.0;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.outlineColors[index*4+0] = 1.0;\n\t\t\t\tthis.outlineColors[index*4+1] = 1.0;\n\t\t\t\tthis.outlineColors[index*4+2] = 1.0;\n\t\t\t\tthis.outlineColors[index*4+3] = 1.0;\n\t\t\t}\n\n\t\t\tif(node.hasOwnProperty(\"outlineWidth\")){\n\t\t\t\tthis.outlineWidths[index] = node[\"outlineWidth\"];\n\t\t\t}else{\n\t\t\t\tthis.outlineWidths[index] = 0.0;\n\t\t\t}\n\n\t\t\tlet newNode = new Node(node,node.ID,index,this);\n\t\t\tthis.index2Node[index] = newNode;\n\t\t\tthis.nodes[node.ID] = newNode;\n\t\t}\n\t\tfor (let edgeIndex = 0; edgeIndex < edges.length; edgeIndex++) {\n\t\t\tconst edge = edges[edgeIndex];\n\t\t\t// console.log(this.index2Node)\n\t\t\tlet fromIndex =this.ID2index[edge.source];\n\t\t\tlet toIndex = this.ID2index[edge.target];\n\t\t\tlet fromNode = this.index2Node[fromIndex];\n\t\t\tlet toNode = this.index2Node[toIndex];\n\t\t\tfromNode.neighbors.push(toNode);\n\t\t\ttoNode.neighbors.push(fromNode);\n\t\t\tfromNode.edges.push(edgeIndex);\n\t\t\ttoNode.edges.push(edgeIndex);\n\t\t}\n\t}\n\n\tget nodeCount(){\n\t\treturn this.index2Node.length;\n\t}\n\n\tupdateEdgePositions(){\n\t\tif(this.edgePositions == null){\n\t\t\tthis.edgePositions = new Float32Array(3*(this.indexedEdges.length));\n\t\t\t// a duplicate entry is needed to obtain from/to \n\t\t}\n\t\tfor (let edgeIndex = 0; edgeIndex < this.indexedEdges.length/2; edgeIndex++) {\n\t\t\tlet fromIndex = this.indexedEdges[edgeIndex*2];\n\t\t\tlet toIndex = this.indexedEdges[edgeIndex*2+1];\n\t\t\tthis.edgePositions[(edgeIndex*2)*3]   = this.positions[fromIndex*3];\n\t\t\tthis.edgePositions[(edgeIndex*2)*3+1] = this.positions[fromIndex*3+1];\n\t\t\tthis.edgePositions[(edgeIndex*2)*3+2] = this.positions[fromIndex*3+2];\n\n\t\t\tthis.edgePositions[(edgeIndex*2+1)*3]   = this.positions[toIndex*3];\n\t\t\tthis.edgePositions[(edgeIndex*2+1)*3+1] = this.positions[toIndex*3+1];\n\t\t\tthis.edgePositions[(edgeIndex*2+1)*3+2] = this.positions[toIndex*3+2];\n\t\t}\n\t\t// this.edgePositions = null; //new Float32Array(3*this.indexedEdges.length);\n\t\t// this.edgeColors = null; //new Float32Array(3*this.indexedEdges.length);\n\t\t// this.sizes = null; //new Float32Array(this.indexedEdges.length);\n\t}\n\t\n\tupdateEdgeColors(updateOpacity){\n\t\tif(this.edgeColors == null){\n\t\t\tthis.edgeColors = new Float32Array(4*this.indexedEdges.length);\n\t\t}\n\t\t// if updateColors is not provided:\n\t\tif(typeof updateOpacity === \"undefined\"){\n\t\t\tupdateOpacity = true;\n\t\t}\n\t\tfor (let edgeIndex = 0; edgeIndex < this.indexedEdges.length/2; edgeIndex++) {\n\t\t\tlet fromIndex = this.indexedEdges[edgeIndex*2];\n\t\t\tlet toIndex = this.indexedEdges[edgeIndex*2+1];\n\t\t\tthis.edgeColors[(edgeIndex*2)*4]   = this.colors[fromIndex*4];\n\t\t\tthis.edgeColors[(edgeIndex*2)*4+1] = this.colors[fromIndex*4+1];\n\t\t\tthis.edgeColors[(edgeIndex*2)*4+2] = this.colors[fromIndex*4+2];\n\n\t\t\tthis.edgeColors[(edgeIndex*2+1)*4]   = this.colors[toIndex*4];\n\t\t\tthis.edgeColors[(edgeIndex*2+1)*4+1] = this.colors[toIndex*4+1];\n\t\t\tthis.edgeColors[(edgeIndex*2+1)*4+2] = this.colors[toIndex*4+2];\n\t\t\tif(updateOpacity){\n\t\t\t\tthis.edgeColors[(edgeIndex*2)*4+3] = this.colors[fromIndex*4+3];\n\t\t\t\tthis.edgeColors[(edgeIndex*2+1)*4+3] = this.colors[toIndex*4+3];\n\t\t\t}\n\t\t}\n\t}\n\t\n\tupdateEdgeSizes(){\n\t\tif(this.edgeSizes == null){\n\t\t\tthis.edgeSizes = new Float32Array(this.indexedEdges.length);\n\t\t}\n\t\tfor (let edgeIndex = 0; edgeIndex < this.indexedEdges.length/2; edgeIndex++) {\n\t\t\tlet fromIndex = this.indexedEdges[edgeIndex*2];\n\t\t\tlet toIndex = this.indexedEdges[edgeIndex*2+1];\n\t\t\tthis.edgeSizes[edgeIndex*2] = this.sizes[fromIndex];\n\t\t\tthis.edgeSizes[edgeIndex*2+1] = this.sizes[toIndex];\n\t\t}\n\t}\n\n\n\tupdateEdgeOpacity(updateOpacity){\n\t\tif(this.edgeColors == null){\n\t\t\tthis.edgeColors = new Float32Array(4*this.indexedEdges.length);\n\t\t}\n\t\tfor (let edgeIndex = 0; edgeIndex < this.indexedEdges.length/2; edgeIndex++) {\n\t\t\tlet fromIndex = this.indexedEdges[edgeIndex*2];\n\t\t\tlet toIndex = this.indexedEdges[edgeIndex*2+1];\n\t\t\tthis.edgeColors[(edgeIndex*2)*4+3] = this.colors[fromIndex*4+3];\n\t\t\tthis.edgeColors[(edgeIndex*2+1)*4+3] = this.colors[toIndex*4+3];\n\t\t}\n\t}\n}\n","\n\n\nlet requestAnimationFrame = (function () {\n\treturn window.requestAnimationFrame ||\n\t\twindow.webkitRequestAnimationFrame ||\n\t\twindow.mozRequestAnimationFrame ||\n\t\twindow.oRequestAnimationFrame ||\n\t\twindow.msRequestAnimationFrame ||\n\t\tfunction ( /* function FrameRequestCallback */ callback, /* DOMElement Element */ element) {\n\t\t\treturn window.setTimeout(callback, 1000 / 60);\n\t\t};\n})();\n\nlet cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\n\n\nfunction createWebGLContext(canvas, opt_attribs) {\n\tlet names = [\"webgl\", \"experimental-webgl\", \"webkit-3d\", \"moz-webgl\"];\n\tlet context = null;\n\tfor (let ii = 0; ii < names.length; ++ii) {\n\t\ttry {\n\t\t\tcontext = canvas.getContext(names[ii], opt_attribs);\n\t\t} catch (e) { }\n\t\tif (context) {\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn context;\n}\n\n\n// GetShader function obtained from\n// https://developer.mozilla.org/en/WebGL/Adding_2D_content_to_a_WebGL_context\n// under public domain.\nasync function getShader(gl, ID) {\n\tlet shaderScript = document.getElementById(ID);\n\tif (!shaderScript) {\n\t\treturn null;\n\t}\n\n\tlet str = \"\";\n\tlet k = shaderScript.firstChild;\n\twhile (k) {\n\t\tif (k.nodeType == 3) {\n\t\t\tstr += k.textContent;\n\t\t}\n\t\tk = k.nextSibling;\n\t}\n\n\tif (shaderScript.src) {\n\t\tstr = await fetch(shaderScript.src).then(response => response.text());\n\t}\n\n\tlet shader;\n\tif (shaderScript.type == \"text/glsl-fragment\") {\n\t\tshader = gl.createShader(gl.FRAGMENT_SHADER);\n\t} else if (shaderScript.type == \"text/glsl-vertex\") {\n\t\tshader = gl.createShader(gl.VERTEX_SHADER);\n\t} else {\n\t\treturn null;\n\t}\n\t// console.log(str);\n\n\tgl.shaderSource(shader, str);\n\tgl.compileShader(shader);\n\n\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n\t\tconsole.log(\"ERROR with script: \", ID);\n\t\tconsole.log(gl.getShaderInfoLog(shader));\n\t\treturn null;\n\t}\n\n\treturn shader;\n}\n\n//new URL('fancy-button.css', import.meta.url)\nasync function getShaderFromURL(gl, url, type) { //gl.FRAGMENT_SHADER or gl.VERTEX_SHADER\n\tlet str = await fetch(url).then(r => r.text());\n\n\tlet shader;\n\tshader = gl.createShader(type);\n\n\t// console.log(str);\n\n\tgl.shaderSource(shader, str);\n\tgl.compileShader(shader);\n\n\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n\t\tconsole.log(\"ERROR with script: \", url);\n\t\tconsole.log(gl.getShaderInfoLog(shader));\n\t\treturn null;\n\t}\n\n\treturn shader;\n}\n\nfunction getShaderFromString(gl, str, type) { //gl.FRAGMENT_SHADER or gl.VERTEX_SHADER\n\tlet shader;\n\t// console.log(str);\n\tshader = gl.createShader(type);\n\n\t// console.log(str);\n\n\tgl.shaderSource(shader, str);\n\tgl.compileShader(shader);\n\n\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n\t\tconsole.log(\"ERROR with script: \", str);\n\t\tconsole.log(gl.getShaderInfoLog(shader));\n\t\treturn null;\n\t}\n\n\treturn shader;\n}\n\n\nfunction ShaderProgram(vertexShader, fragmentShader, uniforms, attributes, glContext) {\n\tlet shaderProgram = glContext.createProgram();\n\tglContext.attachShader(shaderProgram, vertexShader);\n\tglContext.attachShader(shaderProgram, fragmentShader);\n\tglContext.linkProgram(shaderProgram);\n\n\n\tif (!glContext.getProgramParameter(shaderProgram, glContext.LINK_STATUS)) {\n\t\talert(\"Shader Compilation Error.\" + glContext.getProgramInfoLog(shaderProgram));\n\t\treturn;\n\t}\n\n\tthis.ID = shaderProgram;\n\n\tthis.uniforms = new Object();\n\tthis.attributes = new Object();\n\n\tif (uniforms) {\n\t\tfor (let i = 0; i < uniforms.length; i++) {\n\t\t\tthis.uniforms[uniforms[i]] = glContext.getUniformLocation(this.ID, uniforms[i]);\n\t\t}\n\t}\n\n\tthis.attributes.enable = function (attributeName) {\n\t\tglContext.enableVertexAttribArray(this[attributeName]);\n\t}\n\n\tthis.attributes.disable = function (attributeName) {\n\t\tglContext.disableVertexAttribArray(this[attributeName]);\n\t}\n\n\tif (attributes) {\n\t\tfor (let i = 0; i < attributes.length; i++) {\n\t\t\tthis.attributes[attributes[i]] = glContext.getAttribLocation(this.ID, attributes[i]);\n\t\t}\n\t}\n\n\tthis.use = function (glContext) {\n\t\tglContext.useProgram(this.ID);\n\t}\n}\n\n\n\n\n\n/*\n * Copyright (C) 2009 Apple Inc. All Rights Reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n * 1. Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS'' AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n/*\n\t taken from: https://cvs.khronos.org/svn/repos/registry/trunk/public/webgl/sdk/demos/webkit/resources/J3DI.js\n*/\n\n//\n// makeSphere\n//\n// Create a sphere with the passed number of latitude and longitude bands and the passed radius.\n// Sphere has vertices, normals and texCoords. Create VBOs for each as well as the index array.\n// Return an object with the following properties:\n//\n//  normalObject        WebGLBuffer object for normals\n//  texCoordObject      WebGLBuffer object for texCoords\n//  vertexObject        WebGLBuffer object for vertices\n//  indexObject         WebGLBuffer object for indices\n//  numIndices          The number of indices in the indexObject\n//\nfunction makeSphere(ctx, radius, lats, longs) {\n\tvar geometryData = [];\n\tvar normalData = [];\n\tvar texCoordData = [];\n\tvar indexData = [];\n\n\tfor (var latNumber = 0; latNumber <= lats; ++latNumber) {\n\t\tfor (var longNumber = 0; longNumber <= longs; ++longNumber) {\n\t\t\tvar theta = latNumber * Math.PI / lats;\n\t\t\tvar phi = longNumber * 2 * Math.PI / longs;\n\t\t\tvar sinTheta = Math.sin(theta);\n\t\t\tvar sinPhi = Math.sin(phi);\n\t\t\tvar cosTheta = Math.cos(theta);\n\t\t\tvar cosPhi = Math.cos(phi);\n\n\t\t\tvar x = cosPhi * sinTheta;\n\t\t\tvar y = cosTheta;\n\t\t\tvar z = sinPhi * sinTheta;\n\t\t\tvar u = 1 - (longNumber / longs);\n\t\t\tvar v = latNumber / lats;\n\n\t\t\tnormalData.push(x);\n\t\t\tnormalData.push(y);\n\t\t\tnormalData.push(z);\n\t\t\ttexCoordData.push(u);\n\t\t\ttexCoordData.push(v);\n\t\t\tgeometryData.push(radius * x);\n\t\t\tgeometryData.push(radius * y);\n\t\t\tgeometryData.push(radius * z);\n\t\t}\n\t}\n\n\tfor (var latNumber = 0; latNumber < lats; ++latNumber) {\n\t\tfor (var longNumber = 0; longNumber < longs; ++longNumber) {\n\t\t\tvar first = (latNumber * (longs + 1)) + longNumber;\n\t\t\tvar second = first + longs + 1;\n\t\t\tindexData.push(first);\n\t\t\tindexData.push(second);\n\t\t\tindexData.push(first + 1);\n\n\t\t\tindexData.push(second);\n\t\t\tindexData.push(second + 1);\n\t\t\tindexData.push(first + 1);\n\t\t}\n\t}\n\n\tvar retval = {};\n\n\tretval.normalObject = ctx.createBuffer();\n\tctx.bindBuffer(ctx.ARRAY_BUFFER, retval.normalObject);\n\tctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(normalData), ctx.STATIC_DRAW);\n\n\tretval.texCoordObject = ctx.createBuffer();\n\tctx.bindBuffer(ctx.ARRAY_BUFFER, retval.texCoordObject);\n\tctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(texCoordData), ctx.STATIC_DRAW);\n\n\tretval.vertexObject = ctx.createBuffer();\n\tctx.bindBuffer(ctx.ARRAY_BUFFER, retval.vertexObject);\n\tctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(geometryData), ctx.STATIC_DRAW);\n\n\tretval.numIndices = indexData.length;\n\tretval.indexObject = ctx.createBuffer();\n\tctx.bindBuffer(ctx.ELEMENT_ARRAY_BUFFER, retval.indexObject);\n\tctx.bufferData(ctx.ELEMENT_ARRAY_BUFFER, new Uint16Array(indexData), ctx.STREAM_DRAW);\n\tretval.indexType = ctx.UNSIGNED_SHORT;\n\n\treturn retval;\n}\n\n\n\n\n\nfunction makePlane(ctx, generateNormal = true, generateTexCoord = true) {\n\tlet geometryData = [\n\t\t-1.0, 1.0, 0.0,\n\t\t-1.0, -1.0, 0.0,\n\t\t1.0, 1.0, 0.0,\n\t\t1.0, -1.0, 0.0,\n\t];\n\tlet normalData = [\n\t\t0.0, 0.0, 1.0,\n\t\t0.0, 0.0, 1.0,\n\t\t0.0, 0.0, 1.0,\n\t\t0.0, 0.0, 1.0,\n\t];\n\tlet texCoordData = [\n\t\t0.0, 1.0, 0.0,\n\t\t1.0, 0.0, 0.0,\n\t\t1.0, 1.0, 0.0,\n\t\t0.0, 0.0, 0.0,\n\t];\n\n\tlet retval = {};\n\n\tif (generateTexCoord) {\n\t\tretval.texCoordObject = ctx.createBuffer();\n\t\tctx.bindBuffer(ctx.ARRAY_BUFFER, retval.texCoordObject);\n\t\tctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(texCoordData), ctx.STATIC_DRAW);\n\t}\n\n\tif (generateNormal) {\n\t\tretval.normalObject = ctx.createBuffer();\n\t\tctx.bindBuffer(ctx.ARRAY_BUFFER, retval.normalObject);\n\t\tctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(normalData), ctx.STATIC_DRAW);\n\t}\n\n\tretval.vertexObject = ctx.createBuffer();\n\tctx.bindBuffer(ctx.ARRAY_BUFFER, retval.vertexObject);\n\tctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(geometryData), ctx.STATIC_DRAW);\n\tretval.numIndices = 4;\n\n\t// retval.numIndices = indexData.length;\n\t// retval.indexObject = ctx.createBuffer();\n\t// ctx.bindBuffer(ctx.ELEMENT_ARRAY_BUFFER, retval.indexObject);\n\t// ctx.bufferData(ctx.ELEMENT_ARRAY_BUFFER, new Uint16Array(indexData), ctx.STREAM_DRAW);\n\t// retval.indexType = ctx.UNSIGNED_SHORT;\n\n\treturn retval;\n}\n\n// Degrees to Radians convert function\nfunction degToRad(degrees) {\n\treturn degrees * Math.PI / 180;\n}\n\nexport {\n\tmakeSphere,\n\tmakePlane,\n\tgetShader,\n\tgetShaderFromURL,\n\tgetShaderFromString,\n\tShaderProgram,\n\trequestAnimationFrame,\n\tcancelAnimationFrame,\n\tcreateWebGLContext,\n\tdegToRad\n};\n","\"use strict\";\n\nlet textSplit2 = (text) => {\n\tlet entries = text.split(/\\s/)\n\tif (entries.length < 2) {\n\t\treturn null;\n\t}\n\treturn [+entries[0], +entries[1]];\n};\n\nlet textSplit3 = (text) => {\n\tlet entries = text.split(/\\s/)\n\tif (entries.length < 3) {\n\t\treturn null;\n\t}\n\treturn [+entries[0], +entries[1], +entries[2]];\n};\n\nlet readNumberIgnoringNone = (text) => {\n\tif (isNaN(text)) {\n\t\treturn 0.0;\n\t} else {\n\t\treturn +text;\n\t}\n};\n\n\nlet propertyHeaderRegular = /#([ve]) \\\"(.+)\\\" ([sn]|v2|v3)/;\nlet propertyFunctions = {\n\t\"s\": String,\n\t\"n\": readNumberIgnoringNone,\n\t\"v2\": textSplit2,\n\t\"v3\": textSplit3\n};\n\n\n\nlet readXNETVerticesHeader = (status) => {\n\twhile (status.lineIndex + 1 < status.lines.length && status.lines[status.lineIndex].length == 0) {\n\t\tstatus.lineIndex++;\n\t}\n\n\tlet headerLine = status.lines[status.lineIndex];\n\tlet headerEntries = headerLine.split(/\\s/);\n\tlet nodeCount = 0;\n\t\n\tif (headerEntries.length == 0 || headerEntries[0].toLowerCase() != \"#vertices\" ||\n\t\tisNaN(headerEntries[1]) || !Number.isInteger(+headerEntries[1])) {\n\t\tthrow `Malformed xnet data (Reading Vertices Header)[line: ${status.lineIndex}]\\n\\t> ${status.lines[status.lineIndex]}`;\n\t}\n\tnodeCount = +headerEntries[1];\n\tstatus.lineIndex++;\n\treturn nodeCount;\n};\n\nlet readXNETLabels = (status) => {\n\tlet labels = [];\n\twhile (status.lineIndex < status.lines.length) {\n\t\tlet currentLine = status.lines[status.lineIndex];\n\t\tlet lineLength = currentLine.length;\n\t\tif (lineLength == 0) {\n\t\t\tstatus.lineIndex++;\n\t\t\tcontinue;\n\t\t}\n\t\tif (currentLine[0] == \"#\") {\n\t\t\tbreak;\n\t\t}\n\t\tvar label = currentLine;\n\t\tif (currentLine[0] == \"\\\"\" && currentLine[lineLength - 1] == \"\\\"\") {\n\t\t\tlabel = currentLine.slice(1, -1);\n\t\t}\n\t\tlabels.push(label);\n\t\tstatus.lineIndex++;\n\t}\n\treturn labels;\n};\n\nlet readXNETEdgesHeader = (status) => {\n\twhile (status.lineIndex + 1 < status.lines.length && status.lines[status.lineIndex].length == 0) {\n\t\tstatus.lineIndex++;\n\t}\n\n\tlet headerLine = status.lines[status.lineIndex];\n\tlet headerEntries = headerLine.split(/\\s/);\n\n\tlet weighted = false;\n\tlet directed = false;\n\n\tif (headerEntries.length == 0 || headerEntries[0].toLowerCase() != \"#edges\") {\n\t\tthrow `Malformed xnet data (Reading Edges Header)[line: ${status.lineIndex}]\\n\\t> ${status.lines[status.lineIndex]}`;\n\t}\n\n\theaderEntries.forEach(headerEntry => {\n\t\tif (headerEntry.toLowerCase() == \"weighted\") {\n\t\t\tweighted = true;\n\t\t}\n\t\tif (headerEntry.toLowerCase() == \"nonweighted\") {\n\t\t\tweighted = false;\n\t\t}\n\t\tif (headerEntry.toLowerCase() == \"directed\") {\n\t\t\tdirected = true;\n\t\t}\n\t\tif (headerEntry.toLowerCase() == \"undirected\") {\n\t\t\tdirected = false;\n\t\t}\n\t});\n\tstatus.lineIndex++;\n\treturn { weighted: weighted, directed: directed };\n};\n\n\nlet readXNETEdges = (status) => {\n\tlet edges = [];\n\tlet weights = [];\n\twhile (status.lineIndex < status.lines.length) {\n\t\tlet currentLine = status.lines[status.lineIndex];\n\t\tlet lineLength = currentLine.length;\n\t\tif (lineLength == 0) {\n\t\t\tstatus.lineIndex++;\n\t\t\tcontinue;\n\t\t}\n\t\tif (currentLine[0] == \"#\") {\n\t\t\tbreak;\n\t\t}\n\t\tlet entries = currentLine.split(/\\s/);\n\t\tlet weight = 1.0;\n\t\t\n\t\tif (entries.length < 2) {\n\t\t\tthrow `Malformed xnet data (Reading Edges)[line: ${status.lineIndex}]\\n\\t> ${status.lines[status.lineIndex]}`;\n\t\t}\n\t\tif (entries.length > 2) {\n\t\t\tweight = +entries[2];\n\t\t}\n\t\tedges.push([+entries[0], +entries[1]]);\n\t\tweights.push(weight);\n\t\tstatus.lineIndex++;\n\t}\n\treturn { edges: edges, weights: weights };\n};\n\n\nlet readXNETPropertyHeader = (status) => {\n\twhile (status.lineIndex + 1 < status.lines.length && status.lines[status.lineIndex].length == 0) {\n\t\tstatus.lineIndex++;\n\t}\n\n\tlet headerEntries = propertyHeaderRegular.exec(status.lines[status.lineIndex]);\n\n\tif (headerEntries.length != 4) {\n\t\tthrow `Malformed xnet data [line: ${status.lineIndex}]\\n\\t> ${status.lines[status.lineIndex]}`;\n\t}\n\tlet propertyType = headerEntries[1];\n\tlet propertyKey = headerEntries[2];\n\tlet propertyFormat = headerEntries[3];\n\n\tstatus.lineIndex++;\n\n\treturn { type: propertyType, key: propertyKey, format: propertyFormat };\n};\n\n\n\nlet readXNETProperty = (status, propertyHeader) => {\n\tlet properties = [];\n\tlet propertyFunction = propertyFunctions[propertyHeader.format];\n\twhile (status.lineIndex < status.lines.length) {\n\t\tlet currentLine = status.lines[status.lineIndex];\n\t\tlet lineLength = currentLine.length;\n\t\tif (lineLength == 0) {\n\t\t\tstatus.lineIndex++;\n\t\t\tcontinue;\n\t\t}\n\t\tif (currentLine[0] == \"#\") {\n\t\t\tbreak;\n\t\t}\n\t\tlet value = currentLine;\n\t\tif (value[0] == \"\\\"\" && value[lineLength - 1] == \"\\\"\") {\n\t\t\tvalue = value.slice(1, -1);\n\t\t}\n\t\tproperties.push(propertyFunction(value));\n\t\tstatus.lineIndex++;\n\t}\n\treturn properties;\n};\n\n\n\nlet loadXNET = (data) => {\n\tlet status = { lineIndex:0, lines: data.split(\"\\n\") };\n\tlet nodesCount = readXNETVerticesHeader(status);\n\tlet labels = readXNETLabels(status);\n\n\tlet network = { nodesCount: nodesCount, verticesProperties: {}, edgesProperties: {} }\n\n\tif (labels.length > 0) {\n\t\tif (labels.length < nodesCount) {\n\t\t\tthrow `Malformed xnet data [line: ${status.lineIndex}]\\n\\t> ${status.lines[status.lineIndex]}`;\n\t\t} else {\n\t\t\tnetwork.labels = labels;\n\t\t}\n\t}\n\tlet edgesHeader = readXNETEdgesHeader(status);\n\tnetwork.directed = edgesHeader.directed;\n\tnetwork.weighted = edgesHeader.weighted;\n\n\tlet edgesData = readXNETEdges(status);\n\tnetwork.edges = edgesData.edges;\n\tif (network.weighted) {\n\t\tnetwork.weights = edgesData.weights;\n\t}\n\n\tdo{\n\t\twhile (status.lineIndex < status.lines.length && status.lines[status.lineIndex].length == 0) {\n\t\t\tstatus.lineIndex++;\n\t\t}\n\t\tif(!(status.lineIndex < status.lines.length)){\n\t\t\tbreak;\n\t\t}\n\t\tlet propertyHeader = readXNETPropertyHeader(status);\n\t\tlet propertyData = readXNETProperty(status, propertyHeader);\n\t\t//console.log(propertyHeader);\n\t\tif (propertyHeader.type == \"e\") {\n\t\t\tnetwork.edgesProperties[propertyHeader.key] = propertyData;\n\t\t} else if (propertyHeader.type == \"v\") {\n\t\t\tnetwork.verticesProperties[propertyHeader.key] = propertyData;\n\t\t}\n\t\t// status.lineIndex++;\n\t}while (status.lineIndex < status.lines.length);\n\treturn network;\n};\n\n\nasync function loadXNETFile(networkFile){\n\tlet networkData = await fetch(networkFile)\n\t\t.then(response => response.text());\n\t\t// .then();\n\treturn loadXNET(networkData);\n}\n\nexport {loadXNET,loadXNETFile}","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we dont ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isnt worried about live collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// dont; wed rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","\n\n// //dictionary\nexport class HeliosScheduler {\n\tconstructor(helios, { FPS = 60, throttle = true, maxQueueLength = 10 }) {\n\t\t// TODO: Check if Weakref is needed\n\t\tthis.helios = helios;\n\t\tthis.needsRender = false;\n\t\tthis.needsUpdateNodesGeometry = false;\n\t\tthis.needsUpdateEdgesGeometry = false;\n\t\tthis._FPS = FPS;\n\t\tthis._throttle = throttle; // will throttle to the requested FPS\n\t\tthis._started = false;\n\t\tthis._paused = true;\n\t\tthis._lastFPS = 0;\n\t\tthis._averageFPS = 0;\n\t\tthis._tasks = {};\n\t\tthis._executionCount = 0,\n\t\tthis._lastTimestamp = null,\n\t\tthis._currentTimestamp = null,\n\t\tthis._lastExecutionTimestamp = null,\n\t\tthis._lastRequestFrameID = 0;\n\t\tthis._timeout = null;\n\t\tthis._times = [];\n\t\tthis._lastRepeatInterval = 0;\n\t\tthis._shouldCleanup = false;\n\t}\n\n\tFPS(value) {\n\t\tif (value === undefined) {\n\t\t\treturn this.FPS;\n\t\t}\n\t\tthis.FPS = value;\n\t\treturn this;\n\t}\n\n\tschedule({\n\t\tname = \"default\",\n\t\tcallback = null,\n\t\tdelay = 0,\n\t\trepeat = false,\n\t\tmaxRepeatCount = Infinity,\n\t\tmaxRepeatTime = Infinity,\n\t\trepeatInterval = 0,\n\t\tsynchronized = true,\n\t\timmediateUpdates = false,\n\t\tupdateNodesGeometry = false,\n\t\tupdateEdgesGeometry = false,\n\t\tredraw = true,\n\t\treplace = true\n\t}) {\n\n\t\tlet newTask = {\n\t\t\tcallback,\n\t\t\tdelay,\n\t\t\trepeat,\n\t\t\tmaxRepeatCount,\n\t\t\tmaxRepeatTime,\n\t\t\trepeatInterval,\n\t\t\tsynchronized,\n\t\t\timmediateUpdates,\n\t\t\tupdateNodesGeometry,\n\t\t\tupdateEdgesGeometry,\n\t\t\tredraw,\n\t\t\treplace,\n\t\t\texecutionCount: 0,\n\t\t\tlastTimestamp: window.performance.now(),\n\t\t\tlastExecutionTime: 0,\n\t\t\tshouldBeRemoved: false,\n\t\t\tcancel: function () {\n\t\t\t\tthis.shouldBeRemoved = true;\n\t\t\t\tif (!this.synchronized) {\n\t\t\t\t\tclearTimeout(this._timeout)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!(name in this._tasks)) {\n\t\t\tthis._tasks[name] = [];\n\t\t}\n\n\t\tif (replace) {\n\t\t\tthis._clearTask(name);\n\t\t}\n\n\t\tif (!synchronized) {\n\t\t\tthis.runAsyncTask(newTask, newTask.delay);\n\t\t}\n\n\t\tthis._addTaskToQueue(newTask, name);\n\n\t\tif (this._paused && this._started) {\n\t\t\tthis._updateTimeout();\n\t\t}\n\t\treturn this;\n\t}\n\n\trunAsyncTask(newTask, delay = 0) {\n\t\tnewTask.timeout = setTimeout(() => {\n\t\t\tif (newTask.shouldBeRemoved) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet currentTimestamp = window.performance.now();\n\t\t\tlet elapsedTime = currentTimestamp - newTask.lastTimestamp;\n\t\t\tnewTask.callback?.(elapsedTime, newTask);\n\t\t\tnewTask.executionCount += 1;\n\t\t\tif (newTask.immediateUpdates) {\n\t\t\t\tthis._updateHelios(newTask.needsRender, newTask.needsUpdateNodesGeometry, newTask.needsUpdateEdgesGeometry);\n\t\t\t} else {\n\t\t\t\tif (newTask.redraw) {\n\t\t\t\t\tthis.needsRender = true;\n\t\t\t\t}\n\t\t\t\tif (newTask.updateNodesGeometry) {\n\t\t\t\t\tthis.needsUpdateNodesGeometry = true;\n\t\t\t\t}\n\t\t\t\tif (newTask.updateEdgesGeometry) {\n\t\t\t\t\tthis.needsUpdateEdgesGeometry = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (newTask.repeat) {\n\t\t\t\tlet newCurrentTimestamp = window.performance.now();\n\t\t\t\tnewTask.lastExecutionTime = newCurrentTimestamp - currentTimestamp;\n\t\t\t\tnewTask.lastTimestamp = currentTimestamp;\n\t\t\t\tlet repeatInterval = newTask.repeatInterval - (newCurrentTimestamp - currentTimestamp)\n\t\t\t\tif (repeatInterval < 0) {\n\t\t\t\t\trepeatInterval = 0;\n\t\t\t\t}\n\t\t\t\tif (newTask.executionCount >= newTask.maxRepeatCount) {\n\t\t\t\t\tnewTask.shouldBeRemoved = true;\n\t\t\t\t}else{\n\t\t\t\t\tthis.runAsyncTask(newTask, repeatInterval);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewTask.shouldBeRemoved = true;\n\t\t\t}\n\t\t\tif(this._started && this._paused){\n\t\t\t\tthis._updateTimeout();\n\t\t\t}\n\t\t}, delay);\n\t}\n\n\trunSyncTasks() {\n\t\tif(this._shouldCleanup){\n\t\t\treturn;\n\t\t}\n\t\tlet allTasksCurrentTimestamp = window.performance.now();\n\t\tfor (let taskName of Object.keys(this._tasks).sort()) {\n\t\t\tlet task = this._tasks[taskName];\n\t\t\tfor (let i = 0; i < task.length; i++) {\n\t\t\t\tif(task[i].synchronized || !task[i].immediateUpdates){\n\t\t\t\t\tif(task[i].redraw){\n\t\t\t\t\t\tthis.needsRender = true;\n\t\t\t\t\t}\n\t\t\t\t\tif(task[i].updateNodesGeometry){\n\t\t\t\t\t\tthis.needsUpdateNodesGeometry = true;\n\t\t\t\t\t}\n\t\t\t\t\tif(task[i].updateEdgesGeometry){\n\t\t\t\t\t\tthis.needsUpdateEdgesGeometry = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!task[i].shouldBeRemoved) {\n\t\t\t\t\tlet currentTimestamp = window.performance.now();\n\t\t\t\t\tlet elapsedTime = currentTimestamp - task[i].lastTimestamp + task[i].lastExecutionTime;\n\t\t\t\t\tif (elapsedTime < 0) {\n\t\t\t\t\t\telapsedTime = 0;\n\t\t\t\t\t}\n\t\t\t\t\tlet willExecute = false\n\t\t\t\t\tif (task[i].executionCount == 0) {\n\t\t\t\t\t\tif (elapsedTime >= task[i].delay) {\n\t\t\t\t\t\t\twillExecute = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (elapsedTime >= task[i].repeatInterval) {\n\t\t\t\t\t\t\twillExecute = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (willExecute) {\n\t\t\t\t\t\ttask[i].callback?.(elapsedTime, task[i]);\n\t\t\t\t\t\tif(task[i] === undefined){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttask[i].executionCount += 1;\n\t\t\t\t\t\tif (task[i].repeat && task[i].executionCount < task[i].maxRepeatCount) {\n\t\t\t\t\t\t\tlet newCurrentTimestamp = window.performance.now();\n\t\t\t\t\t\t\ttask[i].lastExecutionTime = newCurrentTimestamp - currentTimestamp;\n\t\t\t\t\t\t\ttask[i].lastTimestamp = currentTimestamp;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttask[i].shouldBeRemoved = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (task[i].shouldBeRemoved) {\n\t\t\t\t\ttask.splice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (task.length == 0) {\n\t\t\t\tdelete this._tasks[taskName];\n\t\t\t}\n\t\t}\n\t\tthis._lastTimestamp = allTasksCurrentTimestamp;\n\t\tthis._updateHelios(this.needsRender, this.needsUpdateNodesGeometry, this.needsUpdateEdgesGeometry, true);\n\t}\n\n\n\t_updateHelios(needsRender, needsUpdateNodesGeometry, needsUpdateEdgesGeometry, updateTimeoutAfterRender) {\n\t\tif (needsRender === undefined) {\n\t\t\tneedsRender = this.needsRender;\n\t\t}\n\t\tif (needsUpdateNodesGeometry === undefined) {\n\t\t\tneedsUpdateNodesGeometry = this.needsUpdateNodesGeometry;\n\t\t}\n\t\tif (needsUpdateEdgesGeometry === undefined) {\n\t\t\tneedsUpdateEdgesGeometry = this.needsUpdateEdgesGeometry;\n\t\t}\n\n\t\tif (needsUpdateNodesGeometry) {\n\t\t\tthis.helios.updateNodesGeometry();\n\t\t\tthis.needsUpdateNodesGeometry = false;\n\t\t}\n\n\t\tif (needsUpdateEdgesGeometry) {\n\t\t\tthis.helios.updateEdgesGeometry();\n\t\t\tthis.needsUpdateEdgesGeometry = false;\n\t\t}\n\n\t\tcancelAnimationFrame(this.lastRequestFrameID);\n\t\tthis.lastRequestFrameID = requestAnimationFrame(() => {\n\t\t\tif(this._shouldCleanup){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst now = performance.now();\n\t\t\twhile (this._times.length > 0 && this._times[0] <= now - 1000) {\n\t\t\t\tthis._times.shift();\n\t\t\t}\n\t\t\tthis._times.push(now);\n\t\t\tthis._averageFPS = this._times.length;\n\t\t\t// console.log(fps);\n\t\t\tif (needsRender) {\n\t\t\t\tthis.helios.redraw();\n\t\t\t\tthis.needsRender = false;\n\t\t\t}\n\t\t\tif (updateTimeoutAfterRender) {\n\t\t\t\tthis._lastExecutionTimestamp = window.performance.now();\n\t\t\t\tthis._updateTimeout();\n\t\t\t}\n\t\t});\n\t}\n\n\t_addTaskToQueue(task, name) {\n\t\tlet taskQueue = this._tasks[name];\n\t\ttaskQueue.push(task);\n\t\tif (taskQueue.length > this.maxQueueLength) {\n\t\t\tif (taskQueue[0].timeout) {\n\t\t\t\ttaskQueue[0].shouldBeRemoved = true;\n\t\t\t\tclearTimeout(task.taskQueue[0]);\n\t\t\t}\n\t\t\ttaskQueue.shift();\n\t\t\tconsole.warn(`One task was discarded because of too many tasks in the ${name} queue. (maxQueueLength = ${this.maxQueueLength})`);\n\t\t}\n\t}\n\n\t_clearTask(name) {\n\t\tif (name in this._tasks) {\n\t\t\tlet taskQueue = this._tasks[name];\n\t\t\tfor (let taskIndex = 0; taskIndex < taskQueue.length; taskIndex++) {\n\t\t\t\tlet task = taskQueue[taskIndex];\n\t\t\t\tif (task.timeout) {\n\t\t\t\t\ttask.shouldBeRemoved = true;\n\t\t\t\t\tclearTimeout(task.timeout);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttaskQueue.length = 0;\n\t\t}\n\t}\n\n\tunschedule(name) {\n\t\tif (name in this._tasks) {\n\t\t\tthis._clearTask(name);\n\t\t\tdelete this._tasks[name];\n\t\t}\n\t\tthis._updateTimeout();\n\t\treturn this;\n\t}\n\n\n\tstart() {\n\t\tthis._started = true;\n\t\tthis._updateTimeout();\n\t\treturn this;\n\t}\n\n\n\n\tstop() {\n\t\tthis._shouldCleanup = true;\n\t\tclearTimeout(this._timeout);\n\t\tthis.paused = false;\n\t\tthis.started = false;\n\t\tthis._lastTimestamp = null;\n\t\tthis._lastExecutionTime = 0;\n\t\treturn this;\n\t}\n\n\t_updateTimeout() {\n\t\tclearTimeout(this._timeout);\n\t\tif (this._started) {\n\t\t\tif (Object.keys(this._tasks).length === 0) {\n\t\t\t\tthis.paused = true;\n\t\t\t} else {\n\t\t\t\tthis.paused = false;\n\t\t\t\tlet repeatInterval = 0\n\t\t\t\tlet currentTimestamp = window.performance.now();\n\t\t\t\tif (this._lastTimestamp != null && this._throttle) {\n\t\t\t\t\tlet fpsRepeatInterval = 1000 / this._FPS;\n\t\t\t\t\trepeatInterval = fpsRepeatInterval - (currentTimestamp-this._lastTimestamp)\n\t\t\t\t\tif (repeatInterval < 0) {\n\t\t\t\t\t\trepeatInterval = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._lastFPS = 1000 / ((currentTimestamp-this._lastTimestamp));\n\t\t\t\t// this._lastTimestamp = this._currentTimestamp;\n\t\t\t\t\n\t\t\t\tthis._timeout = setTimeout(() => {\n\t\t\t\t\tthis.runSyncTasks();\n\t\t\t\t}, repeatInterval);\n\t\t\t}\n\t\t}\n\t}\n\n}","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0  u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","export const linear = t => +t;\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","/*!\n\npica\nhttps://github.com/nodeca/pica\n\n*/\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.pica = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){\n// Collection of math functions\n//\n// 1. Combine components together\n// 2. Has async init to load wasm modules\n//\n'use strict';\n\nvar Multimath = _dereq_('multimath');\n\nvar mm_unsharp_mask = _dereq_('./mm_unsharp_mask');\n\nvar mm_resize = _dereq_('./mm_resize');\n\nfunction MathLib(requested_features) {\n  var __requested_features = requested_features || [];\n\n  var features = {\n    js: __requested_features.indexOf('js') >= 0,\n    wasm: __requested_features.indexOf('wasm') >= 0\n  };\n  Multimath.call(this, features);\n  this.features = {\n    js: features.js,\n    wasm: features.wasm && this.has_wasm()\n  };\n  this.use(mm_unsharp_mask);\n  this.use(mm_resize);\n}\n\nMathLib.prototype = Object.create(Multimath.prototype);\nMathLib.prototype.constructor = MathLib;\n\nMathLib.prototype.resizeAndUnsharp = function resizeAndUnsharp(options, cache) {\n  var result = this.resize(options, cache);\n\n  if (options.unsharpAmount) {\n    this.unsharp_mask(result, options.toWidth, options.toHeight, options.unsharpAmount, options.unsharpRadius, options.unsharpThreshold);\n  }\n\n  return result;\n};\n\nmodule.exports = MathLib;\n\n},{\"./mm_resize\":4,\"./mm_unsharp_mask\":9,\"multimath\":19}],2:[function(_dereq_,module,exports){\n// Resize convolvers, pure JS implementation\n//\n'use strict'; // Precision of fixed FP values\n//var FIXED_FRAC_BITS = 14;\n\nfunction clampTo8(i) {\n  return i < 0 ? 0 : i > 255 ? 255 : i;\n}\n\nfunction clampNegative(i) {\n  return i >= 0 ? i : 0;\n} // Convolve image data in horizontal direction. Can be used for:\n//\n// 1. bitmap with premultiplied alpha\n// 2. bitmap without alpha (all values 255)\n//\n// Notes:\n//\n// - output is transposed\n// - output resolution is ~15 bits per channel(for better precision).\n//\n\n\nfunction convolveHor(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Store 15 bits between passes for better precision\n      // Instead of shift to 14 (FIXED_FRAC_BITS), shift to 7 only\n      //\n\n\n      dest[destOffset + 3] = clampNegative(a >> 7);\n      dest[destOffset + 2] = clampNegative(b >> 7);\n      dest[destOffset + 1] = clampNegative(g >> 7);\n      dest[destOffset] = clampNegative(r >> 7);\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n} // Supplementary method for `convolveHor()`\n//\n\n\nfunction convolveVert(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Sync with premultiplied version for exact result match\n\n\n      r >>= 7;\n      g >>= 7;\n      b >>= 7;\n      a >>= 7; // Bring this value back in range + round result.\n      //\n\n      dest[destOffset + 3] = clampTo8(a + (1 << 13) >> 14);\n      dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14);\n      dest[destOffset + 1] = clampTo8(g + (1 << 13) >> 14);\n      dest[destOffset] = clampTo8(r + (1 << 13) >> 14);\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n} // Premultiply & convolve image data in horizontal direction. Can be used for:\n//\n// - Any bitmap data, extracted with `.getImageData()` method (with\n//   non-premultiplied alpha)\n//\n// For images without alpha channel this method is slower than `convolveHor()`\n//\n\n\nfunction convolveHorWithPre(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a, alpha;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        alpha = src[srcPtr + 3];\n        a = a + filterVal * alpha | 0;\n        b = b + filterVal * src[srcPtr + 2] * alpha | 0;\n        g = g + filterVal * src[srcPtr + 1] * alpha | 0;\n        r = r + filterVal * src[srcPtr] * alpha | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Premultiply is (* alpha / 255).\n      // Postpone division for better performance\n\n\n      b = b / 255 | 0;\n      g = g / 255 | 0;\n      r = r / 255 | 0; // Store 15 bits between passes for better precision\n      // Instead of shift to 14 (FIXED_FRAC_BITS), shift to 7 only\n      //\n\n      dest[destOffset + 3] = clampNegative(a >> 7);\n      dest[destOffset + 2] = clampNegative(b >> 7);\n      dest[destOffset + 1] = clampNegative(g >> 7);\n      dest[destOffset] = clampNegative(r >> 7);\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n} // Supplementary method for `convolveHorWithPre()`\n//\n\n\nfunction convolveVertWithPre(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Downscale to leave room for un-premultiply\n\n\n      r >>= 7;\n      g >>= 7;\n      b >>= 7;\n      a >>= 7; // Un-premultiply\n\n      a = clampTo8(a + (1 << 13) >> 14);\n\n      if (a > 0) {\n        r = r * 255 / a | 0;\n        g = g * 255 / a | 0;\n        b = b * 255 / a | 0;\n      } // Bring this value back in range + round result.\n      // Shift value = FIXED_FRAC_BITS + 7\n      //\n\n\n      dest[destOffset + 3] = a;\n      dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14);\n      dest[destOffset + 1] = clampTo8(g + (1 << 13) >> 14);\n      dest[destOffset] = clampTo8(r + (1 << 13) >> 14);\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n}\n\nmodule.exports = {\n  convolveHor: convolveHor,\n  convolveVert: convolveVert,\n  convolveHorWithPre: convolveHorWithPre,\n  convolveVertWithPre: convolveVertWithPre\n};\n\n},{}],3:[function(_dereq_,module,exports){\n// This is autogenerated file from math.wasm, don't edit.\n//\n'use strict';\n/* eslint-disable max-len */\n\nmodule.exports = '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';\n\n},{}],4:[function(_dereq_,module,exports){\n'use strict';\n\nmodule.exports = {\n  name: 'resize',\n  fn: _dereq_('./resize'),\n  wasm_fn: _dereq_('./resize_wasm'),\n  wasm_src: _dereq_('./convolve_wasm_base64')\n};\n\n},{\"./convolve_wasm_base64\":3,\"./resize\":5,\"./resize_wasm\":8}],5:[function(_dereq_,module,exports){\n'use strict';\n\nvar createFilters = _dereq_('./resize_filter_gen');\n\nvar _require = _dereq_('./convolve'),\n    convolveHor = _require.convolveHor,\n    convolveVert = _require.convolveVert,\n    convolveHorWithPre = _require.convolveHorWithPre,\n    convolveVertWithPre = _require.convolveVertWithPre;\n\nfunction hasAlpha(src, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    if (src[ptr] !== 255) return true;\n    ptr = ptr + 4 | 0;\n  }\n\n  return false;\n}\n\nfunction resetAlpha(dst, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    dst[ptr] = 0xFF;\n    ptr = ptr + 4 | 0;\n  }\n}\n\nmodule.exports = function resize(options) {\n  var src = options.src;\n  var srcW = options.width;\n  var srcH = options.height;\n  var destW = options.toWidth;\n  var destH = options.toHeight;\n  var scaleX = options.scaleX || options.toWidth / options.width;\n  var scaleY = options.scaleY || options.toHeight / options.height;\n  var offsetX = options.offsetX || 0;\n  var offsetY = options.offsetY || 0;\n  var dest = options.dest || new Uint8Array(destW * destH * 4);\n  var filter = typeof options.filter === 'undefined' ? 'mks2013' : options.filter;\n  var filtersX = createFilters(filter, srcW, destW, scaleX, offsetX),\n      filtersY = createFilters(filter, srcH, destH, scaleY, offsetY);\n  var tmp = new Uint16Array(destW * srcH * 4); // Autodetect if alpha channel exists, and use appropriate method\n\n  if (hasAlpha(src, srcW, srcH)) {\n    convolveHorWithPre(src, tmp, srcW, srcH, destW, filtersX);\n    convolveVertWithPre(tmp, dest, srcH, destW, destH, filtersY);\n  } else {\n    convolveHor(src, tmp, srcW, srcH, destW, filtersX);\n    convolveVert(tmp, dest, srcH, destW, destH, filtersY);\n    resetAlpha(dest, destW, destH);\n  }\n\n  return dest;\n};\n\n},{\"./convolve\":2,\"./resize_filter_gen\":6}],6:[function(_dereq_,module,exports){\n// Calculate convolution filters for each destination point,\n// and pack data to Int16Array:\n//\n// [ shift, length, data..., shift2, length2, data..., ... ]\n//\n// - shift - offset in src image\n// - length - filter length (in src points)\n// - data - filter values sequence\n//\n'use strict';\n\nvar FILTER_INFO = _dereq_('./resize_filter_info'); // Precision of fixed FP values\n\n\nvar FIXED_FRAC_BITS = 14;\n\nfunction toFixedPoint(num) {\n  return Math.round(num * ((1 << FIXED_FRAC_BITS) - 1));\n}\n\nmodule.exports = function resizeFilterGen(filter, srcSize, destSize, scale, offset) {\n  var filterFunction = FILTER_INFO.filter[filter].fn;\n  var scaleInverted = 1.0 / scale;\n  var scaleClamped = Math.min(1.0, scale); // For upscale\n  // Filter window (averaging interval), scaled to src image\n\n  var srcWindow = FILTER_INFO.filter[filter].win / scaleClamped;\n  var destPixel, srcPixel, srcFirst, srcLast, filterElementSize, floatFilter, fxpFilter, total, pxl, idx, floatVal, filterTotal, filterVal;\n  var leftNotEmpty, rightNotEmpty, filterShift, filterSize;\n  var maxFilterElementSize = Math.floor((srcWindow + 1) * 2);\n  var packedFilter = new Int16Array((maxFilterElementSize + 2) * destSize);\n  var packedFilterPtr = 0;\n  var slowCopy = !packedFilter.subarray || !packedFilter.set; // For each destination pixel calculate source range and built filter values\n\n  for (destPixel = 0; destPixel < destSize; destPixel++) {\n    // Scaling should be done relative to central pixel point\n    srcPixel = (destPixel + 0.5) * scaleInverted + offset;\n    srcFirst = Math.max(0, Math.floor(srcPixel - srcWindow));\n    srcLast = Math.min(srcSize - 1, Math.ceil(srcPixel + srcWindow));\n    filterElementSize = srcLast - srcFirst + 1;\n    floatFilter = new Float32Array(filterElementSize);\n    fxpFilter = new Int16Array(filterElementSize);\n    total = 0.0; // Fill filter values for calculated range\n\n    for (pxl = srcFirst, idx = 0; pxl <= srcLast; pxl++, idx++) {\n      floatVal = filterFunction((pxl + 0.5 - srcPixel) * scaleClamped);\n      total += floatVal;\n      floatFilter[idx] = floatVal;\n    } // Normalize filter, convert to fixed point and accumulate conversion error\n\n\n    filterTotal = 0;\n\n    for (idx = 0; idx < floatFilter.length; idx++) {\n      filterVal = floatFilter[idx] / total;\n      filterTotal += filterVal;\n      fxpFilter[idx] = toFixedPoint(filterVal);\n    } // Compensate normalization error, to minimize brightness drift\n\n\n    fxpFilter[destSize >> 1] += toFixedPoint(1.0 - filterTotal); //\n    // Now pack filter to useable form\n    //\n    // 1. Trim heading and tailing zero values, and compensate shitf/length\n    // 2. Put all to single array in this format:\n    //\n    //    [ pos shift, data length, value1, value2, value3, ... ]\n    //\n\n    leftNotEmpty = 0;\n\n    while (leftNotEmpty < fxpFilter.length && fxpFilter[leftNotEmpty] === 0) {\n      leftNotEmpty++;\n    }\n\n    if (leftNotEmpty < fxpFilter.length) {\n      rightNotEmpty = fxpFilter.length - 1;\n\n      while (rightNotEmpty > 0 && fxpFilter[rightNotEmpty] === 0) {\n        rightNotEmpty--;\n      }\n\n      filterShift = srcFirst + leftNotEmpty;\n      filterSize = rightNotEmpty - leftNotEmpty + 1;\n      packedFilter[packedFilterPtr++] = filterShift; // shift\n\n      packedFilter[packedFilterPtr++] = filterSize; // size\n\n      if (!slowCopy) {\n        packedFilter.set(fxpFilter.subarray(leftNotEmpty, rightNotEmpty + 1), packedFilterPtr);\n        packedFilterPtr += filterSize;\n      } else {\n        // fallback for old IE < 11, without subarray/set methods\n        for (idx = leftNotEmpty; idx <= rightNotEmpty; idx++) {\n          packedFilter[packedFilterPtr++] = fxpFilter[idx];\n        }\n      }\n    } else {\n      // zero data, write header only\n      packedFilter[packedFilterPtr++] = 0; // shift\n\n      packedFilter[packedFilterPtr++] = 0; // size\n    }\n  }\n\n  return packedFilter;\n};\n\n},{\"./resize_filter_info\":7}],7:[function(_dereq_,module,exports){\n// Filter definitions to build tables for\n// resizing convolvers.\n//\n// Presets for quality 0..3. Filter functions + window size\n//\n'use strict';\n\nvar filter = {\n  // Nearest neibor\n  box: {\n    win: 0.5,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n      return x < 0.5 ? 1.0 : 0.0;\n    }\n  },\n  // // Hamming\n  hamming: {\n    win: 1.0,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n\n      if (x >= 1.0) {\n        return 0.0;\n      }\n\n      if (x < 1.19209290E-07) {\n        return 1.0;\n      }\n\n      var xpi = x * Math.PI;\n      return Math.sin(xpi) / xpi * (0.54 + 0.46 * Math.cos(xpi / 1.0));\n    }\n  },\n  // Lanczos, win = 2\n  lanczos2: {\n    win: 2.0,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n\n      if (x >= 2.0) {\n        return 0.0;\n      }\n\n      if (x < 1.19209290E-07) {\n        return 1.0;\n      }\n\n      var xpi = x * Math.PI;\n      return Math.sin(xpi) / xpi * Math.sin(xpi / 2.0) / (xpi / 2.0);\n    }\n  },\n  // Lanczos, win = 3\n  lanczos3: {\n    win: 3.0,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n\n      if (x >= 3.0) {\n        return 0.0;\n      }\n\n      if (x < 1.19209290E-07) {\n        return 1.0;\n      }\n\n      var xpi = x * Math.PI;\n      return Math.sin(xpi) / xpi * Math.sin(xpi / 3.0) / (xpi / 3.0);\n    }\n  },\n  // Magic Kernel Sharp 2013, win = 2.5\n  // http://johncostella.com/magic/\n  mks2013: {\n    win: 2.5,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n\n      if (x >= 2.5) {\n        return 0.0;\n      }\n\n      if (x >= 1.5) {\n        return -0.125 * (x - 2.5) * (x - 2.5);\n      }\n\n      if (x >= 0.5) {\n        return 0.25 * (4 * x * x - 11 * x + 7);\n      }\n\n      return 1.0625 - 1.75 * x * x;\n    }\n  }\n};\nmodule.exports = {\n  filter: filter,\n  // Legacy mapping\n  f2q: {\n    box: 0,\n    hamming: 1,\n    lanczos2: 2,\n    lanczos3: 3\n  },\n  q2f: ['box', 'hamming', 'lanczos2', 'lanczos3']\n};\n\n},{}],8:[function(_dereq_,module,exports){\n'use strict';\n\nvar createFilters = _dereq_('./resize_filter_gen');\n\nfunction hasAlpha(src, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    if (src[ptr] !== 255) return true;\n    ptr = ptr + 4 | 0;\n  }\n\n  return false;\n}\n\nfunction resetAlpha(dst, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    dst[ptr] = 0xFF;\n    ptr = ptr + 4 | 0;\n  }\n}\n\nfunction asUint8Array(src) {\n  return new Uint8Array(src.buffer, 0, src.byteLength);\n}\n\nvar IS_LE = true; // should not crash everything on module load in old browsers\n\ntry {\n  IS_LE = new Uint32Array(new Uint8Array([1, 0, 0, 0]).buffer)[0] === 1;\n} catch (__) {}\n\nfunction copyInt16asLE(src, target, target_offset) {\n  if (IS_LE) {\n    target.set(asUint8Array(src), target_offset);\n    return;\n  }\n\n  for (var ptr = target_offset, i = 0; i < src.length; i++) {\n    var data = src[i];\n    target[ptr++] = data & 0xFF;\n    target[ptr++] = data >> 8 & 0xFF;\n  }\n}\n\nmodule.exports = function resize_wasm(options) {\n  var src = options.src;\n  var srcW = options.width;\n  var srcH = options.height;\n  var destW = options.toWidth;\n  var destH = options.toHeight;\n  var scaleX = options.scaleX || options.toWidth / options.width;\n  var scaleY = options.scaleY || options.toHeight / options.height;\n  var offsetX = options.offsetX || 0.0;\n  var offsetY = options.offsetY || 0.0;\n  var dest = options.dest || new Uint8Array(destW * destH * 4);\n  var filter = typeof options.filter === 'undefined' ? 'mks2013' : options.filter;\n  var filtersX = createFilters(filter, srcW, destW, scaleX, offsetX),\n      filtersY = createFilters(filter, srcH, destH, scaleY, offsetY); // destination is 0 too.\n\n  var src_offset = 0;\n  var src_size = Math.max(src.byteLength, dest.byteLength); // buffer between convolve passes\n\n  var tmp_offset = this.__align(src_offset + src_size);\n\n  var tmp_size = srcH * destW * 4 * 2; // 2 bytes per channel\n\n  var filtersX_offset = this.__align(tmp_offset + tmp_size);\n\n  var filtersY_offset = this.__align(filtersX_offset + filtersX.byteLength);\n\n  var alloc_bytes = filtersY_offset + filtersY.byteLength;\n\n  var instance = this.__instance('resize', alloc_bytes); //\n  // Fill memory block with data to process\n  //\n\n\n  var mem = new Uint8Array(this.__memory.buffer);\n  var mem32 = new Uint32Array(this.__memory.buffer); // 32-bit copy is much faster in chrome\n\n  var src32 = new Uint32Array(src.buffer);\n  mem32.set(src32); // We should guarantee LE bytes order. Filters are not big, so\n  // speed difference is not significant vs direct .set()\n\n  copyInt16asLE(filtersX, mem, filtersX_offset);\n  copyInt16asLE(filtersY, mem, filtersY_offset); // Now call webassembly method\n  // emsdk does method names with '_'\n\n  var fn = instance.exports.convolveHV || instance.exports._convolveHV;\n\n  if (hasAlpha(src, srcW, srcH)) {\n    fn(filtersX_offset, filtersY_offset, tmp_offset, srcW, srcH, destW, destH, 1);\n  } else {\n    fn(filtersX_offset, filtersY_offset, tmp_offset, srcW, srcH, destW, destH, 0);\n    resetAlpha(dest, destW, destH);\n  } //\n  // Copy data back to typed array\n  //\n  // 32-bit copy is much faster in chrome\n\n\n  var dest32 = new Uint32Array(dest.buffer);\n  dest32.set(new Uint32Array(this.__memory.buffer, 0, destH * destW));\n  return dest;\n};\n\n},{\"./resize_filter_gen\":6}],9:[function(_dereq_,module,exports){\n'use strict';\n\nmodule.exports = {\n  name: 'unsharp_mask',\n  fn: _dereq_('./unsharp_mask'),\n  wasm_fn: _dereq_('./unsharp_mask_wasm'),\n  wasm_src: _dereq_('./unsharp_mask_wasm_base64')\n};\n\n},{\"./unsharp_mask\":10,\"./unsharp_mask_wasm\":11,\"./unsharp_mask_wasm_base64\":12}],10:[function(_dereq_,module,exports){\n// Unsharp mask filter\n//\n// http://stackoverflow.com/a/23322820/1031804\n// USM(O) = O + (2 * (Amount / 100) * (O - GB))\n// GB - gaussian blur.\n//\n// Image is converted from RGB to HSV, unsharp mask is applied to the\n// brightness channel and then image is converted back to RGB.\n//\n'use strict';\n\nvar glur_mono16 = _dereq_('glur/mono16');\n\nfunction hsv_v16(img, width, height) {\n  var size = width * height;\n  var out = new Uint16Array(size);\n  var r, g, b, max;\n\n  for (var i = 0; i < size; i++) {\n    r = img[4 * i];\n    g = img[4 * i + 1];\n    b = img[4 * i + 2];\n    max = r >= g && r >= b ? r : g >= b && g >= r ? g : b;\n    out[i] = max << 8;\n  }\n\n  return out;\n}\n\nmodule.exports = function unsharp(img, width, height, amount, radius, threshold) {\n  var v1, v2, vmul;\n  var diff, iTimes4;\n\n  if (amount === 0 || radius < 0.5) {\n    return;\n  }\n\n  if (radius > 2.0) {\n    radius = 2.0;\n  }\n\n  var brightness = hsv_v16(img, width, height);\n  var blured = new Uint16Array(brightness); // copy, because blur modify src\n\n  glur_mono16(blured, width, height, radius);\n  var amountFp = amount / 100 * 0x1000 + 0.5 | 0;\n  var thresholdFp = threshold << 8;\n  var size = width * height;\n  /* eslint-disable indent */\n\n  for (var i = 0; i < size; i++) {\n    v1 = brightness[i];\n    diff = v1 - blured[i];\n\n    if (Math.abs(diff) >= thresholdFp) {\n      // add unsharp mask to the brightness channel\n      v2 = v1 + (amountFp * diff + 0x800 >> 12); // Both v1 and v2 are within [0.0 .. 255.0] (0000-FF00) range, never going into\n      // [255.003 .. 255.996] (FF01-FFFF). This allows to round this value as (x+.5)|0\n      // later without overflowing.\n\n      v2 = v2 > 0xff00 ? 0xff00 : v2;\n      v2 = v2 < 0x0000 ? 0x0000 : v2; // Avoid division by 0. V=0 means rgb(0,0,0), unsharp with unsharpAmount>0 cannot\n      // change this value (because diff between colors gets inflated), so no need to verify correctness.\n\n      v1 = v1 !== 0 ? v1 : 1; // Multiplying V in HSV model by a constant is equivalent to multiplying each component\n      // in RGB by the same constant (same for HSL), see also:\n      // https://beesbuzz.biz/code/16-hsv-color-transforms\n\n      vmul = (v2 << 12) / v1 | 0; // Result will be in [0..255] range because:\n      //  - all numbers are positive\n      //  - r,g,b <= (v1/256)\n      //  - r,g,b,(v1/256),(v2/256) <= 255\n      // So highest this number can get is X*255/X+0.5=255.5 which is < 256 and rounds down.\n\n      iTimes4 = i * 4;\n      img[iTimes4] = img[iTimes4] * vmul + 0x800 >> 12; // R\n\n      img[iTimes4 + 1] = img[iTimes4 + 1] * vmul + 0x800 >> 12; // G\n\n      img[iTimes4 + 2] = img[iTimes4 + 2] * vmul + 0x800 >> 12; // B\n    }\n  }\n};\n\n},{\"glur/mono16\":18}],11:[function(_dereq_,module,exports){\n'use strict';\n\nmodule.exports = function unsharp(img, width, height, amount, radius, threshold) {\n  if (amount === 0 || radius < 0.5) {\n    return;\n  }\n\n  if (radius > 2.0) {\n    radius = 2.0;\n  }\n\n  var pixels = width * height;\n  var img_bytes_cnt = pixels * 4;\n  var hsv_bytes_cnt = pixels * 2;\n  var blur_bytes_cnt = pixels * 2;\n  var blur_line_byte_cnt = Math.max(width, height) * 4; // float32 array\n\n  var blur_coeffs_byte_cnt = 8 * 4; // float32 array\n\n  var img_offset = 0;\n  var hsv_offset = img_bytes_cnt;\n  var blur_offset = hsv_offset + hsv_bytes_cnt;\n  var blur_tmp_offset = blur_offset + blur_bytes_cnt;\n  var blur_line_offset = blur_tmp_offset + blur_bytes_cnt;\n  var blur_coeffs_offset = blur_line_offset + blur_line_byte_cnt;\n\n  var instance = this.__instance('unsharp_mask', img_bytes_cnt + hsv_bytes_cnt + blur_bytes_cnt * 2 + blur_line_byte_cnt + blur_coeffs_byte_cnt, {\n    exp: Math.exp\n  }); // 32-bit copy is much faster in chrome\n\n\n  var img32 = new Uint32Array(img.buffer);\n  var mem32 = new Uint32Array(this.__memory.buffer);\n  mem32.set(img32); // HSL\n\n  var fn = instance.exports.hsv_v16 || instance.exports._hsv_v16;\n  fn(img_offset, hsv_offset, width, height); // BLUR\n\n  fn = instance.exports.blurMono16 || instance.exports._blurMono16;\n  fn(hsv_offset, blur_offset, blur_tmp_offset, blur_line_offset, blur_coeffs_offset, width, height, radius); // UNSHARP\n\n  fn = instance.exports.unsharp || instance.exports._unsharp;\n  fn(img_offset, img_offset, hsv_offset, blur_offset, width, height, amount, threshold); // 32-bit copy is much faster in chrome\n\n  img32.set(new Uint32Array(this.__memory.buffer, 0, pixels));\n};\n\n},{}],12:[function(_dereq_,module,exports){\n// This is autogenerated file from math.wasm, don't edit.\n//\n'use strict';\n/* eslint-disable max-len */\n\nmodule.exports = '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';\n\n},{}],13:[function(_dereq_,module,exports){\n'use strict';\n\nvar GC_INTERVAL = 100;\n\nfunction Pool(create, idle) {\n  this.create = create;\n  this.available = [];\n  this.acquired = {};\n  this.lastId = 1;\n  this.timeoutId = 0;\n  this.idle = idle || 2000;\n}\n\nPool.prototype.acquire = function () {\n  var _this = this;\n\n  var resource;\n\n  if (this.available.length !== 0) {\n    resource = this.available.pop();\n  } else {\n    resource = this.create();\n    resource.id = this.lastId++;\n\n    resource.release = function () {\n      return _this.release(resource);\n    };\n  }\n\n  this.acquired[resource.id] = resource;\n  return resource;\n};\n\nPool.prototype.release = function (resource) {\n  var _this2 = this;\n\n  delete this.acquired[resource.id];\n  resource.lastUsed = Date.now();\n  this.available.push(resource);\n\n  if (this.timeoutId === 0) {\n    this.timeoutId = setTimeout(function () {\n      return _this2.gc();\n    }, GC_INTERVAL);\n  }\n};\n\nPool.prototype.gc = function () {\n  var _this3 = this;\n\n  var now = Date.now();\n  this.available = this.available.filter(function (resource) {\n    if (now - resource.lastUsed > _this3.idle) {\n      resource.destroy();\n      return false;\n    }\n\n    return true;\n  });\n\n  if (this.available.length !== 0) {\n    this.timeoutId = setTimeout(function () {\n      return _this3.gc();\n    }, GC_INTERVAL);\n  } else {\n    this.timeoutId = 0;\n  }\n};\n\nmodule.exports = Pool;\n\n},{}],14:[function(_dereq_,module,exports){\n// Add intermediate resizing steps when scaling down by a very large factor.\n//\n// For example, when resizing 10000x10000 down to 10x10, it'll resize it to\n// 300x300 first.\n//\n// It's needed because tiler has issues when the entire tile is scaled down\n// to a few pixels (1024px source tile with border size 3 should result in\n// at least 3+3+2 = 8px target tile, so max scale factor is 128 here).\n//\n// Also, adding intermediate steps can speed up processing if we use lower\n// quality algorithms for first stages.\n//\n'use strict'; // min size = 0 results in infinite loop,\n// min size = 1 can consume large amount of memory\n\nvar MIN_INNER_TILE_SIZE = 2;\n\nmodule.exports = function createStages(fromWidth, fromHeight, toWidth, toHeight, srcTileSize, destTileBorder) {\n  var scaleX = toWidth / fromWidth;\n  var scaleY = toHeight / fromHeight; // derived from createRegions equation:\n  // innerTileWidth = pixelFloor(srcTileSize * scaleX) - 2 * destTileBorder;\n\n  var minScale = (2 * destTileBorder + MIN_INNER_TILE_SIZE + 1) / srcTileSize; // refuse to scale image multiple times by less than twice each time,\n  // it could only happen because of invalid options\n\n  if (minScale > 0.5) return [[toWidth, toHeight]];\n  var stageCount = Math.ceil(Math.log(Math.min(scaleX, scaleY)) / Math.log(minScale)); // no additional resizes are necessary,\n  // stageCount can be zero or be negative when enlarging the image\n\n  if (stageCount <= 1) return [[toWidth, toHeight]];\n  var result = [];\n\n  for (var i = 0; i < stageCount; i++) {\n    var width = Math.round(Math.pow(Math.pow(fromWidth, stageCount - i - 1) * Math.pow(toWidth, i + 1), 1 / stageCount));\n    var height = Math.round(Math.pow(Math.pow(fromHeight, stageCount - i - 1) * Math.pow(toHeight, i + 1), 1 / stageCount));\n    result.push([width, height]);\n  }\n\n  return result;\n};\n\n},{}],15:[function(_dereq_,module,exports){\n// Split original image into multiple 1024x1024 chunks to reduce memory usage\n// (images have to be unpacked into typed arrays for resizing) and allow\n// parallel processing of multiple tiles at a time.\n//\n'use strict';\n/*\n * pixelFloor and pixelCeil are modified versions of Math.floor and Math.ceil\n * functions which take into account floating point arithmetic errors.\n * Those errors can cause undesired increments/decrements of sizes and offsets:\n * Math.ceil(36 / (36 / 500)) = 501\n * pixelCeil(36 / (36 / 500)) = 500\n */\n\nvar PIXEL_EPSILON = 1e-5;\n\nfunction pixelFloor(x) {\n  var nearest = Math.round(x);\n\n  if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n    return nearest;\n  }\n\n  return Math.floor(x);\n}\n\nfunction pixelCeil(x) {\n  var nearest = Math.round(x);\n\n  if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n    return nearest;\n  }\n\n  return Math.ceil(x);\n}\n\nmodule.exports = function createRegions(options) {\n  var scaleX = options.toWidth / options.width;\n  var scaleY = options.toHeight / options.height;\n  var innerTileWidth = pixelFloor(options.srcTileSize * scaleX) - 2 * options.destTileBorder;\n  var innerTileHeight = pixelFloor(options.srcTileSize * scaleY) - 2 * options.destTileBorder; // prevent infinite loop, this should never happen\n\n  if (innerTileWidth < 1 || innerTileHeight < 1) {\n    throw new Error('Internal error in pica: target tile width/height is too small.');\n  }\n\n  var x, y;\n  var innerX, innerY, toTileWidth, toTileHeight;\n  var tiles = [];\n  var tile; // we go top-to-down instead of left-to-right to make image displayed from top to\n  // doesn in the browser\n\n  for (innerY = 0; innerY < options.toHeight; innerY += innerTileHeight) {\n    for (innerX = 0; innerX < options.toWidth; innerX += innerTileWidth) {\n      x = innerX - options.destTileBorder;\n\n      if (x < 0) {\n        x = 0;\n      }\n\n      toTileWidth = innerX + innerTileWidth + options.destTileBorder - x;\n\n      if (x + toTileWidth >= options.toWidth) {\n        toTileWidth = options.toWidth - x;\n      }\n\n      y = innerY - options.destTileBorder;\n\n      if (y < 0) {\n        y = 0;\n      }\n\n      toTileHeight = innerY + innerTileHeight + options.destTileBorder - y;\n\n      if (y + toTileHeight >= options.toHeight) {\n        toTileHeight = options.toHeight - y;\n      }\n\n      tile = {\n        toX: x,\n        toY: y,\n        toWidth: toTileWidth,\n        toHeight: toTileHeight,\n        toInnerX: innerX,\n        toInnerY: innerY,\n        toInnerWidth: innerTileWidth,\n        toInnerHeight: innerTileHeight,\n        offsetX: x / scaleX - pixelFloor(x / scaleX),\n        offsetY: y / scaleY - pixelFloor(y / scaleY),\n        scaleX: scaleX,\n        scaleY: scaleY,\n        x: pixelFloor(x / scaleX),\n        y: pixelFloor(y / scaleY),\n        width: pixelCeil(toTileWidth / scaleX),\n        height: pixelCeil(toTileHeight / scaleY)\n      };\n      tiles.push(tile);\n    }\n  }\n\n  return tiles;\n};\n\n},{}],16:[function(_dereq_,module,exports){\n'use strict';\n\nfunction objClass(obj) {\n  return Object.prototype.toString.call(obj);\n}\n\nmodule.exports.isCanvas = function isCanvas(element) {\n  var cname = objClass(element);\n  return cname === '[object HTMLCanvasElement]'\n  /* browser */\n  || cname === '[object OffscreenCanvas]' || cname === '[object Canvas]'\n  /* node-canvas */\n  ;\n};\n\nmodule.exports.isImage = function isImage(element) {\n  return objClass(element) === '[object HTMLImageElement]';\n};\n\nmodule.exports.isImageBitmap = function isImageBitmap(element) {\n  return objClass(element) === '[object ImageBitmap]';\n};\n\nmodule.exports.limiter = function limiter(concurrency) {\n  var active = 0,\n      queue = [];\n\n  function roll() {\n    if (active < concurrency && queue.length) {\n      active++;\n      queue.shift()();\n    }\n  }\n\n  return function limit(fn) {\n    return new Promise(function (resolve, reject) {\n      queue.push(function () {\n        fn().then(function (result) {\n          resolve(result);\n          active--;\n          roll();\n        }, function (err) {\n          reject(err);\n          active--;\n          roll();\n        });\n      });\n      roll();\n    });\n  };\n};\n\nmodule.exports.cib_quality_name = function cib_quality_name(num) {\n  switch (num) {\n    case 0:\n      return 'pixelated';\n\n    case 1:\n      return 'low';\n\n    case 2:\n      return 'medium';\n  }\n\n  return 'high';\n};\n\nmodule.exports.cib_support = function cib_support(createCanvas) {\n  return Promise.resolve().then(function () {\n    if (typeof createImageBitmap === 'undefined') {\n      return false;\n    }\n\n    var c = createCanvas(100, 100);\n    return createImageBitmap(c, 0, 0, 100, 100, {\n      resizeWidth: 10,\n      resizeHeight: 10,\n      resizeQuality: 'high'\n    }).then(function (bitmap) {\n      var status = bitmap.width === 10; // Branch below is filtered on upper level. We do not call resize\n      // detection for basic ImageBitmap.\n      //\n      // https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmap\n      // old Crome 51 has ImageBitmap without .close(). Then this code\n      // will throw and return 'false' as expected.\n      //\n\n      bitmap.close();\n      c = null;\n      return status;\n    });\n  })[\"catch\"](function () {\n    return false;\n  });\n};\n\nmodule.exports.worker_offscreen_canvas_support = function worker_offscreen_canvas_support() {\n  return new Promise(function (resolve, reject) {\n    if (typeof OffscreenCanvas === 'undefined') {\n      // if OffscreenCanvas is present, we assume browser supports Worker and built-in Promise as well\n      resolve(false);\n      return;\n    }\n\n    function workerPayload(self) {\n      if (typeof createImageBitmap === 'undefined') {\n        self.postMessage(false);\n        return;\n      }\n\n      Promise.resolve().then(function () {\n        var canvas = new OffscreenCanvas(10, 10); // test that 2d context can be used in worker\n\n        var ctx = canvas.getContext('2d');\n        ctx.rect(0, 0, 1, 1); // test that cib can be used to return image bitmap from worker\n\n        return createImageBitmap(canvas, 0, 0, 1, 1);\n      }).then(function () {\n        return self.postMessage(true);\n      }, function () {\n        return self.postMessage(false);\n      });\n    }\n\n    var code = btoa(\"(\".concat(workerPayload.toString(), \")(self);\"));\n    var w = new Worker(\"data:text/javascript;base64,\".concat(code));\n\n    w.onmessage = function (ev) {\n      return resolve(ev.data);\n    };\n\n    w.onerror = reject;\n  }).then(function (result) {\n    return result;\n  }, function () {\n    return false;\n  });\n}; // Check if canvas.getContext('2d').getImageData can be used,\n// FireFox randomizes the output of that function in `privacy.resistFingerprinting` mode\n\n\nmodule.exports.can_use_canvas = function can_use_canvas(createCanvas) {\n  var usable = false;\n\n  try {\n    var canvas = createCanvas(2, 1);\n    var ctx = canvas.getContext('2d');\n    var d = ctx.createImageData(2, 1);\n    d.data[0] = 12;\n    d.data[1] = 23;\n    d.data[2] = 34;\n    d.data[3] = 255;\n    d.data[4] = 45;\n    d.data[5] = 56;\n    d.data[6] = 67;\n    d.data[7] = 255;\n    ctx.putImageData(d, 0, 0);\n    d = null;\n    d = ctx.getImageData(0, 0, 2, 1);\n\n    if (d.data[0] === 12 && d.data[1] === 23 && d.data[2] === 34 && d.data[3] === 255 && d.data[4] === 45 && d.data[5] === 56 && d.data[6] === 67 && d.data[7] === 255) {\n      usable = true;\n    }\n  } catch (err) {}\n\n  return usable;\n}; // Check if createImageBitmap(img, sx, sy, sw, sh) signature works correctly\n// with JPEG images oriented with Exif;\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n// TODO: remove after it's fixed in chrome for at least 2 releases\n\n\nmodule.exports.cib_can_use_region = function cib_can_use_region() {\n  return new Promise(function (resolve) {\n    // `Image` check required for use in `ServiceWorker`\n    if (typeof Image === 'undefined' || typeof createImageBitmap === 'undefined') {\n      resolve(false);\n      return;\n    }\n\n    var image = new Image();\n    image.src = 'data:image/jpeg;base64,' + '/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAA' + 'AABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9' + 'sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRc' + 'ZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoa' + 'GhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRA' + 'f/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAA' + 'IQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAA' + 'AAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIB' + 'AT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAA' + 'AAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAA' + 'AAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQ' + 'QAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z';\n\n    image.onload = function () {\n      createImageBitmap(image, 0, 0, image.width, image.height).then(function (bitmap) {\n        if (bitmap.width === image.width && bitmap.height === image.height) {\n          resolve(true);\n        } else {\n          resolve(false);\n        }\n      }, function () {\n        return resolve(false);\n      });\n    };\n\n    image.onerror = function () {\n      return resolve(false);\n    };\n  });\n};\n\n},{}],17:[function(_dereq_,module,exports){\n// Web Worker wrapper for image resize function\n'use strict';\n\nmodule.exports = function () {\n  var MathLib = _dereq_('./mathlib');\n\n  var mathLib;\n  /* eslint-disable no-undef */\n\n  onmessage = function onmessage(ev) {\n    var tileOpts = ev.data.opts;\n    var returnBitmap = false;\n\n    if (!tileOpts.src && tileOpts.srcBitmap) {\n      var canvas = new OffscreenCanvas(tileOpts.width, tileOpts.height);\n      var ctx = canvas.getContext('2d');\n      ctx.drawImage(tileOpts.srcBitmap, 0, 0);\n      tileOpts.src = ctx.getImageData(0, 0, tileOpts.width, tileOpts.height).data;\n      canvas.width = canvas.height = 0;\n      canvas = null;\n      tileOpts.srcBitmap.close();\n      tileOpts.srcBitmap = null; // Temporary force out data to typed array, because Chrome have artefacts\n      // https://github.com/nodeca/pica/issues/223\n      // returnBitmap = true;\n    }\n\n    if (!mathLib) mathLib = new MathLib(ev.data.features); // Use multimath's sync auto-init. Avoid Promise use in old browsers,\n    // because polyfills are not propagated to webworker.\n\n    var data = mathLib.resizeAndUnsharp(tileOpts);\n\n    if (returnBitmap) {\n      var toImageData = new ImageData(new Uint8ClampedArray(data), tileOpts.toWidth, tileOpts.toHeight);\n\n      var _canvas = new OffscreenCanvas(tileOpts.toWidth, tileOpts.toHeight);\n\n      var _ctx = _canvas.getContext('2d');\n\n      _ctx.putImageData(toImageData, 0, 0);\n\n      createImageBitmap(_canvas).then(function (bitmap) {\n        postMessage({\n          bitmap: bitmap\n        }, [bitmap]);\n      });\n    } else {\n      postMessage({\n        data: data\n      }, [data.buffer]);\n    }\n  };\n};\n\n},{\"./mathlib\":1}],18:[function(_dereq_,module,exports){\n// Calculate Gaussian blur of an image using IIR filter\n// The method is taken from Intel's white paper and code example attached to it:\n// https://software.intel.com/en-us/articles/iir-gaussian-blur-filter\n// -implementation-using-intel-advanced-vector-extensions\n\nvar a0, a1, a2, a3, b1, b2, left_corner, right_corner;\n\nfunction gaussCoef(sigma) {\n  if (sigma < 0.5) {\n    sigma = 0.5;\n  }\n\n  var a = Math.exp(0.726 * 0.726) / sigma,\n      g1 = Math.exp(-a),\n      g2 = Math.exp(-2 * a),\n      k = (1 - g1) * (1 - g1) / (1 + 2 * a * g1 - g2);\n\n  a0 = k;\n  a1 = k * (a - 1) * g1;\n  a2 = k * (a + 1) * g1;\n  a3 = -k * g2;\n  b1 = 2 * g1;\n  b2 = -g2;\n  left_corner = (a0 + a1) / (1 - b1 - b2);\n  right_corner = (a2 + a3) / (1 - b1 - b2);\n\n  // Attempt to force type to FP32.\n  return new Float32Array([ a0, a1, a2, a3, b1, b2, left_corner, right_corner ]);\n}\n\nfunction convolveMono16(src, out, line, coeff, width, height) {\n  // takes src image and writes the blurred and transposed result into out\n\n  var prev_src, curr_src, curr_out, prev_out, prev_prev_out;\n  var src_index, out_index, line_index;\n  var i, j;\n  var coeff_a0, coeff_a1, coeff_b1, coeff_b2;\n\n  for (i = 0; i < height; i++) {\n    src_index = i * width;\n    out_index = i;\n    line_index = 0;\n\n    // left to right\n    prev_src = src[src_index];\n    prev_prev_out = prev_src * coeff[6];\n    prev_out = prev_prev_out;\n\n    coeff_a0 = coeff[0];\n    coeff_a1 = coeff[1];\n    coeff_b1 = coeff[4];\n    coeff_b2 = coeff[5];\n\n    for (j = 0; j < width; j++) {\n      curr_src = src[src_index];\n\n      curr_out = curr_src * coeff_a0 +\n                 prev_src * coeff_a1 +\n                 prev_out * coeff_b1 +\n                 prev_prev_out * coeff_b2;\n\n      prev_prev_out = prev_out;\n      prev_out = curr_out;\n      prev_src = curr_src;\n\n      line[line_index] = prev_out;\n      line_index++;\n      src_index++;\n    }\n\n    src_index--;\n    line_index--;\n    out_index += height * (width - 1);\n\n    // right to left\n    prev_src = src[src_index];\n    prev_prev_out = prev_src * coeff[7];\n    prev_out = prev_prev_out;\n    curr_src = prev_src;\n\n    coeff_a0 = coeff[2];\n    coeff_a1 = coeff[3];\n\n    for (j = width - 1; j >= 0; j--) {\n      curr_out = curr_src * coeff_a0 +\n                 prev_src * coeff_a1 +\n                 prev_out * coeff_b1 +\n                 prev_prev_out * coeff_b2;\n\n      prev_prev_out = prev_out;\n      prev_out = curr_out;\n\n      prev_src = curr_src;\n      curr_src = src[src_index];\n\n      out[out_index] = line[line_index] + prev_out;\n\n      src_index--;\n      line_index--;\n      out_index -= height;\n    }\n  }\n}\n\n\nfunction blurMono16(src, width, height, radius) {\n  // Quick exit on zero radius\n  if (!radius) { return; }\n\n  var out      = new Uint16Array(src.length),\n      tmp_line = new Float32Array(Math.max(width, height));\n\n  var coeff = gaussCoef(radius);\n\n  convolveMono16(src, out, tmp_line, coeff, width, height, radius);\n  convolveMono16(out, src, tmp_line, coeff, height, width, radius);\n}\n\nmodule.exports = blurMono16;\n\n},{}],19:[function(_dereq_,module,exports){\n'use strict';\n\n\nvar assign         = _dereq_('object-assign');\nvar base64decode   = _dereq_('./lib/base64decode');\nvar hasWebAssembly = _dereq_('./lib/wa_detect');\n\n\nvar DEFAULT_OPTIONS = {\n  js: true,\n  wasm: true\n};\n\n\nfunction MultiMath(options) {\n  if (!(this instanceof MultiMath)) return new MultiMath(options);\n\n  var opts = assign({}, DEFAULT_OPTIONS, options || {});\n\n  this.options         = opts;\n\n  this.__cache         = {};\n\n  this.__init_promise  = null;\n  this.__modules       = opts.modules || {};\n  this.__memory        = null;\n  this.__wasm          = {};\n\n  this.__isLE = ((new Uint32Array((new Uint8Array([ 1, 0, 0, 0 ])).buffer))[0] === 1);\n\n  if (!this.options.js && !this.options.wasm) {\n    throw new Error('mathlib: at least \"js\" or \"wasm\" should be enabled');\n  }\n}\n\n\nMultiMath.prototype.has_wasm = hasWebAssembly;\n\n\nMultiMath.prototype.use = function (module) {\n  this.__modules[module.name] = module;\n\n  // Pin the best possible implementation\n  if (this.options.wasm && this.has_wasm() && module.wasm_fn) {\n    this[module.name] = module.wasm_fn;\n  } else {\n    this[module.name] = module.fn;\n  }\n\n  return this;\n};\n\n\nMultiMath.prototype.init = function () {\n  if (this.__init_promise) return this.__init_promise;\n\n  if (!this.options.js && this.options.wasm && !this.has_wasm()) {\n    return Promise.reject(new Error('mathlib: only \"wasm\" was enabled, but it\\'s not supported'));\n  }\n\n  var self = this;\n\n  this.__init_promise = Promise.all(Object.keys(self.__modules).map(function (name) {\n    var module = self.__modules[name];\n\n    if (!self.options.wasm || !self.has_wasm() || !module.wasm_fn) return null;\n\n    // If already compiled - exit\n    if (self.__wasm[name]) return null;\n\n    // Compile wasm source\n    return WebAssembly.compile(self.__base64decode(module.wasm_src))\n      .then(function (m) { self.__wasm[name] = m; });\n  }))\n    .then(function () { return self; });\n\n  return this.__init_promise;\n};\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Methods below are for internal use from plugins\n\n\n// Simple decode base64 to typed array. Useful to load embedded webassembly\n// code. You probably don't need to call this method directly.\n//\nMultiMath.prototype.__base64decode = base64decode;\n\n\n// Increase current memory to include specified number of bytes. Do nothing if\n// size is already ok. You probably don't need to call this method directly,\n// because it will be invoked from `.__instance()`.\n//\nMultiMath.prototype.__reallocate = function mem_grow_to(bytes) {\n  if (!this.__memory) {\n    this.__memory = new WebAssembly.Memory({\n      initial: Math.ceil(bytes / (64 * 1024))\n    });\n    return this.__memory;\n  }\n\n  var mem_size = this.__memory.buffer.byteLength;\n\n  if (mem_size < bytes) {\n    this.__memory.grow(Math.ceil((bytes - mem_size) / (64 * 1024)));\n  }\n\n  return this.__memory;\n};\n\n\n// Returns instantinated webassembly item by name, with specified memory size\n// and environment.\n// - use cache if available\n// - do sync module init, if async init was not called earlier\n// - allocate memory if not enougth\n// - can export functions to webassembly via \"env_extra\",\n//   for example, { exp: Math.exp }\n//\nMultiMath.prototype.__instance = function instance(name, memsize, env_extra) {\n  if (memsize) this.__reallocate(memsize);\n\n  // If .init() was not called, do sync compile\n  if (!this.__wasm[name]) {\n    var module = this.__modules[name];\n    this.__wasm[name] = new WebAssembly.Module(this.__base64decode(module.wasm_src));\n  }\n\n  if (!this.__cache[name]) {\n    var env_base = {\n      memoryBase: 0,\n      memory: this.__memory,\n      tableBase: 0,\n      table: new WebAssembly.Table({ initial: 0, element: 'anyfunc' })\n    };\n\n    this.__cache[name] = new WebAssembly.Instance(this.__wasm[name], {\n      env: assign(env_base, env_extra || {})\n    });\n  }\n\n  return this.__cache[name];\n};\n\n\n// Helper to calculate memory aligh for pointers. Webassembly does not require\n// this, but you may wish to experiment. Default base = 8;\n//\nMultiMath.prototype.__align = function align(number, base) {\n  base = base || 8;\n  var reminder = number % base;\n  return number + (reminder ? base - reminder : 0);\n};\n\n\nmodule.exports = MultiMath;\n\n},{\"./lib/base64decode\":20,\"./lib/wa_detect\":21,\"object-assign\":22}],20:[function(_dereq_,module,exports){\n// base64 decode str -> Uint8Array, to load WA modules\n//\n'use strict';\n\n\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n\nmodule.exports = function base64decode(str) {\n  var input = str.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max   = input.length;\n\n  var out = new Uint8Array((max * 3) >> 2);\n\n  // Collect by 6*4 bits (3 bytes)\n\n  var bits = 0;\n  var ptr  = 0;\n\n  for (var idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      out[ptr++] = (bits >> 16) & 0xFF;\n      out[ptr++] = (bits >> 8) & 0xFF;\n      out[ptr++] = bits & 0xFF;\n    }\n\n    bits = (bits << 6) | BASE64_MAP.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  var tailbits = (max % 4) * 6;\n\n  if (tailbits === 0) {\n    out[ptr++] = (bits >> 16) & 0xFF;\n    out[ptr++] = (bits >> 8) & 0xFF;\n    out[ptr++] = bits & 0xFF;\n  } else if (tailbits === 18) {\n    out[ptr++] = (bits >> 10) & 0xFF;\n    out[ptr++] = (bits >> 2) & 0xFF;\n  } else if (tailbits === 12) {\n    out[ptr++] = (bits >> 4) & 0xFF;\n  }\n\n  return out;\n};\n\n},{}],21:[function(_dereq_,module,exports){\n// Detect WebAssembly support.\n// - Check global WebAssembly object\n// - Try to load simple module (can be disabled via CSP)\n//\n'use strict';\n\n\nvar wa;\n\n\nmodule.exports = function hasWebAssembly() {\n  // use cache if called before;\n  if (typeof wa !== 'undefined') return wa;\n\n  wa = false;\n\n  if (typeof WebAssembly === 'undefined') return wa;\n\n  // If WebAssenbly is disabled, code can throw on compile\n  try {\n    // https://github.com/brion/min-wasm-fail/blob/master/min-wasm-fail.in.js\n    // Additional check that WA internals are correct\n\n    /* eslint-disable comma-spacing, max-len */\n    var bin      = new Uint8Array([ 0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11 ]);\n    var module   = new WebAssembly.Module(bin);\n    var instance = new WebAssembly.Instance(module, {});\n\n    // test storing to and loading from a non-zero location via a parameter.\n    // Safari on iOS 11.2.5 returns 0 unexpectedly at non-zero locations\n    if (instance.exports.test(4) !== 0) wa = true;\n\n    return wa;\n  } catch (__) {}\n\n  return wa;\n};\n\n},{}],22:[function(_dereq_,module,exports){\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n},{}],23:[function(_dereq_,module,exports){\nvar bundleFn = arguments[3];\nvar sources = arguments[4];\nvar cache = arguments[5];\n\nvar stringify = JSON.stringify;\n\nmodule.exports = function (fn, options) {\n    var wkey;\n    var cacheKeys = Object.keys(cache);\n\n    for (var i = 0, l = cacheKeys.length; i < l; i++) {\n        var key = cacheKeys[i];\n        var exp = cache[key].exports;\n        // Using babel as a transpiler to use esmodule, the export will always\n        // be an object with the default export as a property of it. To ensure\n        // the existing api and babel esmodule exports are both supported we\n        // check for both\n        if (exp === fn || exp && exp.default === fn) {\n            wkey = key;\n            break;\n        }\n    }\n\n    if (!wkey) {\n        wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n        var wcache = {};\n        for (var i = 0, l = cacheKeys.length; i < l; i++) {\n            var key = cacheKeys[i];\n            wcache[key] = key;\n        }\n        sources[wkey] = [\n            'function(require,module,exports){' + fn + '(self); }',\n            wcache\n        ];\n    }\n    var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n\n    var scache = {}; scache[wkey] = wkey;\n    sources[skey] = [\n        'function(require,module,exports){' +\n            // try to call default if defined to also support babel esmodule exports\n            'var f = require(' + stringify(wkey) + ');' +\n            '(f.default ? f.default : f)(self);' +\n        '}',\n        scache\n    ];\n\n    var workerSources = {};\n    resolveSources(skey);\n\n    function resolveSources(key) {\n        workerSources[key] = true;\n\n        for (var depPath in sources[key][1]) {\n            var depKey = sources[key][1][depPath];\n            if (!workerSources[depKey]) {\n                resolveSources(depKey);\n            }\n        }\n    }\n\n    var src = '(' + bundleFn + ')({'\n        + Object.keys(workerSources).map(function (key) {\n            return stringify(key) + ':['\n                + sources[key][0]\n                + ',' + stringify(sources[key][1]) + ']'\n            ;\n        }).join(',')\n        + '},{},[' + stringify(skey) + '])'\n    ;\n\n    var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n    var blob = new Blob([src], { type: 'text/javascript' });\n    if (options && options.bare) { return blob; }\n    var workerUrl = URL.createObjectURL(blob);\n    var worker = new Worker(workerUrl);\n    worker.objectURL = workerUrl;\n    return worker;\n};\n\n},{}],\"/index.js\":[function(_dereq_,module,exports){\n'use strict';\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar assign = _dereq_('object-assign');\n\nvar webworkify = _dereq_('webworkify');\n\nvar MathLib = _dereq_('./lib/mathlib');\n\nvar Pool = _dereq_('./lib/pool');\n\nvar utils = _dereq_('./lib/utils');\n\nvar worker = _dereq_('./lib/worker');\n\nvar createStages = _dereq_('./lib/stepper');\n\nvar createRegions = _dereq_('./lib/tiler');\n\nvar filter_info = _dereq_('./lib/mm_resize/resize_filter_info'); // Deduplicate pools & limiters with the same configs\n// when user creates multiple pica instances.\n\n\nvar singletones = {};\nvar NEED_SAFARI_FIX = false;\n\ntry {\n  if (typeof navigator !== 'undefined' && navigator.userAgent) {\n    NEED_SAFARI_FIX = navigator.userAgent.indexOf('Safari') >= 0;\n  }\n} catch (e) {}\n\nvar concurrency = 1;\n\nif (typeof navigator !== 'undefined') {\n  concurrency = Math.min(navigator.hardwareConcurrency || 1, 4);\n}\n\nvar DEFAULT_PICA_OPTS = {\n  tile: 1024,\n  concurrency: concurrency,\n  features: ['js', 'wasm', 'ww'],\n  idle: 2000,\n  createCanvas: function createCanvas(width, height) {\n    var tmpCanvas = document.createElement('canvas');\n    tmpCanvas.width = width;\n    tmpCanvas.height = height;\n    return tmpCanvas;\n  }\n};\nvar DEFAULT_RESIZE_OPTS = {\n  filter: 'mks2013',\n  unsharpAmount: 0,\n  unsharpRadius: 0.0,\n  unsharpThreshold: 0\n};\nvar CAN_NEW_IMAGE_DATA = false;\nvar CAN_CREATE_IMAGE_BITMAP = false;\nvar CAN_USE_CANVAS_GET_IMAGE_DATA = false;\nvar CAN_USE_OFFSCREEN_CANVAS = false;\nvar CAN_USE_CIB_REGION_FOR_IMAGE = false;\n\nfunction workerFabric() {\n  return {\n    value: webworkify(worker),\n    destroy: function destroy() {\n      this.value.terminate();\n\n      if (typeof window !== 'undefined') {\n        var url = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n        if (url && url.revokeObjectURL && this.value.objectURL) {\n          url.revokeObjectURL(this.value.objectURL);\n        }\n      }\n    }\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n// API methods\n\n\nfunction Pica(options) {\n  if (!(this instanceof Pica)) return new Pica(options);\n  this.options = assign({}, DEFAULT_PICA_OPTS, options || {});\n  var limiter_key = \"lk_\".concat(this.options.concurrency); // Share limiters to avoid multiple parallel workers when user creates\n  // multiple pica instances.\n\n  this.__limit = singletones[limiter_key] || utils.limiter(this.options.concurrency);\n  if (!singletones[limiter_key]) singletones[limiter_key] = this.__limit; // List of supported features, according to options & browser/node.js\n\n  this.features = {\n    js: false,\n    // pure JS implementation, can be disabled for testing\n    wasm: false,\n    // webassembly implementation for heavy functions\n    cib: false,\n    // resize via createImageBitmap (only FF at this moment)\n    ww: false // webworkers\n\n  };\n  this.__workersPool = null; // Store requested features for webworkers\n\n  this.__requested_features = [];\n  this.__mathlib = null;\n}\n\nPica.prototype.init = function () {\n  var _this = this;\n\n  if (this.__initPromise) return this.__initPromise; // Test if we can create ImageData without canvas and memory copy\n\n  if (typeof ImageData !== 'undefined' && typeof Uint8ClampedArray !== 'undefined') {\n    try {\n      /* eslint-disable no-new */\n      new ImageData(new Uint8ClampedArray(400), 10, 10);\n      CAN_NEW_IMAGE_DATA = true;\n    } catch (__) {}\n  } // ImageBitmap can be effective in 2 places:\n  //\n  // 1. Threaded jpeg unpack (basic)\n  // 2. Built-in resize (blocked due problem in chrome, see issue #89)\n  //\n  // For basic use we also need ImageBitmap wo support .close() method,\n  // see https://developer.mozilla.org/ru/docs/Web/API/ImageBitmap\n\n\n  if (typeof ImageBitmap !== 'undefined') {\n    if (ImageBitmap.prototype && ImageBitmap.prototype.close) {\n      CAN_CREATE_IMAGE_BITMAP = true;\n    } else {\n      this.debug('ImageBitmap does not support .close(), disabled');\n    }\n  }\n\n  var features = this.options.features.slice();\n\n  if (features.indexOf('all') >= 0) {\n    features = ['cib', 'wasm', 'js', 'ww'];\n  }\n\n  this.__requested_features = features;\n  this.__mathlib = new MathLib(features); // Check WebWorker support if requested\n\n  if (features.indexOf('ww') >= 0) {\n    if (typeof window !== 'undefined' && 'Worker' in window) {\n      // IE <= 11 don't allow to create webworkers from string. We should check it.\n      // https://connect.microsoft.com/IE/feedback/details/801810/web-workers-from-blob-urls-in-ie-10-and-11\n      try {\n        var wkr = _dereq_('webworkify')(function () {});\n\n        wkr.terminate();\n        this.features.ww = true; // pool uniqueness depends on pool config + webworker config\n\n        var wpool_key = \"wp_\".concat(JSON.stringify(this.options));\n\n        if (singletones[wpool_key]) {\n          this.__workersPool = singletones[wpool_key];\n        } else {\n          this.__workersPool = new Pool(workerFabric, this.options.idle);\n          singletones[wpool_key] = this.__workersPool;\n        }\n      } catch (__) {}\n    }\n  }\n\n  var initMath = this.__mathlib.init().then(function (mathlib) {\n    // Copy detected features\n    assign(_this.features, mathlib.features);\n  });\n\n  var checkCibResize;\n\n  if (!CAN_CREATE_IMAGE_BITMAP) {\n    checkCibResize = Promise.resolve(false);\n  } else {\n    checkCibResize = utils.cib_support(this.options.createCanvas).then(function (status) {\n      if (_this.features.cib && features.indexOf('cib') < 0) {\n        _this.debug('createImageBitmap() resize supported, but disabled by config');\n\n        return;\n      }\n\n      if (features.indexOf('cib') >= 0) _this.features.cib = status;\n    });\n  }\n\n  CAN_USE_CANVAS_GET_IMAGE_DATA = utils.can_use_canvas(this.options.createCanvas);\n  var checkOffscreenCanvas;\n\n  if (CAN_CREATE_IMAGE_BITMAP && CAN_NEW_IMAGE_DATA && features.indexOf('ww') !== -1) {\n    checkOffscreenCanvas = utils.worker_offscreen_canvas_support();\n  } else {\n    checkOffscreenCanvas = Promise.resolve(false);\n  }\n\n  checkOffscreenCanvas = checkOffscreenCanvas.then(function (result) {\n    CAN_USE_OFFSCREEN_CANVAS = result;\n  }); // we use createImageBitmap to crop image data and pass it to workers,\n  // so need to check whether function works correctly;\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n\n  var checkCibRegion = utils.cib_can_use_region().then(function (result) {\n    CAN_USE_CIB_REGION_FOR_IMAGE = result;\n  }); // Init math lib. That's async because can load some\n\n  this.__initPromise = Promise.all([initMath, checkCibResize, checkOffscreenCanvas, checkCibRegion]).then(function () {\n    return _this;\n  });\n  return this.__initPromise;\n}; // Call resizer in webworker or locally, depending on config\n\n\nPica.prototype.__invokeResize = function (tileOpts, opts) {\n  var _this2 = this;\n\n  // Share cache between calls:\n  //\n  // - wasm instance\n  // - wasm memory object\n  //\n  opts.__mathCache = opts.__mathCache || {};\n  return Promise.resolve().then(function () {\n    if (!_this2.features.ww) {\n      // not possible to have ImageBitmap here if user disabled WW\n      return {\n        data: _this2.__mathlib.resizeAndUnsharp(tileOpts, opts.__mathCache)\n      };\n    }\n\n    return new Promise(function (resolve, reject) {\n      var w = _this2.__workersPool.acquire();\n\n      if (opts.cancelToken) opts.cancelToken[\"catch\"](function (err) {\n        return reject(err);\n      });\n\n      w.value.onmessage = function (ev) {\n        w.release();\n        if (ev.data.err) reject(ev.data.err);else resolve(ev.data);\n      };\n\n      var transfer = [];\n      if (tileOpts.src) transfer.push(tileOpts.src.buffer);\n      if (tileOpts.srcBitmap) transfer.push(tileOpts.srcBitmap);\n      w.value.postMessage({\n        opts: tileOpts,\n        features: _this2.__requested_features,\n        preload: {\n          wasm_nodule: _this2.__mathlib.__\n        }\n      }, transfer);\n    });\n  });\n}; // this function can return promise if createImageBitmap is used\n\n\nPica.prototype.__extractTileData = function (tile, from, opts, stageEnv, extractTo) {\n  if (this.features.ww && CAN_USE_OFFSCREEN_CANVAS && ( // createImageBitmap doesn't work for images (Image, ImageBitmap) with Exif orientation in Chrome,\n  // can use canvas because canvas doesn't have orientation;\n  // see https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n  utils.isCanvas(from) || CAN_USE_CIB_REGION_FOR_IMAGE)) {\n    this.debug('Create tile for OffscreenCanvas');\n    return createImageBitmap(stageEnv.srcImageBitmap || from, tile.x, tile.y, tile.width, tile.height).then(function (bitmap) {\n      extractTo.srcBitmap = bitmap;\n      return extractTo;\n    });\n  } // Extract tile RGBA buffer, depending on input type\n\n\n  if (utils.isCanvas(from)) {\n    if (!stageEnv.srcCtx) stageEnv.srcCtx = from.getContext('2d'); // If input is Canvas - extract region data directly\n\n    this.debug('Get tile pixel data');\n    extractTo.src = stageEnv.srcCtx.getImageData(tile.x, tile.y, tile.width, tile.height).data;\n    return extractTo;\n  } // If input is Image or decoded to ImageBitmap,\n  // draw region to temporary canvas and extract data from it\n  //\n  // Note! Attempt to reuse this canvas causes significant slowdown in chrome\n  //\n\n\n  this.debug('Draw tile imageBitmap/image to temporary canvas');\n  var tmpCanvas = this.options.createCanvas(tile.width, tile.height);\n  var tmpCtx = tmpCanvas.getContext('2d');\n  tmpCtx.globalCompositeOperation = 'copy';\n  tmpCtx.drawImage(stageEnv.srcImageBitmap || from, tile.x, tile.y, tile.width, tile.height, 0, 0, tile.width, tile.height);\n  this.debug('Get tile pixel data');\n  extractTo.src = tmpCtx.getImageData(0, 0, tile.width, tile.height).data; // Safari 12 workaround\n  // https://github.com/nodeca/pica/issues/199\n\n  tmpCanvas.width = tmpCanvas.height = 0;\n  return extractTo;\n};\n\nPica.prototype.__landTileData = function (tile, result, stageEnv) {\n  var toImageData;\n  this.debug('Convert raw rgba tile result to ImageData');\n\n  if (result.bitmap) {\n    stageEnv.toCtx.drawImage(result.bitmap, tile.toX, tile.toY);\n    return null;\n  }\n\n  if (CAN_NEW_IMAGE_DATA) {\n    // this branch is for modern browsers\n    // If `new ImageData()` & Uint8ClampedArray suported\n    toImageData = new ImageData(new Uint8ClampedArray(result.data), tile.toWidth, tile.toHeight);\n  } else {\n    // fallback for `node-canvas` and old browsers\n    // (IE11 has ImageData but does not support `new ImageData()`)\n    toImageData = stageEnv.toCtx.createImageData(tile.toWidth, tile.toHeight);\n\n    if (toImageData.data.set) {\n      toImageData.data.set(result.data);\n    } else {\n      // IE9 don't have `.set()`\n      for (var i = toImageData.data.length - 1; i >= 0; i--) {\n        toImageData.data[i] = result.data[i];\n      }\n    }\n  }\n\n  this.debug('Draw tile');\n\n  if (NEED_SAFARI_FIX) {\n    // Safari draws thin white stripes between tiles without this fix\n    stageEnv.toCtx.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth + 1e-5, tile.toInnerHeight + 1e-5);\n  } else {\n    stageEnv.toCtx.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth, tile.toInnerHeight);\n  }\n\n  return null;\n};\n\nPica.prototype.__tileAndResize = function (from, to, opts) {\n  var _this3 = this;\n\n  var stageEnv = {\n    srcCtx: null,\n    srcImageBitmap: null,\n    isImageBitmapReused: false,\n    toCtx: null\n  };\n\n  var processTile = function processTile(tile) {\n    return _this3.__limit(function () {\n      if (opts.canceled) return opts.cancelToken;\n      var tileOpts = {\n        width: tile.width,\n        height: tile.height,\n        toWidth: tile.toWidth,\n        toHeight: tile.toHeight,\n        scaleX: tile.scaleX,\n        scaleY: tile.scaleY,\n        offsetX: tile.offsetX,\n        offsetY: tile.offsetY,\n        filter: opts.filter,\n        unsharpAmount: opts.unsharpAmount,\n        unsharpRadius: opts.unsharpRadius,\n        unsharpThreshold: opts.unsharpThreshold\n      };\n\n      _this3.debug('Invoke resize math');\n\n      return Promise.resolve(tileOpts).then(function (tileOpts) {\n        return _this3.__extractTileData(tile, from, opts, stageEnv, tileOpts);\n      }).then(function (tileOpts) {\n        _this3.debug('Invoke resize math');\n\n        return _this3.__invokeResize(tileOpts, opts);\n      }).then(function (result) {\n        if (opts.canceled) return opts.cancelToken;\n        stageEnv.srcImageData = null;\n        return _this3.__landTileData(tile, result, stageEnv);\n      });\n    });\n  }; // Need to normalize data source first. It can be canvas or image.\n  // If image - try to decode in background if possible\n\n\n  return Promise.resolve().then(function () {\n    stageEnv.toCtx = to.getContext('2d');\n    if (utils.isCanvas(from)) return null;\n\n    if (utils.isImageBitmap(from)) {\n      stageEnv.srcImageBitmap = from;\n      stageEnv.isImageBitmapReused = true;\n      return null;\n    }\n\n    if (utils.isImage(from)) {\n      // try do decode image in background for faster next operations;\n      // if we're using offscreen canvas, cib is called per tile, so not needed here\n      if (!CAN_CREATE_IMAGE_BITMAP) return null;\n\n      _this3.debug('Decode image via createImageBitmap');\n\n      return createImageBitmap(from).then(function (imageBitmap) {\n        stageEnv.srcImageBitmap = imageBitmap;\n      }) // Suppress error to use fallback, if method fails\n      // https://github.com/nodeca/pica/issues/190\n\n      /* eslint-disable no-unused-vars */\n      [\"catch\"](function (e) {\n        return null;\n      });\n    }\n\n    throw new Error('Pica: \".from\" should be Image, Canvas or ImageBitmap');\n  }).then(function () {\n    if (opts.canceled) return opts.cancelToken;\n\n    _this3.debug('Calculate tiles'); //\n    // Here we are with \"normalized\" source,\n    // follow to tiling\n    //\n\n\n    var regions = createRegions({\n      width: opts.width,\n      height: opts.height,\n      srcTileSize: _this3.options.tile,\n      toWidth: opts.toWidth,\n      toHeight: opts.toHeight,\n      destTileBorder: opts.__destTileBorder\n    });\n    var jobs = regions.map(function (tile) {\n      return processTile(tile);\n    });\n\n    function cleanup(stageEnv) {\n      if (stageEnv.srcImageBitmap) {\n        if (!stageEnv.isImageBitmapReused) stageEnv.srcImageBitmap.close();\n        stageEnv.srcImageBitmap = null;\n      }\n    }\n\n    _this3.debug('Process tiles');\n\n    return Promise.all(jobs).then(function () {\n      _this3.debug('Finished!');\n\n      cleanup(stageEnv);\n      return to;\n    }, function (err) {\n      cleanup(stageEnv);\n      throw err;\n    });\n  });\n};\n\nPica.prototype.__processStages = function (stages, from, to, opts) {\n  var _this4 = this;\n\n  if (opts.canceled) return opts.cancelToken;\n\n  var _stages$shift = stages.shift(),\n      _stages$shift2 = _slicedToArray(_stages$shift, 2),\n      toWidth = _stages$shift2[0],\n      toHeight = _stages$shift2[1];\n\n  var isLastStage = stages.length === 0; // Optimization for legacy filters -\n  // only use user-defined quality for the last stage,\n  // use simpler (Hamming) filter for the first stages where\n  // scale factor is large enough (more than 2-3)\n  //\n  // For advanced filters (mks2013 and custom) - skip optimization,\n  // because need to apply sharpening every time\n\n  var filter;\n  if (isLastStage || filter_info.q2f.indexOf(opts.filter) < 0) filter = opts.filter;else if (opts.filter === 'box') filter = 'box';else filter = 'hamming';\n  opts = assign({}, opts, {\n    toWidth: toWidth,\n    toHeight: toHeight,\n    filter: filter\n  });\n  var tmpCanvas;\n\n  if (!isLastStage) {\n    // create temporary canvas\n    tmpCanvas = this.options.createCanvas(toWidth, toHeight);\n  }\n\n  return this.__tileAndResize(from, isLastStage ? to : tmpCanvas, opts).then(function () {\n    if (isLastStage) return to;\n    opts.width = toWidth;\n    opts.height = toHeight;\n    return _this4.__processStages(stages, tmpCanvas, to, opts);\n  }).then(function (res) {\n    if (tmpCanvas) {\n      // Safari 12 workaround\n      // https://github.com/nodeca/pica/issues/199\n      tmpCanvas.width = tmpCanvas.height = 0;\n    }\n\n    return res;\n  });\n};\n\nPica.prototype.__resizeViaCreateImageBitmap = function (from, to, opts) {\n  var _this5 = this;\n\n  var toCtx = to.getContext('2d');\n  this.debug('Resize via createImageBitmap()');\n  return createImageBitmap(from, {\n    resizeWidth: opts.toWidth,\n    resizeHeight: opts.toHeight,\n    resizeQuality: utils.cib_quality_name(filter_info.f2q[opts.filter])\n  }).then(function (imageBitmap) {\n    if (opts.canceled) return opts.cancelToken; // if no unsharp - draw directly to output canvas\n\n    if (!opts.unsharpAmount) {\n      toCtx.drawImage(imageBitmap, 0, 0);\n      imageBitmap.close();\n      toCtx = null;\n\n      _this5.debug('Finished!');\n\n      return to;\n    }\n\n    _this5.debug('Unsharp result');\n\n    var tmpCanvas = _this5.options.createCanvas(opts.toWidth, opts.toHeight);\n\n    var tmpCtx = tmpCanvas.getContext('2d');\n    tmpCtx.drawImage(imageBitmap, 0, 0);\n    imageBitmap.close();\n    var iData = tmpCtx.getImageData(0, 0, opts.toWidth, opts.toHeight);\n\n    _this5.__mathlib.unsharp_mask(iData.data, opts.toWidth, opts.toHeight, opts.unsharpAmount, opts.unsharpRadius, opts.unsharpThreshold);\n\n    toCtx.putImageData(iData, 0, 0); // Safari 12 workaround\n    // https://github.com/nodeca/pica/issues/199\n\n    tmpCanvas.width = tmpCanvas.height = 0;\n    iData = tmpCtx = tmpCanvas = toCtx = null;\n\n    _this5.debug('Finished!');\n\n    return to;\n  });\n};\n\nPica.prototype.resize = function (from, to, options) {\n  var _this6 = this;\n\n  this.debug('Start resize...');\n  var opts = assign({}, DEFAULT_RESIZE_OPTS);\n\n  if (!isNaN(options)) {\n    opts = assign(opts, {\n      quality: options\n    });\n  } else if (options) {\n    opts = assign(opts, options);\n  }\n\n  opts.toWidth = to.width;\n  opts.toHeight = to.height;\n  opts.width = from.naturalWidth || from.width;\n  opts.height = from.naturalHeight || from.height; // Legacy `.quality` option\n\n  if (Object.prototype.hasOwnProperty.call(opts, 'quality')) {\n    if (opts.quality < 0 || opts.quality > 3) {\n      throw new Error(\"Pica: .quality should be [0..3], got \".concat(opts.quality));\n    }\n\n    opts.filter = filter_info.q2f[opts.quality];\n  } // Prevent stepper from infinite loop\n\n\n  if (to.width === 0 || to.height === 0) {\n    return Promise.reject(new Error(\"Invalid output size: \".concat(to.width, \"x\").concat(to.height)));\n  }\n\n  if (opts.unsharpRadius > 2) opts.unsharpRadius = 2;\n  opts.canceled = false;\n\n  if (opts.cancelToken) {\n    // Wrap cancelToken to avoid successive resolve & set flag\n    opts.cancelToken = opts.cancelToken.then(function (data) {\n      opts.canceled = true;\n      throw data;\n    }, function (err) {\n      opts.canceled = true;\n      throw err;\n    });\n  }\n\n  var DEST_TILE_BORDER = 3; // Max possible filter window size\n\n  opts.__destTileBorder = Math.ceil(Math.max(DEST_TILE_BORDER, 2.5 * opts.unsharpRadius | 0));\n  return this.init().then(function () {\n    if (opts.canceled) return opts.cancelToken; // if createImageBitmap supports resize, just do it and return\n\n    if (_this6.features.cib) {\n      if (filter_info.q2f.indexOf(opts.filter) >= 0) {\n        return _this6.__resizeViaCreateImageBitmap(from, to, opts);\n      }\n\n      _this6.debug('cib is enabled, but not supports provided filter, fallback to manual math');\n    }\n\n    if (!CAN_USE_CANVAS_GET_IMAGE_DATA) {\n      var err = new Error('Pica: cannot use getImageData on canvas, ' + \"make sure fingerprinting protection isn't enabled\");\n      err.code = 'ERR_GET_IMAGE_DATA';\n      throw err;\n    } //\n    // No easy way, let's resize manually via arrays\n    //\n\n\n    var stages = createStages(opts.width, opts.height, opts.toWidth, opts.toHeight, _this6.options.tile, opts.__destTileBorder);\n    return _this6.__processStages(stages, from, to, opts);\n  });\n}; // RGBA buffer resize\n//\n\n\nPica.prototype.resizeBuffer = function (options) {\n  var _this7 = this;\n\n  var opts = assign({}, DEFAULT_RESIZE_OPTS, options); // Legacy `.quality` option\n\n  if (Object.prototype.hasOwnProperty.call(opts, 'quality')) {\n    if (opts.quality < 0 || opts.quality > 3) {\n      throw new Error(\"Pica: .quality should be [0..3], got \".concat(opts.quality));\n    }\n\n    opts.filter = filter_info.q2f[opts.quality];\n  }\n\n  return this.init().then(function () {\n    return _this7.__mathlib.resizeAndUnsharp(opts);\n  });\n};\n\nPica.prototype.toBlob = function (canvas, mimeType, quality) {\n  mimeType = mimeType || 'image/png';\n  return new Promise(function (resolve) {\n    if (canvas.toBlob) {\n      canvas.toBlob(function (blob) {\n        return resolve(blob);\n      }, mimeType, quality);\n      return;\n    }\n\n    if (canvas.convertToBlob) {\n      resolve(canvas.convertToBlob({\n        type: mimeType,\n        quality: quality\n      }));\n      return;\n    } // Fallback for old browsers\n\n\n    var asString = atob(canvas.toDataURL(mimeType, quality).split(',')[1]);\n    var len = asString.length;\n    var asBuffer = new Uint8Array(len);\n\n    for (var i = 0; i < len; i++) {\n      asBuffer[i] = asString.charCodeAt(i);\n    }\n\n    resolve(new Blob([asBuffer], {\n      type: mimeType\n    }));\n  });\n};\n\nPica.prototype.debug = function () {};\n\nmodule.exports = Pica;\n\n},{\"./lib/mathlib\":1,\"./lib/mm_resize/resize_filter_info\":7,\"./lib/pool\":13,\"./lib/stepper\":14,\"./lib/tiler\":15,\"./lib/utils\":16,\"./lib/worker\":17,\"object-assign\":22,\"webworkify\":23}]},{},[])(\"/index.js\")\n});\n","\r\n// Temporary fix for\r\n// https://github.com/evanw/esbuild/issues/312\r\n\r\nlet workerFunction = (function (){\r\n\t//dummy require\r\n\tvar require = function(moduleName){};\r\n\t// // // https://d3js.org/d3-dispatch/ v3.0.1 Copyright 2010-2021 Mike Bostock\r\n\t!function(n,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e((n=\"undefined\"!=typeof globalThis?globalThis:n||self).d3=n.d3||{})}(this,(function(n){\"use strict\";var e={value:()=>{}};function t(){for(var n,e=0,t=arguments.length,o={};e<t;++e){if(!(n=arguments[e]+\"\")||n in o||/[\\s.]/.test(n))throw new Error(\"illegal type: \"+n);o[n]=[]}return new r(o)}function r(n){this._=n}function o(n,e){return n.trim().split(/^|\\s+/).map((function(n){var t=\"\",r=n.indexOf(\".\");if(r>=0&&(t=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error(\"unknown type: \"+n);return{type:n,name:t}}))}function i(n,e){for(var t,r=0,o=n.length;r<o;++r)if((t=n[r]).name===e)return t.value}function f(n,t,r){for(var o=0,i=n.length;o<i;++o)if(n[o].name===t){n[o]=e,n=n.slice(0,o).concat(n.slice(o+1));break}return null!=r&&n.push({name:t,value:r}),n}r.prototype=t.prototype={constructor:r,on:function(n,e){var t,r=this._,l=o(n+\"\",r),a=-1,u=l.length;if(!(arguments.length<2)){if(null!=e&&\"function\"!=typeof e)throw new Error(\"invalid callback: \"+e);for(;++a<u;)if(t=(n=l[a]).type)r[t]=f(r[t],n.name,e);else if(null==e)for(t in r)r[t]=f(r[t],n.name,null);return this}for(;++a<u;)if((t=(n=l[a]).type)&&(t=i(r[t],n.name)))return t},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new r(n)},call:function(n,e){if((t=arguments.length-2)>0)for(var t,r,o=new Array(t),i=0;i<t;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error(\"unknown type: \"+n);for(i=0,t=(r=this._[n]).length;i<t;++i)r[i].value.apply(e,o)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error(\"unknown type: \"+n);for(var r=this._[n],o=0,i=r.length;o<i;++o)r[o].value.apply(e,t)}},n.dispatch=t,Object.defineProperty(n,\"__esModule\",{value:!0})}));\r\n\t// // // https://d3js.org/d3-quadtree/ v3.0.1 Copyright 2010-2021 Mike Bostock\r\n\t!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?i(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],i):i((t=\"undefined\"!=typeof globalThis?globalThis:t||self).d3=t.d3||{})}(this,(function(t){\"use strict\";function i(t,i,e,n){if(isNaN(i)||isNaN(e))return t;var r,s,h,o,a,u,l,_,f,c=t._root,x={data:n},y=t._x0,d=t._y0,p=t._x1,v=t._y1;if(!c)return t._root=x,t;for(;c.length;)if((u=i>=(s=(y+p)/2))?y=s:p=s,(l=e>=(h=(d+v)/2))?d=h:v=h,r=c,!(c=c[_=l<<1|u]))return r[_]=x,t;if(o=+t._x.call(null,c.data),a=+t._y.call(null,c.data),i===o&&e===a)return x.next=c,r?r[_]=x:t._root=x,t;do{r=r?r[_]=new Array(4):t._root=new Array(4),(u=i>=(s=(y+p)/2))?y=s:p=s,(l=e>=(h=(d+v)/2))?d=h:v=h}while((_=l<<1|u)==(f=(a>=h)<<1|o>=s));return r[f]=c,r[_]=x,t}function e(t,i,e,n,r){this.node=t,this.x0=i,this.y0=e,this.x1=n,this.y1=r}function n(t){return t[0]}function r(t){return t[1]}function s(t,i,e){var s=new h(null==i?n:i,null==e?r:e,NaN,NaN,NaN,NaN);return null==t?s:s.addAll(t)}function h(t,i,e,n,r,s){this._x=t,this._y=i,this._x0=e,this._y0=n,this._x1=r,this._y1=s,this._root=void 0}function o(t){for(var i={data:t.data},e=i;t=t.next;)e=e.next={data:t.data};return i}var a=s.prototype=h.prototype;a.copy=function(){var t,i,e=new h(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return e;if(!n.length)return e._root=o(n),e;for(t=[{source:n,target:e._root=new Array(4)}];n=t.pop();)for(var r=0;r<4;++r)(i=n.source[r])&&(i.length?t.push({source:i,target:n.target[r]=new Array(4)}):n.target[r]=o(i));return e},a.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return i(this.cover(e,n),e,n,t)},a.addAll=function(t){var e,n,r,s,h=t.length,o=new Array(h),a=new Array(h),u=1/0,l=1/0,_=-1/0,f=-1/0;for(n=0;n<h;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=r,a[n]=s,r<u&&(u=r),r>_&&(_=r),s<l&&(l=s),s>f&&(f=s));if(u>_||l>f)return this;for(this.cover(u,l).cover(_,f),n=0;n<h;++n)i(this,o[n],a[n],t[n]);return this},a.cover=function(t,i){if(isNaN(t=+t)||isNaN(i=+i))return this;var e=this._x0,n=this._y0,r=this._x1,s=this._y1;if(isNaN(e))r=(e=Math.floor(t))+1,s=(n=Math.floor(i))+1;else{for(var h,o,a=r-e||1,u=this._root;e>t||t>=r||n>i||i>=s;)switch(o=(i<n)<<1|t<e,(h=new Array(4))[o]=u,u=h,a*=2,o){case 0:r=e+a,s=n+a;break;case 1:e=r-a,s=n+a;break;case 2:r=e+a,n=s-a;break;case 3:e=r-a,n=s-a}this._root&&this._root.length&&(this._root=u)}return this._x0=e,this._y0=n,this._x1=r,this._y1=s,this},a.data=function(){var t=[];return this.visit((function(i){if(!i.length)do{t.push(i.data)}while(i=i.next)})),t},a.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},a.find=function(t,i,n){var r,s,h,o,a,u,l,_=this._x0,f=this._y0,c=this._x1,x=this._y1,y=[],d=this._root;for(d&&y.push(new e(d,_,f,c,x)),null==n?n=1/0:(_=t-n,f=i-n,c=t+n,x=i+n,n*=n);u=y.pop();)if(!(!(d=u.node)||(s=u.x0)>c||(h=u.y0)>x||(o=u.x1)<_||(a=u.y1)<f))if(d.length){var p=(s+o)/2,v=(h+a)/2;y.push(new e(d[3],p,v,o,a),new e(d[2],s,v,p,a),new e(d[1],p,h,o,v),new e(d[0],s,h,p,v)),(l=(i>=v)<<1|t>=p)&&(u=y[y.length-1],y[y.length-1]=y[y.length-1-l],y[y.length-1-l]=u)}else{var w=t-+this._x.call(null,d.data),N=i-+this._y.call(null,d.data),g=w*w+N*N;if(g<n){var A=Math.sqrt(n=g);_=t-A,f=i-A,c=t+A,x=i+A,r=d.data}}return r},a.remove=function(t){if(isNaN(s=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var i,e,n,r,s,h,o,a,u,l,_,f,c=this._root,x=this._x0,y=this._y0,d=this._x1,p=this._y1;if(!c)return this;if(c.length)for(;;){if((u=s>=(o=(x+d)/2))?x=o:d=o,(l=h>=(a=(y+p)/2))?y=a:p=a,i=c,!(c=c[_=l<<1|u]))return this;if(!c.length)break;(i[_+1&3]||i[_+2&3]||i[_+3&3])&&(e=i,f=_)}for(;c.data!==t;)if(n=c,!(c=c.next))return this;return(r=c.next)&&delete c.next,n?(r?n.next=r:delete n.next,this):i?(r?i[_]=r:delete i[_],(c=i[0]||i[1]||i[2]||i[3])&&c===(i[3]||i[2]||i[1]||i[0])&&!c.length&&(e?e[f]=c:this._root=c),this):(this._root=r,this)},a.removeAll=function(t){for(var i=0,e=t.length;i<e;++i)this.remove(t[i]);return this},a.root=function(){return this._root},a.size=function(){var t=0;return this.visit((function(i){if(!i.length)do{++t}while(i=i.next)})),t},a.visit=function(t){var i,n,r,s,h,o,a=[],u=this._root;for(u&&a.push(new e(u,this._x0,this._y0,this._x1,this._y1));i=a.pop();)if(!t(u=i.node,r=i.x0,s=i.y0,h=i.x1,o=i.y1)&&u.length){var l=(r+h)/2,_=(s+o)/2;(n=u[3])&&a.push(new e(n,l,_,h,o)),(n=u[2])&&a.push(new e(n,r,_,l,o)),(n=u[1])&&a.push(new e(n,l,s,h,_)),(n=u[0])&&a.push(new e(n,r,s,l,_))}return this},a.visitAfter=function(t){var i,n=[],r=[];for(this._root&&n.push(new e(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var s=i.node;if(s.length){var h,o=i.x0,a=i.y0,u=i.x1,l=i.y1,_=(o+u)/2,f=(a+l)/2;(h=s[0])&&n.push(new e(h,o,a,_,f)),(h=s[1])&&n.push(new e(h,_,a,u,f)),(h=s[2])&&n.push(new e(h,o,f,_,l)),(h=s[3])&&n.push(new e(h,_,f,u,l))}r.push(i)}for(;i=r.pop();)t(i.node,i.x0,i.y0,i.x1,i.y1);return this},a.x=function(t){return arguments.length?(this._x=t,this):this._x},a.y=function(t){return arguments.length?(this._y=t,this):this._y},t.quadtree=s,Object.defineProperty(t,\"__esModule\",{value:!0})}));\r\n\t// // // https://d3js.org/d3-timer/ v3.0.1 Copyright 2010-2021 Mike Bostock\r\n\t!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?n(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],n):n((t=\"undefined\"!=typeof globalThis?globalThis:t||self).d3=t.d3||{})}(this,(function(t){\"use strict\";var n,e,o=0,i=0,r=0,l=0,u=0,a=0,s=\"object\"==typeof performance&&performance.now?performance:Date,c=\"object\"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function f(){return u||(c(_),u=s.now()+a)}function _(){u=0}function m(){this._call=this._time=this._next=null}function p(t,n,e){var o=new m;return o.restart(t,n,e),o}function w(){f(),++o;for(var t,e=n;e;)(t=u-e._time)>=0&&e._call.call(void 0,t),e=e._next;--o}function d(){u=(l=s.now())+a,o=i=0;try{w()}finally{o=0,function(){var t,o,i=n,r=1/0;for(;i;)i._call?(r>i._time&&(r=i._time),t=i,i=i._next):(o=i._next,i._next=null,i=t?t._next=o:n=o);e=t,y(r)}(),u=0}}function h(){var t=s.now(),n=t-l;n>1e3&&(a-=n,l=t)}function y(t){o||(i&&(i=clearTimeout(i)),t-u>24?(t<1/0&&(i=setTimeout(d,t-s.now()-a)),r&&(r=clearInterval(r))):(r||(l=s.now(),r=setInterval(h,1e3)),o=1,c(d)))}m.prototype=p.prototype={constructor:m,restart:function(t,o,i){if(\"function\"!=typeof t)throw new TypeError(\"callback is not a function\");i=(null==i?f():+i)+(null==o?0:+o),this._next||e===this||(e?e._next=this:n=this,e=this),this._call=t,this._time=i,y()},stop:function(){this._call&&(this._call=null,this._time=1/0,y())}},t.interval=function(t,n,e){var o=new m,i=n;return null==n?(o.restart(t,n,e),o):(o._restart=o.restart,o.restart=function(t,n,e){n=+n,e=null==e?f():+e,o._restart((function r(l){l+=i,o._restart(r,i+=n,e),t(l)}),n,e)},o.restart(t,n,e),o)},t.now=f,t.timeout=function(t,n,e){var o=new m;return n=null==n?0:+n,o.restart((e=>{o.stop(),t(e+n)}),n,e),o},t.timer=p,t.timerFlush=w,Object.defineProperty(t,\"__esModule\",{value:!0})}));\r\n\t// // // https://d3js.org/d3-force/ v3.0.0 Copyright 2010-2021 Mike Bostock\r\n\t!function(n,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports,require(\"d3-quadtree\"),require(\"d3-dispatch\"),require(\"d3-timer\")):\"function\"==typeof define&&define.amd?define([\"exports\",\"d3-quadtree\",\"d3-dispatch\",\"d3-timer\"],t):t((n=\"undefined\"!=typeof globalThis?globalThis:n||self).d3=n.d3||{},n.d3,n.d3,n.d3)}(this,(function(n,t,e,r){\"use strict\";function i(n){return function(){return n}}function u(n){return 1e-6*(n()-.5)}function o(n){return n.x+n.vx}function f(n){return n.y+n.vy}function a(n){return n.index}function c(n,t){var e=n.get(t);if(!e)throw new Error(\"node not found: \"+t);return e}const l=4294967296;function h(n){return n.x}function v(n){return n.y}var y=Math.PI*(3-Math.sqrt(5));n.forceCenter=function(n,t){var e,r=1;function i(){var i,u,o=e.length,f=0,a=0;for(i=0;i<o;++i)f+=(u=e[i]).x,a+=u.y;for(f=(f/o-n)*r,a=(a/o-t)*r,i=0;i<o;++i)(u=e[i]).x-=f,u.y-=a}return null==n&&(n=0),null==t&&(t=0),i.initialize=function(n){e=n},i.x=function(t){return arguments.length?(n=+t,i):n},i.y=function(n){return arguments.length?(t=+n,i):t},i.strength=function(n){return arguments.length?(r=+n,i):r},i},n.forceCollide=function(n){var e,r,a,c=1,l=1;function h(){for(var n,i,h,y,d,g,x,s=e.length,p=0;p<l;++p)for(i=t.quadtree(e,o,f).visitAfter(v),n=0;n<s;++n)h=e[n],g=r[h.index],x=g*g,y=h.x+h.vx,d=h.y+h.vy,i.visit(M);function M(n,t,e,r,i){var o=n.data,f=n.r,l=g+f;if(!o)return t>y+l||r<y-l||e>d+l||i<d-l;if(o.index>h.index){var v=y-o.x-o.vx,s=d-o.y-o.vy,p=v*v+s*s;p<l*l&&(0===v&&(p+=(v=u(a))*v),0===s&&(p+=(s=u(a))*s),p=(l-(p=Math.sqrt(p)))/p*c,h.vx+=(v*=p)*(l=(f*=f)/(x+f)),h.vy+=(s*=p)*l,o.vx-=v*(l=1-l),o.vy-=s*l)}}}function v(n){if(n.data)return n.r=r[n.data.index];for(var t=n.r=0;t<4;++t)n[t]&&n[t].r>n.r&&(n.r=n[t].r)}function y(){if(e){var t,i,u=e.length;for(r=new Array(u),t=0;t<u;++t)i=e[t],r[i.index]=+n(i,t,e)}}return\"function\"!=typeof n&&(n=i(null==n?1:+n)),h.initialize=function(n,t){e=n,a=t,y()},h.iterations=function(n){return arguments.length?(l=+n,h):l},h.strength=function(n){return arguments.length?(c=+n,h):c},h.radius=function(t){return arguments.length?(n=\"function\"==typeof t?t:i(+t),y(),h):n},h},n.forceLink=function(n){var t,e,r,o,f,l,h=a,v=function(n){return 1/Math.min(o[n.source.index],o[n.target.index])},y=i(30),d=1;function g(r){for(var i=0,o=n.length;i<d;++i)for(var a,c,h,v,y,g,x,s=0;s<o;++s)c=(a=n[s]).source,v=(h=a.target).x+h.vx-c.x-c.vx||u(l),y=h.y+h.vy-c.y-c.vy||u(l),v*=g=((g=Math.sqrt(v*v+y*y))-e[s])/g*r*t[s],y*=g,h.vx-=v*(x=f[s]),h.vy-=y*x,c.vx+=v*(x=1-x),c.vy+=y*x}function x(){if(r){var i,u,a=r.length,l=n.length,v=new Map(r.map(((n,t)=>[h(n,t,r),n])));for(i=0,o=new Array(a);i<l;++i)(u=n[i]).index=i,\"object\"!=typeof u.source&&(u.source=c(v,u.source)),\"object\"!=typeof u.target&&(u.target=c(v,u.target)),o[u.source.index]=(o[u.source.index]||0)+1,o[u.target.index]=(o[u.target.index]||0)+1;for(i=0,f=new Array(l);i<l;++i)u=n[i],f[i]=o[u.source.index]/(o[u.source.index]+o[u.target.index]);t=new Array(l),s(),e=new Array(l),p()}}function s(){if(r)for(var e=0,i=n.length;e<i;++e)t[e]=+v(n[e],e,n)}function p(){if(r)for(var t=0,i=n.length;t<i;++t)e[t]=+y(n[t],t,n)}return null==n&&(n=[]),g.initialize=function(n,t){r=n,l=t,x()},g.links=function(t){return arguments.length?(n=t,x(),g):n},g.id=function(n){return arguments.length?(h=n,g):h},g.iterations=function(n){return arguments.length?(d=+n,g):d},g.strength=function(n){return arguments.length?(v=\"function\"==typeof n?n:i(+n),s(),g):v},g.distance=function(n){return arguments.length?(y=\"function\"==typeof n?n:i(+n),p(),g):y},g},n.forceManyBody=function(){var n,e,r,o,f,a=i(-30),c=1,l=1/0,y=.81;function d(r){var i,u=n.length,f=t.quadtree(n,h,v).visitAfter(x);for(o=r,i=0;i<u;++i)e=n[i],f.visit(s)}function g(){if(n){var t,e,r=n.length;for(f=new Array(r),t=0;t<r;++t)e=n[t],f[e.index]=+a(e,t,n)}}function x(n){var t,e,r,i,u,o=0,a=0;if(n.length){for(r=i=u=0;u<4;++u)(t=n[u])&&(e=Math.abs(t.value))&&(o+=t.value,a+=e,r+=e*t.x,i+=e*t.y);n.x=r/a,n.y=i/a}else{(t=n).x=t.data.x,t.y=t.data.y;do{o+=f[t.data.index]}while(t=t.next)}n.value=o}function s(n,t,i,a){if(!n.value)return!0;var h=n.x-e.x,v=n.y-e.y,d=a-t,g=h*h+v*v;if(d*d/y<g)return g<l&&(0===h&&(g+=(h=u(r))*h),0===v&&(g+=(v=u(r))*v),g<c&&(g=Math.sqrt(c*g)),e.vx+=h*n.value*o/g,e.vy+=v*n.value*o/g),!0;if(!(n.length||g>=l)){(n.data!==e||n.next)&&(0===h&&(g+=(h=u(r))*h),0===v&&(g+=(v=u(r))*v),g<c&&(g=Math.sqrt(c*g)));do{n.data!==e&&(d=f[n.data.index]*o/g,e.vx+=h*d,e.vy+=v*d)}while(n=n.next)}}return d.initialize=function(t,e){n=t,r=e,g()},d.strength=function(n){return arguments.length?(a=\"function\"==typeof n?n:i(+n),g(),d):a},d.distanceMin=function(n){return arguments.length?(c=n*n,d):Math.sqrt(c)},d.distanceMax=function(n){return arguments.length?(l=n*n,d):Math.sqrt(l)},d.theta=function(n){return arguments.length?(y=n*n,d):Math.sqrt(y)},d},n.forceRadial=function(n,t,e){var r,u,o,f=i(.1);function a(n){for(var i=0,f=r.length;i<f;++i){var a=r[i],c=a.x-t||1e-6,l=a.y-e||1e-6,h=Math.sqrt(c*c+l*l),v=(o[i]-h)*u[i]*n/h;a.vx+=c*v,a.vy+=l*v}}function c(){if(r){var t,e=r.length;for(u=new Array(e),o=new Array(e),t=0;t<e;++t)o[t]=+n(r[t],t,r),u[t]=isNaN(o[t])?0:+f(r[t],t,r)}}return\"function\"!=typeof n&&(n=i(+n)),null==t&&(t=0),null==e&&(e=0),a.initialize=function(n){r=n,c()},a.strength=function(n){return arguments.length?(f=\"function\"==typeof n?n:i(+n),c(),a):f},a.radius=function(t){return arguments.length?(n=\"function\"==typeof t?t:i(+t),c(),a):n},a.x=function(n){return arguments.length?(t=+n,a):t},a.y=function(n){return arguments.length?(e=+n,a):e},a},n.forceSimulation=function(n){var t,i=1,u=.001,o=1-Math.pow(u,1/300),f=0,a=.6,c=new Map,h=r.timer(g),v=e.dispatch(\"tick\",\"end\"),d=function(){let n=1;return()=>(n=(1664525*n+1013904223)%l)/l}();function g(){x(),v.call(\"tick\",t),i<u&&(h.stop(),v.call(\"end\",t))}function x(e){var r,u,l=n.length;void 0===e&&(e=1);for(var h=0;h<e;++h)for(i+=(f-i)*o,c.forEach((function(n){n(i)})),r=0;r<l;++r)null==(u=n[r]).fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return t}function s(){for(var t,e=0,r=n.length;e<r;++e){if((t=n[e]).index=e,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+e),u=e*y;t.x=i*Math.cos(u),t.y=i*Math.sin(u)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(n,d),t}return null==n&&(n=[]),s(),t={tick:x,restart:function(){return h.restart(g),t},stop:function(){return h.stop(),t},nodes:function(e){return arguments.length?(n=e,s(),c.forEach(p),t):n},alpha:function(n){return arguments.length?(i=+n,t):i},alphaMin:function(n){return arguments.length?(u=+n,t):u},alphaDecay:function(n){return arguments.length?(o=+n,t):+o},alphaTarget:function(n){return arguments.length?(f=+n,t):f},velocityDecay:function(n){return arguments.length?(a=1-n,t):1-a},randomSource:function(n){return arguments.length?(d=n,c.forEach(p),t):d},force:function(n,e){return arguments.length>1?(null==e?c.delete(n):c.set(n,p(e)),t):c.get(n)},find:function(t,e,r){var i,u,o,f,a,c=0,l=n.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(o=(i=t-(f=n[c]).x)*i+(u=e-f.y)*u)<r&&(a=f,r=o);return a},on:function(n,e){return arguments.length>1?(v.on(n,e),t):v.on(n)}}},n.forceX=function(n){var t,e,r,u=i(.1);function o(n){for(var i,u=0,o=t.length;u<o;++u)(i=t[u]).vx+=(r[u]-i.x)*e[u]*n}function f(){if(t){var i,o=t.length;for(e=new Array(o),r=new Array(o),i=0;i<o;++i)e[i]=isNaN(r[i]=+n(t[i],i,t))?0:+u(t[i],i,t)}}return\"function\"!=typeof n&&(n=i(null==n?0:+n)),o.initialize=function(n){t=n,f()},o.strength=function(n){return arguments.length?(u=\"function\"==typeof n?n:i(+n),f(),o):u},o.x=function(t){return arguments.length?(n=\"function\"==typeof t?t:i(+t),f(),o):n},o},n.forceY=function(n){var t,e,r,u=i(.1);function o(n){for(var i,u=0,o=t.length;u<o;++u)(i=t[u]).vy+=(r[u]-i.y)*e[u]*n}function f(){if(t){var i,o=t.length;for(e=new Array(o),r=new Array(o),i=0;i<o;++i)e[i]=isNaN(r[i]=+n(t[i],i,t))?0:+u(t[i],i,t)}}return\"function\"!=typeof n&&(n=i(null==n?0:+n)),o.initialize=function(n){t=n,f()},o.strength=function(n){return arguments.length?(u=\"function\"==typeof n?n:i(+n),f(),o):u},o.y=function(t){return arguments.length?(n=\"function\"==typeof t?t:i(+t),f(),o):n},o},Object.defineProperty(n,\"__esModule\",{value:!0})}));\r\n\t// // // https://github.com/vasturiano/d3-binarytree v0.2.0 Copyright 2021 Vasco Asturiano\r\n\t!function(t,r){\"object\"==typeof exports&&\"undefined\"!=typeof module?r(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],r):r((t=\"undefined\"!=typeof globalThis?globalThis:t||self).d3=t.d3||{})}(this,(function(t){\"use strict\";function r(t,r,e){if(isNaN(r))return t;var n,i,o,s,h,u,a=t._root,f={data:e},l=t._x0,x=t._x1;if(!a)return t._root=f,t;for(;a.length;)if((s=r>=(i=(l+x)/2))?l=i:x=i,n=a,!(a=a[h=+s]))return n[h]=f,t;if(r===(o=+t._x.call(null,a.data)))return f.next=a,n?n[h]=f:t._root=f,t;do{n=n?n[h]=new Array(2):t._root=new Array(2),(s=r>=(i=(l+x)/2))?l=i:x=i}while((h=+s)==(u=+(o>=i)));return n[u]=a,n[h]=f,t}function e(t,r,e){this.node=t,this.x0=r,this.x1=e}function n(t){return t[0]}function i(t,r){var e=new o(null==r?n:r,NaN,NaN);return null==t?e:e.addAll(t)}function o(t,r,e){this._x=t,this._x0=r,this._x1=e,this._root=void 0}function s(t){for(var r={data:t.data},e=r;t=t.next;)e=e.next={data:t.data};return r}var h=i.prototype=o.prototype;h.copy=function(){var t,r,e=new o(this._x,this._x0,this._x1),n=this._root;if(!n)return e;if(!n.length)return e._root=s(n),e;for(t=[{source:n,target:e._root=new Array(2)}];n=t.pop();)for(var i=0;i<2;++i)(r=n.source[i])&&(r.length?t.push({source:r,target:n.target[i]=new Array(2)}):n.target[i]=s(r));return e},h.add=function(t){var e=+this._x.call(null,t);return r(this.cover(e),e,t)},h.addAll=function(t){var e,n,i=t.length,o=new Array(i),s=1/0,h=-1/0;for(e=0;e<i;++e)isNaN(n=+this._x.call(null,t[e]))||(o[e]=n,n<s&&(s=n),n>h&&(h=n));if(s>h)return this;for(this.cover(s).cover(h),e=0;e<i;++e)r(this,o[e],t[e]);return this},h.cover=function(t){if(isNaN(t=+t))return this;var r=this._x0,e=this._x1;if(isNaN(r))e=(r=Math.floor(t))+1;else{for(var n,i,o=e-r||1,s=this._root;r>t||t>=e;)switch(i=+(t<r),(n=new Array(2))[i]=s,s=n,o*=2,i){case 0:e=r+o;break;case 1:r=e-o}this._root&&this._root.length&&(this._root=s)}return this._x0=r,this._x1=e,this},h.data=function(){var t=[];return this.visit((function(r){if(!r.length)do{t.push(r.data)}while(r=r.next)})),t},h.extent=function(t){return arguments.length?this.cover(+t[0][0]).cover(+t[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]},h.find=function(t,r){var n,i,o,s,h,u=this._x0,a=this._x1,f=[],l=this._root;for(l&&f.push(new e(l,u,a)),null==r?r=1/0:(u=t-r,a=t+r);s=f.pop();)if(!(!(l=s.node)||(i=s.x0)>a||(o=s.x1)<u))if(l.length){var x=(i+o)/2;f.push(new e(l[1],x,o),new e(l[0],i,x)),(h=+(t>=x))&&(s=f[f.length-1],f[f.length-1]=f[f.length-1-h],f[f.length-1-h]=s)}else{var _=Math.abs(t-+this._x.call(null,l.data));_<r&&(r=_,u=t-_,a=t+_,n=l.data)}return n},h.remove=function(t){if(isNaN(o=+this._x.call(null,t)))return this;var r,e,n,i,o,s,h,u,a,f=this._root,l=this._x0,x=this._x1;if(!f)return this;if(f.length)for(;;){if((h=o>=(s=(l+x)/2))?l=s:x=s,r=f,!(f=f[u=+h]))return this;if(!f.length)break;r[u+1&1]&&(e=r,a=u)}for(;f.data!==t;)if(n=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,n?(i?n.next=i:delete n.next,this):r?(i?r[u]=i:delete r[u],(f=r[0]||r[1])&&f===(r[1]||r[0])&&!f.length&&(e?e[a]=f:this._root=f),this):(this._root=i,this)},h.removeAll=function(t){for(var r=0,e=t.length;r<e;++r)this.remove(t[r]);return this},h.root=function(){return this._root},h.size=function(){var t=0;return this.visit((function(r){if(!r.length)do{++t}while(r=r.next)})),t},h.visit=function(t){var r,n,i,o,s=[],h=this._root;for(h&&s.push(new e(h,this._x0,this._x1));r=s.pop();)if(!t(h=r.node,i=r.x0,o=r.x1)&&h.length){var u=(i+o)/2;(n=h[1])&&s.push(new e(n,u,o)),(n=h[0])&&s.push(new e(n,i,u))}return this},h.visitAfter=function(t){var r,n=[],i=[];for(this._root&&n.push(new e(this._root,this._x0,this._x1));r=n.pop();){var o=r.node;if(o.length){var s,h=r.x0,u=r.x1,a=(h+u)/2;(s=o[0])&&n.push(new e(s,h,a)),(s=o[1])&&n.push(new e(s,a,u))}i.push(r)}for(;r=i.pop();)t(r.node,r.x0,r.x1);return this},h.x=function(t){return arguments.length?(this._x=t,this):this._x},t.binarytree=i,Object.defineProperty(t,\"__esModule\",{value:!0})}));\r\n\t// // // https://github.com/vasturiano/d3-octree v0.2.0 Copyright 2021 Vasco Asturiano\r\n\t!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?i(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],i):i((t=\"undefined\"!=typeof globalThis?globalThis:t||self).d3=t.d3||{})}(this,(function(t){\"use strict\";function i(t,i,n,e,s){if(isNaN(i)||isNaN(n)||isNaN(e))return t;var h,r,o,a,l,u,_,f,c,y,x,d,p=t._root,w={data:s},z=t._x0,N=t._y0,v=t._z0,g=t._x1,b=t._y1,A=t._z1;if(!p)return t._root=w,t;for(;p.length;)if((f=i>=(r=(z+g)/2))?z=r:g=r,(c=n>=(o=(N+b)/2))?N=o:b=o,(y=e>=(a=(v+A)/2))?v=a:A=a,h=p,!(p=p[x=y<<2|c<<1|f]))return h[x]=w,t;if(l=+t._x.call(null,p.data),u=+t._y.call(null,p.data),_=+t._z.call(null,p.data),i===l&&n===u&&e===_)return w.next=p,h?h[x]=w:t._root=w,t;do{h=h?h[x]=new Array(8):t._root=new Array(8),(f=i>=(r=(z+g)/2))?z=r:g=r,(c=n>=(o=(N+b)/2))?N=o:b=o,(y=e>=(a=(v+A)/2))?v=a:A=a}while((x=y<<2|c<<1|f)==(d=(_>=a)<<2|(u>=o)<<1|l>=r));return h[d]=p,h[x]=w,t}function n(t,i,n,e,s,h,r){this.node=t,this.x0=i,this.y0=n,this.z0=e,this.x1=s,this.y1=h,this.z1=r}function e(t){return t[0]}function s(t){return t[1]}function h(t){return t[2]}function r(t,i,n,r){var a=new o(null==i?e:i,null==n?s:n,null==r?h:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==t?a:a.addAll(t)}function o(t,i,n,e,s,h,r,o,a){this._x=t,this._y=i,this._z=n,this._x0=e,this._y0=s,this._z0=h,this._x1=r,this._y1=o,this._z1=a,this._root=void 0}function a(t){for(var i={data:t.data},n=i;t=t.next;)n=n.next={data:t.data};return i}var l=r.prototype=o.prototype;l.copy=function(){var t,i,n=new o(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root;if(!e)return n;if(!e.length)return n._root=a(e),n;for(t=[{source:e,target:n._root=new Array(8)}];e=t.pop();)for(var s=0;s<8;++s)(i=e.source[s])&&(i.length?t.push({source:i,target:e.target[s]=new Array(8)}):e.target[s]=a(i));return n},l.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t),s=+this._z.call(null,t);return i(this.cover(n,e,s),n,e,s,t)},l.addAll=function(t){var n,e,s,h,r,o=t.length,a=new Array(o),l=new Array(o),u=new Array(o),_=1/0,f=1/0,c=1/0,y=-1/0,x=-1/0,d=-1/0;for(e=0;e<o;++e)isNaN(s=+this._x.call(null,n=t[e]))||isNaN(h=+this._y.call(null,n))||isNaN(r=+this._z.call(null,n))||(a[e]=s,l[e]=h,u[e]=r,s<_&&(_=s),s>y&&(y=s),h<f&&(f=h),h>x&&(x=h),r<c&&(c=r),r>d&&(d=r));if(_>y||f>x||c>d)return this;for(this.cover(_,f,c).cover(y,x,d),e=0;e<o;++e)i(this,a[e],l[e],u[e],t[e]);return this},l.cover=function(t,i,n){if(isNaN(t=+t)||isNaN(i=+i)||isNaN(n=+n))return this;var e=this._x0,s=this._y0,h=this._z0,r=this._x1,o=this._y1,a=this._z1;if(isNaN(e))r=(e=Math.floor(t))+1,o=(s=Math.floor(i))+1,a=(h=Math.floor(n))+1;else{for(var l,u,_=r-e||1,f=this._root;e>t||t>=r||s>i||i>=o||h>n||n>=a;)switch(u=(n<h)<<2|(i<s)<<1|t<e,(l=new Array(8))[u]=f,f=l,_*=2,u){case 0:r=e+_,o=s+_,a=h+_;break;case 1:e=r-_,o=s+_,a=h+_;break;case 2:r=e+_,s=o-_,a=h+_;break;case 3:e=r-_,s=o-_,a=h+_;break;case 4:r=e+_,o=s+_,h=a-_;break;case 5:e=r-_,o=s+_,h=a-_;break;case 6:r=e+_,s=o-_,h=a-_;break;case 7:e=r-_,s=o-_,h=a-_}this._root&&this._root.length&&(this._root=f)}return this._x0=e,this._y0=s,this._z0=h,this._x1=r,this._y1=o,this._z1=a,this},l.data=function(){var t=[];return this.visit((function(i){if(!i.length)do{t.push(i.data)}while(i=i.next)})),t},l.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1],+t[0][2]).cover(+t[1][0],+t[1][1],+t[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},l.find=function(t,i,e,s){var h,r,o,a,l,u,_,f,c,y=this._x0,x=this._y0,d=this._z0,p=this._x1,w=this._y1,z=this._z1,N=[],v=this._root;for(v&&N.push(new n(v,y,x,d,p,w,z)),null==s?s=1/0:(y=t-s,x=i-s,d=e-s,p=t+s,w=i+s,z=e+s,s*=s);f=N.pop();)if(!(!(v=f.node)||(r=f.x0)>p||(o=f.y0)>w||(a=f.z0)>z||(l=f.x1)<y||(u=f.y1)<x||(_=f.z1)<d))if(v.length){var g=(r+l)/2,b=(o+u)/2,A=(a+_)/2;N.push(new n(v[7],g,b,A,l,u,_),new n(v[6],r,b,A,g,u,_),new n(v[5],g,o,A,l,b,_),new n(v[4],r,o,A,g,b,_),new n(v[3],g,b,a,l,u,A),new n(v[2],r,b,a,g,u,A),new n(v[1],g,o,a,l,b,A),new n(v[0],r,o,a,g,b,A)),(c=(e>=A)<<2|(i>=b)<<1|t>=g)&&(f=N[N.length-1],N[N.length-1]=N[N.length-1-c],N[N.length-1-c]=f)}else{var k=t-+this._x.call(null,v.data),m=i-+this._y.call(null,v.data),M=e-+this._z.call(null,v.data),j=k*k+m*m+M*M;if(j<s){var T=Math.sqrt(s=j);y=t-T,x=i-T,d=e-T,p=t+T,w=i+T,z=e+T,h=v.data}}return h},l.remove=function(t){if(isNaN(h=+this._x.call(null,t))||isNaN(r=+this._y.call(null,t))||isNaN(o=+this._z.call(null,t)))return this;var i,n,e,s,h,r,o,a,l,u,_,f,c,y,x,d=this._root,p=this._x0,w=this._y0,z=this._z0,N=this._x1,v=this._y1,g=this._z1;if(!d)return this;if(d.length)for(;;){if((_=h>=(a=(p+N)/2))?p=a:N=a,(f=r>=(l=(w+v)/2))?w=l:v=l,(c=o>=(u=(z+g)/2))?z=u:g=u,i=d,!(d=d[y=c<<2|f<<1|_]))return this;if(!d.length)break;(i[y+1&7]||i[y+2&7]||i[y+3&7]||i[y+4&7]||i[y+5&7]||i[y+6&7]||i[y+7&7])&&(n=i,x=y)}for(;d.data!==t;)if(e=d,!(d=d.next))return this;return(s=d.next)&&delete d.next,e?(s?e.next=s:delete e.next,this):i?(s?i[y]=s:delete i[y],(d=i[0]||i[1]||i[2]||i[3]||i[4]||i[5]||i[6]||i[7])&&d===(i[7]||i[6]||i[5]||i[4]||i[3]||i[2]||i[1]||i[0])&&!d.length&&(n?n[x]=d:this._root=d),this):(this._root=s,this)},l.removeAll=function(t){for(var i=0,n=t.length;i<n;++i)this.remove(t[i]);return this},l.root=function(){return this._root},l.size=function(){var t=0;return this.visit((function(i){if(!i.length)do{++t}while(i=i.next)})),t},l.visit=function(t){var i,e,s,h,r,o,a,l,u=[],_=this._root;for(_&&u.push(new n(_,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=u.pop();)if(!t(_=i.node,s=i.x0,h=i.y0,r=i.z0,o=i.x1,a=i.y1,l=i.z1)&&_.length){var f=(s+o)/2,c=(h+a)/2,y=(r+l)/2;(e=_[7])&&u.push(new n(e,f,c,y,o,a,l)),(e=_[6])&&u.push(new n(e,s,c,y,f,a,l)),(e=_[5])&&u.push(new n(e,f,h,y,o,c,l)),(e=_[4])&&u.push(new n(e,s,h,y,f,c,l)),(e=_[3])&&u.push(new n(e,f,c,r,o,a,y)),(e=_[2])&&u.push(new n(e,s,c,r,f,a,y)),(e=_[1])&&u.push(new n(e,f,h,r,o,c,y)),(e=_[0])&&u.push(new n(e,s,h,r,f,c,y))}return this},l.visitAfter=function(t){var i,e=[],s=[];for(this._root&&e.push(new n(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var h=i.node;if(h.length){var r,o=i.x0,a=i.y0,l=i.z0,u=i.x1,_=i.y1,f=i.z1,c=(o+u)/2,y=(a+_)/2,x=(l+f)/2;(r=h[0])&&e.push(new n(r,o,a,l,c,y,x)),(r=h[1])&&e.push(new n(r,c,a,l,u,y,x)),(r=h[2])&&e.push(new n(r,o,y,l,c,_,x)),(r=h[3])&&e.push(new n(r,c,y,l,u,_,x)),(r=h[4])&&e.push(new n(r,o,a,x,c,y,f)),(r=h[5])&&e.push(new n(r,c,a,x,u,y,f)),(r=h[6])&&e.push(new n(r,o,y,x,c,_,f)),(r=h[7])&&e.push(new n(r,c,y,x,u,_,f))}s.push(i)}for(;i=s.pop();)t(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this},l.x=function(t){return arguments.length?(this._x=t,this):this._x},l.y=function(t){return arguments.length?(this._y=t,this):this._y},l.z=function(t){return arguments.length?(this._z=t,this):this._z},t.octree=r,Object.defineProperty(t,\"__esModule\",{value:!0})}));\r\n\t// // // https://github.com/vasturiano/d3-force-3d v3.0.2 Copyright 2021 Vasco Asturiano\r\n\t!function(n,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports,require(\"d3-binarytree\"),require(\"d3-quadtree\"),require(\"d3-octree\"),require(\"d3-dispatch\"),require(\"d3-timer\")):\"function\"==typeof define&&define.amd?define([\"exports\",\"d3-binarytree\",\"d3-quadtree\",\"d3-octree\",\"d3-dispatch\",\"d3-timer\"],t):t((n=\"undefined\"!=typeof globalThis?globalThis:n||self).d3=n.d3||{},n.d3,n.d3,n.d3,n.d3,n.d3)}(this,(function(n,t,e,r,i,u){\"use strict\";function o(n){return function(){return n}}function f(n){return 1e-6*(n()-.5)}function a(n){return n.x+n.vx}function c(n){return n.y+n.vy}function l(n){return n.z+n.vz}function h(n){return n.index}function v(n,t){var e=n.get(t);if(!e)throw new Error(\"node not found: \"+t);return e}const d=4294967296;function y(n){return n.x}function s(n){return n.y}function g(n){return n.z}var x=Math.PI*(3-Math.sqrt(5)),z=20*Math.PI/(9+Math.sqrt(221));n.forceCenter=function(n,t,e){var r,i=1;function u(){var u,o,f=r.length,a=0,c=0,l=0;for(u=0;u<f;++u)a+=(o=r[u]).x||0,c+=o.y||0,l+=o.z||0;for(a=(a/f-n)*i,c=(c/f-t)*i,l=(l/f-e)*i,u=0;u<f;++u)o=r[u],a&&(o.x-=a),c&&(o.y-=c),l&&(o.z-=l)}return null==n&&(n=0),null==t&&(t=0),null==e&&(e=0),u.initialize=function(n){r=n},u.x=function(t){return arguments.length?(n=+t,u):n},u.y=function(n){return arguments.length?(t=+n,u):t},u.z=function(n){return arguments.length?(e=+n,u):e},u.strength=function(n){return arguments.length?(i=+n,u):i},u},n.forceCollide=function(n){var i,u,h,v,d=1,y=1;function s(){for(var n,o,s,x,z,p,M,w,q=i.length,N=0;N<y;++N)for(o=(1===u?t.binarytree(i,a):2===u?e.quadtree(i,a,c):3===u?r.octree(i,a,c,l):null).visitAfter(g),n=0;n<q;++n)s=i[n],M=h[s.index],w=M*M,x=s.x+s.vx,u>1&&(z=s.y+s.vy),u>2&&(p=s.z+s.vz),o.visit(m);function m(n,t,e,r,i,o,a){var c=[t,e,r,i,o,a],l=c[0],h=c[1],y=c[2],g=c[u],q=c[u+1],N=c[u+2],m=n.data,A=n.r,b=M+A;if(!m)return l>x+b||g<x-b||u>1&&(h>z+b||q<z-b)||u>2&&(y>p+b||N<p-b);if(m.index>s.index){var k=x-m.x-m.vx,E=u>1?z-m.y-m.vy:0,j=u>2?p-m.z-m.vz:0,D=k*k+E*E+j*j;D<b*b&&(0===k&&(D+=(k=f(v))*k),u>1&&0===E&&(D+=(E=f(v))*E),u>2&&0===j&&(D+=(j=f(v))*j),D=(b-(D=Math.sqrt(D)))/D*d,s.vx+=(k*=D)*(b=(A*=A)/(w+A)),u>1&&(s.vy+=(E*=D)*b),u>2&&(s.vz+=(j*=D)*b),m.vx-=k*(b=1-b),u>1&&(m.vy-=E*b),u>2&&(m.vz-=j*b))}}}function g(n){if(n.data)return n.r=h[n.data.index];for(var t=n.r=0;t<Math.pow(2,u);++t)n[t]&&n[t].r>n.r&&(n.r=n[t].r)}function x(){if(i){var t,e,r=i.length;for(h=new Array(r),t=0;t<r;++t)e=i[t],h[e.index]=+n(e,t,i)}}return\"function\"!=typeof n&&(n=o(null==n?1:+n)),s.initialize=function(n,...t){i=n,v=t.find((n=>\"function\"==typeof n))||Math.random,u=t.find((n=>[1,2,3].includes(n)))||2,x()},s.iterations=function(n){return arguments.length?(y=+n,s):y},s.strength=function(n){return arguments.length?(d=+n,s):d},s.radius=function(t){return arguments.length?(n=\"function\"==typeof t?t:o(+t),x(),s):n},s},n.forceLink=function(n){var t,e,r,i,u,a,c,l=h,d=function(n){return 1/Math.min(u[n.source.index],u[n.target.index])},y=o(30),s=1;function g(r){for(var u=0,o=n.length;u<s;++u)for(var l,h,v,d,y,g=0,x=0,z=0,p=0;g<o;++g)h=(l=n[g]).source,x=(v=l.target).x+v.vx-h.x-h.vx||f(c),i>1&&(z=v.y+v.vy-h.y-h.vy||f(c)),i>2&&(p=v.z+v.vz-h.z-h.vz||f(c)),x*=d=((d=Math.sqrt(x*x+z*z+p*p))-e[g])/d*r*t[g],z*=d,p*=d,v.vx-=x*(y=a[g]),i>1&&(v.vy-=z*y),i>2&&(v.vz-=p*y),h.vx+=x*(y=1-y),i>1&&(h.vy+=z*y),i>2&&(h.vz+=p*y)}function x(){if(r){var i,o,f=r.length,c=n.length,h=new Map(r.map(((n,t)=>[l(n,t,r),n])));for(i=0,u=new Array(f);i<c;++i)(o=n[i]).index=i,\"object\"!=typeof o.source&&(o.source=v(h,o.source)),\"object\"!=typeof o.target&&(o.target=v(h,o.target)),u[o.source.index]=(u[o.source.index]||0)+1,u[o.target.index]=(u[o.target.index]||0)+1;for(i=0,a=new Array(c);i<c;++i)o=n[i],a[i]=u[o.source.index]/(u[o.source.index]+u[o.target.index]);t=new Array(c),z(),e=new Array(c),p()}}function z(){if(r)for(var e=0,i=n.length;e<i;++e)t[e]=+d(n[e],e,n)}function p(){if(r)for(var t=0,i=n.length;t<i;++t)e[t]=+y(n[t],t,n)}return null==n&&(n=[]),g.initialize=function(n,...t){r=n,c=t.find((n=>\"function\"==typeof n))||Math.random,i=t.find((n=>[1,2,3].includes(n)))||2,x()},g.links=function(t){return arguments.length?(n=t,x(),g):n},g.id=function(n){return arguments.length?(l=n,g):l},g.iterations=function(n){return arguments.length?(s=+n,g):s},g.strength=function(n){return arguments.length?(d=\"function\"==typeof n?n:o(+n),z(),g):d},g.distance=function(n){return arguments.length?(y=\"function\"==typeof n?n:o(+n),p(),g):y},g},n.forceManyBody=function(){var n,i,u,a,c,l,h=o(-30),v=1,d=1/0,x=.81;function z(o){var f,a=n.length,l=(1===i?t.binarytree(n,y):2===i?e.quadtree(n,y,s):3===i?r.octree(n,y,s,g):null).visitAfter(M);for(c=o,f=0;f<a;++f)u=n[f],l.visit(w)}function p(){if(n){var t,e,r=n.length;for(l=new Array(r),t=0;t<r;++t)e=n[t],l[e.index]=+h(e,t,n)}}function M(n){var t,e,r,u,o,f,a=0,c=0,h=n.length;if(h){for(r=u=o=f=0;f<h;++f)(t=n[f])&&(e=Math.abs(t.value))&&(a+=t.value,c+=e,r+=e*(t.x||0),u+=e*(t.y||0),o+=e*(t.z||0));a*=Math.sqrt(4/h),n.x=r/c,i>1&&(n.y=u/c),i>2&&(n.z=o/c)}else{(t=n).x=t.data.x,i>1&&(t.y=t.data.y),i>2&&(t.z=t.data.z);do{a+=l[t.data.index]}while(t=t.next)}n.value=a}function w(n,t,e,r,o){if(!n.value)return!0;var h=[e,r,o][i-1],y=n.x-u.x,s=i>1?n.y-u.y:0,g=i>2?n.z-u.z:0,z=h-t,p=y*y+s*s+g*g;if(z*z/x<p)return p<d&&(0===y&&(p+=(y=f(a))*y),i>1&&0===s&&(p+=(s=f(a))*s),i>2&&0===g&&(p+=(g=f(a))*g),p<v&&(p=Math.sqrt(v*p)),u.vx+=y*n.value*c/p,i>1&&(u.vy+=s*n.value*c/p),i>2&&(u.vz+=g*n.value*c/p)),!0;if(!(n.length||p>=d)){(n.data!==u||n.next)&&(0===y&&(p+=(y=f(a))*y),i>1&&0===s&&(p+=(s=f(a))*s),i>2&&0===g&&(p+=(g=f(a))*g),p<v&&(p=Math.sqrt(v*p)));do{n.data!==u&&(z=l[n.data.index]*c/p,u.vx+=y*z,i>1&&(u.vy+=s*z),i>2&&(u.vz+=g*z))}while(n=n.next)}}return z.initialize=function(t,...e){n=t,a=e.find((n=>\"function\"==typeof n))||Math.random,i=e.find((n=>[1,2,3].includes(n)))||2,p()},z.strength=function(n){return arguments.length?(h=\"function\"==typeof n?n:o(+n),p(),z):h},z.distanceMin=function(n){return arguments.length?(v=n*n,z):Math.sqrt(v)},z.distanceMax=function(n){return arguments.length?(d=n*n,z):Math.sqrt(d)},z.theta=function(n){return arguments.length?(x=n*n,z):Math.sqrt(x)},z},n.forceRadial=function(n,t,e,r){var i,u,f,a,c=o(.1);function l(n){for(var o=0,c=i.length;o<c;++o){var l=i[o],h=l.x-t||1e-6,v=(l.y||0)-e||1e-6,d=(l.z||0)-r||1e-6,y=Math.sqrt(h*h+v*v+d*d),s=(a[o]-y)*f[o]*n/y;l.vx+=h*s,u>1&&(l.vy+=v*s),u>2&&(l.vz+=d*s)}}function h(){if(i){var t,e=i.length;for(f=new Array(e),a=new Array(e),t=0;t<e;++t)a[t]=+n(i[t],t,i),f[t]=isNaN(a[t])?0:+c(i[t],t,i)}}return\"function\"!=typeof n&&(n=o(+n)),null==t&&(t=0),null==e&&(e=0),null==r&&(r=0),l.initialize=function(n,...t){i=n,u=t.find((n=>[1,2,3].includes(n)))||2,h()},l.strength=function(n){return arguments.length?(c=\"function\"==typeof n?n:o(+n),h(),l):c},l.radius=function(t){return arguments.length?(n=\"function\"==typeof t?t:o(+t),h(),l):n},l.x=function(n){return arguments.length?(t=+n,l):t},l.y=function(n){return arguments.length?(e=+n,l):e},l.z=function(n){return arguments.length?(r=+n,l):r},l},n.forceSimulation=function(n,t){t=t||2;var e,r=Math.min(3,Math.max(1,Math.round(t))),o=1,f=.001,a=1-Math.pow(f,1/300),c=0,l=.6,h=new Map,v=u.timer(g),y=i.dispatch(\"tick\",\"end\"),s=function(){let n=1;return()=>(n=(1664525*n+1013904223)%d)/d}();function g(){p(),y.call(\"tick\",e),o<f&&(v.stop(),y.call(\"end\",e))}function p(t){var i,u,f=n.length;void 0===t&&(t=1);for(var v=0;v<t;++v)for(o+=(c-o)*a,h.forEach((function(n){n(o)})),i=0;i<f;++i)null==(u=n[i]).fx?u.x+=u.vx*=l:(u.x=u.fx,u.vx=0),r>1&&(null==u.fy?u.y+=u.vy*=l:(u.y=u.fy,u.vy=0)),r>2&&(null==u.fz?u.z+=u.vz*=l:(u.z=u.fz,u.vz=0));return e}function M(){for(var t,e=0,i=n.length;e<i;++e){if((t=n[e]).index=e,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),null!=t.fz&&(t.z=t.fz),isNaN(t.x)||r>1&&isNaN(t.y)||r>2&&isNaN(t.z)){var u=10*(r>2?Math.cbrt(.5+e):r>1?Math.sqrt(.5+e):e),o=e*x,f=e*z;1===r?t.x=u:2===r?(t.x=u*Math.cos(o),t.y=u*Math.sin(o)):(t.x=u*Math.sin(o)*Math.cos(f),t.y=u*Math.cos(o),t.z=u*Math.sin(o)*Math.sin(f))}(isNaN(t.vx)||r>1&&isNaN(t.vy)||r>2&&isNaN(t.vz))&&(t.vx=0,r>1&&(t.vy=0),r>2&&(t.vz=0))}}function w(t){return t.initialize&&t.initialize(n,s,r),t}return null==n&&(n=[]),M(),e={tick:p,restart:function(){return v.restart(g),e},stop:function(){return v.stop(),e},numDimensions:function(n){return arguments.length?(r=Math.min(3,Math.max(1,Math.round(n))),h.forEach(w),e):r},nodes:function(t){return arguments.length?(n=t,M(),h.forEach(w),e):n},alpha:function(n){return arguments.length?(o=+n,e):o},alphaMin:function(n){return arguments.length?(f=+n,e):f},alphaDecay:function(n){return arguments.length?(a=+n,e):+a},alphaTarget:function(n){return arguments.length?(c=+n,e):c},velocityDecay:function(n){return arguments.length?(l=1-n,e):1-l},randomSource:function(n){return arguments.length?(s=n,h.forEach(w),e):s},force:function(n,t){return arguments.length>1?(null==t?h.delete(n):h.set(n,w(t)),e):h.get(n)},find:function(){var t,e,i,u,o,f,a=Array.prototype.slice.call(arguments),c=a.shift()||0,l=(r>1?a.shift():null)||0,h=(r>2?a.shift():null)||0,v=a.shift()||1/0,d=0,y=n.length;for(v*=v,d=0;d<y;++d)(u=(t=c-(o=n[d]).x)*t+(e=l-(o.y||0))*e+(i=h-(o.z||0))*i)<v&&(f=o,v=u);return f},on:function(n,t){return arguments.length>1?(y.on(n,t),e):y.on(n)}}},n.forceX=function(n){var t,e,r,i=o(.1);function u(n){for(var i,u=0,o=t.length;u<o;++u)(i=t[u]).vx+=(r[u]-i.x)*e[u]*n}function f(){if(t){var u,o=t.length;for(e=new Array(o),r=new Array(o),u=0;u<o;++u)e[u]=isNaN(r[u]=+n(t[u],u,t))?0:+i(t[u],u,t)}}return\"function\"!=typeof n&&(n=o(null==n?0:+n)),u.initialize=function(n){t=n,f()},u.strength=function(n){return arguments.length?(i=\"function\"==typeof n?n:o(+n),f(),u):i},u.x=function(t){return arguments.length?(n=\"function\"==typeof t?t:o(+t),f(),u):n},u},n.forceY=function(n){var t,e,r,i=o(.1);function u(n){for(var i,u=0,o=t.length;u<o;++u)(i=t[u]).vy+=(r[u]-i.y)*e[u]*n}function f(){if(t){var u,o=t.length;for(e=new Array(o),r=new Array(o),u=0;u<o;++u)e[u]=isNaN(r[u]=+n(t[u],u,t))?0:+i(t[u],u,t)}}return\"function\"!=typeof n&&(n=o(null==n?0:+n)),u.initialize=function(n){t=n,f()},u.strength=function(n){return arguments.length?(i=\"function\"==typeof n?n:o(+n),f(),u):i},u.y=function(t){return arguments.length?(n=\"function\"==typeof t?t:o(+t),f(),u):n},u},n.forceZ=function(n){var t,e,r,i=o(.1);function u(n){for(var i,u=0,o=t.length;u<o;++u)(i=t[u]).vz+=(r[u]-i.z)*e[u]*n}function f(){if(t){var u,o=t.length;for(e=new Array(o),r=new Array(o),u=0;u<o;++u)e[u]=isNaN(r[u]=+n(t[u],u,t))?0:+i(t[u],u,t)}}return\"function\"!=typeof n&&(n=o(null==n?0:+n)),u.initialize=function(n){t=n,f()},u.strength=function(n){return arguments.length?(i=\"function\"==typeof n?n:o(+n),f(),u):i},u.z=function(t){return arguments.length?(n=\"function\"==typeof t?t:o(+t),f(),u):n},u},Object.defineProperty(n,\"__esModule\",{value:!0})}));\r\n\t// importScripts(\"https://cdn.jsdelivr.net/npm/d3-dispatch@3\");\r\n\t// importScripts(\"https://cdn.jsdelivr.net/npm/d3-quadtree@3\");\r\n\t// importScripts(\"https://cdn.jsdelivr.net/npm/d3-timer@3\");\r\n\t// importScripts(\"https://cdn.jsdelivr.net/npm/d3-force@3\");\r\n\t// importScripts(\"https://unpkg.com/d3-binarytree\");\r\n\t// importScripts(\"https://unpkg.com/d3-octree\");\r\n\t// importScripts(\"https://unpkg.com/d3-force-3d\");\r\n\r\n\t\"use strict\"\r\n\r\n\tthis._handleSetAttribute = (attributeName,value)=>{\r\n\t\t// example attributeName = \"simulation.alpha\"\r\n\t\t// example this.simulation.attributeName?.(value);\r\n\t\tlet attributeNames = attributeName.split(\".\");\r\n\t\tlet attribute = this;\r\n\t\tfor(let i=0;i<attributeNames.length;i++){\r\n\t\t\tattribute = attribute?.[attributeNames[i]];\r\n\t\t}\r\n\t\tattribute?.(value);\r\n\t}\r\n\r\n\tself.onmessage = function (msg) {\r\n\t\t// console.log(\"RECEIVED:\", msg.data.type);\r\n\t\tlet use2D = false;\r\n\t\tif (msg.data.type == \"pause\") {\r\n\t\t\t// console.log(\"PAUSING!!!!\")\r\n\t\t\tthis.simulation.stop();\r\n\t\t} else if (msg.data.type == \"resume\") {\r\n\t\t\tthis.simulation.restart();\r\n\t\t} else if (msg.data.type == \"setAttribute\") {\r\n\t\t\tthis._handleSetAttribute(msg.data.attributeName,msg.data.value);\r\n\t\t} else if (msg.data.type == \"start\") {\r\n\t\t\t// let inputNodes = msg.data.nodes;\r\n\t\t\tlet inputNodesPositions = msg.data.positions;\r\n\t\t\tlet inputEdges = msg.data.edges;\r\n\t\t\t// let inputEdgeWeights = msg.data.weights;\r\n\t\t\t\r\n\t\t\tif(msg.data.use2D) {\r\n\t\t\t\tuse2D = true;\r\n\t\t\t}\r\n\r\n\t\t\tlet nodes = [];\r\n\t\t\tlet links = [];\r\n\t\t\tfor (let nodeIndex = 0; nodeIndex < inputNodesPositions.length/3; nodeIndex++) {\r\n\t\t\t\t\r\n\t\t\t\t// console.log(entry);\r\n\t\t\t\t\r\n\r\n\t\t\t\t// node.x = 400 * (Math.random() * 1.0 - 0.5);\r\n\t\t\t\t// node.y = 400 * (Math.random() * 1.0 - 0.5);\r\n\t\t\t\t// node.z = 400 * (Math.random() * 1.0 - 0.5);\r\n\t\t\t\t// node.vz = 0;\r\n\t\t\t\t\r\n\t\t\t\tlet x = inputNodesPositions[nodeIndex*3+0]*10;//400 * (Math.random() * 1.0 - 0.5);\r\n\t\t\t\tlet y = inputNodesPositions[nodeIndex*3+1]*10;//400 * (Math.random() * 1.0 - 0.5);\r\n\t\t\t\tlet z = inputNodesPositions[nodeIndex*3+2]*10;//400 * (Math.random() * 1.0 - 0.5);\r\n\t\t\t\tlet vz = 0;\r\n\t\t\t\t\r\n\r\n\t\t\t\t// node.index = network.ID2index[key];\r\n\t\t\t\tnodes.push({x,y,z,vz,ID:nodeIndex});\r\n\t\t\t}\r\n\r\n\t\t\tfor (let index = 0; index < inputEdges.length / 2; index++) {\r\n\t\t\t\tlet edgeFrom = (inputEdges[index * 2]);\r\n\t\t\t\tlet edgeTo = (inputEdges[index * 2 + 1]);\r\n\t\t\t\tlet edgeObject = {\r\n\t\t\t\t\tsource: edgeFrom,\r\n\t\t\t\t\ttarget: edgeTo,\r\n\t\t\t\t}\r\n\t\t\t\tlinks.push(edgeObject);\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\tfunction d3gravityForce() {\r\n\t\t\tvar nodes, strength = 0.01, softening = 0.1;\r\n\t\t\tfunction force(alpha){\r\n\t\t\t\tconst totalStrength = Math.sqrt(nodes.length)*alpha * strength;\r\n\t\t\t\tfor (let i = 0, n = nodes.length, node; i < n; ++i) {\r\n\t\t\t\t\tnode = nodes[i];\r\n\t\t\t\t\tlet distance = Math.sqrt(node.x * node.x + node.y * node.y + node.z * node.z + softening);\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet kinvdistance3 = totalStrength/(distance);\r\n\t\t\t\t\tnode.vx -= node.x * kinvdistance3;\r\n\t\t\t\t\tnode.vy -= node.y * kinvdistance3;\r\n\t\t\t\t\tnode.vz -= node.z * kinvdistance3;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tforce.initialize = function(_) {\r\n\t\t\t\tnodes = _;\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tforce.strength = function(_) {\r\n\t\t\t\treturn arguments.length ? (strength = +_, force) : strength;\r\n\t\t\t};\r\n\r\n\t\t\tforce.softening = function(_) {\r\n\t\t\t\treturn arguments.length ? (softening = +_, force) : softening;\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\treturn force;\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\tthis.repulsiveforce = d3.forceManyBody();\r\n\t\t\tthis.attractiveforce = d3.forceLink(links);\r\n\t\t\tthis.centralForce = d3.forceCenter();\r\n\t\t\tthis.gravityForce = d3gravityForce();\r\n\t\t\tthis.simulation = d3.forceSimulation(nodes)\r\n\t\t\t\t.numDimensions(use2D?2:3)\r\n\t\t\t\t.force(\"charge\", this.repulsiveforce)\r\n\t\t\t\t.force(\"link\", this.attractiveforce)\r\n\t\t\t\t.force(\"center\", centralForce)\r\n\t\t\t\t// .force(\"gravity\", this.gravityForce)\r\n\t\t\t\t// .force(\"collide\", d3.forceCollide(d => d.size*4))\r\n\t\t\t\t.velocityDecay(0.05)\r\n\t\t\t\t.on(\"tick\", async () => {\r\n\t\t\t\t\tfor (let vertexIndex = 0; vertexIndex < nodes.length; vertexIndex++) {\r\n\t\t\t\t\t\tconst node = nodes[vertexIndex];\r\n\t\t\t\t\t\tinputNodesPositions[vertexIndex * 3 + 0] = node.x/10;\r\n\t\t\t\t\t\tinputNodesPositions[vertexIndex * 3 + 1] = node.y/10;\r\n\t\t\t\t\t\tif(!use2D) {\r\n\t\t\t\t\t\t\tinputNodesPositions[vertexIndex * 3 + 2] = node.z/10;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tinputNodesPositions[vertexIndex * 3 + 2] = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.postMessage({ type: \"update\", positions: inputNodesPositions });\r\n\t\t\t\t}).on(\"end\", () => {\r\n\t\t\t\t\tself.postMessage({ type: \"stop\" });\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n})\r\n\r\nlet workerFunctionString = workerFunction.toString();\r\nlet workerURL = URL.createObjectURL(new Blob([`(${workerFunctionString})()`], {type:'text/javascript'}));\r\n\r\n\r\nclass d3ForceLayoutWorker {\r\n\tconstructor({\r\n\t\tnetwork=null,\r\n\t\tonUpdate=null,\r\n\t\tonStop=null,\r\n\t\tonStart=null,\r\n\t\tuse2D=false\r\n\t}) {\r\n\t\tthis._network = network;\r\n\t\tthis._onUpdate = onUpdate;\r\n\t\tthis._onStop = onStop;\r\n\t\tthis._onStart = onStart;\r\n\t\tthis._use2D = use2D;\r\n\r\n\t\tthis._layoutWorker = null;\r\n\t}\r\n\r\n\tstart(){\r\n\t\tif(!this._layoutWorker){\r\n\t\t\tthis._layoutWorker = new Worker(workerURL);\r\n\t\t\tthis._layoutWorker.onmessage = (msg) => {\r\n\t\t\t\tif (msg.data.type == \"update\") {\r\n\t\t\t\t\tthis._onUpdate?.(msg.data);\r\n\t\t\t\t}else if (msg.data.type == \"stop\") {\r\n\t\t\t\t\tthis._onStop?.(msg.data);\r\n\t\t\t\t\tthis._layoutRunning = false;\r\n\t\t\t\t}else if (msg.data.type == \"getAttribute\") {\r\n\t\t\t\t\tthis._handleReturnAttribute(msg.data);\r\n\t\t\t\t}else {\r\n\t\t\t\t\tconsole.log(\"Layout received Unknown msg: \", msg);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tthis._layoutRunning = true;\r\n\t\t\tthis._onStart?.();\r\n\t\t\tthis._layoutWorker.postMessage({\r\n\t\t\t\t type: \"start\",\r\n\t\t\t\t// network: this.network,\r\n\t\t\t\t// nodes:this._network.nodes,\r\n\t\t\t\tpositions:this._network.positions,\r\n\t\t\t\tedges:this._network.indexedEdges, \r\n\t\t\t\tuse2D: this._use2D\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\trestart(){\r\n\t\tthis.stop();\r\n\t\tthis.start();\r\n\t\treturn this;\r\n\t}\r\n\r\n\tstop(){\r\n\t\tif(this._layoutRunning){\r\n\t\t\tthis._onStop?.();\r\n\t\t}\r\n\t\tthis._layoutWorker.terminate();\r\n\t\tthis._layoutRunning = false;\r\n\t\tdelete this._layoutWorker;\r\n\t\tthis._layoutWorker = null;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tresume() {\r\n\t\tthis.start();\r\n\t\tif(!this._layoutRunning){\r\n\t\t\tthis._onStart?.();\r\n\t\t}\r\n\t\tthis._layoutWorker.postMessage({ type: \"resume\" });\r\n\t\tthis._layoutRunning=true;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpause(){\r\n\t\tthis._layoutWorker.postMessage({ type: \"pause\"});\r\n\t\tthis._layoutRunning=false;\r\n\t\tthis._onStop?.();\r\n\t\treturn this;\r\n\t}\r\n\r\n\tonUpdate(callback) {\r\n\t\tthis._onUpdate = callback;\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\tonStop(callback) {\r\n\t\tthis._onStop = callback;\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\tonStart(callback) {\r\n\t\tthis._onStart = callback;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tisRunning() {\r\n\t\treturn this._layoutRunning;\r\n\t}\r\n\t\r\n\tcleanup() {\r\n\t\tthis.stop();\r\n\t}\r\n\r\n\tasync _handleGetAttribute(){\r\n\t\t//Not implemented yet\r\n\t}\r\n\r\n\tsetAttribute(attributeName,value){\r\n\t\tthis._layoutWorker.postMessage({\r\n\t\t\ttype: \"setAttribute\",\r\n\t\t\tattributeName: attributeName,\r\n\t\t\tvalue: value\r\n\t\t});\r\n\t\treturn this;\r\n\t}\r\n\r\n\tgroups(groups) {\r\n\t\treturn this.setAttribute(\"groups\", groups);\r\n\t}\r\n\r\n\talpha(alphaValue){\r\n\t\treturn this.setAttribute(\"alpha\", alphaValue);\r\n\t}\r\n\r\n\talphaDecay(alphaValue){\r\n\t\treturn this.setAttribute(\"alphaDecay\", alphaValue);\r\n\t}\r\n\r\n\talphaTarget(alphaValue){\r\n\t\treturn this.setAttribute(\"alphaTarget\", alphaValue);\r\n\t}\r\n\r\n\tvelocityDecay(velocityDecayValue){\r\n\t\treturn this.setAttribute(\"velocityDecay\", velocityDecayValue);\r\n\t}\r\n}\r\n\r\nexport {d3ForceLayoutWorker as layoutWorker};","\n\n\n\n//\n// EDGES VERTEX SHADER\n//\n\nlet vertexShader = /*glsl*/`\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\n \nuniform float globalSizeScale;\nuniform float globalSizeBase;\nuniform float globalWidthScale;\nuniform float globalWidthBase;\n\nuniform float globalOpacityScale;\nuniform float globalOpacityBase;\n\nattribute vec3 fromVertex;\nattribute vec3 toVertex;\nattribute vec2 vertexType;\n// 0,1:  0.0, 1.0, // source, top\n// 0,0:  0.0, 0.0, // source, bottom\n// 1,1:  1.0, 1.0, // target, top\n// 1,0:  1.0, 0.0, // target, bottom\n\nattribute vec4 fromColor;\nattribute vec4 toColor;\nattribute float fromSize;\nattribute float toSize;\nattribute vec4 encodedIndex;\n\nvarying vec4 vColor;\nvarying vec3 vOffset;\nvarying vec4 vEncodedIndex;\n\n\n//varying float vZComponent;\n\nvoid main(void){\n\tvColor = (fromColor)*vertexType.x + (toColor)*(1.0-vertexType.x);\n\tvColor.w = clamp(globalOpacityBase+globalOpacityScale*vColor.w,0.0,1.0);\n\tfloat updatedFromSize = globalSizeScale*fromSize+globalSizeBase;\n\tfloat updatedToSize = globalSizeScale*toSize+globalSizeBase;\n\n\tfloat width = globalWidthBase+globalWidthScale*((updatedFromSize)*vertexType.x + (updatedToSize)*(1.0-vertexType.x));\n\tvEncodedIndex = encodedIndex;\n\t//vZComponent = viewVertex.z;\n\tvec3 vertexCenter = fromVertex.xyz*vertexType.x + toVertex.xyz*(1.0-vertexType.x);\n\tvec3 destinationVertexCenter = fromVertex.xyz*(1.0-vertexType.x) + toVertex.xyz*vertexType.x;\n\t\n\tvec3 displacement = (viewMatrix*vec4((destinationVertexCenter-vertexCenter),0.0)).xyz;\n\tvec3 perpendicularVector = normalize(vec3(-displacement.y, displacement.x, 0.0));\n\tvec3 offset = width*(vertexType.x-0.5)*(vertexType.y-0.5)*4.0*1.5*perpendicularVector;\n\t\n\tvec4 viewVertex = viewMatrix * vec4(vertexCenter.xyz,1.0)+vec4(offset,0.0);\n\tfloat displacementLength = length(displacement);\n\tvOffset = vec3(vertexType.x,updatedToSize/displacementLength*1.5,updatedFromSize/displacementLength*1.5);\n\tgl_Position = projectionMatrix*viewVertex;\n\t\n}\n`;\n\n\n//\n// EDGES FRAGMENT SHADER\n//\n\nlet fragmentShader = /*glsl*/`\n#ifdef GL_ES\n\tprecision highp float;\n#endif\n//uniform vec2 nearFar;\nvarying vec4 vEncodedIndex;\nvarying vec4 vColor;\nvarying vec3 vOffset;\n//varying float vZComponent;\n//gl_DepthRange.near)/gl_DepthRange.diff\nvoid main(){\n\t//float w = (-vZComponent-nearFar[0])/(nearFar[1]-nearFar[0]);\n\tif(vOffset.x<vOffset.y || vOffset.x>(1.0-vOffset.z)){\n\t\tdiscard;\n\t}\n\n\t// gl_FragColor = vec4(vOffset.x,vOffset.x,0,1.0);//vec4(vColor.xyz,globalOpacity*vColor.w);\n\tgl_FragColor = vColor;\n}\n`;\n\n\n\n//\n// EDGES PICKING FRAGMENT SHADER\n//\n\nlet pickingShader = /*glsl*/`\n#ifdef GL_ES\n\tprecision highp float;\n#endif\n//uniform vec2 nearFar;\nvarying vec4 vEncodedIndex;\nvarying vec4 vColor;\nvarying vec3 vOffset;\n//varying float vZComponent;\n//gl_DepthRange.near)/gl_DepthRange.diff\nvoid main(){\n\n\tif(vOffset.x<vOffset.y*1.1 || vOffset.x>(1.0-vOffset.z*1.1) || (vEncodedIndex.x+vEncodedIndex.y+vEncodedIndex.z+vEncodedIndex.w)<=0.0){\n\t\tdiscard;\n\t}\n\t//float w = (-vZComponent-nearFar[0])/(nearFar[1]-nearFar[0]);\n\tgl_FragColor = vEncodedIndex;\n\t\n}\n`;\n\n\n//\n// EDGES FAST VERTEX SHADER\n//\n\nlet fastVertexShader = /*glsl*/`\nuniform mat4 projectionViewMatrix;\nuniform float globalOpacityScale;\nuniform float globalOpacityBase;\n\nattribute vec3 vertex;\nattribute vec4 color;\n\n\nvarying vec4 vColor;\nvarying vec4 vEncodedIndex;\n\n//varying float vZComponent;\n\nvoid main(void){\n\tvColor = color;\n\tvColor.w = clamp(globalOpacityBase+globalOpacityScale*vColor.w,0.0,1.0);\n\t//vZComponent = viewVertex.z;\n\tgl_Position =   projectionViewMatrix * vec4(vertex,1.0);\n}\n`;\n\n\n//\n// EDGES FAST FRAGMENT SHADER\n//\n\nlet fastFragmentShader = /*glsl*/`\n#ifdef GL_ES\n\tprecision highp float;\n#endif\n//uniform vec2 nearFar;\nvarying vec4 vColor;\n//varying float vZComponent;\n//gl_DepthRange.near)/gl_DepthRange.diff\nvoid main(){\n\t//float w = (-vZComponent-nearFar[0])/(nearFar[1]-nearFar[0]);\n\tgl_FragColor = vColor;\n\t// gl_FragColor = vec4(vEncodedIndex.x/10,0,0,1.0);\n}\n\n`;\n\n\n\nexport {fragmentShader,vertexShader,pickingShader,fastFragmentShader,fastVertexShader};","\n\n//\n// NODES VERTEX SHADER\n//\n\nlet vertexShader = /*glsl*/`\n// uniform mat4 projectionMatrix;\n// uniform mat4 viewMatrix;\n// uniform mat3 normalMatrix;\n\n\n// attribute vec4 vertex;\n// attribute vec3 normal;\n// attribute vec3 position;\n// attribute vec3 color;\n// attribute float size;\n// attribute float Opacity;\n\n// varying vec3 vNormal;\n// varying vec3 vEye;\n\n// varying vec3 vColor;\n// varying float vSize;\n// varying float vOpacity;\n\n// void main(void){\n// \tvec4 viewVertex = viewMatrix * (vertex*vec4(vec3(size),1.0) + vec4(position,0.0));\n// \tvNormal = normalMatrix * normal;\n// \tvEye = -vec3(viewVertex);\n// \tvOpacity = Opacity;\n// \tvColor = color;\n// \tgl_Position =   projectionMatrix * viewVertex;\n// }\n\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\n\nuniform float globalOpacityScale;\nuniform float globalSizeScale;\nuniform float globalOutlineWidthScale;\n\nuniform float globalOpacityBase;\nuniform float globalSizeBase;\nuniform float globalOutlineWidthBase;\n\nattribute vec2 vertex;\n// attribute vec3 normal;\nattribute vec3 position;\nattribute vec4 color;\nattribute float size;\nattribute float outlineWidth;\nattribute vec4 outlineColor;\nattribute vec4 encodedIndex;\n\nvarying vec3 vNormal;\nvarying vec3 vEye;\nvarying vec4 vColor;\nvarying vec2 vOffset;\nvarying float vSize;\nvarying vec4 vEncodedIndex;\nvarying float vOutlineThreshold;\nvarying vec4 vOutlineColor;\nvarying vec4 vPosition;\n\nvoid main(void){\n\tfloat BoxCorrection = 1.5;\n\tvec2 offset = vertex;\n\tfloat updatedSize = globalSizeScale*size+globalSizeBase;\n\tfloat updatedOutlineWidth = globalOutlineWidthScale*outlineWidth+globalOutlineWidthBase;\n\tfloat fullSize = updatedSize + updatedOutlineWidth;\n\t// vec4 viewCenters = viewMatrix*vec4(position,1);\n\t// vec3 viewCenters = position;\n\t// fragCenter = viewCenters\n\t// float scalingFactor = 1.0 / abs(centers.x)*0.001;\n\t// offset*=scalingFactor;\n\tvec3 cameraRight = normalize(vec3(viewMatrix[0][0], viewMatrix[1][0], viewMatrix[2][0]));\n\tvec3 cameraUp = normalize(vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]));\n\n\t// viewCenters.xy += offset*updatedSize*CameraRight_worldspace;\n\t\n\tvec4 viewCenters = viewMatrix*vec4(position+BoxCorrection*fullSize*(cameraRight*offset.x + cameraUp*offset.y),1.0);\n\tvNormal = vec3(0.0,0.0,1.0); //normalMatrix * normal;\n\tvEye = -vec3(offset,0.0);\n\tvEncodedIndex = encodedIndex;\n\tvColor = color;\n\tvColor.w = clamp(globalOpacityBase+globalOpacityScale*vColor.w,0.0,1.0);\n\tvOutlineColor.w = clamp(globalOpacityBase+globalOpacityScale*vOutlineColor.w,0.0,1.0);\n\tvOffset = vertex;\n\tvSize = updatedSize;\n\tvOutlineThreshold = updatedOutlineWidth/fullSize;\n\tvOutlineColor = outlineColor;\n\tvPosition = projectionMatrix * viewCenters;\n\tgl_Position = vPosition;\n}\n`;\n\n\n\n//\n// NODES FRAGMENT SHADER (SHADED)\n//\n\nlet fragmentShader = /*glsl*/`// #ifdef GL_ES\n// \tprecision highp float;\n// #endif\n\nprecision mediump float;\nvarying vec4 vColor;\nvarying vec4 vEncodedIndex;\nvarying vec3 vNormal;\nvarying vec3 vEye;\nvarying float vSize;\nvarying vec2 vOffset;\nvarying float vOutlineThreshold;\nvarying vec4 vOutlineColor;\nvarying vec4 vPosition;\n\n\n\nvoid main(){\n\t// const vec3 lightDirection = vec3(0.577350269,0.577350269,0.577350269);\n\t// const float ambientFactor = 0.6;\n\t\n\t// vec3 normal = normalize(vNormal);\n\t// vec3 eye = normalize(vEye);\n\t\n\t// //Ambient+Diffuse\n\t// float cosTheta = max(dot(lightDirection,normal),0.0);\n\t// vec3 newColor = vColor*(ambientFactor+cosTheta);\n\t\n\t// //Specular\n\t// vec3 reflection = reflect(-lightDirection, normal);\n\t// float eyeDotReflection = max(dot(eye, reflection), 0.0);\n\t// newColor +=  vec3(0.5)* pow(eyeDotReflection, 60.0);\n\t\n\t// gl_FragColor = vec4(newColor,vOpacity);\n\t// gl_FragColor = vec4(eye,Opacity);\n\t//gl_FragData[0] = vec4(newColor,Opacity);\n\n// Renaming variables passed from the Vertex Shader\n\n\t// vec3 cameraPos;\n\t// vec3 cameraNormal;\n\n\t// float lensqr = dot(vOffset, vOffset);\n\n\t// if(lensqr > 1.0)\n\t// \t\tdiscard;\n\t\t\n\t// cameraNormal = vec3(vOffset, sqrt(1.0 - lensqr));\n\t// cameraPos = (cameraNormal * size) + cameraSpherePos;\n\n\t// float len = length(point);\n\t// // VTK Fake Spheres\n\t// float radius = 1.;\n\t// if(len > radius)\n\t// \t\tdiscard;\n\t// vec3 normalizedPoint = normalize(vec3(point.xy, sqrt(1. - len)));\n\t// vec3 direction = normalize(vec3(1., 1., 1.));\n\t// float df2 = max(0, dot(direction, normalizedPoint));\n\t// float sf2 = pow(df2, 90);\n\t// fragOutput0 = vec4(max((df2+0.3) * color, sf2 * vec3(1)), 1);\n\n\t// fragOutput1 = vec4(vertexVC.xyz, 1.0);\n\t// fragOutput2 = vec4(normalVCVSOutput, 1.0);\n\t\n\tfloat lensqr = dot(vOffset, vOffset);\n\n\tif(lensqr > 1.0)\n\t\tdiscard;\n\t\n\n\tvec3 normalizedPoint = normalize(vec3(vOffset.xy, sqrt(1. - lensqr)));\n\tconst vec3 lightDirection = vec3(0.577350269,0.577350269,0.577350269);\n\tconst float ambientFactor = 0.6;\n\t\n\tvec3 normal = normalizedPoint;\n\tvec3 eye = normalize(vEye);\n\t\n\t//Ambient+Diffuse\n\tfloat cosTheta = max(dot(lightDirection,normal),0.0);\n\tvec3 newColor = vColor.xyz*(ambientFactor+cosTheta);\n\t\n\t//Specular\n\tvec3 reflection = reflect(-lightDirection, normal);\n\tfloat eyeDotReflection = max(dot(eye, reflection), 0.0);\n\tnewColor +=  vec3(0.5)* pow(eyeDotReflection, 60.0);\n\t\n\t\n\t\n\tif(lensqr < 1.0-vOutlineThreshold){\n\t\t// gl_FragColor = vec4(vColor,vOpacity)\n\t\tgl_FragColor = vec4(newColor,vColor.w);;\n\t}else{\n\t\tgl_FragColor = vec4(vOutlineColor.xyz,vOutlineColor.w);\n\t}\n\t// gl_FragDepthEXT = 0.5; \n}\n`;\n\n\n//\n// NODES PICKING SHADER\n//\n\nlet pickingShader = /*glsl*/`\n// #ifdef GL_ES\n// \tprecision highp float;\n// #endif\n\nprecision mediump float;\nvarying vec4 vColor;\nvarying vec4 vEncodedIndex;\nvarying vec3 vNormal;\nvarying vec3 vEye;\nvarying float vSize;\nvarying vec2 vOffset;\nvarying float vOutlineThreshold;\nvarying vec4 vOutlineColor;\n\nvoid main(){\n\tfloat lensqr = dot(vOffset, vOffset);\n\n\tif(lensqr > 1.0)\n\t\t\tdiscard;\n\t\n\tgl_FragColor = vEncodedIndex;\n}\n`;\n\n\n//\n// NODES FAST FRAGMENT SHADER\n//\n\n\nlet fastFragmentShader = /*glsl*/`\n// #ifdef GL_ES\n// \tprecision highp float;\n// #endif\n\nprecision mediump float;\nvarying vec4 vColor;\nvarying vec4 vEncodedIndex;\nvarying vec3 vNormal;\nvarying vec3 vEye;\nvarying float vSize;\nvarying vec2 vOffset;\nvarying float vOutlineThreshold;\nvarying vec4 vOutlineColor;\nvarying vec4 vPosition;\n\n\n\nvoid main(){\n\t\n\tfloat lensqr = dot(vOffset, vOffset);\n\n\tif(lensqr > 1.0)\n\t\t\tdiscard;\n\t\n\tif(lensqr < 1.0-vOutlineThreshold){\n\t\t// gl_FragColor = vec4(vColor,vOpacity)\n\t\tgl_FragColor = vColor;\n\t}else{\n\t\tgl_FragColor = vOutlineColor;\n\t}\n\t// gl_FragDepthEXT = 0.5; \n}\n`;\n\nlet fastVertexShader = vertexShader;\n\nexport {fragmentShader, vertexShader, pickingShader,fastFragmentShader,fastVertexShader};","import * as glm from \"gl-matrix\"\nimport { Network } from \"./Network.js\"\nimport * as glUtils from \"../utilities/webgl.js\"\nimport * as xnet from \"../utilities/xnet.js\"\nimport { select as d3Select } from \"d3-selection\";\nimport {HeliosScheduler} from \"./Scheduler.js\";\nimport { zoom as d3Zoom, zoomTransform as d3ZoomTransform, zoomIdentity as d3ZoomIdentity } from \"d3-zoom\";\nimport * as d3Ease from \"d3-ease\";\n// import { drag as d3Drag } from \"d3-drag\";\n// import { default as createGraph } from \"ngraph.graph\"\n// import { default as createLayout } from \"ngraph.forcelayout\"\nimport {default as Pica} from \"pica\";\nimport {layoutWorker as d3ForceLayoutWorker} from \"../layouts/d3force3dLayoutWorker.js\"\nimport * as edgesShaders from \"../shaders/edges.js\"\nimport * as nodesShaders from \"../shaders/nodes.js\"\nlet isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\n\n// You can associate arbitrary objects with node:\n\n\n// //dictionary\n// elementID,\n// nodes = {},\n// edges = [],\n// // use settings\n// // displayOptions inside settings\n// onNodeClick = null,\n// onEdgeClick = null,\n// display = [],\n\nexport class Helios {\n\tconstructor({\n\t\telement = null,\n\t\telementID = null,\n\t\tnodes = {},\n\t\tedges = [],\n\t\t// use settings\n\t\t// displayOptions inside settings\n\t\tuse2D = false,\n\t\tfastEdges = false,\n\t\tforceSupersample = false,\n\t\tautoStartLayout = true,\n\t\tautoCleanup = true, // cleanup helios if canvas or element are removed\n\t\t// display = [],\n\t}) {\n\t\tif(element == null){\n\t\t\tthis.element = document.getElementById(elementID);\n\t\t}else{\n\t\t\tthis.element = element;\n\t\t}\n\t\tthis.element.innerHTML = '';\n\t\tthis.canvasElement = document.createElement(\"canvas\");\n\t\tthis.element.appendChild(this.canvasElement);\n\n\t\tthis.network = new Network(nodes, edges);\n\t\tthis._autoCleanup = autoCleanup;\n\t\t// this.display = display;\n\n\t\tthis.rotationMatrix = glm.mat4.create();\n\t\t\n\t\tthis.translatePosition = glm.vec3.create();\n\t\tthis.lastTranslatePosition = glm.vec3.create();\n\t\tthis.targetTranslatePosition = glm.vec3.create();\n\n\t\tthis.lastPanX = 0;\n\t\tthis.lastPanY = 0;\n\t\tthis.panX = 0;\n\t\tthis.panY = 0;\n\t\tthis.targetPanX = 0;\n\t\tthis.targetPanY = 0;\n\n\t\tthis.translateTime = 0;\n\t\tthis.translateDuration = 0;\n\t\tthis.mouseDown = false;\n\t\tthis.lastMouseX = null;\n\t\tthis.lastMouseY = null;\n\t\tthis.redrawingFromMouseWheelEvent = false;\n\t\tthis.fastEdges = fastEdges;\n\t\tthis.animate = false;\n\t\tthis.useShadedNodes = false;\n\t\tthis.forceSupersample = forceSupersample;\n\t\tthis.cameraDistance = 450;\n\t\tthis._zoomFactor = 1;\n\t\tthis.interacting = false;\n\t\tthis.rotateLinearX = 0;\n\t\tthis.rotateLinearY = 0;\n\n\t\tthis.saveResolutionRatio = 1.0;\n\t\tthis.pickingResolutionRatio = 0.25;\n\n\n\t\tthis._nodesGlobalOpacityScale = 1.0;\n\t\tthis._nodesGlobalOpacityBase = 0.0;\n\n\t\tthis._nodesGlobalSizeScale = 1.0;\n\t\tthis._nodesGlobalSizeBase = 0.0;\n\n\t\tthis._edgesGlobalOpacityScale = 1.0;\n\t\tthis._edgesGlobalOpacityBase = 0.0;\n\t\t\n\t\tthis._edgesGlobalWidthScale = 0.25;\n\t\tthis._edgesGlobalWidthBase = 0.0;\n\t\t\n\t\tthis._nodesGlobalOutlineWidthScale = 1.0;\n\t\tthis._nodesGlobalOutlineWidthBase = 0.0;\n\n\t\tthis._backgroundColor = [0.5, 0.5, 0.5, 1.0];\n\n\t\tthis._use2D = use2D;\n\t\tthis._autoStartLayout = autoStartLayout;\n\t\tthis.useAdditiveBlending = false;\n\t\tthis._pickeableEdges = new Set();\n\t\tthis.scheduler = new HeliosScheduler(this,{throttle:false});\n\n\t\tif (this._use2D) {\n\t\t\tfor (let vertexIndex = 0; vertexIndex < this.network.positions.length; vertexIndex++) {\n\t\t\t\tthis.network.positions[vertexIndex * 3 + 2] = 0;\n\t\t\t}\n\t\t}\n\n\t\tthis._edgeIndicesUpdate = true;\n\n\t\tglm.mat4.identity(this.rotationMatrix);\n\t\tthis.gl = glUtils.createWebGLContext(this.canvasElement, {\n\t\t\tantialias: true,\n\t\t\tpowerPreference: \"high-performance\",\n\t\t\tdesynchronized: true\n\t\t})\n\n\t\tthis._centerNodes = [];\n\t\tthis._centerNodesTransition = null;\n\n\t\tthis.onNodeClickCallback = null;\n\t\tthis.onNodeDoubleClickCallback = null;\n\t\tthis.onNodeHoverStartCallback = null;\n\t\tthis.onNodeHoverMoveCallback = null;\n\t\tthis.onNodeHoverEndCallback = null;\n\n\t\tthis.onEdgeClickCallback = null;\n\t\tthis.onEdgeDoubleClickCallback = null;\n\t\tthis.onEdgeHoverStartCallback = null;\n\t\tthis.onEdgeHoverMoveCallback = null;\n\t\tthis.onEdgeHoverEndCallback = null;\n\t\t\n\t\t\n\t\tthis.onZoomCallback = null;\n\t\tthis.onRotationCallback = null;\n\t\tthis.onResizeCallback = null;\n\t\tthis.onLayoutStartCallback = null;\n\t\tthis.onLayoutStopCallback = null;\n\t\tthis.onDrawCallback = null;\n\t\tthis.onReadyCallback = null;\n\t\tthis.isReady = false;\n\n\t\t// console.log(this.gl);\n\t\tthis.initialize();\n\t\tthis._onresizeEvent = event => {\n\t\t\tthis.willResizeEvent(event);\n\t\t}\n\t\twindow.addEventListener('resize', this._onresizeEvent);\n\t}\n\n\t// d3-like function Set/Get\n\t//zoom()\n\t//rotate()\n\t//pan()\n\t//highlightNodes()\n\t//centerNode()\n\n\n\tinitialize() {\n\t\tthis._setupShaders();\n\t\tthis._buildNodesGeometry();\n\t\tthis._buildPickingBuffers();\n\t\tthis._buildEdgesGeometry();\n\t\tthis.willResizeEvent(0);\n\n\t\tthis._setupCamera();\n\t\tthis._setupEvents();\n\t\tthis._setupLayout();\n\t\tthis.scheduler.start();\n\t\tthis.onReadyCallback?.(this);\n\t\t// this.redraw();\n\t\tthis.onReadyCallback = null;\n\t\t\n\t\tthis.isReady = true;\n\t}\n\n\t_setupLayout() {\n\n\t\t// this.layoutWorker = new Worker(new URL('../layouts/ngraphLayoutWorker.js', import.meta.url));\n\t\t// this.layoutWorker = new Worker(new URL('../layouts/d3force3dLayoutWorker.js', import.meta.url));\n\t\tthis.newPositions = this.network.positions.slice(0);\n\t\tlet onlayoutUpdate = (data) => {\n\t\t\tthis.newPositions = data.positions;\n\t\t\tlet interpolatorTask = {\n\t\t\t\tname: \"1.1.positionInterpolator\",\n\t\t\t\tcallback: (elapsedTime,task)=>{\n\t\t\t\t\tlet maxDisplacement = 0;\n\t\t\t\t\tfor (let index = 0; index < this.network.positions.length; index++) {\n\t\t\t\t\t\tlet displacement = this.newPositions[index] - this.network.positions[index];\n\t\t\t\t\t\tthis.network.positions[index] += 0.05 * (displacement)*elapsedTime/10;\n\t\t\t\t\t\t\n\t\t\t\t\t\tmaxDisplacement = Math.max(Math.abs(displacement), maxDisplacement);\n\t\t\t\t\t};\n\t\t\t\t\tthis._updateCenterNodesPosition();\n\t\t\t\t\tthis.updateCameraInterpolation(true);\n\t\t\t\t\t// console.log(this.scheduler._averageFPS);\n\n\t\t\t\t\tif (maxDisplacement < 1) {\n\t\t\t\t\t\tthis.scheduler.unschedule(\"1.1.positionInterpolator\");\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdelay:0,\n\t\t\t\trepeat:true,\n\t\t\t\tsynchronized:true,\n\t\t\t\timmediateUpdates:false,\n\t\t\t\tredraw: true,\n\t\t\t\tupdateNodesGeometry: true,\n\t\t\t\tupdateEdgesGeometry: true,\n\t\t\t}\n\t\t\tthis.scheduler.schedule({\n\t\t\t\tname: \"1.0.positionChange\",\n\t\t\t\tcallback: (elapsedTime,task)=>{\n\t\t\t\t\t// let maxDisplacement = 0;\n\t\t\t\t\t// for (let index = 0; index < this.network.positions.length; index++) {\n\t\t\t\t\t// \tlet displacement = this.newPositions[index] - this.network.positions[index];\n\t\t\t\t\t// \tmaxDisplacement = Math.max(Math.abs(displacement), maxDisplacement);\n\t\t\t\t\t// };\n\t\t\t\t\tthis.scheduler.schedule(interpolatorTask);\n\t\t\t\t\t// console.log(this.scheduler._averageFPS);\n\t\t\t\t},\n\t\t\t\tdelay:0,\n\t\t\t\trepeat:false,\n\t\t\t\tsynchronized:true,\n\t\t\t\timmediateUpdates:false,\n\t\t\t\tredraw: false,\n\t\t\t\tupdateNodesGeometry: false,\n\t\t\t\tupdateEdgesGeometry: false,\n\t\t\t});\n\t\t};\n\t\t\n\t\tlet onLayoutStop = () =>{\n\t\t\tthis.onLayoutStopCallback?.();\n\t\t}\n\n\t\tlet onLayoutStart = () =>{\n\t\t\tthis.onLayoutStartCallback?.();\n\t\t}\n\n\n\t\tthis.layoutWorker = new d3ForceLayoutWorker({\n\t\t\tnetwork:this.network,\n\t\t\tonUpdate: onlayoutUpdate,\n\t\t\tonStop: onLayoutStop,\n\t\t\tonStart: onLayoutStart,\n\t\t\tuse2D: this._use2D\n\t\t});\n\n\t\tif(this._autoStartLayout){\n\t\t\tthis.layoutWorker.start();\n\t\t}\n\n\t\t\n\t}\n\n\tpauseLayout(){\n\t\t// this.layoutWorker.postMessage({ type: \"stop\"});\n\t\t// this.layoutRunning=false;\n\t\tthis.layoutWorker.pause();\n\t}\n\n\tresumeLayout(){\n\t\t// this.layoutWorker.postMessage({ type: \"restart\" });\n\t\t// this.layoutRunning=true;\n\t\tthis.layoutWorker.resume();\n\t}\n\n\t_callEventFromPickID(pickID, eventType, event) {\n\t\tlet pickObject = null;\n\t\tlet isNode = true;\n\t\tif(pickID >= 0){\n\t\t\tif (pickID <this.network.nodeCount) {\n\t\t\t\tisNode = true;\n\t\t\t\tpickObject = this.network.index2Node[pickID];\n\t\t\t}else if(pickID >=this.network.nodeCount){\n\t\t\t\tlet edgeIndex = pickID - this.network.nodeCount;\n\t\t\t\tif(edgeIndex<this.network.indexedEdges.length/2){\n\t\t\t\t\tlet edge = {\n\t\t\t\t\t\t\"source\": this.network.index2Node[this.network.indexedEdges[2*edgeIndex]],\n\t\t\t\t\t\t\"target\": this.network.index2Node[this.network.indexedEdges[2*edgeIndex+1]],\n\t\t\t\t\t\t\"index\": edgeIndex\n\t\t\t\t\t}\n\t\t\t\t\tisNode = false;\n\t\t\t\t\tpickObject = edge;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// if(eventType!=\"hoverMove\"){\n\t\t// \tconsole.log({\n\t\t// \t\tisNode: isNode,\n\t\t// \t\teventType: eventType,\n\t\t// \t\tpickObject: pickObject,\n\t\t// \t})\n\t\t// }\n\t\tif(pickObject){\n\t\t\tswitch (eventType) {\n\t\t\t\tcase \"click\":{\n\t\t\t\t\tif(isNode){\n\t\t\t\t\t\tthis.onNodeClickCallback?.(pickObject, event);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.onEdgeClickCallback?.(pickObject, event);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"doubleClick\":{\n\t\t\t\t\tif(isNode){\n\t\t\t\t\t\tthis.onNodeDoubleClickCallback?.(pickObject, event);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.onEdgeDoubleClickCallback?.(pickObject, event);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"hoverStart\":{\n\t\t\t\t\tif(isNode){\n\t\t\t\t\t\tthis.onNodeHoverStartCallback?.(pickObject, event);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.onEdgeHoverStartCallback?.(pickObject, event);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"hoverMove\":{\n\t\t\t\t\tif(isNode){\n\t\t\t\t\t\tthis.onNodeHoverMoveCallback?.(pickObject, event);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.onEdgeHoverMoveCallback?.(pickObject, event);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"hoverEnd\":{\n\t\t\t\t\tif(isNode){\n\t\t\t\t\t\tthis.onNodeHoverEndCallback?.(pickObject, event);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.onEdgeHoverEndCallback?.(pickObject, event);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t_setupEvents() {\n\t\tthis.lastMouseX = -1;\n\t\tthis.lastMouseY = -1;\n\n\t\tthis.currentHoverIndex = -1;\n\n\t\tif(this._autoCleanup){\n\t\t\tthis._mutationObserver = new MutationObserver((events) => {\n\t\t\t\tfor (let index = 0; index < events.length; index++) {\n\t\t\t\t\tlet event = events[index];\n\t\t\t\t\tif(event.type==\"childList\"){\n\t\t\t\t\t\tif(event.removedNodes.length>0){\n\t\t\t\t\t\t\tfor (let index = 0; index < event.removedNodes.length; index++) {\n\t\t\t\t\t\t\t\tlet element = event.removedNodes[index];\n\t\t\t\t\t\t\t\tif(element == this.canvasElement || element == this.element){\n\t\t\t\t\t\t\t\t\tthis._mutationObserver.disconnect();\n\t\t\t\t\t\t\t\t\tthis.cleanup();\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if (element.removedNodes.length > 0) {\n\t\t\t\t// \tconsole.log(\"Element removed\");\n\t\t\t\t// \tthis._mutationObserver.disconnect();\n\t\t\t\t// \tthis.cleanup();\n\t\t\t\t// }\n\t\t\t});\n\n\t\t\tthis._mutationObserver.observe(this.element, { childList: true });\n\t\t\tthis._mutationObserver.observe(this.element.parentNode, { childList: true });\n\t\t}\n\t\t\n\t\t//Event listeners\n\t\tthis._clickEventListener = (event) => {\n\t\t\tconst rect = this.canvasElement.getBoundingClientRect();\n\t\t\t\n\t\t\tthis.lastMouseX = event.clientX;\n\t\t\tthis.lastMouseY = event.clientY;\n\t\t\tconst pickID = this.pickPoint(this.lastMouseX - rect.left, this.lastMouseY - rect.top);\n\t\t\tif(pickID >= 0){\n\t\t\t\tthis._callEventFromPickID(pickID, \"click\", event);\n\t\t\t}else{\n\t\t\t\tthis.onNodeClickCallback?.(null, event);\n\t\t\t\tthis.onEdgeClickCallback?.(null, event);\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis._doubleClickEventListener = (event) => {\n\t\t\tconst rect = this.canvasElement.getBoundingClientRect();\n\t\t\t\n\t\t\tthis.lastMouseX = event.clientX;\n\t\t\tthis.lastMouseY = event.clientY;\n\t\t\tconst pickID = this.pickPoint(this.lastMouseX - rect.left, this.lastMouseY - rect.top);\n\t\t\tif(pickID >= 0){\n\t\t\t\tthis._callEventFromPickID(pickID, \"doubleClick\", event);\n\t\t\t}else{\n\t\t\t\tthis.onNodeDoubleClickCallback?.(null, event);\n\t\t\t\tthis.onEdgeDoubleClickCallback?.(null, event);\n\t\t\t}\n\t\t};\n\n\t\tthis._hoverMoveEventListener = (event) => {\n\t\t\tthis.lastMouseX = event.clientX;\n\t\t\tthis.lastMouseY = event.clientY;\n\t\t\tthis.triggerHoverEvents(event);\n\t\t};\n\t\t\n\t\tthis._hoverLeaveEventListener = (event) => {\n\t\t\tif (this.currentHoverIndex >= 0) {\n\t\t\t\tthis._callEventFromPickID(this.currentHoverIndex, \"hoverEnd\", event);\n\t\t\t\tthis.currentHoverIndex = -1;\n\t\t\t\tthis.lastMouseX = -1;\n\t\t\t\tthis.lastMouseY = -1;\n\t\t\t}\n\t\t};\n\n\t\tthis._hoverLeaveWindowEventListener = (event) => {\n\t\t\tif (!event.relatedTarget && !event.toElement) {\n\t\t\t\tif (this.currentHoverIndex >= 0) {\n\t\t\t\t\tthis._callEventFromPickID(this.currentHoverIndex, \"hoverEnd\", event);\n\t\t\t\t\tthis.currentHoverIndex = -1;\n\t\t\t\t\tthis.lastMouseX = -1;\n\t\t\t\t\tthis.lastMouseY = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// this.canvasElement.onclick = this._clickEventListener;\n\t\t// this.canvasElement.ondblclick = this._doubleClickEventListener;\n\n\t\tthis.canvasElement.addEventListener(\"click\",this._clickEventListener);\n\t\tthis.canvasElement.addEventListener(\"dblclick\",this._doubleClickEventListener);\n\n\t\tthis.canvasElement.addEventListener(\"mousemove\", this._hoverMoveEventListener);\n\t\tthis.canvasElement.addEventListener(\"mouseleave\", this._hoverLeaveEventListener);\n\t\tdocument.body.addEventListener(\"mouseout\", this._hoverLeaveWindowEventListener);\n\t}\n\n\tasync _downloadImageData(imagedata, filename, supersampleFactor,fileFormat) {\n\t\t// let canvas = document.getElementById('SUPERCANVAS');\n\t\tlet pica = new Pica({\n\t\t\t// features:[\"all\"],\n\t\t})\n\t\tlet canvas = document.createElement('canvas');\n\t\tlet canvasFullSize = document.createElement('canvas');\n\t\tlet ctx = canvas.getContext('2d');\n\t\tlet ctxFullSize = canvasFullSize.getContext('2d');\n\t\tcanvasFullSize.width = imagedata.width;\n\t\tcanvasFullSize.height = imagedata.height;\n\t\tcanvas.width = imagedata.width/supersampleFactor;\n\t\tcanvas.height = imagedata.height/supersampleFactor;\n\t\tctx.imageSmoothingEnabled = true;\n\t\tctxFullSize.imageSmoothingEnabled = true;\n\t\tif(typeof ctx.imageSmoothingQuality !== 'undefined'){\n\t\t\tctx.imageSmoothingQuality = 'high';\n\t\t}\n\t\tif(typeof ctxFullSize.imageSmoothingQuality !== 'undefined'){\n\t\t\tctxFullSize.imageSmoothingQuality = 'high';\n\t\t}\n\n\t\t// let dpr = window.devicePixelRatio || 1;\n\t\t// canvas.style.width =  canvas.width/dpr/10 + \"px\";\n\t\t// canvas.style.height = canvas.height/dpr/10 + \"px\";\n\n\n\t\tctxFullSize.putImageData(imagedata, 0, 0);\n\t\tctxFullSize.transform(1, 0, 0, -1, 0, canvasFullSize.height)\n\t\tctxFullSize.globalCompositeOperation = \"copy\"; // if you have transparent pixels\n\t\tctxFullSize.drawImage(ctxFullSize.canvas,0,0);\n\t\tctxFullSize.globalCompositeOperation = \"source-over\"; // reset to default\n\n\t\tawait pica.resize(canvasFullSize,canvas,{\n\t\t\talpha:true,\n\t\t});\n\n\t\t// ctxFullSize.drawImage(canvasFullSize, 0, 0,canvasFullSize.width*0.5,canvasFullSize.height*0.5,0,0,\n\t\t// \timagedata.width/supersampleFactor,\n\t\t// \timagedata.height/supersampleFactor);\n\t\t// ctx.drawImage(canvasFullSize, 0, 0,canvasFullSize.width,canvasFullSize.height,0,0,\n\t\t// \timagedata.width/supersampleFactor,\n\t\t// \timagedata.height/supersampleFactor);\n\t\t\n\t\t\n\t\t// let image = new Image();\n\t\t// let imageSRC = canvas.toDataURL()\n\t\t// image.src = imageSRC;\n\t\tlet downloadLink = document.createElement('a');\n\t\t// console.log([\"CANVAS\",imageSRC]);\n\n\t\t\t\t\t\n\t\tif(isSafari){\n\t\t\t// BUG in Safari\n\t\t\t// console.log(\"Workaround safari bug...\");\n\t\t\tcanvas.toDataURL();\n\t\t}\n\n\t\tdownloadLink.setAttribute('download', filename);\n\t\tlet blob = await pica.toBlob(canvas,\"image/png\");\n\t\tif(blob){\n\t\t\tif(filename.endsWith(\"svg\")){\n\t\t\t\tlet svgText = `\n\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\t\t\twidth=\"${canvas.width}\" height=\"${canvas.width}\"\n\t\t\t\t>\n\t\t\t\t<image\n\t\t\t\t\t\twidth=\"${canvas.width}\" height=\"${canvas.width}\"\n\t\t\t\t\t\txlink:href=\"${blob}\"\n\t\t\t\t\t\t/>\n\t\t\t\t</svg>`\n\t\t\t\tdownloadLink.setAttribute('download', filename);\n\t\t\t\tlet blobSVG = new Blob([svgText], {type: 'image/svg+xml'});\n\t\t\t\tlet url = URL.createObjectURL(blobSVG);\n\t\t\t\tdownloadLink.setAttribute('href', url);\n\t\t\t\tdownloadLink.click();\n\t\t\t}else{\n\t\t\t\tlet url = URL.createObjectURL(blob);\n\t\t\t\tdownloadLink.setAttribute('href', url);\n\t\t\t\tdownloadLink.click();\n\t\t\t}\n\t\t}else{\n\t\t\twindow.alert(`An error occured while trying to download the image. Please try again. (Error: blob is null.)`);\n\t\t\t// console.log(\"BLOB IS NULL\");\n\t\t}\n\n\t\tif(filename.endsWith(\"svg\")){\n\t\t\tlet svgText = `\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\t\twidth=\"${canvas.width}\" height=\"${canvas.width}\"\n\t\t\t>\n\t\t\t<image\n\t\t\t\t\twidth=\"${canvas.width}\" height=\"${canvas.width}\"\n\t\t\t\t\txlink:href=\"${canvas.toDataURL()}\"\n\t\t\t\t\t/>\n\t\t\t</svg>`\n\t\t\tdownloadLink.setAttribute('download', filename);\n\t\t\tlet blob = new Blob([svgText], {type: 'image/svg+xml'});\n\t\t\tlet url = URL.createObjectURL(blob);\n\t\t\tdownloadLink.setAttribute('href', url);\n\t\t\tdownloadLink.click();\n\t\t}else if (false){\n\t\t\tdownloadLink.setAttribute('download', filename);\n\t\t\tdownloadLink.setAttribute('href', canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\"));\n\t\t\tdownloadLink.click();\n\t\t}else{\n\n\t\t\t// canvas.toBlob(function(blob) {\n\t\t\t// \tconsole.log([\"CANVAS\",blob]);\n\t\t\t// \tlet trials = 3;\n\t\t\t// \tlet success = false;\n\t\t\t// \tlet lastError = null;\n\t\t\t// \twhile(trials>0 && !success){\n\t\t\t// \t\t// FIXME: Safari BUG\n\t\t\t// \t\ttry {\n\t\t\t// \t\t\tlet url = URL.createObjectURL(blob);\n\t\t\t// \t\t\tdownloadLink.setAttribute('href', url);\n\t\t\t// \t\t\tdownloadLink.click();\n\t\t\t// \t\t\tsuccess=true;\n\t\t\t// \t\t} catch (error) {\n\t\t\t// \t\t\tlastError = error;\n\t\t\t// \t\t}\n\t\t\t// \t\ttrials--;\n\t\t\t// \t}\n\t\t\t// \tif(!success){\n\t\t\t// \t\twindow.alert(`An error occured while trying to download the image. Please try again. (Error: ${lastError})`)\n\t\t\t// \t}\n\t\t\t// });\n\t\t}\n\t}\n\n\tframebufferImage(framebuffer) { \n\t\tconst fbWidth = framebuffer.size.width;\n\t\tconst fbHeight = framebuffer.size.height;\n\t\tconst data = new Uint8ClampedArray(4*fbWidth*fbHeight);\n\t\tlet gl = this.gl;\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\t\tgl.readPixels(\n\t\t\t0,            // x\n\t\t\t0,            // y\n\t\t\tfbWidth,                 // width\n\t\t\tfbHeight,                 // height\n\t\t\tgl.RGBA,           // format\n\t\t\tgl.UNSIGNED_BYTE,  // type\n\t\t\tdata);             // typed array to hold result\n\n\t\treturn new ImageData(data, fbWidth, fbHeight);\n\t}\n\n\texportFigure(filename,{\n\t\t\tscale=1.0,\n\t\t\tsupersampleFactor=4.0,\n\t\t\twidth=null,\n\t\t\theight=null,\n\t\t\tbackgroundColor = null,\n\t\t}) {\n\t\tif(typeof(scale)==='undefined'){\n\t\t\tscale=1.0;\n\t\t}\n\t\tif(typeof(supersampleFactor)==='undefined'){\n\t\t\tsupersampleFactor=2.0;\n\t\t}\n\t\tlet framebuffer = this.createOffscreenFramebuffer();\n\t\tif(width==null && height==null){\n\t\t\twidth = this.canvasElement.width;\n\t\t\theight = this.canvasElement.height;\n\t\t}else if(width==null){\n\t\t\twidth = Math.round(height * this.canvasElement.width/this.canvasElement.height);\n\t\t}else if(height==null){\n\t\t\theight = Math.round(width * this.canvasElement.height/this.canvasElement.width);\n\t\t}\n\t\tif(backgroundColor==null){\n\t\t\tbackgroundColor = this.backgroundColor;\n\t\t}\n\t\tframebuffer.setSize(width*scale*supersampleFactor, height*scale*supersampleFactor);\n\t\tframebuffer.backgroundColor = backgroundColor;\n\t\tthis._redrawAll(framebuffer);\n\t\tlet image = this.framebufferImage(framebuffer);\n\t\tthis._downloadImageData(image,filename,supersampleFactor);\n\t\t\n\t\tframebuffer.discard();\n\t}\n\n\ttriggerHoverEvents(event,shallCancel) {\n\t\tif(!this.isReady){\n\t\t\treturn;\n\t\t}\n\t\tif(this.lastMouseX==-1 || this.lastMouseY==-1){\n\t\t\treturn;\n\t\t}\n\n\t\tlet pickID = -1;\n\t\tif(!this.interacting){\n\t\t\tconst rect = this.canvasElement.getBoundingClientRect();\n\t\t\tpickID = this.pickPoint(this.lastMouseX - rect.left, this.lastMouseY - rect.top);\n\t\t}\n\t\t// let nodesCount = \n\t\tif (pickID >= 0 && this.currentHoverIndex == -1) {\n\t\t\tthis.currentHoverIndex = pickID;\n\t\t\tthis._callEventFromPickID(pickID, \"hoverStart\", event);\n\t\t} else if (pickID >= 0 && this.currentHoverIndex == pickID) {\n\t\t\t// console.log(\"mouse: \",this.lastMouseX,this.lastMouseY)\n\t\t\tthis._callEventFromPickID(pickID, \"hoverMove\", event);\n\t\t} else if (pickID >= 0 && this.currentHoverIndex != pickID) {\n\t\t\tthis._callEventFromPickID(this.currentHoverIndex, \"hoverEnd\", event);\n\t\t\tthis.currentHoverIndex = pickID;\n\t\t\tthis._callEventFromPickID(pickID, \"hoverStart\", event);\n\t\t} else if (pickID == -1 && this.currentHoverIndex != pickID) {\n\t\t\tthis._callEventFromPickID(this.currentHoverIndex, \"hoverEnd\", event);\n\t\t\tthis.currentHoverIndex = -1;\n\t\t}\n\t}\n\n\n\n\t_setupShaders() {\n\t\tlet gl = this.gl;\n\n\t\tthis.edgesShaderProgram = new glUtils.ShaderProgram(\n\t\t\tglUtils.getShaderFromString(gl,edgesShaders.vertexShader,gl.VERTEX_SHADER),\n\t\t\tglUtils.getShaderFromString(gl,edgesShaders.fragmentShader,gl.FRAGMENT_SHADER),\n\t\t\t[\"viewMatrix\", \"projectionMatrix\", \"nearFar\",\n\t\t\t\"globalOpacityScale\",\"globalWidthScale\",\"globalSizeScale\",\"globalOpacityBase\",\"globalWidthBase\",\"globalSizeBase\"],\n\t\t\t[\"fromVertex\", \"toVertex\", \"vertexType\", \"fromColor\", \"toColor\", \"fromSize\", \"toSize\", \"encodedIndex\"],\n\t\t\tthis.gl);\n\n\t\tthis.edgesFastShaderProgram = new glUtils.ShaderProgram(\n\t\t\tglUtils.getShaderFromString(gl,edgesShaders.fastVertexShader,gl.VERTEX_SHADER),\n\t\t\tglUtils.getShaderFromString(gl,edgesShaders.fastFragmentShader,gl.FRAGMENT_SHADER),\n\t\t\t[\"projectionViewMatrix\", \"nearFar\", \"globalOpacityScale\",\"globalOpacityBase\"],\n\t\t\t[\"vertex\", \"color\"],\n\t\t\tthis.gl);\n\n\t\tthis.edgesPickingShaderProgram = new glUtils.ShaderProgram(\n\t\t\tglUtils.getShaderFromString(gl,edgesShaders.vertexShader,gl.VERTEX_SHADER),\n\t\t\tglUtils.getShaderFromString(gl,edgesShaders.pickingShader,gl.FRAGMENT_SHADER),\n\t\t\t[\"viewMatrix\", \"projectionMatrix\", \"nearFar\",\n\t\t\t\"globalOpacityScale\",\"globalWidthScale\",\"globalSizeScale\",\"globalOpacityBase\",\"globalWidthBase\",\"globalSizeBase\"],\n\t\t\t[\"fromVertex\", \"toVertex\", \"vertexType\", \"fromColor\", \"toColor\", \"fromSize\", \"toSize\", \"encodedIndex\"],\n\t\t\tthis.gl);\n\n\n\t\tthis.nodesShaderProgram = new glUtils.ShaderProgram(\n\t\t\tglUtils.getShaderFromString(gl,nodesShaders.vertexShader,gl.VERTEX_SHADER),\n\t\t\tglUtils.getShaderFromString(gl,nodesShaders.fragmentShader,gl.FRAGMENT_SHADER),\n\t\t\t[\"viewMatrix\", \"projectionMatrix\", \"normalMatrix\",\n\t\t\t\"globalOpacityScale\",\"globalSizeScale\",\"globalOutlineWidthScale\",\"globalOpacityBase\",\"globalSizeBase\",\"globalOutlineWidthBase\"],\n\t\t\t[\"vertex\", \"position\", \"color\", \"size\", \"outlineWidth\", \"outlineColor\", \"encodedIndex\"], this.gl);\n\n\t\tthis.nodesFastShaderProgram = new glUtils.ShaderProgram(\n\t\t\tglUtils.getShaderFromString(gl,nodesShaders.fastVertexShader,gl.VERTEX_SHADER),\n\t\t\tglUtils.getShaderFromString(gl,nodesShaders.fastFragmentShader,gl.FRAGMENT_SHADER),\n\t\t\t[\"viewMatrix\", \"projectionMatrix\", \"normalMatrix\",\n\t\t\t\"globalOpacityScale\",\"globalSizeScale\",\"globalOutlineWidthScale\",\"globalOpacityBase\",\"globalSizeBase\",\"globalOutlineWidthBase\"],\n\t\t\t[\"vertex\", \"position\", \"color\", \"size\", \"outlineWidth\", \"outlineColor\", \"encodedIndex\"], this.gl);\n\t\n\t\tthis.nodesPickingShaderProgram = new glUtils.ShaderProgram(\n\t\t\tglUtils.getShaderFromString(gl,nodesShaders.vertexShader,gl.VERTEX_SHADER),\n\t\t\tglUtils.getShaderFromString(gl,nodesShaders.pickingShader,gl.FRAGMENT_SHADER),\n\t\t\t[\"viewMatrix\", \"projectionMatrix\", \"normalMatrix\",\n\t\t\t\"globalOpacityScale\",\"globalSizeScale\",\"globalOutlineWidthScale\",\"globalOpacityBase\",\"globalSizeBase\",\"globalOutlineWidthBase\"],\n\t\t\t[\"vertex\", \"position\", \"color\", \"size\", \"outlineWidth\", \"outlineColor\", \"encodedIndex\"], this.gl);\n\t}\n\n\t_buildPickingBuffers() {\n\t\tlet gl = this.gl;\n\t\tthis.pickingFramebuffer = this.createOffscreenFramebuffer();\n\t}\n\n\tcreateOffscreenFramebuffer() {\n\t\tlet gl = this.gl;\n\t\tlet framebuffer = gl.createFramebuffer();\n\t\tframebuffer.texture = gl.createTexture();\n\t\tgl.bindTexture(gl.TEXTURE_2D, framebuffer.texture);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n\t\tframebuffer.depthBuffer = gl.createRenderbuffer();\n\t\tgl.bindRenderbuffer(gl.RENDERBUFFER, framebuffer.depthBuffer);\n\n\t\t// Create and bind the framebuffer\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\t\tframebuffer.size = {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t};\n\n\t\tframebuffer.setSize = (width, height) => {\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, framebuffer.texture);\n\t\t\t// define size and format of level 0\n\t\t\tconst level = 0;\n\t\t\tconst internalFormat = gl.RGBA;\n\t\t\tconst border = 0;\n\t\t\tconst format = gl.RGBA;\n\t\t\tconst type = gl.UNSIGNED_BYTE;\n\t\t\tconst data = null;\n\t\t\tconst fbWidth = width;\n\t\t\tconst fbHeight = height;\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, level, internalFormat,\n\t\t\t\tfbWidth, fbHeight, border, format, type, data);\n\t\t\tgl.bindRenderbuffer(gl.RENDERBUFFER, framebuffer.depthBuffer);\n\t\t\tgl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, fbWidth, fbHeight);\n\t\t\tframebuffer.size.width = width;\n\t\t\tframebuffer.size.height = height;\n\t\t};\n\n\t\tframebuffer.discard = () =>{\n\t\t\tgl.deleteRenderbuffer(framebuffer.depthBuffer);\n\t\t\tgl.deleteTexture(framebuffer.texture);\n\t\t\tgl.deleteFramebuffer(framebuffer);\n\t\t}\n\t\t// attach the texture as the first color attachment\n\t\tconst attachmentPoint = gl.COLOR_ATTACHMENT0;\n\t\tconst level = 0;\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, attachmentPoint, gl.TEXTURE_2D, framebuffer.texture, level);\n\n\t\t// make a depth buffer and the same size as the targetTexture\n\t\tgl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, framebuffer.depthBuffer);\n\t\treturn framebuffer;\n\t}\n\n\t_buildNodesGeometry() {\n\t\tlet gl = this.gl;\n\t\tlet sphereQuality = 20;\n\t\t// this.nodesGeometry = glUtils.makeSphere(gl, 1.0, sphereQuality, sphereQuality);\n\t\tthis.nodesGeometry = glUtils.makePlane(gl, false, false);\n\t\t// //vertexShape = makeBox(gl);\n\n\n\n\t\tthis.nodesPositionBuffer = gl.createBuffer();\n\t\tthis.nodesColorBuffer = gl.createBuffer();\n\t\tthis.nodesSizeBuffer = gl.createBuffer();\n\t\tthis.nodesOutlineWidthBuffer = gl.createBuffer();\n\t\tthis.nodesOutlineColorBuffer = gl.createBuffer();\n\t\tthis.nodesIndexBuffer = gl.createBuffer();\n\n\t\t//encodedIndex\n\t\tthis.nodesIndexArray = new Float32Array(this.network.index2Node.length * 4);\n\t\tfor (let ID = 0; ID < this.network.index2Node.length; ID++) {\n\t\t\tthis.nodesIndexArray[4 * ID] = (((ID + 1) >> 0) & 0xFF) / 0xFF;\n\t\t\tthis.nodesIndexArray[4 * ID + 1] = (((ID + 1) >> 8) & 0xFF) / 0xFF;\n\t\t\tthis.nodesIndexArray[4 * ID + 2] = (((ID + 1) >> 16) & 0xFF) / 0xFF;\n\t\t\tthis.nodesIndexArray[4 * ID + 3] = (((ID + 1) >> 24) & 0xFF) / 0xFF;\n\t\t}\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesIndexBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, this.nodesIndexArray, gl.STATIC_DRAW);\n\t\t// console.log(this.nodesIndexArray)\n\n\t\tthis.updateNodesGeometry();\n\t}\n\n\n\tupdateNodesGeometry() {\n\t\tlet gl = this.gl;\n\n\t\tlet positions = this.network.positions;\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesPositionBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, positions, gl.DYNAMIC_DRAW);\n\n\t\tlet colors = this.network.colors;\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesColorBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n\n\t\tlet sizes = this.network.sizes;\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesSizeBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, sizes, gl.STATIC_DRAW);\n\n\t\tlet outlineWidths = this.network.outlineWidths;\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesOutlineWidthBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, outlineWidths, gl.STATIC_DRAW);\n\t\t\n\t\tlet outlineColors = this.network.outlineColors;\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesOutlineColorBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, outlineColors, gl.STATIC_DRAW);\n\n\n\t\t// //Depth test is essential for the desired effects\n\n\t\t// gl.disable(gl.CULL_FACE);\n\t\t// gl.frontFace(gl.CCW);\n\n\t}\n\n\t_buildFastEdgesGeometry(){\n\t\tlet gl = this.gl;\n\t\tlet edges = this.network.indexedEdges;\n\t\tlet positions = this.network.positions;\n\t\tlet colors = this.network.colors;\n\t\t\n\t\tlet indicesArray;\n\t\tthis.fastEdgesGeometry = null;\n\t\tthis.fastEdgesIndicesArray = null;\n\t\tlet newGeometry = new Object();\n\t\t//FIXME: If num of vertices > 65k, we need to store the geometry in two different indices objects\n\t\tif (positions.length < 65535) {\n\t\t\tindicesArray = new Uint16Array(edges);\n\t\t\tnewGeometry.indexType = gl.UNSIGNED_SHORT;\n\t\t} else {\n\t\t\tvar uints_for_indices = gl.getExtension(\"OES_element_index_uint\");\n\t\t\tif (uints_for_indices == null) {\n\t\t\t\tindicesArray = new Uint16Array(edges);\n\t\t\t\tnewGeometry.indexType = gl.UNSIGNED_SHORT;\n\t\t\t} else {\n\t\t\t\tindicesArray = new Uint32Array(edges);\n\t\t\t\tnewGeometry.indexType = gl.UNSIGNED_INT;\n\t\t\t}\n\t\t}\n\n\t\t// create the lines buffer 2 vertices per geometry.\n\t\tnewGeometry.vertexObject = gl.createBuffer();\n\t\tnewGeometry.colorObject = gl.createBuffer();\n\t\tnewGeometry.numIndices = indicesArray.length;\n\t\tnewGeometry.indexObject = gl.createBuffer();\n\n\t\tthis.fastEdgesGeometry = newGeometry;\n\t\tthis.fastEdgesIndicesArray = indicesArray;\n\n\t}\n\n\t_buildAdvancedEdgesGeometry() {\n\t\tlet gl = this.gl;\n\t\tlet edgeVertexTypeArray = [\n\t\t\t0,1,\n\t\t\t0,0,\n\t\t\t1,1,\n\t\t\t1,0,\n\t\t];\n\t\tlet newGeometry = new Object();\n\t\tnewGeometry.edgeVertexTypeBuffer = gl.createBuffer();\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, newGeometry.edgeVertexTypeBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array(edgeVertexTypeArray), gl.STATIC_DRAW);\n\n\t\tnewGeometry.verticesBuffer = gl.createBuffer();\n\t\tnewGeometry.colorBuffer = gl.createBuffer();\n\t\tnewGeometry.sizeBuffer = gl.createBuffer();\n\t\t// this.nodesOutlineWidthBuffer = gl.createBuffer();\n\t\t// this.nodesOutlineColorBuffer = gl.createBuffer();\n\t\tnewGeometry.indexBuffer = gl.createBuffer();\n\n\t\tthis.edgesGeometry = newGeometry;\n\t\tthis.edgesGeometry.count = this.network.indexedEdges.length/2;\n\n\t\t//encodedIndex\n\t\tthis.edgesGeometry.edgesIndexArray = new Float32Array(this.network.indexedEdges.length*4/2);\n\t\tthis._edgeIndicesUpdate = true;\n\t\t// console.log(this.nodesIndexArray)\n\t}\n\n\t_buildEdgesGeometry() {\n\t\tif(this.fastEdges){\n\t\t\tthis._buildFastEdgesGeometry();\n\t\t}else{\n\t\t\tthis._buildAdvancedEdgesGeometry();\n\t\t}\n\t\tthis.updateEdgesGeometry()\n\t}\n\n\t_updateEdgeIndices(){\n\t\tif(this._edgeIndicesUpdate){\n\t\t\tlet gl = this.gl;\n\t\t\tfor (let ID = 0; ID < this.network.indexedEdges.length/2; ID++) {\n\t\t\t\tlet edgeID = this.network.index2Node.length + ID;\n\t\t\t\tif(this._pickeableEdges.has(ID)){\n\t\t\t\t\tthis.edgesGeometry.edgesIndexArray[4 * ID] = (((edgeID + 1) >> 0) & 0xFF) / 0xFF;\n\t\t\t\t\tthis.edgesGeometry.edgesIndexArray[4 * ID + 1] = (((edgeID + 1) >> 8) & 0xFF) / 0xFF;\n\t\t\t\t\tthis.edgesGeometry.edgesIndexArray[4 * ID + 2] = (((edgeID + 1) >> 16) & 0xFF) / 0xFF;\n\t\t\t\t\tthis.edgesGeometry.edgesIndexArray[4 * ID + 3] = (((edgeID + 1) >> 24) & 0xFF) / 0xFF;\n\t\t\t\t}else{\n\t\t\t\t\tthis.edgesGeometry.edgesIndexArray[4 * ID] = 0;\n\t\t\t\t\tthis.edgesGeometry.edgesIndexArray[4 * ID + 1] = 0;\n\t\t\t\t\tthis.edgesGeometry.edgesIndexArray[4 * ID + 2] = 0;\n\t\t\t\t\tthis.edgesGeometry.edgesIndexArray[4 * ID + 3] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.indexBuffer);\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, this.edgesGeometry.edgesIndexArray, gl.DYNAMIC_DRAW);\n\t\t\tthis._edgeIndicesUpdate = false;\n\t\t}\n\t}\n\n\tupdateEdgesGeometry() {\n\t\tlet gl = this.gl;\n\t\tlet edges = this.network.indexedEdges;\n\t\tlet positions = this.network.positions;\n\t\tlet colors = this.network.colors;\n\t\tif(this.fastEdges){\n\t\t\tif(!this.fastEdgesGeometry){\n\t\t\t\tthis._buildEdgesGeometry();\n\t\t\t}\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.fastEdgesGeometry.vertexObject);\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, positions, gl.STREAM_DRAW);\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.fastEdgesGeometry.colorObject);\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n\t\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.fastEdgesGeometry.indexObject);\n\t\t\tgl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.fastEdgesIndicesArray, gl.STREAM_DRAW);\n\t\t}else{\n\n\t\t\tlet gl = this.gl;\n\t\t\tthis.network.updateEdgePositions();\n\t\t\tthis.network.updateEdgeColors();\n\t\t\tthis.network.updateEdgeSizes();\n\t\t\tthis._updateEdgeIndices();\n\n\t\t\tlet edgePositions = this.network.positions;\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.verticesBuffer);\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, this.network.edgePositions, gl.DYNAMIC_DRAW);\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.colorBuffer);\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, this.network.edgeColors, gl.DYNAMIC_DRAW);\n\n\t\t\t// gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.edgesGeometry.indexBuffer);\n\t\t\t// gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.edgesGeometry.edgesIndexArray, gl.DYNAMIC_DRAW);\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.sizeBuffer);\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, this.network.edgeSizes, gl.DYNAMIC_DRAW);\n\t\t}\n\t\t\n\t}\n\n\tresizeGL(newWidth, newHeight) {\n\t\tthis.pickingFramebuffer.setSize(newWidth*this.pickingResolutionRatio, newHeight*this.pickingResolutionRatio);\n\t\t// window.requestAnimationFrame(() => this.redraw());\n\t\tthis.render(true);\n\t}\n\n\n\n\t_setupCamera() {\n\t\t// this.canvasElement.onmousedown = event=>this.handleMouseDown(event);\n\t\t// document.onmouseup = event=>this.handleMouseUp(event);\n\t\t// document.onmousemove = event=>this.handleMouseMove(event);\n\t\t// document.onclick = void(0);\n\t\t\n\t\t\n\t\tthis.zoom = d3Zoom().on(\"zoom\", event => {\n\t\t\tthis.interacting=true;\n\t\t\tthis._zoomFactor = event.transform.k;\n\t\t\tthis.triggerHoverEvents(event);\n\t\t\t// check if prevX is undefined\n\t\t\tif(this.prevK=== undefined){\n\t\t\t\tthis.prevK = event.transform.k;\n\t\t\t}\n\t\t\tlet dx = 0;\n\t\t\tlet dy = 0;\n\t\t\tif(this.prevK == event.transform.k){\n\t\t\t\tif(this.prevX=== undefined){\n\t\t\t\t\tdx = event.transform.x;\n\t\t\t\t\tdy = event.transform.y;\n\t\t\t\t}else{\n\t\t\t\t\tdx = event.transform.x - this.prevX*this._zoomFactor;\n\t\t\t\t\tdy = event.transform.y - this.prevY*this._zoomFactor;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t}\n\t\t\t\n\t\t\tthis.prevX = event.transform.x/this._zoomFactor;\n\t\t\tthis.prevY = event.transform.y/this._zoomFactor;\n\t\t\tthis.prevK = event.transform.k;\n\t\t\t\n\t\t// \tif (!this.positionInterpolator) {\n\t\t// \t\tthis.update();\n\t\t// \t\tthis.render();\n\t\t// \t}\n\t\t// \t// event => event.preventDefault();\n\t\t// })\n\t\t// // this.drag = d3Drag().on(\"drag\", event => {\n\t\t// // \tlet dx = event.dx;\n\t\t// // \tlet dy = event.dy;\n\t\t\n\t\t// this.zoom2 = d3Zoom().scaleExtent([1.0,1.0]).on(\"zoom\", event => {\n\t\t// \tconsole.log(\"ZOOM 2\")\n\t\t// \t// let dx = event.dx;\n\t\t// \t// let dy = event.dy;\n\t\t\t// let dx = 0;\n\t\t\t// let dy = 0;\n\t\t\t// if(this.prevX=== undefined){\n\t\t\t// \tdx = event.transform.x;\n\t\t\t// \tdy = event.transform.y;\n\t\t\t// }else{\n\t\t\t// \tdx = event.transform.x - this.prevX;\n\t\t\t// \tdy = event.transform.y - this.prevY;\n\t\t\t// }\n\t\t\t\n\t\t\tlet newRotationMatrix = glm.mat4.create();\n\t\t\t// console.log(event.sourceEvent.shiftKey)\n\t\t\tif (this._use2D || event.sourceEvent?.shiftKey) {\n\t\t\t\tlet perspectiveFactor = this.cameraDistance * this._zoomFactor;\n\t\t\t\tlet aspectRatio = this.canvasElement.width / this.canvasElement.height;\n\t\t\t\tif(this._centerNodes.length==0){\n\t\t\t\t\tthis.panX = this.panX + dx/this._zoomFactor;///400;\n\t\t\t\t\tthis.panY = this.panY - dy/this._zoomFactor;///400;\n\t\t\t\t}\n\t\t\t} else {//pan\n\t\t\t\tglm.mat4.identity(newRotationMatrix);\n\t\t\t\tglm.mat4.rotate(newRotationMatrix, newRotationMatrix, glUtils.degToRad( dx/ 2), [0, 1, 0]);\n\t\t\t\tglm.mat4.rotate(newRotationMatrix, newRotationMatrix, glUtils.degToRad(dy / 2), [1, 0, 0]);\n\n\t\t\t\tglm.mat4.multiply(this.rotationMatrix, newRotationMatrix, this.rotationMatrix);\n\t\t\t}\n\t\t\t\n\t\t\tthis.update();\n\t\t\tthis.render();\n\t\t\t// this.triggerHoverEvents(event);\n\t\t\tevent => event.preventDefault();\n\t\t})\n\t\t// .on(\"start\", event => {\n\t\t// \tconsole.log(\"start\")\n\t\t// })\n\t\t.on(\"end\", event => {this.interacting=false;});\n\t\t\n\t\td3Select(this.canvasElement)//\n\t\t\t// .call(d3ZoomTransform, d3ZoomIdentity.translate(0, 0).scale(this.cameraDistance))\n\t\t\t// .call(this.drag)\n\t\t\t.call(this.zoom)\n\t\t\t// .on(\"mousedown.drag\", null)\n\t\t\t// .on(\"touchstart.drag\", null)\n\t\t\t// .on(\"touchmove.drag\", null)\n\t\t\t// .on(\"touchend.drag\", null)\n\t\t\t.on(\"dblclick.zoom\", null);\n\n\n\t\t// this.zoomFactor(0.05)\n\t\t// this.zoomFactor(1.0,500);\n\t}\n\tzoomFactor(zoomFactor,duration){\n\t\tif(zoomFactor !== undefined){\n\t\t\tif(duration === undefined){\n\t\t\t\td3Select(this.canvasElement).call(this.zoom.transform, d3ZoomIdentity.translate(0, 0).scale(zoomFactor))\n\t\t\t}else{\n\t\t\t\td3Select(this.canvasElement).transition().ease(d3Ease.easeLinear).duration(duration).call(this.zoom.transform, d3ZoomIdentity.translate(0, 0).scale(zoomFactor))\n\t\t\t}\n\t\t\treturn this;\n\t\t}else{\n\t\t\treturn this._zoomFactor;\n\t\t}\n\t}\n\n\twillResizeEvent(event) {\n\t\t//requestAnimFrame(function(){\n\t\tlet dpr = window.devicePixelRatio || 1;\n\t\tif(dpr<2.0 || this.forceSupersample){\n\t\t\tdpr=2.0;\n\t\t}\n\t\t\n\t\tthis.canvasElement.style.width = this.element.clientWidth + \"px\";\n\t\tthis.canvasElement.style.height = this.element.clientHeight + \"px\";\n\t\tthis.canvasElement.width = dpr * this.element.clientWidth;\n\t\tthis.canvasElement.height = dpr * this.element.clientHeight;\n\t\tthis.resizeGL(this.canvasElement.width, this.canvasElement.height);\n\t\tthis.onResizeCallback?.(event);\n\t\t//});\n\t}\n\n\n\tredraw() {\n\t\tthis._redrawAll(null,false); // Normal\n\t\tthis._redrawAll(this.pickingFramebuffer,true); // Picking\n\t\tthis.onDrawCallback?.();\n\t\tthis.triggerHoverEvents(null);\n\t\treturn this;\n\t}\n\n\n\tupdate(immediate = false, nodes=true, edges=true) {\n\t\tthis.scheduler.schedule({\n\t\t\tname: \"9.0.update\",\n\t\t\tcallback: null,\n\t\t\tdelay:0,\n\t\t\trepeat:false,\n\t\t\tsynchronized:true,\n\t\t\timmediateUpdates:immediate,\n\t\t\t// redraw: true,\n\t\t\tupdateNodesGeometry: nodes,\n\t\t\tupdateEdgesGeometry: edges,\n\t\t});\n\t\treturn this;\n\t}\n\t\n\n\trender(immediate = false) {\n\t\t// if (!this.positionInterpolator) {\n\t\t// \twindow.requestAnimationFrame(() => this.redraw());\n\t\t// }\n\t\t\n\t\tthis.scheduler.schedule({\n\t\t\tname: \"9.9.render\",\n\t\t\tcallback: null,\n\t\t\tdelay:0,\n\t\t\trepeat:false,\n\t\t\tsynchronized:true,\n\t\t\timmediateUpdates:immediate,\n\t\t\tredraw: true,\n\t\t\t// updateNodesGeometry: true,\n\t\t\t// updateEdgesGeometry: true,\n\t\t});\n\t\treturn this;\n\t}\n\n\n\t//destination null = normal\n\n\t_redrawPrepare(destination,isPicking, viewport) {\n\t\tlet gl = this.gl;\n\n\t\tconst fbWidth = destination?.size.width || this.canvasElement.width;\n\t\tconst fbHeight = destination?.size.height || this.canvasElement.height;\n\t\tif (destination==null) {\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\t\t\tgl.clearColor(...this._backgroundColor);\n\t\t} else if (isPicking){\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, destination);\n\t\t\tgl.clearColor(0.0, 0.0, 0.0, 0.0);\n\t\t} else {\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, destination);\n\t\t\tif(typeof destination.backgroundColor === \"undefined\"){\n\t\t\t\tgl.clearColor(...this._backgroundColor);\n\t\t\t}else{\n\t\t\t\tgl.clearColor(...destination.backgroundColor);\n\t\t\t}\n\t\t}\n\n\t\tif(typeof viewport=== \"undefined\"){\n\t\t\tgl.viewport(0, 0, fbWidth, fbHeight);\n\t\t}else{\n\t\t\tgl.viewport(...viewport);\n\t\t}\n\n\t\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\t\tgl.depthFunc(gl.LEQUAL);\n\n\t\tthis.projectionMatrix = glm.mat4.create();\n\t\tthis.viewMatrix = glm.mat4.create();\n\n\t\tglm.mat4.perspective(this.projectionMatrix, Math.PI * 2 / 360 * 70, fbWidth / fbHeight, 1.0, 10000.0);\n\t\t// let orthoRescaleFactor = isPicking?this.pickingResolutionRatio:1.0;\n\t\t// glm.mat4.ortho(this.projectionMatrix,\n\t\t// \t-fbWidth / this._zoomFactor/orthoRescaleFactor,\n\t\t// \t fbWidth / this._zoomFactor/orthoRescaleFactor,\n\t\t// \t-fbHeight / this._zoomFactor/orthoRescaleFactor,\n\t\t// \t fbHeight / this._zoomFactor/orthoRescaleFactor,\n\t\t// \t -10000.0, 10000.0);\n\n\t\tglm.mat4.identity(this.viewMatrix);\n\t\tglm.mat4.translate(this.viewMatrix, this.viewMatrix, [this.panX, this.panY, -this.cameraDistance / this._zoomFactor]);\n\n\n\t\tglm.mat4.multiply(this.viewMatrix, this.viewMatrix, this.rotationMatrix);\n\t\t// glm.mat4.scale(this.viewMatrix, this.viewMatrix, [this._zoomFactor, this._zoomFactor, this._zoomFactor]);\n\t\tglm.mat4.translate(this.viewMatrix, this.viewMatrix, this.translatePosition);\n\n\n\t}\n\t\n\t_redrawNodes(destination,isPicking) {\n\t\tlet gl = this.gl;\n\t\tlet ext = gl.getExtension(\"ANGLE_instanced_arrays\");\n\n\n\t\tlet currentShaderProgram;\n\t\tif (!isPicking) {\n\t\t\t// console.log(this.nodesShaderProgram);\n\t\t\tgl.enable(gl.BLEND);\n\t\t\t\t// if(this.useAdditiveBLending){\n\t\t\t// gl.blendFunc(gl.SRC_ALPHA, gl.ONE);\n\t\t\t// \t}else{\n\t\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\t\t\t// gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA,\n\t\t\t// \tgl.ZERO, gl.ONE);\n\t\t\t// \t}\n\t\t\tif(this.useShadedNodes){\n\t\t\t\tcurrentShaderProgram = this.nodesShaderProgram;\n\t\t\t}else{\n\t\t\t\tcurrentShaderProgram = this.nodesFastShaderProgram;\n\t\t\t}\n\t\t} else {\n\t\t\tgl.disable(gl.BLEND);\n\t\t\t// console.log(this.nodesShaderProgram);\n\t\t\tcurrentShaderProgram = this.nodesPickingShaderProgram;\n\t\t}\n\n\t\tcurrentShaderProgram.use(gl);\n\t\tcurrentShaderProgram.attributes.enable(\"vertex\");\n\t\t// currentShaderProgram.attributes.enable(\"normal\");\n\t\tcurrentShaderProgram.attributes.enable(\"position\");\n\t\tcurrentShaderProgram.attributes.enable(\"size\");\n\t\tcurrentShaderProgram.attributes.enable(\"outlineWidth\");\n\t\tcurrentShaderProgram.attributes.enable(\"outlineColor\");\n\t\tcurrentShaderProgram.attributes.enable(\"encodedIndex\");\n\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesGeometry.vertexObject);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.vertex, 3, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.vertex, 0);\n\n\t\t// gl.bindBuffer(gl.ARRAY_BUFFER, this.nodesGeometry.normalObject);\n\t\t// gl.vertexAttribPointer(currentShaderProgram.attributes.normal, 3, gl.FLOAT, false, 0, 0);\n\t\t// ext.vertexAttribDivisorANGLE(currentShaderProgram.attributes.normal, 0); \n\n\t\tif (this.nodesGeometry.indexObject) {\n\t\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.nodesGeometry.indexObject);\n\t\t}\n\n\t\tgl.uniformMatrix4fv(currentShaderProgram.uniforms.projectionMatrix, false, this.projectionMatrix);\n\t\tgl.uniformMatrix4fv(currentShaderProgram.uniforms.viewMatrix, false, this.viewMatrix);\n\t\t\n\t\tgl.uniform1f(currentShaderProgram.uniforms.globalOpacityScale, this._nodesGlobalOpacityScale);\n\t\tgl.uniform1f(currentShaderProgram.uniforms.globalOpacityBase, this._nodesGlobalOpacityBase);\n\n\t\tgl.uniform1f(currentShaderProgram.uniforms.globalSizeScale, this._nodesGlobalSizeScale);\n\t\tgl.uniform1f(currentShaderProgram.uniforms.globalSizeBase, this._nodesGlobalSizeBase);\n\n\t\tgl.uniform1f(currentShaderProgram.uniforms.globalOutlineWidthScale, this._nodesGlobalOutlineWidthScale);\n\t\tgl.uniform1f(currentShaderProgram.uniforms.globalOutlineWidthBase, this._nodesGlobalOutlineWidthBase);\n\n\t\tlet normalMatrix = glm.mat3.create();\n\t\tglm.mat3.normalFromMat4(normalMatrix, this.viewMatrix);\n\t\tgl.uniformMatrix3fv(currentShaderProgram.uniforms.normalMatrix, false, normalMatrix);\n\n\t\t// Geometry Mutators and colors obtained from the network properties\n\t\tlet colorsArray = this.network.colors;\n\t\tlet positionsArray = this.network.positions;\n\t\tlet sizeValue = this.network.sizes;\n\t\tlet outlineWidthValue = this.network.outlineWidths;\n\n\t\t// Bind the instance position data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesPositionBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.position);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.position, 3, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.position, 1); // This makes it instanced!\n\n\t\t// Bind the instance color data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesColorBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.color);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.color, 4, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.color, 1); // This makes it instanced!\n\n\t\t// Bind the instance color data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesSizeBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.size);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.size, 1, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.size, 1); // This makes it instanced!\n\n\t\t// Bind the instance color data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesOutlineColorBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.outlineColor);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.outlineColor, 4, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.outlineColor, 1); // This makes it instanced!\n\n\t\t// Bind the instance color data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesOutlineWidthBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.outlineWidth);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.outlineWidth, 1, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.outlineWidth, 1); // This makes it instanced!\n\n\t\t// Bind the instance color data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesIndexBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.encodedIndex);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.encodedIndex, 4, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.encodedIndex, 1); // This makes it instanced!\n\n\t\t// console.log(this.network.positions.length/3)\n\t\t// Draw the instanced meshes\n\t\tif (this.nodesGeometry.indexObject) {\n\t\t\text.drawElementsInstancedANGLE(gl.TRIANGLES, this.nodesGeometry.numIndices, this.nodesGeometry.indexType, 0, this.network.positions.length / 3);\n\t\t} else {\n\t\t\text.drawArraysInstancedANGLE(gl.TRIANGLE_STRIP, 0, this.nodesGeometry.numIndices, this.network.positions.length / 3);\n\t\t}\n\n\t\t// Disable attributes\n\t\tcurrentShaderProgram.attributes.disable(\"vertex\");\n\t\t// this.nodesShaderProgram.attributes.disable(\"normal\");\n\t\tcurrentShaderProgram.attributes.disable(\"position\");\n\t\tcurrentShaderProgram.attributes.disable(\"size\");\n\t\tcurrentShaderProgram.attributes.disable(\"outlineWidth\");\n\t\tcurrentShaderProgram.attributes.disable(\"outlineColor\");\n\t\tcurrentShaderProgram.attributes.disable(\"encodedIndex\");\n\t}\n\n\t_redrawEdges(destination,isPicking) {\n\n\t\tlet hasEdgeCallbacks = this.onEdgeClickCallback\n\t\t\t\t|| this.onEdgeHoverMoveCallback\n\t\t\t\t|| this.onEdgeHoverStartCallback\n\t\t\t\t|| this.onEdgeHoverEndCallback\n\t\t\t\t|| this.onEdgeDoubleClickCallback\n\t\t\t\t|| this.onEdgeClickCallback;\n\t\t\n\t\tif(isPicking && (this.fastEdges || !hasEdgeCallbacks)) {\n\t\t\treturn // no picking for fast edges or no callbacks\n\t\t}\n\n\t\tlet gl = this.gl;\n\t\tlet ext = gl.getExtension(\"ANGLE_instanced_arrays\");\n\t\t\n\t\tlet currentShaderProgram;\n\t\tif (!isPicking) {\n\t\t\tgl.enable(gl.BLEND);\n\t\t\t// \t//Edges are rendered with additive blending.\n\t\t\t// \tgl.enable(gl.BLEND);\n\t\t\tif(this.useAdditiveBlending) {\n\t\t\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE);\n\t\t\t}else{\n\t\t\t\t// gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\t\t\t\t// gl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n\t\t\t\t// gl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ZERO, gl.ONE ); //Original from Networks 3D\n\t\t\t\tgl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE ); // New (works for transparent background)\n\t\t\t}\n\t\t\tif (this.fastEdges) {\n\t\t\t\tcurrentShaderProgram = this.edgesFastShaderProgram;\n\t\t\t}else{\n\t\t\t\tcurrentShaderProgram = this.edgesShaderProgram;\n\t\t\t}\n\t\t} else {\n\t\t\tgl.disable(gl.BLEND);\n\t\t\t// console.log(\"PICKING EDGESSSS\");\n\t\t\tcurrentShaderProgram = this.edgesPickingShaderProgram;\n\t\t}\n\n\t\tif (this.fastEdges) {\n\t\t\t// console.log(this.edgesShaderProgram)\n\n\t\t\tcurrentShaderProgram.use(gl);\n\t\t\tcurrentShaderProgram.attributes.enable(\"vertex\");\n\t\t\tcurrentShaderProgram.attributes.enable(\"color\");\n\t\t\t// currentShaderProgram.attributes.enable(\"encodedIndex\");\n\n\t\t\t\n\t\t\tthis.projectionViewMatrix = glm.mat4.create();\n\t\t\tglm.mat4.multiply(this.projectionViewMatrix, this.projectionMatrix, this.viewMatrix);\n\t\t\t\n\t\t\t//bind attributes and unions\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.fastEdgesGeometry.vertexObject);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.vertex, 3, gl.FLOAT, false, 0, 0);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.vertex, 0); // This makes it instanced!\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.fastEdgesGeometry.colorObject);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.color, 4, gl.FLOAT, false, 0, 0);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.color, 0); // This makes it instanced!\n\n\t\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.fastEdgesGeometry.indexObject);\n\n\t\t\tgl.uniformMatrix4fv(currentShaderProgram.uniforms.projectionViewMatrix, false, this.projectionViewMatrix);\n\n\t\t\t//gl.uniform2fv(edgesShaderProgram.uniforms.nearFar,[0.1,10.0]);\n\t\t\tgl.uniform1f(currentShaderProgram.uniforms.globalOpacityScale, this._edgesGlobalOpacityScale);\n\t\t\tgl.uniform1f(currentShaderProgram.uniforms.globalOpacityBase, this._edgesGlobalOpacityBase);\n\t\t\t\n\n\t\t\t//drawElements is called only 1 time. no overhead from javascript\n\t\t\tgl.drawElements(gl.LINES, this.fastEdgesGeometry.numIndices, this.fastEdgesGeometry.indexType, 0);\n\n\t\t\t//disabling attributes\n\t\t\tcurrentShaderProgram.attributes.disable(\"vertex\");\n\t\t\tcurrentShaderProgram.attributes.disable(\"color\");\n\t\t\t// currentShaderProgram.attributes.disable(\"encodedIndex\");\n\t\t}else{\n\t\t\tcurrentShaderProgram.use(gl);\n\t\t\tcurrentShaderProgram.attributes.enable(\"fromVertex\");\n\t\t\tcurrentShaderProgram.attributes.enable(\"toVertex\");\n\t\t\tcurrentShaderProgram.attributes.enable(\"vertexType\");\n\t\t\tcurrentShaderProgram.attributes.enable(\"fromColor\");\n\t\t\tcurrentShaderProgram.attributes.enable(\"toColor\");\n\t\t\tcurrentShaderProgram.attributes.enable(\"fromSize\");\n\t\t\tcurrentShaderProgram.attributes.enable(\"toSize\");\n\t\t\tcurrentShaderProgram.attributes.enable(\"encodedIndex\");\n\n\t\t\t// newGeometry.edgeVertexTypeBuffer = gl.createBuffer();\n\t\t\t// newGeometry.verticesBuffer = gl.createBuffer();\n\t\t\t// newGeometry.colorBuffer = gl.createBuffer();\n\t\t\t// newGeometry.sizeBuffer = gl.createBuffer();\n\t\t\t// newGeometry.indexBuffer = gl.createBuffer();\n\t\t\t// console.log(currentShaderProgram.attributes);\n\t\t\tthis.projectionViewMatrix = glm.mat4.create();\n\t\t\tglm.mat4.multiply(this.projectionViewMatrix, this.projectionMatrix, this.viewMatrix);\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.edgeVertexTypeBuffer);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.vertexType, 2, gl.FLOAT, false, 0, 0);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.vertexType, 0);\n\t\t\t\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.verticesBuffer);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.fromVertex, 3, gl.FLOAT, false, 4*3*2, 0);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.fromVertex, 1);\n\t\t\t\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.verticesBuffer);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.toVertex, 3, gl.FLOAT, false, 4*3*2, 4*3);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.toVertex, 1);\n\n\t\t\t\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.colorBuffer);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.fromColor, 4, gl.FLOAT, false, 4*4*2, 0);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.fromColor, 1);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.toColor, 4, gl.FLOAT, false, 4*4*2, 4*4);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.toColor, 1);\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.sizeBuffer);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.fromSize, 1, gl.FLOAT, false, 4*2, 0);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.fromSize, 1);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.toSize, 1, gl.FLOAT, false, 4*2, 4);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.toSize, 1);\n\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.indexBuffer);\n\t\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.encodedIndex);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.encodedIndex, 4, gl.FLOAT, false, 0, 0);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.encodedIndex, 1); // This makes it instanced!\n\n\t\t\t// gl.bindBuffer(gl.ARRAY_BUFFER, this.nodesGeometry.normalObject);\n\t\t\t// gl.vertexAttribPointer(currentShaderProgram.attributes.normal, 3, gl.FLOAT, false, 0, 0);\n\t\t\t// ext.vertexAttribDivisorANGLE(currentShaderProgram.attributes.normal, 0); \n\n\t\t\tgl.uniformMatrix4fv(currentShaderProgram.uniforms.projectionMatrix, false, this.projectionMatrix);\n\t\t\tgl.uniformMatrix4fv(currentShaderProgram.uniforms.viewMatrix, false, this.viewMatrix);\n\n\t\t\t//gl.uniform2fv(edgesShaderProgram.uniforms.nearFar,[0.1,10.0]);\n\t\t\tgl.uniform1f(currentShaderProgram.uniforms.globalOpacityScale, this._edgesGlobalOpacityScale);\n\t\t\tgl.uniform1f(currentShaderProgram.uniforms.globalOpacityBase, this._edgesGlobalOpacityBase);\n\t\t\t\n\t\t\tgl.uniform1f(currentShaderProgram.uniforms.globalWidthScale, this._edgesGlobalWidthScale);\n\t\t\tgl.uniform1f(currentShaderProgram.uniforms.globalWidthBase, this._edgesGlobalWidthBase);\n\n\t\t\tgl.uniform1f(currentShaderProgram.uniforms.globalSizeScale, this._nodesGlobalSizeScale);\n\t\t\tgl.uniform1f(currentShaderProgram.uniforms.globalSizeBase, this._nodesGlobalSizeBase);\n\n\t\t\t// 01,11,21\n\t\t\t// let cameraUp = glm.vec3.fromValues(this.viewMatrix[1], this.viewMatrix[5], this.viewMatrix[9]);\n\t\t\t// // let cameraUp = glm.vec3.fromValues(0, 1.0, 0);\n\t\t\t// // 00,10,20\n\t\t\t// let cameraRight = glm.vec3.fromValues(this.viewMatrix[0], this.viewMatrix[4], this.viewMatrix[8]);\n\t\t\t// let cameraForward = glm.vec3.fromValues(this.viewMatrix[2], this.viewMatrix[6], this.viewMatrix[10]);\n\n\t\t\t// console.log(cameraUp);\n\t\t\t// glm.vec3.normalize(cameraUp, cameraUp);\n\t\t\t// glm.vec3.normalize(cameraRight, cameraRight);\n\t\t\t// glm.vec3.cross(cameraForward,cameraUp,cameraRight);\n\t\t\t// glm.vec3.normalize(cameraForward, cameraForward);\n\t\t\t// gl.uniform3fv(currentShaderProgram.uniforms.cameraUp, cameraUp);\n\t\t\t// gl.uniform3fv(currentShaderProgram.uniforms.cameraRight, cameraRight);\n\t\t\t// gl.uniform3fv(currentShaderProgram.uniforms.cameraForward, cameraForward);\n\t\t\t// cameraRight;// = normalize(vec3(viewMatrix[0][0], viewMatrix[1][0], viewMatrix[2][0]));\n\t\t\t// cameraUp;// = normalize(vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]));\n\t\t\t// cameraForward;// = normalize(vec3(viewMatrix[0][2], viewMatrix[1][2], viewMatrix[2][2]));\n\t\t\t\n\t\t\text.drawArraysInstancedANGLE(gl.TRIANGLE_STRIP, 0, 4, this.edgesGeometry.count);\n\t\t\t\n\t\t\tcurrentShaderProgram.attributes.disable(\"fromVertex\");\n\t\t\tcurrentShaderProgram.attributes.disable(\"toVertex\");\n\t\t\tcurrentShaderProgram.attributes.disable(\"vertexType\");\n\t\t\tcurrentShaderProgram.attributes.disable(\"fromColor\");\n\t\t\tcurrentShaderProgram.attributes.disable(\"toColor\");\n\t\t\tcurrentShaderProgram.attributes.disable(\"fromSize\");\n\t\t\tcurrentShaderProgram.attributes.disable(\"toSize\");\n\t\t\tcurrentShaderProgram.attributes.disable(\"encodedIndex\");\n\t\t\t// console.log(\"PICKING? \" + isPicking)\n\t\t}\n\t}\n\n\t_redrawAll(destination,isPicking) {\n\t\tif(typeof isPicking === 'undefined'){\n\t\t\tisPicking = false;\n\t\t}\n\t\tlet gl = this.gl;\n\t\t// isPicking=true;\n\t\tthis._redrawPrepare(destination,isPicking);\n\t\tgl.depthMask(true);\n\t\tif(this._use2D){\n\t\t\tgl.disable(gl.DEPTH_TEST);\n\t\t\tgl.depthMask(false);\n\t\t\tthis._redrawEdges(destination,isPicking);\n\t\t\tthis._redrawNodes(destination,isPicking);\n\t\t}else{\n\t\t\tgl.enable(gl.DEPTH_TEST);\n\t\t\tthis._redrawNodes(destination,isPicking);\n\t\t\tgl.depthMask(false);\n\t\t\tthis._redrawEdges(destination,isPicking);\n\t\t\tgl.depthMask(true);\n\t\t}\n\t}\n\n\t// onResizeCallback\n\t// onNodeClickCallback\n\t// onNodeHoverStartCallback \n\t// onNodeHoverEndCallback\n\t// onNodeHoverMoveCallback\n\t// onZoomCallback\n\t// onRotationCallback\n\t// onLayoutStartCallback\n\t// onLayoutFinishCallback\n\t// onDrawCallback\n\t\n\t_updateCenterNodesPosition(){\n\t\tthis.targetTranslatePosition[0] = 0;\n\t\tthis.targetTranslatePosition[1] = 0;\n\t\tthis.targetTranslatePosition[2] = 0;\n\t\t\n\t\tif(this._centerNodes && this._centerNodes.length > 0){\n\t\t\tfor (let i = 0; i < this._centerNodes.length; i++) {\n\t\t\t\tlet node = this._centerNodes[i];\n\t\t\t\t// if node is not of type node, get node by id\n\t\t\t\tlet pos = node.position;\n\t\t\t\tthis.targetTranslatePosition[0] -= pos[0];\n\t\t\t\tthis.targetTranslatePosition[1] -= pos[1];\n\t\t\t\tthis.targetTranslatePosition[2] -= pos[2];\n\t\t\t}\n\t\t\tlet lengthSize = this._centerNodes.length;\n\t\t\tthis.targetTranslatePosition[0] /= lengthSize;\n\t\t\tthis.targetTranslatePosition[1] /= lengthSize;\n\t\t\tthis.targetTranslatePosition[2] /= lengthSize;\n\t\t}\n\t}\n\n\tcenterOnNodes(nodes, duration) {\n\t\t//\n\t\tthis._centerNodes = [];\n\t\tfor(let i = 0; i < nodes.length; i++){\n\t\t\tlet node = nodes[i];\n\t\t\tif (node.ID === undefined) {\n\t\t\t\tnode = this.network.nodes[node];\n\t\t\t}\n\t\t\tthis._centerNodes.push(node);\n\t\t}\n\t\t\n\t\tthis.lastTranslatePosition[0] = this.translatePosition[0];\n\t\tthis.lastTranslatePosition[1] = this.translatePosition[1];\n\t\tthis.lastTranslatePosition[2] = this.translatePosition[2];\n\t\tthis.lastPanX = this.panX;\n\t\tthis.lastPanY = this.panY;\n\t\tif(duration === undefined || duration<=0){\n\t\t\tthis.translateDuration = 0;\n\t\t\tthis.translateStartTime = null;\n\t\t\t// this.update(); No need to update?\n\t\t\t// this.render();\n\t\t}else{\n\t\t\tthis.translateDuration = duration;\n\t\t\tthis.translateStartTime = performance.now();\n\t\t}\n\t\tthis.scheduleCameraInterpolation();\n\t\treturn this;\n\t}\n\n\tcenteredNodes(){\n\t\treturn this._centerNodes;\n\t}\n\n\tupdateCameraInterpolation(ignoreInstantaneousUpdate=false) {\n\t\tif(this.translateDuration==0){\n\t\t\tif(!ignoreInstantaneousUpdate){\n\t\t\t\tthis.translatePosition[0] = this.targetTranslatePosition[0];\n\t\t\t\tthis.translatePosition[1] = this.targetTranslatePosition[1];\n\t\t\t\tthis.translatePosition[2] = this.targetTranslatePosition[2];\n\t\t\t\tthis.panX = 0;\n\t\t\t\tthis.panY = 0;\n\t\t\t}\n\t\t\treturn false; //no need to continue\n\t\t}else{\n\t\t\tlet elapsedTime = performance.now()-this.translateStartTime;\n\t\t\tlet alpha = elapsedTime/this.translateDuration;\n\t\t\tif(alpha>1){\n\t\t\t\talpha=1.0;\n\t\t\t}\n\t\t\t// console.log(elapsedTime);\n\t\t\tthis.translatePosition[0] = (1.0-alpha)*this.lastTranslatePosition[0];\n\t\t\tthis.translatePosition[1] = (1.0-alpha)*this.lastTranslatePosition[1];\n\t\t\tthis.translatePosition[2] = (1.0-alpha)*this.lastTranslatePosition[2];\n\n\t\t\tthis.translatePosition[0] += alpha*this.targetTranslatePosition[0];\n\t\t\tthis.translatePosition[1] += alpha*this.targetTranslatePosition[1];\n\t\t\tthis.translatePosition[2] += alpha*this.targetTranslatePosition[2];\n\t\t\t\n\t\t\tthis.panX = (1.0-alpha)*this.lastPanX;\n\t\t\tthis.panY = (1.0-alpha)*this.lastPanY;\n\t\t\tthis.panX += alpha*this.targetPanX;\n\t\t\tthis.panY += alpha*this.targetPanY;\n\n\t\t\tif(alpha>=1.0){\n\t\t\t\treturn false;\n\t\t\t}else{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\tscheduleCameraInterpolation(){\n\t\tlet cameraInterpolatorTask = {\n\t\t\tname: \"1.1.cameraInterpolator\",\n\t\t\tcallback: (elapsedTime,task)=>{\n\t\t\t\tthis._updateCenterNodesPosition();\n\t\t\t\tif (!this.updateCameraInterpolation()) {\n\n\t\t\t\t\tthis.scheduler.unschedule(\"1.1.cameraInterpolator\");\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelay:0,\n\t\t\trepeat:true,\n\t\t\tsynchronized:true,\n\t\t\timmediateUpdates:false,\n\t\t\tredraw: true,\n\t\t\tupdateNodesGeometry: false,\n\t\t\tupdateEdgesGeometry: false,\n\t\t}\n\t\tthis.scheduler.schedule({\n\t\t\tname: \"1.0.cameraInterpolator\",\n\t\t\tcallback: (elapsedTime,task)=>{\n\t\t\t\tthis.scheduler.schedule(cameraInterpolatorTask);\n\t\t\t},\n\t\t\tdelay:0,\n\t\t\trepeat:false,\n\t\t\tsynchronized:true,\n\t\t\timmediateUpdates:false,\n\t\t\tredraw: false,\n\t\t\tupdateNodesGeometry: false,\n\t\t\tupdateEdgesGeometry: false,\n\t\t});\n\t}\n\n\tonResize(callback) {\n\t\tthis.onResizeCallback = callback;\n\t\treturn this;\n\t}\n\tonNodeClick(callback) {\n\t\tthis.onNodeClickCallback = callback;\n\t\treturn this;\n\t}\n\tonNodeDoubleClick(callback) {\n\t\tthis.onNodeDoubleClickCallback = callback;\n\t\treturn this;\n\t}\n\tonNodeHoverStart(callback) {\n\t\tthis.onNodeHoverStartCallback = callback;\n\t\treturn this;\n\t}\n\tonNodeHoverEnd(callback) {\n\t\tthis.onNodeHoverEndCallback = callback;\n\t\treturn this;\n\t}\n\tonNodeHoverMove(callback) {\n\t\tthis.onNodeHoverMoveCallback = callback;\n\t\treturn this;\n\t}\n\t\n\n\tonEdgeClick(callback) {\n\t\tthis.onEdgeClickCallback = callback;\n\t\treturn this;\n\t}\n\tonEdgeDoubleClick(callback) {\n\t\tthis.onEdgeDoubleClickCallback = callback;\n\t\treturn this;\n\t}\n\tonEdgeHoverStart(callback) {\n\t\tthis.onEdgeHoverStartCallback = callback;\n\t\treturn this;\n\t}\n\tonEdgeHoverEnd(callback) {\n\t\tthis.onEdgeHoverEndCallback = callback;\n\t\treturn this;\n\t}\n\tonEdgeHoverMove(callback) {\n\t\tthis.onEdgeHoverMoveCallback = callback;\n\t\treturn this;\n\t}\n\n\tonZoom(callback) {\n\t\tthis.onZoomCallback = callback;\n\t\treturn this;\n\t}\n\tonRotation(callback) {\n\t\tthis.onRotationCallback = callback;\n\t\treturn this;\n\t}\n\tonLayoutStart(callback) {\n\t\tthis.onLayoutStartCallback = callback;\n\t\tthis?.layoutWorker.onStart(() =>{\n\t\t\tthis.onLayoutStartCallback?.();\n\t\t});\n\t\treturn this;\n\t}\n\tonLayoutStop(callback) {\n\t\tthis.onLayoutStopCallback = callback;\n\t\tthis?.layoutWorker.onStop(() =>{\n\t\t\tthis.onLayoutStopCallback?.();\n\t\t});\n\t\treturn this;\n\t}\n\tonDraw(callback) {\n\t\tthis.onDrawCallback = callback;\n\t\treturn this;\n\t}\n\tonReady(callback){\n\t\tif(this.isReady){\n\t\t\tcallback?.(this);\n\t\t}else{\n\t\t\tthis.onReadyCallback = callback;\n\t\t}\n\t}\n\n\tbackgroundColor(color) {\n\t\t// check if color is defined\n\t\tif (typeof color === \"undefined\") {\n\t\t\treturn this._backgroundColor;\n\t\t} else {\n\t\t\tthis._backgroundColor = color;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\n\tnodeColor(colorInput, nodeID) {\n\t\tif (typeof nodeID === \"undefined\") {\n\t\t\tif (typeof colorInput === \"undefined\") {\n\t\t\t\treturn this.network.colors;\n\t\t\t} else if (typeof colorInput === \"function\") {\n\t\t\t\t// This may be used in future if we want to have a dynamic nodes\n\t\t\t\t// for (const [nodeID, node] of Object.entries(this.network.nodes)) {\n\t\t\t\t// \tlet nodeIndex = this.network.ID2index[nodeID];\n\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\t\tlet node = allNodes[nodeIndex];\n\t\t\t\t\tlet aColor = colorInput(node, nodeIndex, this.network);\n\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 0] = aColor[0];\n\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 1] = aColor[1];\n\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 2] = aColor[2];\n\t\t\t\t\tif(aColor.length > 3){\n\t\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 3] = aColor[3];\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} else if (typeof colorInput === \"number\") {\n\t\t\t\t//index\n\t\t\t\treturn this.network.colors[this.network.ID2index[colorInput]];\n\t\t\t} else {\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 0] = colorInput[0];\n\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 1] = colorInput[1];\n\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 2] = colorInput[2];\n\t\t\t\t\tif(colorInput.length > 3){\n\t\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 3] = colorInput[3];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof colorInput === \"function\") {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tlet aColor = colorInput(nodeID, nodeIndex, this.network);\n\t\t\t\tthis.network.colors[nodeIndex * 4 + 0] = aColor[0];\n\t\t\t\tthis.network.colors[nodeIndex * 4 + 1] = aColor[1];\n\t\t\t\tthis.network.colors[nodeIndex * 4 + 2] = aColor[2];\n\t\t\t\tif(aColor.length > 3){\n\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 3] = aColor[3];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.colors[nodeIndex * 4 + 0] = colorInput[0];\n\t\t\t\tthis.network.colors[nodeIndex * 4 + 1] = colorInput[1];\n\t\t\t\tthis.network.colors[nodeIndex * 4 + 2] = colorInput[2];\n\t\t\t\tif(colorInput.length > 3){\n\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 3] = colorInput[3];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\n\tnodeSize(sizeInput, nodeID) {\n\t\tif (typeof nodeID === \"undefined\") {\n\t\t\tif (typeof sizeInput === \"undefined\") {\n\t\t\t\treturn this.network.sizes;\n\t\t\t} else if (typeof sizeInput === \"function\") {\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\t\tlet node = allNodes[nodeIndex];\n\t\t\t\t\tlet aSize = sizeInput(node, this.network);\n\t\t\t\t\tthis.network.sizes[nodeIndex] = aSize;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\t\tthis.network.sizes[nodeIndex] = sizeInput;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof sizeInput === \"function\") {\n\t\t\t\tlet aSize = sizeInput(nodeID, this.network);\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.sizes[nodeIndex] = aSize;\n\t\t\t} else {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.sizes[nodeIndex] = sizeInput;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\n\tnodeOutlineColor(colorInput, nodeID) {\n\t\tif (typeof nodeID === \"undefined\") {\n\t\t\tif (typeof colorInput === \"undefined\") {\n\t\t\t\treturn this.network.outlineColors;\n\t\t\t} else if (typeof colorInput === \"function\") {\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\t\tlet node = allNodes[nodeIndex];\n\t\t\t\t\tlet aColor = colorInput(node, nodeIndex, this.network);\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 0] = aColor[0];\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 1] = aColor[1];\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 2] = aColor[2];\n\t\t\t\t\tif(aColor.length > 3){\n\t\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 3] = aColor[3];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (typeof colorInput === \"number\") {\n\t\t\t\t//index\n\t\t\t\treturn this.network.outlineColors[this.network.ID2index[colorInput]];\n\t\t\t} else {\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 0] = colorInput[0];\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 1] = colorInput[1];\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 2] = colorInput[2];\n\t\t\t\t\tif(colorInput.length > 3){\n\t\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 3] = colorInput[3];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof colorInput === \"function\") {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tlet aColor = colorInput(nodeID, nodeIndex, this.network);\n\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 0] = aColor[0];\n\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 1] = aColor[1];\n\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 2] = aColor[2];\n\t\t\t\tif(aColor.length > 3){\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 3] = aColor[3];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 0] = colorInput[0];\n\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 1] = colorInput[1];\n\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 2] = colorInput[2];\n\t\t\t\tif(colorInput.length > 3){\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 3] = colorInput[3];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\n\tnodeOutlineWidth(widthInput, nodeID) {\n\t\tif (typeof nodeID === \"undefined\") {\n\t\t\tif (typeof widthInput === \"undefined\") {\n\t\t\t\treturn this.network.outlineWidths;\n\t\t\t} else if (typeof widthInput === \"function\") {\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\t\tlet node = allNodes[nodeIndex];\n\t\t\t\t\tlet aWidth = widthInput(node, this.network);\n\t\t\t\t\tthis.network.outlineWidths[node.index] = aWidth;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\t\tthis.network.outlineWidths[nodeIndex] = widthInput;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof widthInput === \"function\") {\n\t\t\t\tlet aWidth = widthInput(nodeID, this.network);\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.outlineWidths[nodeIndex] = aWidth;\n\t\t\t} else {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.outlineWidths[nodeIndex] = widthInput;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\n\n\tpickPoint(x, y) {\n\t\tconst fbWidth = this.canvasElement.width * this.pickingResolutionRatio;\n\t\tconst fbHeight = this.canvasElement.height * this.pickingResolutionRatio;\n\t\tconst pixelX = Math.round(x * fbWidth / this.canvasElement.clientWidth - 0.5);\n\t\tconst pixelY = Math.round(fbHeight - y * fbHeight / this.canvasElement.clientHeight - 0.5);\n\t\tconst data = new Uint8Array(4);\n\t\tlet gl = this.gl;\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.pickingFramebuffer);\n\t\tgl.readPixels(\n\t\t\tpixelX,            // x\n\t\t\tpixelY,            // y\n\t\t\t1,                 // width\n\t\t\t1,                 // height\n\t\t\tgl.RGBA,           // format\n\t\t\tgl.UNSIGNED_BYTE,  // type\n\t\t\tdata);             // typed array to hold result\n\t\tconst ID = (data[0] + (data[1] << 8) + (data[2] << 16) + (data[3] << 24)) - 1;\n\t\treturn ID;\n\t}\n\n\tedgesGlobalOpacityScale(opacity) {\n\t\t// check if color is defined\n\t\tif (typeof opacity === \"undefined\") {\n\t\t\treturn this._edgesGlobalOpacityScale;\n\t\t} else {\n\t\t\tthis._edgesGlobalOpacityScale = opacity;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\tedgesGlobalOpacityBase(opacity) {\n\t\t// check if color is defined\n\t\tif (typeof opacity === \"undefined\") {\n\t\t\treturn this._edgesGlobalOpacityBase;\n\t\t} else {\n\t\t\tthis._edgesGlobalOpacityBase = opacity;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\tedgesGlobalWidthScale(width) {\n\t\t// check if color is defined\n\t\tif (typeof width === \"undefined\") {\n\t\t\treturn this._edgesGlobalWidthScale;\n\t\t} else {\n\t\t\tthis._edgesGlobalWidthScale = width;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\tedgesGlobalWidthBase(width) {\n\t\t// check if color is defined\n\t\tif (typeof width === \"undefined\") {\n\t\t\treturn this._edgesGlobalWidthBase;\n\t\t} else {\n\t\t\tthis._edgesGlobalWidthBase = width;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\n\tnodesGlobalOpacityScale(opacity) {\n\t\t// check if color is defined\n\t\tif (typeof opacity === \"undefined\") {\n\t\t\treturn this._nodesGlobalOpacityScale;\n\t\t} else {\n\t\t\tthis._nodesGlobalOpacityScale = opacity;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\tnodesGlobalOpacityBase(opacity) {\n\t\t// check if color is defined\n\t\tif (typeof opacity === \"undefined\") {\n\t\t\treturn this._nodesGlobalOpacityBase;\n\t\t} else {\n\t\t\tthis._nodesGlobalOpacityBase = opacity;\n\t\t\treturn this;\n\t\t}\n\t}\n\t\n\tnodesGlobalSizeScale(size) {\n\t\t// check if color is defined\n\t\tif (typeof size === \"undefined\") {\n\t\t\treturn this._nodesGlobalSizeScale;\n\t\t} else {\n\t\t\tthis._nodesGlobalSizeScale = size;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\tnodesGlobalSizeBase(size) {\n\t\t// check if color is defined\n\t\tif (typeof size === \"undefined\") {\n\t\t\treturn this._nodesGlobalSizeBase;\n\t\t} else {\n\t\t\tthis._nodesGlobalSizeBase = size;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\tnodesGlobalOutlineWidthScale(width) {\n\t\t// check if color is defined\n\t\tif (typeof width === \"undefined\") {\n\t\t\treturn this._nodesGlobalOutlineWidthScale;\n\t\t} else {\n\t\t\tthis._nodesGlobalOutlineWidthScale = width;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\tnodesGlobalOutlineWidthBase(width) {\n\t\t// check if color is defined\n\t\tif (typeof width === \"undefined\") {\n\t\t\treturn this._nodesGlobalOutlineWidthBase;\n\t\t} else {\n\t\t\tthis._nodesGlobalOutlineWidthBase = width;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\n\n\tnodeOpacity(colorInput) {\n\t\tif (typeof colorInput === \"undefined\") {\n\t\t\treturn this.network.colors.map(color => color[3]);\n\t\t} else if (typeof colorInput === \"function\") {\n\t\t\tlet allNodes = this.network.index2Node;\n\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\tlet node = allNodes[nodeIndex];\n\t\t\t\tlet anOpacity = colorInput(node, nodeIndex, this.network);\n\t\t\t\tthis.network.colors[nodeIndex * 4 + 3] = anOpacity;\n\t\t\t}\n\t\t}else {\n\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\tthis.network.colors[nodeIndex * 4 + 3] = colorInput;\n\t\t\t}\n\t\t}\n\t\n\t\treturn this;\n\t}\n\n\tadditiveBlending(enableAdditiveBlending) {\n\t\t// check if color is defined\n\t\tif (typeof enableAdditiveBlending === \"undefined\") {\n\t\t\treturn this.useAdditiveBlending;\n\t\t} else {\n\t\t\tthis.useAdditiveBlending = enableAdditiveBlending;\n\t\t\treturn this;\n\t\t}\n\t}\n\t\n\tshadedNodes(enableShadedNodes) {\n\t\t// check if shaded is defined\n\t\tif (typeof enableShadedNodes === \"undefined\") {\n\t\t\treturn this.useShadedNodes;\n\t\t} else {\n\t\t\tthis.useShadedNodes = enableShadedNodes;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\n\tpickeableEdges(pickables) {\n\t\t// check if color is defined\n\t\tif (typeof pickables === \"undefined\") {\n\t\t\treturn this._pickeableEdges;\n\t\t} else {\n\t\t\tif(pickables==\"all\"){\n\t\t\t\t// this._pickeableEdges = new Set(pickables);\n\t\t\t}else{\n\t\t\t\tthis._pickeableEdges = new Set(pickables);\n\t\t\t\t// console.log(this._pickeableEdges);\n\t\t\t\tthis._edgeIndicesUpdate = true;\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t}\n\n\tcleanup(keepGLContext){\n\t\t// console.log(\"Cleanup started\");\n\t\tthis.isReady=false;\n\t\tthis.layoutWorker.cleanup();\n\t\tthis.scheduler.stop();\n\t\tthis.layoutWorker = null;\n\t\tlet gl = this.gl;\n\t\tthis.onReadyCallback = null;\n\n\t\tthis.onNodeClickCallback = null;\n\t\tthis.onNodeDoubleClickCallback = null;\n\t\tthis.onNodeHoverStartCallback = null;\n\t\tthis.onNodeHoverMoveCallback = null;\n\t\tthis.onNodeHoverEndCallback = null;\n\n\t\tthis.onEdgeClickCallback = null;\n\t\tthis.onEdgeDoubleClickCallback = null;\n\t\tthis.onEdgeHoverStartCallback = null;\n\t\tthis.onEdgeHoverMoveCallback = null;\n\t\tthis.onEdgeHoverEndCallback = null;\n\t\t\n\t\t\n\t\tthis.onZoomCallback = null;\n\t\tthis.onRotationCallback = null;\n\t\tthis.onResizeCallback = null;\n\t\tthis.onLayoutStartCallback = null;\n\t\tthis.onLayoutStopCallback = null;\n\t\tthis.onDrawCallback = null;\n\t\tthis.onReadyCallback = null;\n\t\tthis.isReady=false;\n\n\t\twindow.removeEventListener('resize', this._onresizeEvent);\n\n\t\tif(this.canvasElement){\n\t\t\tthis.canvasElement.removeEventListener(\"click\",this._clickEventListener);\n\t\t\tthis.canvasElement.removeEventListener(\"dblclick\",this._doubleClickEventListener);\n\n\t\t\tthis.canvasElement.removeEventListener(\"mousemove\", this._hoverMoveEventListener);\n\t\t\tthis.canvasElement.removeEventListener(\"mouseleave\", this._hoverLeaveEventListener);\n\t\t\tdocument.body.removeEventListener(\"mouseout\", this._hoverLeaveWindowEventListener);\n\t\t}\n\t\t\n\t\tif(!keepGLContext && gl){\n\t\t\tlet numTextureUnits = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n\t\t\tthis.pickingFramebuffer?.discard();\n\t\t\tfor (let unit = 0; unit < numTextureUnits; ++unit) {\n\t\t\t\tgl.activeTexture(gl.TEXTURE0 + unit);\n\t\t\t\tgl.bindTexture(gl.TEXTURE_2D, null);\n\t\t\t\tgl.bindTexture(gl.TEXTURE_CUBE_MAP, null);\n\t\t\t}\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, null);\n\t\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n\t\t\tgl.bindRenderbuffer(gl.RENDERBUFFER, null);\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n\t\t\tgl.deleteBuffer(this.nodesPositionBuffer);\n\t\t\tgl.deleteBuffer(this.nodesColorBuffer);\n\t\t\tgl.deleteBuffer(this.nodesSizeBuffer);\n\t\t\tgl.deleteBuffer(this.nodesSizeBuffer);\n\t\t\tgl.deleteBuffer(this.nodesOutlineWidthBuffer);\n\t\t\tgl.deleteBuffer(this.nodesOutlineColorBuffer);\n\t\t\tgl.deleteBuffer(this.nodesIndexBuffer);\n\t\t\t\n\t\t\tif(this.edgesGeometry){\n\t\t\t\tgl.deleteBuffer(this.edgesGeometry.edgeVertexTypeBuffer);\n\t\t\t\tgl.deleteBuffer(this.edgesGeometry.verticesBuffer);\n\t\t\t\tgl.deleteBuffer(this.edgesGeometry.colorBuffer);\n\t\t\t\tgl.deleteBuffer(this.edgesGeometry.sizeBuffer);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.fastEdgesGeometry){\n\t\t\t\tgl.deleteBuffer(this.fastEdgesGeometry.indexBuffer);\n\t\t\t\tgl.deleteBuffer(this.fastEdgesGeometry.vertexObject);\n\t\t\t\tgl.deleteBuffer(this.fastEdgesGeometry.colorObject);\n\t\t\t\tgl.deleteBuffer(this.fastEdgesGeometry.indexObject);\n\t\t\t}\n\t\t}\n\t\tif(this._autoCleanup){\n\t\t\tthis._mutationObserver.disconnect();\n\t\t}\n\t\tif(this.canvasElement){\n\t\t\tthis.canvasElement.remove();\n\t\t}\n\t}\n}\n\n// Helios.xnet = xnet;\nexport { xnet };\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default scheme => interpolateRgbBasis(scheme[scheme.length - 1]);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","\n\nlet schemeCategory18 = [\n    \"#1f77b4\",\n    \"#ff7f0e\",\n    \"#2ca02c\",\n    \"#d62728\",\n    \"#9467bd\",\n    \"#8c564b\",\n    \"#e377c2\",\n    \"#bcbd22\",\n    \"#17becf\",\n    \"#aec7e8\",\n    \"#ffbb78\",\n    \"#98df8a\",\n    \"#ff9896\",\n    \"#c5b0d5\",\n    \"#c49c94\",\n    \"#f7b6d2\",\n    \"#dbdb8d\",\n    \"#9edae5\"\n];\n\nexport {schemeCategory18};\n","import { Helios, xnet } from \"../../src/helios.js\";\n\n// import {Helios,xnet} from \"https://cdn.skypack.dev/helios-web?min\";\nimport * as d3Chromatic from \"d3-scale-chromatic\"\nimport { scaleOrdinal as d3ScaleOrdinal, scaleSequential as d3ScaleSequential } from \"d3-scale\"\nimport { select as d3Select } from \"d3-selection\"\nimport { rgb as d3rgb } from \"d3-color\"\nimport * as extraColors from \"./extraColors\"\n\n\nlet allColors = {}\nObject.assign(allColors, d3Chromatic);\nObject.assign(allColors, extraColors);\nconsole.log(allColors)\n\nlet ignoredProperties = new Set([\"ID\",\"edges\",\"neighbors\"]);\n\n/*\n * Some auxiliary functions\n*/\nfunction sortByCount(anArray) {\n\tlet map = anArray.reduce((p, c) => {\n\t\tp.set(c, (p.get(c) || 0) + 1);\n\t\treturn p;\n\t}, new Map());\n\n\tlet newArray = Array.from(map.keys()).sort((a, b) => map.get(b) - map.get(a));\n\treturn newArray;\n}\n\nfunction downloadText(filename, text) {\n\tvar element = document.createElement('a');\n\telement.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n\telement.setAttribute('download', filename);\n\n\telement.style.display = 'none';\n\tdocument.body.appendChild(element);\n\n\telement.click();\n\n\tdocument.body.removeChild(element);\n}\n\nfunction wrapText() {\n\tlet width = 300;\n\tlet padding = 10\n\tlet self = d3Select(this),\n\t\ttextLength = self.node().getComputedTextLength(),\n\t\ttext = self.text();\n\twhile (textLength > (width - 2 * padding) && text.length > 0) {\n\t\ttext = text.slice(0, -1);\n\t\tself.text(text + '...');\n\t\ttextLength = self.node().getComputedTextLength();\n\t}\n}\n\n\n/*\n * Reading all parameters from the URL\n*/\n\nconst queryString = window.location.search;\nconst urlParams = new URLSearchParams(queryString);\n\nlet networkName = \"WS_10000_10_001\"\nif (urlParams.has(\"network\")) {\n\tnetworkName = urlParams.get(\"network\");\n}\n\nlet use2D = false;\nif (urlParams.has(\"use2d\")) {\n\tuse2D = true;\n}\n\nlet shaded = false;\nif (urlParams.has(\"shaded\")) {\n\tshaded = true;\n}\n\nlet advancedEdges = false;\nif (urlParams.has(\"advanced\")) {\n\tadvancedEdges = true;\n}\n\n\nlet definedSize = null;\nif (urlParams.has(\"size\")) {\n\tdefinedSize = +urlParams.get(\"size\");\n}\n\n\nlet definedOpacity = null;\nif (urlParams.has(\"opacity\")) {\n\tdefinedOpacity = +urlParams.get(\"opacity\");\n}\n\n\n\nlet startZoomLevel = null;\nif (urlParams.has(\"zoom\")) {\n\tstartZoomLevel = +urlParams.get(\"zoom\");\n}\n\nlet autoStartLayout = null;\nif (urlParams.has(\"layout\")) {\n\tautoStartLayout = ((+urlParams.get(\"layout\")) != 0) ? true : false;\n}\n\nlet darkBackground = false;\nlet backgroundColor = [1.0, 1.0, 1.0, 1.0]\n\nif (urlParams.has(\"dark\")) {\n\tdarkBackground = true;\n\tbackgroundColor = [0.0, 0.0, 0.0, 1.0]\n}\n\nlet additiveBlending = false;\nif (urlParams.has(\"additive\") && darkBackground) {\n\tadditiveBlending = true;\n}\n\n\n\nlet visualizeNetwork = (networkName) => {\n\txnet.loadXNETFile(\"networks/\" + networkName + \".xnet\").then(async network => {\n\t\twindow.network = network;\n\t\t/*\n\t\t * Defining default and initial parameters\n\t\t*/\n\n\t\t// Initial property used for coloring\n\t\tlet colorProperty = \"index\";\n\n\t\t// Default visual properties\n\t\tlet defaultNodeScale = 1.0;\n\t\tlet defaultNodeOpacity = 1.0;\n\t\tlet defaultOutlineColor = backgroundColor;\n\t\tlet defaultOutlineWidthFactor = 0.25;\n\n\t\tlet updateNodeSize = node=>node._originalSize;\n\n\t\t// shaded mode does not require any outline\n\t\tif(shaded){\n\t\t\tdefaultOutlineWidthFactor = 0.0;\n\t\t}\n\n\t\t// Zoom level for the whole network\n\t\tlet defaultZoomLevel = 0.75;\n\t\tlet defaultZoomLevelBigNetworks = 0.35;\n\n\t\t// Zoom level for centered nodes\n\t\tlet minCenteredNodeZoomLevel = 4.0;\n\t\t\n\t\t// Default node size and Edge Ooacity\n\t\tlet currentGlobalNodeSizeScale = 1.0;\n\t\tlet currentGlobalEdgeOpacityScale = 1.0;\n\n\t\t// Scale and Opacity of Highlighted nodes\n\t\tlet highlightNodeScale = 2.0;\n\t\tlet highlightNodeOpacityScale = 1e10;// as opaque as possible\n\t\t\n\t\t// Scale and Opacity of selected nodes\n\t\tlet selectedNodeScale = 3.0;\n\t\tlet selectedNodeOpacityScale = 1e10; // as opaque as possible\n\t\tlet selectedOutlineColor = [0.9,0.9,0.0];\n\t\t\n\t\tlet selectedNeighborNodeSizeScale = 2.0;\n\t\tlet selectedNeighborNodeOpacityScale = 1.5;\n\n\t\t\n\t\t// Visual properties of non selected and non highlighted nodes\n\t\tlet nonSelectedNodeOpacityScale = 1.0;\n\t\tlet nonSelectedNodeSizeScale = 0.5;\n\t\tlet nonSelectedDarkerColorFactor = 1.5;\n\t\tlet nonSelectedBrighterColorFactor = 0.5;\n\t\t\n\t\t// Will make all colors darker or brither (depending on the background)\n\t\t// when highligthing nodes\n\t\t// can be super slow for large networks\n\t\tlet onHighlightChangeColorsEnabled = false; \n\t\t// when selecting nodes (double clicking)\n\t\tlet onSelectionChangeColorsEnabled = true;\n\n\n\t\t// Initializing other properties\n\t\tlet sequencialColormap = \"interpolateInferno\";\n\t\tlet categoricalColormap = \"schemeCategory10\";\n\t\tlet useCategoricalColormap = false;\n\n\t\tlet tooltipElement = document.getElementById(\"tooltip\");\n\n\t\t/*\n\t\t * Initializing the network\n\t\t*/\n\n\t\tlet nodeCount = network.nodesCount;\n\t\tlet bigNetwork = nodeCount > 100000;\n\n\t\tconsole.log(network)\n\n\t\tlet nodes = {};\n\t\tlet edges = [];\n\t\tfor (let index = 0; index < nodeCount; index++) {\n\t\t\tnodes[\"\" + index] = {\n\t\t\t\tID: \"\" + index,\n\t\t\t\t// position: [0,0,0],//network.verticesProperties[\"Position\"][index],\n\t\t\t\t// color:[0.0,0.0,0.0]//[network.verticesProperties[\"Color\"][index]],\n\t\t\t\t// size:1\n\t\t\t};\n\t\t\tif (network.labels) {\n\t\t\t\tnodes[\"\" + index].label = network.labels[index];\n\t\t\t}\n\t\t}\n\t\tfor (const [key, value] of Object.entries(network.verticesProperties)) {\n\t\t\tfor (let index = 0; index < nodeCount; index++) {\n\t\t\t\tnodes[\"\" + index][key.toLowerCase()] = value[index];\n\t\t\t}\n\t\t}\n\n\t\tfor (let index = 0; index < network.edges.length; index++) {\n\t\t\tlet fromIndex, toIndex;\n\n\t\t\tedges.push({\n\t\t\t\t\"source\": \"\" + network.edges[index][0],\n\t\t\t\t\"target\": \"\" + network.edges[index][1],\n\t\t\t\t// directed?\n\t\t\t});\n\t\t}\n\n\t\t// console.log(Object.entries(d3Chromatic));\n\t\t// autostartlayout is not null\n\t\tif (autoStartLayout === null) {\n\t\t\t// only starts if the network is not too big\n\t\t\tautoStartLayout = !bigNetwork;\n\t\t}\n\n\t\tlet helios = new Helios({\n\t\t\telementID: \"netviz\",\n\t\t\tnodes: nodes,\n\t\t\tedges: edges,\n\t\t\tuse2D: use2D,\n\t\t\tfastEdges: !advancedEdges&&bigNetwork,\n\t\t\tautoStartLayout: false,\n\t\t});\n\n\t\t// Calculating node degree so that \n\n\t\tfor (let [key, node] of Object.entries(helios.network.nodes)) {\n\t\t\tlet nodeDegree = node.edges.length;\n\t\t\tnode._originalSize = defaultNodeScale*(Math.log10(nodeDegree+1.0));\n\t\t}\n\n\t\tlet updateNodeSelectionStyle = (node) => {\n\t\t\t// Hovering\n\t\t\tif ((typeof node._highlighted === 'undefined')) { \n\t\t\t\tnode._highlighted = false;\n\t\t\t}\n\t\t\t// After double click\n\t\t\tif ((typeof node._selected === 'undefined')) {\n\t\t\t\tnode._selected = false;\n\t\t\t}\n\t\t\t// After double click\n\t\t\tif ((typeof node._selectedNeighbor === 'undefined')) {\n\t\t\t\tnode._selectedNeighbor = false;\n\t\t\t}\n\n\t\t\tlet nodeSize = node._originalSize;\n\t\t\tlet nodeOutlineWidth = defaultOutlineWidthFactor;\n\t\t\tlet nodeOpacity = defaultNodeOpacity;\n\t\t\t\n\t\t\tif(node._selected){\n\t\t\t\tnodeSize *= selectedNodeScale;\n\t\t\t\tnodeOpacity *= selectedNodeOpacityScale;\n\t\t\t\tnode.outlineColor = selectedOutlineColor;\n\t\t\t\tnodeOutlineWidth *= selectedNodeScale;\n\t\t\t}else if(node._selectedNeighbor){\n\t\t\t\tnodeSize *= selectedNeighborNodeSizeScale;\n\t\t\t\tnodeOpacity *= selectedNeighborNodeOpacityScale;\n\t\t\t\tnode.outlineColor = defaultOutlineColor;\n\t\t\t\tnodeOutlineWidth *= selectedNeighborNodeSizeScale;\n\t\t\t}else{\n\t\t\t\tnode.outlineColor = defaultOutlineColor;\n\t\t\t}\n\n\t\t\tif(node._highlighted){\n\t\t\t\tnodeSize *= highlightNodeScale;\n\t\t\t\tnodeOpacity *= highlightNodeOpacityScale;\n\t\t\t\tnodeOutlineWidth *= highlightNodeScale;\n\t\t\t}\n\n\t\t\tnode.size = nodeSize;\n\t\t\tnode.opacity = nodeOpacity;\n\t\t\tnode.outlineWidth = nodeOutlineWidth;\n\t\t\t\n\t\t};\n\n\t\tlet nodesHighlight = (nodes,shallHighlight,shallUpdate=true) =>{\n\t\t\t\n\t\t\tnodes.forEach(node => {\n\t\t\t\tnode._highlighted = shallHighlight;\n\t\t\t\tupdateNodeSelectionStyle(node);\n\t\t\t});\n\n\t\t\tif(onHighlightChangeColorsEnabled){\n\t\t\t\tif((nodes?.length) && shallHighlight){\n\t\t\t\t\tupdateNodeSelectionOrHighlightedColors(true);\n\t\t\t\t}else{\n\t\t\t\t\tupdateNodeSelectionOrHighlightedColors();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(shallUpdate){\n\t\t\t\thelios.update();\n\t\t\t\thelios.render();\n\t\t\t}\n\t\t};\n\n\t\tlet nodesSelect = (nodes,shallSelect,shallUpdate=true) => {\n\t\t\tnodes.forEach(node => {\n\t\t\t\tnode._selected = shallSelect;\n\t\t\t\tnode._selectedNeighbor = shallSelect;\n\t\t\t\tnode.neighbors.forEach(neighNode => {\n\t\t\t\t\tneighNode._selectedNeighbor = shallSelect;\n\t\t\t\t\tupdateNodeSelectionStyle(neighNode);\n\t\t\t\t});\n\t\t\t\tupdateNodeSelectionStyle(node);\n\t\t\t})\n\n\t\t\tif((nodes?.length) && shallSelect){\n\t\t\t\tupdateNodeSelectionGlobalStyle(true);\n\t\t\t\tif(onSelectionChangeColorsEnabled){\n\t\t\t\t\tupdateNodeSelectionOrHighlightedColors(true);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tupdateNodeSelectionGlobalStyle();\n\t\t\t\tif(onSelectionChangeColorsEnabled){\n\t\t\t\t\tupdateNodeSelectionOrHighlightedColors();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(shallUpdate){\n\t\t\t\thelios.update();\n\t\t\t\thelios.render();\n\t\t\t}\n\t\t};\n\n\t\tlet centerOnNodes = (nodes) => {\n\t\t\tif(!nodes || nodes.length>0){\n\t\t\t\tif (helios.zoomFactor() < minCenteredNodeZoomLevel) {\n\t\t\t\t\thelios.zoomFactor(minCenteredNodeZoomLevel, 500);\n\t\t\t\t}\n\t\t\t\t// resetting node selection\n\t\t\t\tnodesSelect(helios.centeredNodes(),false,false);\n\t\t\t\t// set selection\n\t\t\t\tnodesSelect(nodes,true,false);\n\t\t\t\thelios.centerOnNodes(nodes, 500);\n\t\t\t\tlet pickableSet = new Set();\n\t\t\t\tnodes.forEach(node => {\n\t\t\t\t\thelios.pickeableEdges(node.edges);\n\t\t\t\t});\n\t\t\t\thelios.update();\n\t\t\t\thelios.render();\n\t\t\t}else{ // Reset\n\t\t\t\tnodesSelect(helios.centeredNodes(),false,false);\n\t\t\t\thelios.zoomFactor(defaultZoomLevel, 500);\n\t\t\t\thelios.centerOnNodes([], 500);\n\t\t\t\thelios.pickeableEdges([]);\n\t\t\t\thelios.update();\n\t\t\t\thelios.render();\n\t\t\t}\n\t\t}\n\n\n\t\tlet stylizeTooltip = (label,color,x,y,isnew) => {\n\t\t\tif(label){\n\t\t\t\ttooltipElement.style.left = x + \"px\";\n\t\t\t\ttooltipElement.style.top = y + \"px\";\n\t\t\t\tif(isnew){\n\t\t\t\t\ttooltipElement.style.display = \"block\";\n\t\t\t\t\tif (darkBackground) {\n\t\t\t\t\t\ttooltipElement.style.color = d3rgb(color[0] * 255, color[1] * 255, color[2] * 255).brighter(2).formatRgb();\n\t\t\t\t\t\ttooltipElement.style[\"text-shadow\"] =\n\t\t\t\t\t\t\t\"-1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttooltipElement.style.color = d3rgb(color[0] * 255, color[1] * 255, color[2] * 255).darker(2).formatRgb();\n\t\t\t\t\t\ttooltipElement.style[\"text-shadow\"] =\n\t\t\t\t\t\t\t\"-1px -1px 0 white, 1px -1px 0 white, -1px 1px 0 white, 1px 1px 0 white\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttooltipElement.textContent = label;\n\t\t\t}else{\n\t\t\t\ttooltipElement.style.display = \"none\";\n\t\t\t}\n\t\t}\n\t\t\n\t\tlet showTooltipForNode = (node,x,y,isNew) => {\n\t\t\tif (node) {\n\t\t\t\tlet label = node.label ?? node.title ?? node.ID;\n\t\t\t\tstylizeTooltip(label,node.color,x,y,isNew);\n\t\t\t\t// nodesHighlight([node],true);\n\t\t\t} else {\n\t\t\t\tstylizeTooltip(null);\n\t\t\t}\n\t\t}\n\t\t\n\t\tlet showTooltipForEdge = (edge,x,y,isNew) => {\n\t\t\tif (edge) {\n\t\t\t\tlet fromLabel = edge.source.label ?? edge.source.title ?? edge.source.ID;\n\t\t\t\tlet toLabel = edge.target.label ?? edge.target.title ?? edge.target.ID;\n\t\t\t\tlet label = fromLabel + \" - \" + toLabel;\n\t\t\t\tstylizeTooltip(label,edge.source.color,x,y,isNew);\n\t\t\t\t// nodesHighlight([edge.source,edge.target],true);\n\t\t\t} else {\n\t\t\t\tstylizeTooltip(null);\n\t\t\t}\n\t\t}\n\n\t\t\n\t\tlet updateNodeSelectionGlobalStyle = (hasSelection) =>{\n\t\t\t// hasSelection not set \n\t\t\tif(typeof hasSelection === 'undefined'){\n\t\t\t\thasSelection = helios.network.index2Node.some(node=>node._selected);\n\t\t\t}\n\t\t\tif(hasSelection){\n\t\t\t\thelios.nodesGlobalOpacityScale(nonSelectedNodeOpacityScale);\n\t\t\t\thelios.nodesGlobalSizeScale(nonSelectedNodeSizeScale*currentGlobalNodeSizeScale);\n\t\t\t\thelios.nodesGlobalOutlineWidthScale(nonSelectedNodeSizeScale*currentGlobalNodeSizeScale);\n\t\t\t\thelios.edgesGlobalOpacityScale(currentGlobalEdgeOpacityScale*nonSelectedNodeOpacityScale);\n\t\t\t}else{\n\t\t\t\thelios.nodesGlobalOpacityScale(defaultNodeOpacity);\n\t\t\t\thelios.nodesGlobalSizeScale(currentGlobalNodeSizeScale);\n\t\t\t\thelios.nodesGlobalOutlineWidthScale(currentGlobalNodeSizeScale);\n\t\t\t\thelios.edgesGlobalOpacityScale(currentGlobalEdgeOpacityScale);\n\t\t\t}\n\t\t}\n\n\t\tlet updateNodeSelectionOrHighlightedColors = (hasSelection) =>{\n\t\t\t// hasSelection not set \n\t\t\tif(typeof hasSelection === 'undefined'){\n\t\t\t\thasSelection = helios.network.index2Node.some(node=>node._selected||node._highlighted||node._selectedNeighbor);\n\t\t\t}\n\t\t\tif(hasSelection){\n\t\t\t\thelios.nodeColor(node => {\n\t\t\t\t\t// console.log(\"\"+[color.r,color.g,color.b])\n\t\t\t\t\tif(node._selected || node._highlighted || node._selectedNeighbor){\n\t\t\t\t\t\treturn node._originalColor;\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn darkBackground?node._darkerColor:node._brighterColor;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\thelios.nodeColor(node => {\n\t\t\t\t\treturn node._originalColor;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\n\n\n\t\tlet logK = Math.log10(helios.network.indexedEdges.length/helios.network.index2Node.length);\n\t\tlet logN = Math.log10(helios.network.index2Node.length);\n\t\tlet logDensity = Math.log10(2.0*helios.network.indexedEdges.length/helios.network.index2Node.length/(helios.network.index2Node.length-1.0));\n\t\t\n\t\t// let estimatedZoom = Math.pow(10,1.3400+0.2144*logK+-0.3623*logN+0.0000*logDensity)\n\t\t// let estimatedOpacity = Math.pow(10,1.8854+-0.6344*logK+-0.4964*logN+0.0000*logDensity)\n\t\t// // estimatedSize = Math.pow(10,-0.4027+-0.0007*logK+0.0335*logN+0.0000*logDensity)\n\t\t// let logZoom =  Math.log10(estimatedZoom);\n\t\t// let estimatedSize = Math.pow(10,0.6432+0.1667*logK+-0.2493*logN+-0.7805*logZoom+0.0000*logDensity)\n\n\t\tlet estimatedZoom = Math.pow(10,1.2601+0.2488*logK+-0.3631*logN+0.0000*logDensity)\n\t\tlet estimatedOpacity = Math.pow(10,1.9968+-0.6822*logK+-0.4954*logN+0.0000*logDensity)\n\t\t\n\t\t// Not using estimated zoom\n\t\tif (!bigNetwork) {\n\t\t\testimatedZoom = defaultZoomLevel;\n\t\t}else{\n\t\t\testimatedZoom = defaultZoomLevelBigNetworks;\n\t\t}\n\n\t\tlet logZoom =  Math.log10(estimatedZoom);\n\t\t// let estimatedSize = Math.pow(10,-0.2833+-0.0520*logK+0.0347*logN+0.0000*logDensity)\n\t\t\n\t\tlet estimatedSize = Math.pow(10,0.8744+0.1766*logK+-0.2989*logN+-0.9187*logZoom+0.0000*logDensity)\n\n\t\t// estimatedZoom = Math.pow(10,1.2771+0.2415*logK+-0.3629*logN+0.0000*logDensity)\n\t\t// estimatedOpacity = Math.pow(10,1.8780+-0.6312*logK+-0.4965*logN+0.0000*logDensity)\n\t\t// estimatedSize = Math.pow(10,-0.3259+-0.0337*logK+0.0343*logN+0.0000*logDensity)\n\t\t// estimatedSize3 = Math.pow(10,0.7583+0.1713*logK+-0.2738*logN+-0.8489*logZoom+0.0000*logDensity)\n\t\t\n\t\tif(definedSize){\n\t\t\tcurrentGlobalNodeSizeScale = definedSize;\n\t\t}else{\n\t\t\tcurrentGlobalNodeSizeScale = estimatedSize;\n\t\t}\n\n\t\tif(definedOpacity){\n\t\t\tcurrentGlobalEdgeOpacityScale = definedOpacity;\n\t\t}else{\n\t\t\tcurrentGlobalEdgeOpacityScale = estimatedOpacity;\n\t\t}\n\t\t\n\t\tdefaultZoomLevel = estimatedZoom;\n\n\t\thelios.onNodeHoverStart((node, event) => {\n\t\t\tshowTooltipForNode(node,event?.clientX,event?.clientY,true);\n\t\t\tnodesHighlight([node],true);\n\t\t\t// console.log(`Start: ${node.ID}`);\n\t\t});\n\n\t\thelios.onNodeHoverMove((node, event) => {\n\t\t\tshowTooltipForNode(node,event?.clientX,event?.clientY,false);\n\t\t});\n\n\t\thelios.onNodeHoverEnd((node, event) => {\n\t\t\tif (node) {\n\t\t\t\tnodesHighlight([node],false);\n\t\t\t}\n\t\t\tshowTooltipForNode(null);\n\t\t\t// console.log(`Hover ended: ${node.ID}`);\n\t\t});\n\n\t\thelios.onNodeClick((node, event) => {\n\t\t\tif (node) {\n\t\t\t\tconsole.log(`Clicked: ${node.ID}`);\n\t\t\t} else {\n\t\t\t\tconsole.log(`Clicked on background`);\n\t\t\t}\n\t\t});\n\n\t\thelios.onNodeDoubleClick((node, event) => {\n\t\t\tif (node) {\n\t\t\t\tconsole.log(`Double Clicked: ${node.ID}`);\n\t\t\t\tcenterOnNodes([node]);\n\t\t\t\t// Special function for dealing with MAG/Openalex Citation networks\n\t\t\t\tif (\"mag id\" in node) {\n\t\t\t\t\twindow.open(`https://explore.openalex.org/works/W${node[\"mag id\"]}`, \"helios_mag\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.log(`Double clicked on background`);\n\t\t\t\tcenterOnNodes([]); //Reset centers\n\n\t\t\t}\n\t\t});\n\n\t\thelios.onEdgeHoverStart((edge, event) => {\n\t\t\tshowTooltipForEdge(edge,event?.clientX,event?.clientY,true);\n\t\t\tif(edge){\n\t\t\t\t// Only the non selected endpoints are highlighted\n\t\t\t\tnodesHighlight([edge.source,edge.target].filter(node=>!node._selected),true);\n\t\t\t}\n\t\t});\n\n\t\thelios.onEdgeHoverMove((edge, event) => {\n\t\t\tshowTooltipForEdge(edge,event?.clientX,event?.clientY,false);\n\t\t});\n\n\t\thelios.onEdgeHoverEnd((edge, event) => {\n\t\t\tif (edge) {\n\t\t\t\t// Only the non selected endpoints were highlighted\n\t\t\t\tnodesHighlight([edge.source,edge.target].filter(node=>!node._selected),false);\n\t\t\t}\n\t\t\tshowTooltipForEdge(null);\n\t\t});\n\n\t\thelios.onEdgeClick((edge, event) => {\n\t\t\tconsole.log(\"Edge clicked\");\n\t\t\tconsole.log(edge);\n\t\t});\n\n\t\thelios.onLayoutStart(() => {\n\t\t\tconsole.log(\"Layout start\");\n\t\t\td3Select(\"#loading\").style(\"display\", \"block\");\n\t\t\td3Select(\"#message\").style(\"display\", \"none\");\n\t\t});\n\n\t\thelios.onLayoutStop(() => {\n\t\t\tconsole.log(\"Layout end\");\n\t\t\td3Select(\"#loading\").style(\"display\", \"none\");\n\t\t\td3Select(\"#message\").style(\"display\", \"block\");\n\t\t});\n\n\t\thelios.backgroundColor(backgroundColor) // set background color\n\t\t\t// .nodeColor(node=>{ // Example on how to define colors\n\t\t\t// \tlet color = d3rgb(colorScale(node.ID));\n\t\t\t// \t// console.log(\"\"+[color.r,color.g,color.b])\n\t\t\t// \treturn [color.r/255,color.g/255,color.b/255];\n\t\t\t// })\n\t\t\t// .nodeSize(node=>{ // Example on how to define size\n\t\t\t// \treturn Math.random()*5+1.0;\n\t\t\t// })\n\t\t\t.edgesGlobalOpacityScale(1.0) // set edges intensity);\n\t\t\t.nodeSize(updateNodeSize)\n\t\t\t.nodeOutlineWidth(defaultOutlineWidthFactor)\n\t\t\t.nodeOutlineColor(backgroundColor)\n\t\t\t.additiveBlending(additiveBlending)\n\t\t\t.shadedNodes(shaded);\n\n\n\t\tlet buttonInformation = {\n\t\t\t\"Export\": {\n\t\t\t\tname: \"\",\n\t\t\t\tmapColor: \"#B1C3B6\",\n\t\t\t\tcolor: \"#008758\",\n\t\t\t\taction: (selection, d, event) => {\n\t\t\t\t\tif (event.shiftKey) {\n\t\t\t\t\t\tlet pos = helios.network.positions;\n\t\t\t\t\t\tlet postext = \"\";\n\t\t\t\t\t\tfor (let i = 0; i < pos.length; i += 3) {\n\t\t\t\t\t\t\tpostext += `${pos[i]} ${pos[i + 1]} ${pos[i + 2]}\\n`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdownloadText(networkName + \"_positions.txt\", postext);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"Action!\");\n\t\t\t\t\t\tlet dpr = window.devicePixelRatio || 1;\n\t\t\t\t\t\thelios.exportFigure(networkName + \".png\", {\n\t\t\t\t\t\t\tscale: 2.0,\n\t\t\t\t\t\t\t// width: 2048,\n\t\t\t\t\t\t\t// height: 2048,\n\t\t\t\t\t\t\tsupersampleFactor: 2.0,\n\t\t\t\t\t\t\tbackgroundColor: backgroundColor,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\textra: selection => {\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"Size\": {\n\t\t\t\tname: \"Size\",\n\t\t\t\tmapColor: \"#AFB9C9\",\n\t\t\t\tcolor: \"#1E6099\",\n\t\t\t\taction: null,\n\t\t\t\textra: selection => {\n\t\t\t\t\tselection.append(\"input\")\n\t\t\t\t\t\t.attr(\"type\", \"range\")\n\t\t\t\t\t\t.attr(\"min\", \"-1\")\n\t\t\t\t\t\t.attr(\"max\", \"1\")\n\t\t\t\t\t\t.attr(\"step\", \"0.1\")\n\t\t\t\t\t\t.attr(\"value\", \"\"+Math.log10(currentGlobalNodeSizeScale))\n\t\t\t\t\t\t.attr(\"id\", \"nodeSizeSlider\")\n\t\t\t\t\t\t.classed(\"slider\", true)\n\t\t\t\t\t\t.style(\"min-width\", \"60px\")\n\t\t\t\t\t\t.on(\"input\", (event, d) => {\n\t\t\t\t\t\t\tcurrentGlobalNodeSizeScale = Math.pow(10, parseFloat(d3Select(\"#nodeSizeSlider\").property(\"value\")));\n\t\t\t\t\t\t\t// helios.nodesGlobalSizeScale(currentGlobalNodeSizeScale);\n\t\t\t\t\t\t\t// helios.nodesGlobalOutlineWidthScale(currentGlobalNodeSizeScale);\n\t\t\t\t\t\t\tupdateNodeSelectionGlobalStyle();\n\t\t\t\t\t\t\t// helios.update();\n\t\t\t\t\t\t\thelios.render();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"Color\": {\n\t\t\t\tname: \"Color\",\n\t\t\t\tmapColor: \"#AFB9C9\",\n\t\t\t\tcolor: \"#1E6099\",\n\t\t\t\taction: null,\n\t\t\t\textra: selection => {\n\t\t\t\t\tselection.append(\"select\")\n\t\t\t\t\t\t.attr(\"id\", \"colorSelector\")\n\t\t\t\t\t\t.classed(\"selector\", true)\n\t\t\t\t\t\t.style(\"min-width\", \"60px\")\n\t\t\t\t\t\t.on(\"change\", (event, d) => {\n\t\t\t\t\t\t\tupdateColorSelection();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.selectAll(\"option\")\n\t\t\t\t\t\t.data(Object.entries(helios.network.index2Node[0]))\n\t\t\t\t\t\t.enter()\n\t\t\t\t\t\t.filter(d => !d[0].startsWith(\"_\"))\n\t\t\t\t\t\t.filter(d => !ignoredProperties.has(d[0]) && !d[0].startsWith(\"_\"))\n\t\t\t\t\t\t.append(\"option\")\n\t\t\t\t\t\t.attr(\"value\", d => d[0])\n\t\t\t\t\t\t.property(\"selected\", d => d[0] == colorProperty)\n\t\t\t\t\t\t.text(d => d[0]);\n\n\t\t\t\t\tselection.append(\"select\")\n\t\t\t\t\t\t.attr(\"id\", \"colormapSelector\")\n\t\t\t\t\t\t.classed(\"selector\", true)\n\t\t\t\t\t\t.style(\"min-width\", \"60px\");\n\t\t\t\t\t// .classed(\"slider\",true)\n\t\t\t\t\t// \n\t\t\t\t\t// .on(\"input\", (event,d)=>{\n\t\t\t\t\t// \thelios.edgesOpacity(Math.pow(10,parseFloat(d3Select(\"#edgeOpacitySlider\").property(\"value\"))));\n\t\t\t\t\t// \thelios.update();\n\t\t\t\t\t// \thelios.render();\n\t\t\t\t\t// \tevent.stopPropagation();\n\t\t\t\t\t// });\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"Edges\": {\n\t\t\t\tname: \"Edges\",\n\t\t\t\tmapColor: \"#B1A58C\",\n\t\t\t\tcolor: \"#903C22\",\n\t\t\t\taction: null,\n\t\t\t\textra: selection => {\n\t\t\t\t\tconsole.log(\"CALLED\");\n\t\t\t\t\tselection.append(\"input\")\n\t\t\t\t\t\t.attr(\"type\", \"range\")\n\t\t\t\t\t\t.attr(\"min\", \"0\")\n\t\t\t\t\t\t.attr(\"max\", \"1\")\n\t\t\t\t\t\t.attr(\"step\", (1 / 255) + \"\")\n\t\t\t\t\t\t.attr(\"value\", \"\"+(Math.round(255*currentGlobalEdgeOpacityScale)/255))\n\t\t\t\t\t\t.attr(\"id\", \"edgeOpacitySlider\")\n\t\t\t\t\t\t.classed(\"slider\", true)\n\t\t\t\t\t\t.style(\"min-width\", \"60px\")\n\t\t\t\t\t\t.on(\"input\", (event, d) => {\n\t\t\t\t\t\t\t// helios.edgesOpacity(Math.pow(10,parseFloat(d3Select(\"#edgeOpacitySlider\").property(\"value\"))));\n\t\t\t\t\t\t\tcurrentGlobalEdgeOpacityScale = parseFloat(d3Select(\"#edgeOpacitySlider\").property(\"value\"))\n\t\t\t\t\t\t\thelios.edgesGlobalOpacityScale(currentGlobalEdgeOpacityScale);\n\t\t\t\t\t\t\t// helios.update();\n\t\t\t\t\t\t\thelios.render();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\n\t\tlet legendView = d3Select(\"body\").append(\"svg\")\n\t\t\t.classed(\"overlay\", true)\n\t\t\t.attr(\"id\", \"legendView\")\n\t\t\t.style(\"left\", \"10px\")\n\t\t\t.style(\"top\", \"10px\")\n\t\t\t.style(\"pointer-events:\", \"none\")\n\t\tlet updateLegendCategorical = (property2color) => {\n\t\t\tlegendView.selectAll(\"*\").remove();\n\t\t\tlet legendItems = legendView.selectAll(\".legend\").data(property2color.keys());\n\n\t\t\tlegendView\n\t\t\t\t.style(\"width\", 350 + 'px')\n\t\t\t\t.style(\"height\", (property2color.size + 1) * 20 + 'px');\n\t\t\tlet legendEnter = legendItems.enter().append(\"g\")\n\t\t\t\t.classed(\"legend\", true)\n\t\t\t\t.attr(\"transform\", (d, i) => (\"translate(0,\" + (i * 20) + \")\"));\n\n\t\t\tlegendEnter.append(\"rect\");\n\t\t\tlegendEnter.append(\"g\").append(\"text\");\n\t\t\tlegendItems = legendItems.merge(legendEnter)\n\n\t\t\tlegendItems.select(\"rect\")\n\t\t\t\t.attr(\"x\", 0)\n\t\t\t\t.attr(\"y\", 0)\n\t\t\t\t.attr(\"width\", 30)\n\t\t\t\t.attr(\"height\", 15)\n\t\t\t\t.attr(\"fill\", d => property2color.get(d));\n\n\t\t\tlegendItems.select(\"g\")\n\t\t\t\t.attr(\"transform\", (d) => (`translate(${35},${15 / 2})`))\n\t\t\t\t.select(\"text\")\n\t\t\t\t.style(\"alignment-baseline\", \"central\")\n\t\t\t\t.style(\"font-size\", \"12px\")\n\t\t\t\t.append('tspan')\n\t\t\t\t.style(\"alignment-baseline\", \"central\")\n\t\t\t\t.text(d => d)\n\t\t\t\t.attr(\"fill\", darkBackground ? \"white\" : \"black\")\n\t\t\t\t.each(wrapText)\n\t\t}\n\n\t\tfunction updateCategoricalColors() {\n\t\t\tlet propertyArray = [];\n\t\t\tfor (let [key, node] of Object.entries(helios.network.nodes)) {\n\t\t\t\tpropertyArray.push(node[colorProperty]);\n\t\t\t}\n\t\t\tlet sortedItems = sortByCount(propertyArray);\n\t\t\t// console.log(sortedItems);\n\t\t\tlet scheme = allColors[categoricalColormap];\n\t\t\t// console.log(\"Scheme\",scheme);\n\t\t\tlet arraysCount = scheme.filter(Array.isArray).length;\n\n\t\t\tif (arraysCount > 0) {\n\t\t\t\tlet firstIndex = scheme.findIndex(d => (typeof d !== \"undefined\"));\n\t\t\t\tif (typeof scheme[sortedItems.length - 1] !== \"undefined\") {\n\t\t\t\t\tscheme = scheme[sortedItems.length];\n\t\t\t\t} else {\n\t\t\t\t\tif (sortedItems.length - 1 < firstIndex) {\n\t\t\t\t\t\tscheme = scheme[firstIndex];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tscheme = scheme[scheme.length - 1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// let maxColors = const [lastItem] = arr.slice(-1)\n\t\t\t// console.log(scheme)\n\t\t\tlet colorMap = d3ScaleOrdinal(scheme);\n\t\t\tlet property2color = new Map();\n\t\t\tlet categoricalMap = new Map();\n\t\t\tsortedItems.forEach((d, i) => {\n\t\t\t\tif (i < scheme.length) {\n\t\t\t\t\tproperty2color.set(d, colorMap(d));\n\t\t\t\t\tcategoricalMap.set(d, scheme[i]);\n\t\t\t\t} else {\n\t\t\t\t\tproperty2color.set(d, \"#bbbbbb\");;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (categoricalMap.size < sortedItems.length) {\n\t\t\t\tcategoricalMap.set(\"Other\", \"#bbbbbb\")\n\t\t\t}\n\t\t\tfor (let [key, node] of Object.entries(helios.network.nodes)) {\n\t\t\t\tlet color = d3rgb(property2color.get(node[colorProperty]));\n\t\t\t\tlet darkerColor = color.darker(nonSelectedDarkerColorFactor);\n\t\t\t\tlet brighterColor = color.brighter(nonSelectedBrighterColorFactor);\n\n\t\t\t\tnode._originalColor = [color.r / 255, color.g / 255, color.b / 255];\n\t\t\t\tnode._darkerColor = [darkerColor.r / 255, darkerColor.g / 255, darkerColor.b / 255];\n\t\t\t\tnode._brighterColor = [brighterColor.r / 255, brighterColor.g / 255, brighterColor.b / 255];\n\t\t\t}\n\t\t\tupdateNodeSelectionOrHighlightedColors();\n\t\t\thelios.update();\n\t\t\thelios.render();\n\t\t\tupdateLegendCategorical(categoricalMap)\n\t\t}\n\n\n\t\tfunction updateSequencialColors() {\n\t\t\tupdateLegendCategorical(new Map());\n\t\t\tlet propertyArray = [];\n\t\t\tlet maxValue = -Infinity;\n\t\t\tlet minValue = Infinity;\n\t\t\tfor (let [key, node] of Object.entries(helios.network.nodes)) {\n\t\t\t\tpropertyArray.push(node[colorProperty]);\n\t\t\t\tmaxValue = Math.max(maxValue, node[colorProperty]);\n\t\t\t\tminValue = Math.min(minValue, node[colorProperty]);\n\t\t\t}\n\t\t\tlet scheme = allColors[sequencialColormap];\n\t\t\tlet cScale = d3ScaleSequential(scheme)\n\t\t\t\t.domain([minValue, maxValue]);\n\t\t\t\t\n\t\t\tfor (let [key, node] of Object.entries(helios.network.nodes)) {\n\t\t\t\tlet color = d3rgb(cScale(node[colorProperty]));\n\t\t\t\tlet darkerColor = color.darker(nonSelectedDarkerColorFactor);\n\t\t\t\tlet brighterColor = color.brighter(nonSelectedBrighterColorFactor);\n\n\t\t\t\tnode._originalColor = [color.r / 255, color.g / 255, color.b / 255];\n\t\t\t\tnode._darkerColor = [darkerColor.r / 255, darkerColor.g / 255, darkerColor.b / 255];\n\t\t\t\tnode._brighterColor = [brighterColor.r / 255, brighterColor.g / 255, brighterColor.b / 255];\n\t\t\t}\n\t\t\tupdateNodeSelectionOrHighlightedColors();\n\t\t\thelios.update();\n\t\t\thelios.render();\n\t\t}\n\n\t\tlet updateColormapSelection = () => {\n\t\t\tif (useCategoricalColormap) {\n\t\t\t\tcategoricalColormap = d3Select(\"#colormapSelector\").property(\"value\");\n\t\t\t\tupdateCategoricalColors();\n\t\t\t} else {\n\t\t\t\tsequencialColormap = d3Select(\"#colormapSelector\").property(\"value\");\n\t\t\t\tupdateSequencialColors();\n\t\t\t}\n\t\t}\n\n\t\tlet updateColorSelection = () => {\n\t\t\tcolorProperty = d3Select(\"#colorSelector\").property(\"value\");\n\t\t\tlet categorical = false;\n\t\t\tfor (let [key, node] of Object.entries(helios.network.nodes)) {\n\t\t\t\tif (typeof node[colorProperty] !== 'number') {\n\t\t\t\t\tcategorical = true;\n\t\t\t\t\t// console.log(colorProperty,node);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tuseCategoricalColormap = categorical;\n\t\t\tconsole.log(categorical ? \"categorical\" : \"continuous\");\n\t\t\tlet colormapSelector = d3Select(\"#colormapSelector\")\n\t\t\t\t.classed(\"selector\", true)\n\t\t\t\t.style(\"min-width\", \"60px\")\n\t\t\t\t.on(\"change\", (event, d) => {\n\t\t\t\t\tupdateColormapSelection();\n\t\t\t\t})\n\t\t\t\t.selectAll(\"option\")\n\t\t\t\t.data(Object.entries(allColors).filter(d => d[0].startsWith(categorical ? \"scheme\" : \"interpolate\")))\n\t\t\t\t.join(\"option\")\n\t\t\t\t.attr(\"value\", d => d[0])\n\t\t\t\t.property(\"selected\", d => d[0] == (categorical ? categoricalColormap : sequencialColormap))\n\t\t\t\t.text(d => d[0].replace(\"interpolate\", \"\").replace(\"scheme\", \"\"));\n\t\t\tupdateColormapSelection();\n\t\t}\n\n\t\tlet buttonOrder = [\"Export\", \"Size\", \"Color\", \"Edges\",];\n\n\t\td3Select(\"#selectionmenu\")\n\t\t\t.selectAll(\"span.menuEntry\")\n\t\t\t.data(buttonOrder)\n\t\t\t.enter()\n\t\t\t.append(\"span\")\n\t\t\t.classed(\"menuEntry\", true)\n\t\t\t.style(\"--color\", d => buttonInformation[d].color)\n\t\t\t.text(d => buttonInformation[d].name)\n\t\t\t.each(function (d) {\n\t\t\t\td3Select(this).call(buttonInformation[d].extra);\n\t\t\t});\n\t\td3Select(\"#selectionmenu\")\n\t\t\t.selectAll(\"span.menuEntry\")\n\t\t\t.filter(d => buttonInformation[d].action != null)\n\t\t\t.on(\"click\", (event, d) => {\n\t\t\t\tif (buttonInformation[d].action) {\n\t\t\t\t\tbuttonInformation[d].action(d3Select(this), d, event);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.classed(\"hasAction\", true);\n\n\n\t\tdocument.addEventListener('keyup', event => {\n\t\t\tif (event.code === 'Space') {\n\t\t\t\tif (helios.layoutWorker.isRunning()) {\n\t\t\t\t\thelios.pauseLayout();\n\t\t\t\t} else {\n\t\t\t\t\thelios.resumeLayout();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (startZoomLevel) {\n\t\t\tdefaultZoomLevel = startZoomLevel;\n\t\t\thelios.zoomFactor(defaultZoomLevel);\n\t\t} else {\n\t\t\tif (bigNetwork) {\n\t\t\t\t//no animation\n\t\t\t\thelios.zoomFactor(defaultZoomLevel);\n\t\t\t\t// helios.zoomFactor(0.35);\n\t\t\t} else {\n\t\t\t\t//animating initial zoom in to the network\n\t\t\t\thelios.zoomFactor(0.05);\n\t\t\t\thelios.zoomFactor(defaultZoomLevel, 1000);\n\t\t\t}\n\t\t}\n\n\t\thelios.nodesGlobalSizeScale(currentGlobalNodeSizeScale);\n\t\thelios.nodesGlobalOutlineWidthScale(currentGlobalNodeSizeScale);\n\t\thelios.edgesGlobalOpacityScale(currentGlobalEdgeOpacityScale);\n\n\t\t\n\t\thelios.onReady(() => {\n\t\t\tif(autoStartLayout){\n\t\t\t\thelios.resumeLayout();\n\t\t\t}\n\t\t\tupdateColorSelection();\n\t\t});\n\n\t\t// Temporarily for debugging\n\t\twindow.helios = helios;\n\n\t});\n}\n\nvisualizeNetwork(networkName);"],"names":["require_main_44ed6621","__commonJSMin","exports","module","relList","link","processPreload","mutations","mutation","node","getFetchOpts","script","fetchOpts","EPSILON","ARRAY_TYPE","y","i","create","out","glMatrix.ARRAY_TYPE","normalFromMat4","a","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","identity","multiply","b","b0","b1","b2","b3","translate","v","x","z","rotate","rad","axis","len","s","c","t","b12","b20","b21","b22","glMatrix.EPSILON","perspectiveNO","fovy","aspect","near","far","f","nf","perspective","vec","stride","offset","count","fn","arg","l","findIndex","nodes","value","start","stop","index","delta","delta1","linearMixer","lowerNodeValue","upperNodeValue","frac","isNode","isNodeArray","colorCombination","X","Y","ensureMixer","mixer","createColorMap","colors","scale","noColorMap","createMapFromNodes","createMapFromArray","linearCombination","sortedNodes","scaledValue","coeff0","coeff1","arr","indexFloat","_value","linearScale","domain","range","d0","d1","r0","r1","colors$2","Node","originalObject","ID","network","nodeProperty","newColor","nodeIndex","newOpacity","newSize","newWidth","newPosition","Network","edges","properties","nodeID","edgeIndex","edge","fromIndex","toIndex","colorScale","colorMap","inferno","color","newNode","fromNode","toNode","updateOpacity","createWebGLContext","canvas","opt_attribs","names","context","ii","getShaderFromString","gl","str","type","shader","ShaderProgram","vertexShader","fragmentShader","uniforms","attributes","glContext","shaderProgram","attributeName","makePlane","ctx","generateNormal","generateTexCoord","geometryData","normalData","texCoordData","retval","degToRad","degrees","textSplit2","text","entries","textSplit3","readNumberIgnoringNone","propertyHeaderRegular","propertyFunctions","readXNETVerticesHeader","status","headerEntries","nodeCount","readXNETLabels","labels","currentLine","lineLength","label","readXNETEdgesHeader","weighted","directed","headerEntry","readXNETEdges","weights","weight","readXNETPropertyHeader","propertyType","propertyKey","propertyFormat","readXNETProperty","propertyHeader","propertyFunction","loadXNET","data","nodesCount","edgesHeader","edgesData","propertyData","loadXNETFile","networkFile","networkData","response","xhtml","namespaces","namespace","name","prefix","creatorInherit","document","uri","creatorFixed","fullname","creator","none","selector","selection_select","select","groups","m","subgroups","j","group","n","subgroup","subnode","Selection","array","empty","selectorAll","arrayAll","selection_selectAll","parents","matcher","childMatcher","find","childFind","match","childFirst","selection_selectChild","filter","children","childrenFilter","selection_selectChildren","selection_filter","sparse","update","selection_enter","EnterNode","parent","datum","child","next","constant$2","bindIndex","enter","exit","groupLength","dataLength","bindKey","key","nodeByKeyValue","keyValues","keyValue","selection_data","bind","constant","arraylike","enterGroup","updateGroup","exitGroup","i0","i1","previous","selection_exit","selection_join","onenter","onupdate","onexit","selection_merge","selection","groups0","groups1","m0","m1","merges","group0","group1","merge","selection_order","selection_sort","compare","ascending","compareNode","sortgroups","sortgroup","selection_call","callback","selection_nodes","selection_node","selection_size","size","selection_empty","selection_each","attrRemove","attrRemoveNS","attrConstant","attrConstantNS","attrFunction","attrFunctionNS","selection_attr","defaultView","styleRemove","styleConstant","priority","styleFunction","selection_style","styleValue","propertyRemove","propertyConstant","selection_property","classArray","string","classList","ClassList","classedAdd","list","classedRemove","classedTrue","classedFalse","classedFunction","selection_classed","textRemove","textConstant","textFunction","selection_text","htmlRemove","htmlConstant","htmlFunction","selection_html","raise","selection_raise","lower","selection_lower","selection_append","constantNull","selection_insert","before","remove","selection_remove","selection_cloneShallow","clone","selection_cloneDeep","selection_clone","deep","selection_datum","contextListener","listener","event","parseTypenames","typenames","onRemove","typename","on","onAdd","options","o","selection_on","dispatchEvent","params","window","dispatchConstant","dispatchFunction","selection_dispatch","selection_iterator","root","selection_selection","d3Select","sourceEvent","pointer","svg","point","rect","HeliosScheduler","helios","FPS","throttle","maxQueueLength","delay","repeat","maxRepeatCount","maxRepeatTime","repeatInterval","synchronized","immediateUpdates","updateNodesGeometry","updateEdgesGeometry","redraw","replace","newTask","currentTimestamp","elapsedTime","newCurrentTimestamp","allTasksCurrentTimestamp","taskName","task","willExecute","needsRender","needsUpdateNodesGeometry","needsUpdateEdgesGeometry","updateTimeoutAfterRender","now","taskQueue","taskIndex","noop","dispatch","_","Dispatch","types","T","get","set","copy","that","args","nonpassivecapture","noevent$1","dragDisable","view","noevent","yesdrag","noclick","define$1","constructor","factory","prototype","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","define","channels","color_formatHex","color_formatHex8","color_formatHsl","color_formatRgb","hslConvert","format","rgbn","Rgb","rgba","hsla","r","g","rgbConvert","rgb","opacity","k","clampi","clampa","rgb_formatHex","rgb_formatHex8","rgb_formatRgb","hex","h","Hsl","min","max","hsl","m2","hsl2rgb","clamph","clampt","radians","A","B","C","D","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","cubehelix","cosh","sinh","basis","t1","v0","v1","v2","v3","t2","t3","basis$1","values","constant$1","linear","d","exponential","hue","gamma","nogamma","interpolateRgb","rgbGamma","end","colorRgb","rgbSpline","spline","rgbBasis","numberArray","isNumberArray","genericArray","nb","na","date","interpolateNumber","object","reA","reB","zero","one","interpolateString","bi","am","bm","bs","q","number","interpolate$1","interpolateRound","decompose","e","scaleX","scaleY","skewX","svgNode","parseCss","parseSvg","interpolateTransform","parse","pxComma","pxParen","degParen","pop","xa","ya","xb","yb","interpolateTransformCss","interpolateTransformSvg","epsilon2","tanh","interpolateZoom","zoomRho","rho","rho2","rho4","zoom","p0","p1","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","S","coshr0","u","_1","_2","_4","cubehelixGamma","colorCubehelix","cubehelixLong","frame","timeout","interval","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","setFrame","clearNow","Timer","timer","time","sleep","timerFlush","wake","nap","poke","t0","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","id","timing","schedules","init","self","tween","tick","interrupt","active","selection_interrupt","tweenRemove","tween0","tween1","tweenFunction","transition_tween","tweenValue","transition","interpolate","value1","string00","string1","interpolate0","string0","string10","transition_attr","attrInterpolate","attrInterpolateNS","attrTweenNS","attrTween","transition_attrTween","delayFunction","delayConstant","transition_delay","durationFunction","durationConstant","transition_duration","easeConstant","transition_ease","easeVarying","transition_easeVarying","transition_filter","Transition","transition_merge","onFunction","on0","on1","sit","transition_on","removeFunction","transition_remove","transition_select","transition_selectAll","inherit","transition_selection","styleNull","style","styleMaybeRemove","listener0","transition_style","styleInterpolate","styleTween","transition_styleTween","transition_text","textInterpolate","textTween","transition_textTween","transition_transition","id0","id1","newId","transition_end","resolve","reject","cancel","selection_prototype","cubicInOut","defaultTiming","easeCubicInOut","selection_transition","ZoomEvent","target","transform","Transform","location","nopropagation","defaultFilter","defaultExtent","defaultTransform","defaultWheelDelta","defaultTouchable","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","d3Zoom","constrain","wheelDelta","touchable","scaleExtent","duration","listeners","touchstarting","touchfirst","touchending","touchDelay","wheelDelay","clickDistance2","tapDistance","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","collection","gesture","p","k0","k1","centroid","w","clean","Gesture","wheelidled","currentTarget","mousemoved","mouseupped","x0","y0","dragEnable","touches","started","l0","l1","dp","dl","require","_dereq_","Multimath","mm_unsharp_mask","mm_resize","MathLib","requested_features","__requested_features","features","cache","result","clampTo8","clampNegative","convolveHor","src","dest","srcW","srcH","destW","filters","filterPtr","filterShift","filterSize","srcPtr","srcY","destX","filterVal","srcOffset","destOffset","convolveVert","convolveHorWithPre","alpha","convolveVertWithPre","createFilters","_require","hasAlpha","width","height","ptr","resetAlpha","dst","destH","offsetX","offsetY","filtersX","filtersY","tmp","FILTER_INFO","FIXED_FRAC_BITS","toFixedPoint","num","srcSize","destSize","filterFunction","scaleInverted","scaleClamped","srcWindow","destPixel","srcPixel","srcFirst","srcLast","filterElementSize","floatFilter","fxpFilter","total","pxl","idx","floatVal","filterTotal","leftNotEmpty","rightNotEmpty","maxFilterElementSize","packedFilter","packedFilterPtr","slowCopy","xpi","asUint8Array","IS_LE","copyInt16asLE","target_offset","src_offset","src_size","tmp_offset","tmp_size","filtersX_offset","filtersY_offset","alloc_bytes","instance","mem","mem32","src32","dest32","glur_mono16","hsv_v16","img","amount","radius","threshold","vmul","diff","iTimes4","brightness","blured","amountFp","thresholdFp","pixels","img_bytes_cnt","hsv_bytes_cnt","blur_bytes_cnt","blur_line_byte_cnt","blur_coeffs_byte_cnt","img_offset","hsv_offset","blur_offset","blur_tmp_offset","blur_line_offset","blur_coeffs_offset","img32","GC_INTERVAL","Pool","idle","_this","resource","_this2","_this3","MIN_INNER_TILE_SIZE","fromWidth","fromHeight","toWidth","toHeight","srcTileSize","destTileBorder","minScale","stageCount","PIXEL_EPSILON","pixelFloor","nearest","pixelCeil","innerTileWidth","innerTileHeight","innerX","innerY","toTileWidth","toTileHeight","tiles","tile","objClass","obj","element","cname","concurrency","queue","roll","err","createCanvas","bitmap","workerPayload","code","ev","usable","image","mathLib","tileOpts","a0","a1","a2","a3","left_corner","right_corner","gaussCoef","sigma","g1","g2","convolveMono16","line","coeff","prev_src","curr_src","curr_out","prev_out","prev_prev_out","src_index","out_index","line_index","coeff_a0","coeff_a1","coeff_b1","coeff_b2","blurMono16","tmp_line","assign","base64decode","hasWebAssembly","DEFAULT_OPTIONS","MultiMath","opts","bytes","mem_size","memsize","env_extra","env_base","base","reminder","BASE64_MAP","input","bits","tailbits","wa","bin","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","toObject","val","shouldUseNative","test1","test2","order2","test3","letter","source","from","to","symbols","bundleFn","sources","stringify","wkey","cacheKeys","exp","wcache","skey","scache","workerSources","resolveSources","depPath","depKey","URL","blob","workerUrl","worker","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","minLen","_arrayLikeToArray","arr2","_i","_arr","_n","_d","_s","_e","webworkify","utils","createStages","createRegions","filter_info","singletones","NEED_SAFARI_FIX","DEFAULT_PICA_OPTS","tmpCanvas","DEFAULT_RESIZE_OPTS","CAN_NEW_IMAGE_DATA","CAN_CREATE_IMAGE_BITMAP","CAN_USE_CANVAS_GET_IMAGE_DATA","CAN_USE_OFFSCREEN_CANVAS","CAN_USE_CIB_REGION_FOR_IMAGE","workerFabric","url","Pica","limiter_key","wkr","wpool_key","initMath","mathlib","checkCibResize","checkOffscreenCanvas","checkCibRegion","transfer","stageEnv","extractTo","tmpCtx","toImageData","processTile","imageBitmap","regions","jobs","cleanup","stages","_this4","_stages$shift","_stages$shift2","isLastStage","res","_this5","toCtx","iData","_this6","DEST_TILE_BORDER","_this7","mimeType","quality","asString","asBuffer","workerFunction","moduleName","N","M","attributeNames","attribute","msg","use2D","d3gravityForce","strength","softening","force","totalStrength","distance","kinvdistance3","inputNodesPositions","inputEdges","links","vz","edgeFrom","edgeTo","edgeObject","vertexIndex","workerFunctionString","workerURL","d3ForceLayoutWorker","onUpdate","onStop","onStart","alphaValue","velocityDecayValue","pickingShader","fastVertexShader","fastFragmentShader","isSafari","Helios","elementID","fastEdges","forceSupersample","autoStartLayout","autoCleanup","glm.mat4.create","glm.vec3.create","glm.mat4.identity","glUtils.createWebGLContext","onlayoutUpdate","interpolatorTask","maxDisplacement","displacement","onLayoutStop","onLayoutStart","pickID","eventType","pickObject","events","imagedata","filename","supersampleFactor","fileFormat","pica","canvasFullSize","ctxFullSize","downloadLink","svgText","blobSVG","framebuffer","fbWidth","fbHeight","backgroundColor","shallCancel","glUtils.ShaderProgram","glUtils.getShaderFromString","edgesShaders.vertexShader","edgesShaders.fragmentShader","edgesShaders.fastVertexShader","edgesShaders.fastFragmentShader","edgesShaders.pickingShader","nodesShaders.vertexShader","nodesShaders.fragmentShader","nodesShaders.fastVertexShader","nodesShaders.fastFragmentShader","nodesShaders.pickingShader","level","internalFormat","border","attachmentPoint","glUtils.makePlane","positions","sizes","outlineWidths","outlineColors","indicesArray","newGeometry","uints_for_indices","edgeVertexTypeArray","edgeID","newHeight","newRotationMatrix","glm.mat4.rotate","glUtils.degToRad","glm.mat4.multiply","zoomFactor","d3ZoomIdentity","d3Ease.easeLinear","dpr","immediate","destination","isPicking","viewport","glm.mat4.perspective","glm.mat4.translate","ext","currentShaderProgram","normalMatrix","glm.mat3.create","glm.mat3.normalFromMat4","hasEdgeCallbacks","pos","lengthSize","ignoreInstantaneousUpdate","cameraInterpolatorTask","colorInput","allNodes","aColor","sizeInput","aSize","widthInput","aWidth","pixelX","pixelY","anOpacity","enableAdditiveBlending","enableShadedNodes","pickables","keepGLContext","numTextureUnits","unit","specifier","category10","Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3","Tableau10","ramp$1","scheme","interpolateRgbBasis","ramp","cividis","interpolateCubehelixLong","warm","cool","rainbow","ts","pi_1_3","pi_2_3","sinebow","turbo","viridis","magma","plasma","InternMap","keyof","intern_get","intern_set","intern_delete","_intern","_key","e10","e5","e2","ticks","reverse","step","tickIncrement","power","error","tickStep","step0","step1","initRange","initInterpolator","interpolator","implicit","ordinal","unknown","formatDecimal","formatDecimalParts","coefficient","exponent","formatGroup","grouping","thousands","length","formatNumerals","numerals","re","formatSpecifier","FormatSpecifier","formatTrim","prefixExponent","formatPrefixAuto","formatRounded","formatTypes","map","prefixes","formatLocale","locale","currencyPrefix","currencySuffix","decimal","percent","minus","nan","newFormat","fill","align","sign","symbol","comma","precision","trim","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","padding","formatPrefix","defaultLocale","precisionFixed","precisionPrefix","precisionRound","tickFormat","linearish","prestep","maxIter","transformer","x1","k10","clamp","sequential","schemeCategory18","allColors","d3Chromatic","extraColors","ignoredProperties","sortByCount","anArray","downloadText","wrapText","textLength","queryString","urlParams","networkName","shaded","advancedEdges","definedSize","definedOpacity","startZoomLevel","darkBackground","additiveBlending","visualizeNetwork","xnet.loadXNETFile","colorProperty","defaultNodeScale","defaultNodeOpacity","defaultOutlineColor","defaultOutlineWidthFactor","updateNodeSize","defaultZoomLevel","defaultZoomLevelBigNetworks","minCenteredNodeZoomLevel","currentGlobalNodeSizeScale","currentGlobalEdgeOpacityScale","highlightNodeScale","highlightNodeOpacityScale","selectedNodeScale","selectedNodeOpacityScale","selectedOutlineColor","selectedNeighborNodeSizeScale","selectedNeighborNodeOpacityScale","nonSelectedNodeOpacityScale","nonSelectedNodeSizeScale","nonSelectedDarkerColorFactor","nonSelectedBrighterColorFactor","sequencialColormap","categoricalColormap","useCategoricalColormap","tooltipElement","bigNetwork","nodeDegree","updateNodeSelectionStyle","nodeSize","nodeOutlineWidth","nodeOpacity","nodesHighlight","shallHighlight","shallUpdate","nodesSelect","shallSelect","neighNode","updateNodeSelectionGlobalStyle","updateNodeSelectionOrHighlightedColors","centerOnNodes","stylizeTooltip","isnew","d3rgb","showTooltipForNode","isNew","showTooltipForEdge","fromLabel","toLabel","hasSelection","logK","logN","logDensity","estimatedZoom","estimatedOpacity","logZoom","estimatedSize","buttonInformation","postext","updateColorSelection","legendView","updateLegendCategorical","property2color","legendItems","legendEnter","updateCategoricalColors","propertyArray","sortedItems","firstIndex","d3ScaleOrdinal","categoricalMap","darkerColor","brighterColor","updateSequencialColors","maxValue","minValue","cScale","d3ScaleSequential","updateColormapSelection","categorical","buttonOrder","this"],"mappings":"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CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,MAAQ,OAAQ,EAC3B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,KAAM,EAC3B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,MAAQ,QAAU,OAAQ,EAC3B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,KAAM,EAC3B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,MAAQ,QAAU,OAAQ,EAC3B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,MAAQ,QAAU,OAAQ,EAC3B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,MAAO,EAC3B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,MAAO,EAC3B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,MAAO,EAC3B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,O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"}