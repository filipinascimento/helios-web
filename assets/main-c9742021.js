(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();const ns=n=>+n;function c6(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Oi="http://www.w3.org/1999/xhtml";const es={svg:"http://www.w3.org/2000/svg",xhtml:Oi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function hr(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),es.hasOwnProperty(e)?{space:es[e],local:n}:n}function u6(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===Oi&&e.documentElement.namespaceURI===Oi?e.createElement(n):e.createElementNS(t,n)}}function h6(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function fa(n){var e=hr(n);return(e.local?h6:u6)(e)}function f6(){}function da(n){return n==null?f6:function(){return this.querySelector(n)}}function d6(n){typeof n!="function"&&(n=da(n));for(var e=this._groups,t=e.length,r=new Array(t),a=0;a<t;++a)for(var o=e[a],l=o.length,s=r[a]=new Array(l),d,u,h=0;h<l;++h)(d=o[h])&&(u=n.call(d,d.__data__,h,o))&&("__data__"in d&&(u.__data__=d.__data__),s[h]=u);return new Yn(r,this._parents)}function p6(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function v6(){return[]}function W0(n){return n==null?v6:function(){return this.querySelectorAll(n)}}function m6(n){return function(){return p6(n.apply(this,arguments))}}function g6(n){typeof n=="function"?n=m6(n):n=W0(n);for(var e=this._groups,t=e.length,r=[],a=[],o=0;o<t;++o)for(var l=e[o],s=l.length,d,u=0;u<s;++u)(d=l[u])&&(r.push(n.call(d,d.__data__,u,l)),a.push(d));return new Yn(r,a)}function Y0(n){return function(){return this.matches(n)}}function q0(n){return function(e){return e.matches(n)}}var b6=Array.prototype.find;function _6(n){return function(){return b6.call(this.children,n)}}function w6(){return this.firstElementChild}function y6(n){return this.select(n==null?w6:_6(typeof n=="function"?n:q0(n)))}var x6=Array.prototype.filter;function A6(){return Array.from(this.children)}function E6(n){return function(){return x6.call(this.children,n)}}function C6(n){return this.selectAll(n==null?A6:E6(typeof n=="function"?n:q0(n)))}function k6(n){typeof n!="function"&&(n=Y0(n));for(var e=this._groups,t=e.length,r=new Array(t),a=0;a<t;++a)for(var o=e[a],l=o.length,s=r[a]=[],d,u=0;u<l;++u)(d=o[u])&&n.call(d,d.__data__,u,o)&&s.push(d);return new Yn(r,this._parents)}function X0(n){return new Array(n.length)}function S6(){return new Yn(this._enter||this._groups.map(X0),this._parents)}function Y2(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}Y2.prototype={constructor:Y2,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function P6(n){return function(){return n}}function M6(n,e,t,r,a,o){for(var l=0,s,d=e.length,u=o.length;l<u;++l)(s=e[l])?(s.__data__=o[l],r[l]=s):t[l]=new Y2(n,o[l]);for(;l<d;++l)(s=e[l])&&(a[l]=s)}function I6(n,e,t,r,a,o,l){var s,d,u=new Map,h=e.length,p=o.length,v=new Array(h),m;for(s=0;s<h;++s)(d=e[s])&&(v[s]=m=l.call(d,d.__data__,s,e)+"",u.has(m)?a[s]=d:u.set(m,d));for(s=0;s<p;++s)m=l.call(n,o[s],s,o)+"",(d=u.get(m))?(r[s]=d,d.__data__=o[s],u.delete(m)):t[s]=new Y2(n,o[s]);for(s=0;s<h;++s)(d=e[s])&&u.get(v[s])===d&&(a[s]=d)}function R6(n){return n.__data__}function B6(n,e){if(!arguments.length)return Array.from(this,R6);var t=e?I6:M6,r=this._parents,a=this._groups;typeof n!="function"&&(n=P6(n));for(var o=a.length,l=new Array(o),s=new Array(o),d=new Array(o),u=0;u<o;++u){var h=r[u],p=a[u],v=p.length,m=N6(n.call(h,h&&h.__data__,u,r)),_=m.length,b=s[u]=new Array(_),y=l[u]=new Array(_),E=d[u]=new Array(v);t(h,p,b,y,E,m,e);for(var C=0,k=0,w,x;C<_;++C)if(w=b[C]){for(C>=k&&(k=C+1);!(x=y[k])&&++k<_;);w._next=x||null}}return l=new Yn(l,r),l._enter=s,l._exit=d,l}function N6(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function T6(){return new Yn(this._exit||this._groups.map(X0),this._parents)}function F6(n,e,t){var r=this.enter(),a=this,o=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),e!=null&&(a=e(a),a&&(a=a.selection())),t==null?o.remove():t(o),r&&a?r.merge(a).order():a}function O6(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,a=t.length,o=r.length,l=Math.min(a,o),s=new Array(a),d=0;d<l;++d)for(var u=t[d],h=r[d],p=u.length,v=s[d]=new Array(p),m,_=0;_<p;++_)(m=u[_]||h[_])&&(v[_]=m);for(;d<a;++d)s[d]=t[d];return new Yn(s,this._parents)}function D6(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var r=n[e],a=r.length-1,o=r[a],l;--a>=0;)(l=r[a])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function L6(n){n||(n=z6);function e(p,v){return p&&v?n(p.__data__,v.__data__):!p-!v}for(var t=this._groups,r=t.length,a=new Array(r),o=0;o<r;++o){for(var l=t[o],s=l.length,d=a[o]=new Array(s),u,h=0;h<s;++h)(u=l[h])&&(d[h]=u);d.sort(e)}return new Yn(a,this._parents).order()}function z6(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function V6(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function U6(){return Array.from(this)}function G6(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],a=0,o=r.length;a<o;++a){var l=r[a];if(l)return l}return null}function H6(){let n=0;for(const e of this)++n;return n}function Q6(){return!this.node()}function j6(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a=e[t],o=0,l=a.length,s;o<l;++o)(s=a[o])&&n.call(s,s.__data__,o,a);return this}function $6(n){return function(){this.removeAttribute(n)}}function W6(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Y6(n,e){return function(){this.setAttribute(n,e)}}function q6(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function X6(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function K6(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function Z6(n,e){var t=hr(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((e==null?t.local?W6:$6:typeof e=="function"?t.local?K6:X6:t.local?q6:Y6)(t,e))}function K0(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function J6(n){return function(){this.style.removeProperty(n)}}function nu(n,e,t){return function(){this.style.setProperty(n,e,t)}}function eu(n,e,t){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function tu(n,e,t){return arguments.length>1?this.each((e==null?J6:typeof e=="function"?eu:nu)(n,e,t??"")):$1(this.node(),n)}function $1(n,e){return n.style.getPropertyValue(e)||K0(n).getComputedStyle(n,null).getPropertyValue(e)}function ru(n){return function(){delete this[n]}}function iu(n,e){return function(){this[n]=e}}function au(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function ou(n,e){return arguments.length>1?this.each((e==null?ru:typeof e=="function"?au:iu)(n,e)):this.node()[n]}function Z0(n){return n.trim().split(/^|\s+/)}function pa(n){return n.classList||new J0(n)}function J0(n){this._node=n,this._names=Z0(n.getAttribute("class")||"")}J0.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function nl(n,e){for(var t=pa(n),r=-1,a=e.length;++r<a;)t.add(e[r])}function el(n,e){for(var t=pa(n),r=-1,a=e.length;++r<a;)t.remove(e[r])}function su(n){return function(){nl(this,n)}}function lu(n){return function(){el(this,n)}}function cu(n,e){return function(){(e.apply(this,arguments)?nl:el)(this,n)}}function uu(n,e){var t=Z0(n+"");if(arguments.length<2){for(var r=pa(this.node()),a=-1,o=t.length;++a<o;)if(!r.contains(t[a]))return!1;return!0}return this.each((typeof e=="function"?cu:e?su:lu)(t,e))}function hu(){this.textContent=""}function fu(n){return function(){this.textContent=n}}function du(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function pu(n){return arguments.length?this.each(n==null?hu:(typeof n=="function"?du:fu)(n)):this.node().textContent}function vu(){this.innerHTML=""}function mu(n){return function(){this.innerHTML=n}}function gu(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function bu(n){return arguments.length?this.each(n==null?vu:(typeof n=="function"?gu:mu)(n)):this.node().innerHTML}function _u(){this.nextSibling&&this.parentNode.appendChild(this)}function wu(){return this.each(_u)}function yu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xu(){return this.each(yu)}function Au(n){var e=typeof n=="function"?n:fa(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Eu(){return null}function Cu(n,e){var t=typeof n=="function"?n:fa(n),r=e==null?Eu:typeof e=="function"?e:da(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function ku(){var n=this.parentNode;n&&n.removeChild(this)}function Su(){return this.each(ku)}function Pu(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Mu(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Iu(n){return this.select(n?Mu:Pu)}function Ru(n){return arguments.length?this.property("__data__",n):this.node().__data__}function Bu(n){return function(e){n.call(this,e,this.__data__)}}function Nu(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function Tu(n){return function(){var e=this.__on;if(e){for(var t=0,r=-1,a=e.length,o;t<a;++t)o=e[t],(!n.type||o.type===n.type)&&o.name===n.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Fu(n,e,t){return function(){var r=this.__on,a,o=Bu(e);if(r){for(var l=0,s=r.length;l<s;++l)if((a=r[l]).type===n.type&&a.name===n.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=t),a.value=e;return}}this.addEventListener(n.type,o,t),a={type:n.type,name:n.name,value:e,listener:o,options:t},r?r.push(a):this.__on=[a]}}function Ou(n,e,t){var r=Nu(n+""),a,o=r.length,l;if(arguments.length<2){var s=this.node().__on;if(s){for(var d=0,u=s.length,h;d<u;++d)for(a=0,h=s[d];a<o;++a)if((l=r[a]).type===h.type&&l.name===h.name)return h.value}return}for(s=e?Fu:Tu,a=0;a<o;++a)this.each(s(r[a],e,t));return this}function tl(n,e,t){var r=K0(n),a=r.CustomEvent;typeof a=="function"?a=new a(e,t):(a=r.document.createEvent("Event"),t?(a.initEvent(e,t.bubbles,t.cancelable),a.detail=t.detail):a.initEvent(e,!1,!1)),n.dispatchEvent(a)}function Du(n,e){return function(){return tl(this,n,e)}}function Lu(n,e){return function(){return tl(this,n,e.apply(this,arguments))}}function zu(n,e){return this.each((typeof e=="function"?Lu:Du)(n,e))}function*Vu(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],a=0,o=r.length,l;a<o;++a)(l=r[a])&&(yield l)}var rl=[null];function Yn(n,e){this._groups=n,this._parents=e}function i2(){return new Yn([[document.documentElement]],rl)}function Uu(){return this}Yn.prototype=i2.prototype={constructor:Yn,select:d6,selectAll:g6,selectChild:y6,selectChildren:C6,filter:k6,data:B6,enter:S6,exit:T6,join:F6,merge:O6,selection:Uu,order:D6,sort:L6,call:V6,nodes:U6,node:G6,size:H6,empty:Q6,each:j6,attr:Z6,style:tu,property:ou,classed:uu,text:pu,html:bu,raise:wu,lower:xu,append:Au,insert:Cu,remove:Su,clone:Iu,datum:Ru,on:Ou,dispatch:zu,[Symbol.iterator]:Vu};function tn(n){return typeof n=="string"?new Yn([[document.querySelector(n)]],[document.documentElement]):new Yn([[n]],rl)}function Gu(n){return tn(fa(n).call(document.documentElement))}function Hu(n){let e;for(;e=n.sourceEvent;)n=e;return n}function c1(n,e){if(n=Hu(n),e===void 0&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[n.clientX-a.left-e.clientLeft,n.clientY-a.top-e.clientTop]}}return[n.pageX,n.pageY]}var Qu={value:()=>{}};function va(){for(var n=0,e=arguments.length,t={},r;n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new L2(t)}function L2(n){this._=n}function ju(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",a=t.indexOf(".");if(a>=0&&(r=t.slice(a+1),t=t.slice(0,a)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}L2.prototype=va.prototype={constructor:L2,on:function(n,e){var t=this._,r=ju(n+"",t),a,o=-1,l=r.length;if(arguments.length<2){for(;++o<l;)if((a=(n=r[o]).type)&&(a=$u(t[a],n.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<l;)if(a=(n=r[o]).type)t[a]=ts(t[a],n.name,e);else if(e==null)for(a in t)t[a]=ts(t[a],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new L2(n)},call:function(n,e){if((a=arguments.length-2)>0)for(var t=new Array(a),r=0,a,o;r<a;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(o=this._[n],r=0,a=o.length;r<a;++r)o[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],a=0,o=r.length;a<o;++a)r[a].value.apply(e,t)}};function $u(n,e){for(var t=0,r=n.length,a;t<r;++t)if((a=n[t]).name===e)return a.value}function ts(n,e,t){for(var r=0,a=n.length;r<a;++r)if(n[r].name===e){n[r]=Qu,n=n.slice(0,r).concat(n.slice(r+1));break}return t!=null&&n.push({name:e,value:t}),n}const Di={capture:!0,passive:!1};function Li(n){n.preventDefault(),n.stopImmediatePropagation()}function Wu(n){var e=n.document.documentElement,t=tn(n).on("dragstart.drag",Li,Di);"onselectstart"in e?t.on("selectstart.drag",Li,Di):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Yu(n,e){var t=n.document.documentElement,r=tn(n).on("dragstart.drag",null);e&&(r.on("click.drag",Li,Di),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}function fr(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function ma(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function Z1(){}var g1=.7,W1=1/g1,G1="\\s*([+-]?\\d+)\\s*",jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qu=/^#([0-9a-f]{3,8})$/,Xu=new RegExp(`^rgb\\(${G1},${G1},${G1}\\)$`),Ku=new RegExp(`^rgb\\(${ve},${ve},${ve}\\)$`),Zu=new RegExp(`^rgba\\(${G1},${G1},${G1},${jt}\\)$`),Ju=new RegExp(`^rgba\\(${ve},${ve},${ve},${jt}\\)$`),n8=new RegExp(`^hsl\\(${jt},${ve},${ve}\\)$`),e8=new RegExp(`^hsla\\(${jt},${ve},${ve},${jt}\\)$`),rs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fr(Z1,b1,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:is,formatHex:is,formatHex8:t8,formatHsl:r8,formatRgb:as,toString:as});function is(){return this.rgb().formatHex()}function t8(){return this.rgb().formatHex8()}function r8(){return al(this).formatHsl()}function as(){return this.rgb().formatRgb()}function b1(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=qu.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?os(e):t===3?new zn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?x2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?x2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Xu.exec(n))?new zn(e[1],e[2],e[3],1):(e=Ku.exec(n))?new zn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Zu.exec(n))?x2(e[1],e[2],e[3],e[4]):(e=Ju.exec(n))?x2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=n8.exec(n))?cs(e[1],e[2]/100,e[3]/100,1):(e=e8.exec(n))?cs(e[1],e[2]/100,e[3]/100,e[4]):rs.hasOwnProperty(n)?os(rs[n]):n==="transparent"?new zn(NaN,NaN,NaN,0):null}function os(n){return new zn(n>>16&255,n>>8&255,n&255,1)}function x2(n,e,t,r){return r<=0&&(n=e=t=NaN),new zn(n,e,t,r)}function il(n){return n instanceof Z1||(n=b1(n)),n?(n=n.rgb(),new zn(n.r,n.g,n.b,n.opacity)):new zn}function se(n,e,t,r){return arguments.length===1?il(n):new zn(n,e,t,r??1)}function zn(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}fr(zn,se,ma(Z1,{brighter(n){return n=n==null?W1:Math.pow(W1,n),new zn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?g1:Math.pow(g1,n),new zn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new zn(v1(this.r),v1(this.g),v1(this.b),q2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ss,formatHex:ss,formatHex8:i8,formatRgb:ls,toString:ls}));function ss(){return`#${h1(this.r)}${h1(this.g)}${h1(this.b)}`}function i8(){return`#${h1(this.r)}${h1(this.g)}${h1(this.b)}${h1((isNaN(this.opacity)?1:this.opacity)*255)}`}function ls(){const n=q2(this.opacity);return`${n===1?"rgb(":"rgba("}${v1(this.r)}, ${v1(this.g)}, ${v1(this.b)}${n===1?")":`, ${n})`}`}function q2(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function v1(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function h1(n){return n=v1(n),(n<16?"0":"")+n.toString(16)}function cs(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new oe(n,e,t,r)}function al(n){if(n instanceof oe)return new oe(n.h,n.s,n.l,n.opacity);if(n instanceof Z1||(n=b1(n)),!n)return new oe;if(n instanceof oe)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,a=Math.min(e,t,r),o=Math.max(e,t,r),l=NaN,s=o-a,d=(o+a)/2;return s?(e===o?l=(t-r)/s+(t<r)*6:t===o?l=(r-e)/s+2:l=(e-t)/s+4,s/=d<.5?o+a:2-o-a,l*=60):s=d>0&&d<1?0:l,new oe(l,s,d,n.opacity)}function ol(n,e,t,r){return arguments.length===1?al(n):new oe(n,e,t,r??1)}function oe(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}fr(oe,ol,ma(Z1,{brighter(n){return n=n==null?W1:Math.pow(W1,n),new oe(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?g1:Math.pow(g1,n),new oe(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,a=2*t-r;return new zn(ri(n>=240?n-240:n+120,a,r),ri(n,a,r),ri(n<120?n+240:n-120,a,r),this.opacity)},clamp(){return new oe(us(this.h),A2(this.s),A2(this.l),q2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=q2(this.opacity);return`${n===1?"hsl(":"hsla("}${us(this.h)}, ${A2(this.s)*100}%, ${A2(this.l)*100}%${n===1?")":`, ${n})`}`}}));function us(n){return n=(n||0)%360,n<0?n+360:n}function A2(n){return Math.max(0,Math.min(1,n||0))}function ri(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const a8=Math.PI/180,o8=180/Math.PI;var sl=-.14861,ga=1.78277,ba=-.29227,dr=-.90649,$t=1.97294,hs=$t*dr,fs=$t*ga,ds=ga*ba-dr*sl;function s8(n){if(n instanceof m1)return new m1(n.h,n.s,n.l,n.opacity);n instanceof zn||(n=il(n));var e=n.r/255,t=n.g/255,r=n.b/255,a=(ds*r+hs*e-fs*t)/(ds+hs-fs),o=r-a,l=($t*(t-a)-ba*o)/dr,s=Math.sqrt(l*l+o*o)/($t*a*(1-a)),d=s?Math.atan2(l,o)*o8-120:NaN;return new m1(d<0?d+360:d,s,a,n.opacity)}function be(n,e,t,r){return arguments.length===1?s8(n):new m1(n,e,t,r??1)}function m1(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}fr(m1,be,ma(Z1,{brighter(n){return n=n==null?W1:Math.pow(W1,n),new m1(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?g1:Math.pow(g1,n),new m1(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=isNaN(this.h)?0:(this.h+120)*a8,e=+this.l,t=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(n),a=Math.sin(n);return new zn(255*(e+t*(sl*r+ga*a)),255*(e+t*(ba*r+dr*a)),255*(e+t*($t*r)),this.opacity)}}));function l8(n,e,t,r,a){var o=n*n,l=o*n;return((1-3*n+3*o-l)*e+(4-6*o+3*l)*t+(1+3*n+3*o-3*l)*r+l*a)/6}function c8(n){var e=n.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),a=n[r],o=n[r+1],l=r>0?n[r-1]:2*a-o,s=r<e-1?n[r+2]:2*o-a;return l8((t-r/e)*e,l,a,o,s)}}const pr=n=>()=>n;function ll(n,e){return function(t){return n+t*e}}function u8(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function h8(n,e){var t=e-n;return t?ll(n,t>180||t<-180?t-360*Math.round(t/360):t):pr(isNaN(n)?e:n)}function f8(n){return(n=+n)==1?H1:function(e,t){return t-e?u8(e,t,n):pr(isNaN(e)?t:e)}}function H1(n,e){var t=e-n;return t?ll(n,t):pr(isNaN(n)?e:n)}const X2=function n(e){var t=f8(e);function r(a,o){var l=t((a=se(a)).r,(o=se(o)).r),s=t(a.g,o.g),d=t(a.b,o.b),u=H1(a.opacity,o.opacity);return function(h){return a.r=l(h),a.g=s(h),a.b=d(h),a.opacity=u(h),a+""}}return r.gamma=n,r}(1);function d8(n){return function(e){var t=e.length,r=new Array(t),a=new Array(t),o=new Array(t),l,s;for(l=0;l<t;++l)s=se(e[l]),r[l]=s.r||0,a[l]=s.g||0,o[l]=s.b||0;return r=n(r),a=n(a),o=n(o),s.opacity=1,function(d){return s.r=r(d),s.g=a(d),s.b=o(d),s+""}}}var p8=d8(c8);function v8(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),a;return function(o){for(a=0;a<t;++a)r[a]=n[a]*(1-o)+e[a]*o;return r}}function m8(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function g8(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,a=new Array(r),o=new Array(t),l;for(l=0;l<r;++l)a[l]=Be(n[l],e[l]);for(;l<t;++l)o[l]=e[l];return function(s){for(l=0;l<r;++l)o[l]=a[l](s);return o}}function b8(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function ae(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function _8(n,e){var t={},r={},a;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in n?t[a]=Be(n[a],e[a]):r[a]=e[a];return function(o){for(a in t)r[a]=t[a](o);return r}}var zi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ii=new RegExp(zi.source,"g");function w8(n){return function(){return n}}function y8(n){return function(e){return n(e)+""}}function cl(n,e){var t=zi.lastIndex=ii.lastIndex=0,r,a,o,l=-1,s=[],d=[];for(n=n+"",e=e+"";(r=zi.exec(n))&&(a=ii.exec(e));)(o=a.index)>t&&(o=e.slice(t,o),s[l]?s[l]+=o:s[++l]=o),(r=r[0])===(a=a[0])?s[l]?s[l]+=a:s[++l]=a:(s[++l]=null,d.push({i:l,x:ae(r,a)})),t=ii.lastIndex;return t<e.length&&(o=e.slice(t),s[l]?s[l]+=o:s[++l]=o),s.length<2?d[0]?y8(d[0].x):w8(e):(e=d.length,function(u){for(var h=0,p;h<e;++h)s[(p=d[h]).i]=p.x(u);return s.join("")})}function Be(n,e){var t=typeof e,r;return e==null||t==="boolean"?pr(e):(t==="number"?ae:t==="string"?(r=b1(e))?(e=r,X2):cl:e instanceof b1?X2:e instanceof Date?b8:m8(e)?v8:Array.isArray(e)?g8:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?_8:ae)(n,e)}function Wt(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}var ps=180/Math.PI,Vi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ul(n,e,t,r,a,o){var l,s,d;return(l=Math.sqrt(n*n+e*e))&&(n/=l,e/=l),(d=n*t+e*r)&&(t-=n*d,r-=e*d),(s=Math.sqrt(t*t+r*r))&&(t/=s,r/=s,d/=s),n*r<e*t&&(n=-n,e=-e,d=-d,l=-l),{translateX:a,translateY:o,rotate:Math.atan2(e,n)*ps,skewX:Math.atan(d)*ps,scaleX:l,scaleY:s}}var E2;function x8(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?Vi:ul(e.a,e.b,e.c,e.d,e.e,e.f)}function A8(n){return n==null||(E2||(E2=document.createElementNS("http://www.w3.org/2000/svg","g")),E2.setAttribute("transform",n),!(n=E2.transform.baseVal.consolidate()))?Vi:(n=n.matrix,ul(n.a,n.b,n.c,n.d,n.e,n.f))}function hl(n,e,t,r){function a(u){return u.length?u.pop()+" ":""}function o(u,h,p,v,m,_){if(u!==p||h!==v){var b=m.push("translate(",null,e,null,t);_.push({i:b-4,x:ae(u,p)},{i:b-2,x:ae(h,v)})}else(p||v)&&m.push("translate("+p+e+v+t)}function l(u,h,p,v){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),v.push({i:p.push(a(p)+"rotate(",null,r)-2,x:ae(u,h)})):h&&p.push(a(p)+"rotate("+h+r)}function s(u,h,p,v){u!==h?v.push({i:p.push(a(p)+"skewX(",null,r)-2,x:ae(u,h)}):h&&p.push(a(p)+"skewX("+h+r)}function d(u,h,p,v,m,_){if(u!==p||h!==v){var b=m.push(a(m)+"scale(",null,",",null,")");_.push({i:b-4,x:ae(u,p)},{i:b-2,x:ae(h,v)})}else(p!==1||v!==1)&&m.push(a(m)+"scale("+p+","+v+")")}return function(u,h){var p=[],v=[];return u=n(u),h=n(h),o(u.translateX,u.translateY,h.translateX,h.translateY,p,v),l(u.rotate,h.rotate,p,v),s(u.skewX,h.skewX,p,v),d(u.scaleX,u.scaleY,h.scaleX,h.scaleY,p,v),u=h=null,function(m){for(var _=-1,b=v.length,y;++_<b;)p[(y=v[_]).i]=y.x(m);return p.join("")}}}var E8=hl(x8,"px, ","px)","deg)"),C8=hl(A8,", ",")",")"),k8=1e-12;function vs(n){return((n=Math.exp(n))+1/n)/2}function S8(n){return((n=Math.exp(n))-1/n)/2}function P8(n){return((n=Math.exp(2*n))-1)/(n+1)}const M8=function n(e,t,r){function a(o,l){var s=o[0],d=o[1],u=o[2],h=l[0],p=l[1],v=l[2],m=h-s,_=p-d,b=m*m+_*_,y,E;if(b<k8)E=Math.log(v/u)/e,y=function(P){return[s+P*m,d+P*_,u*Math.exp(e*P*E)]};else{var C=Math.sqrt(b),k=(v*v-u*u+r*b)/(2*u*t*C),w=(v*v-u*u-r*b)/(2*v*t*C),x=Math.log(Math.sqrt(k*k+1)-k),A=Math.log(Math.sqrt(w*w+1)-w);E=(A-x)/e,y=function(P){var M=P*E,N=vs(x),F=u/(t*C)*(N*P8(e*M+x)-S8(x));return[s+F*m,d+F*_,u*N/vs(e*M+x)]}}return y.duration=E*1e3*e/Math.SQRT2,y}return a.rho=function(o){var l=Math.max(.001,+o),s=l*l,d=s*s;return n(l,s,d)},a}(Math.SQRT2,2,4);function fl(n){return function e(t){t=+t;function r(a,o){var l=n((a=be(a)).h,(o=be(o)).h),s=H1(a.s,o.s),d=H1(a.l,o.l),u=H1(a.opacity,o.opacity);return function(h){return a.h=l(h),a.s=s(h),a.l=d(Math.pow(h,t)),a.opacity=u(h),a+""}}return r.gamma=e,r}(1)}fl(h8);var _a=fl(H1);function I8(n,e){e===void 0&&(e=n,n=Be);for(var t=0,r=e.length-1,a=e[0],o=new Array(r<0?0:r);t<r;)o[t]=n(a,a=e[++t]);return function(l){var s=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[s](l-s)}}function ai(n,e){for(var t=new Array(e),r=0;r<e;++r)t[r]=n(r/(e-1));return t}var Y1=0,Dt=0,Ct=0,dl=1e3,K2,Lt,Z2=0,_1=0,vr=0,Yt=typeof performance=="object"&&performance.now?performance:Date,pl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function wa(){return _1||(pl(R8),_1=Yt.now()+vr)}function R8(){_1=0}function J2(){this._call=this._time=this._next=null}J2.prototype=vl.prototype={constructor:J2,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?wa():+t)+(e==null?0:+e),!this._next&&Lt!==this&&(Lt?Lt._next=this:K2=this,Lt=this),this._call=n,this._time=t,Ui()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ui())}};function vl(n,e,t){var r=new J2;return r.restart(n,e,t),r}function B8(){wa(),++Y1;for(var n=K2,e;n;)(e=_1-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Y1}function ms(){_1=(Z2=Yt.now())+vr,Y1=Dt=0;try{B8()}finally{Y1=0,T8(),_1=0}}function N8(){var n=Yt.now(),e=n-Z2;e>dl&&(vr-=e,Z2=n)}function T8(){for(var n,e=K2,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:K2=t);Lt=n,Ui(r)}function Ui(n){if(!Y1){Dt&&(Dt=clearTimeout(Dt));var e=n-_1;e>24?(n<1/0&&(Dt=setTimeout(ms,n-Yt.now()-vr)),Ct&&(Ct=clearInterval(Ct))):(Ct||(Z2=Yt.now(),Ct=setInterval(N8,dl)),Y1=1,pl(ms))}}function gs(n,e,t){var r=new J2;return e=e==null?0:+e,r.restart(a=>{r.stop(),n(a+e)},e,t),r}var F8=va("start","end","cancel","interrupt"),O8=[],ml=0,bs=1,Gi=2,z2=3,_s=4,Hi=5,V2=6;function mr(n,e,t,r,a,o){var l=n.__transition;if(!l)n.__transition={};else if(t in l)return;D8(n,t,{name:e,index:r,group:a,on:F8,tween:O8,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ml})}function ya(n,e){var t=le(n,e);if(t.state>ml)throw new Error("too late; already scheduled");return t}function _e(n,e){var t=le(n,e);if(t.state>z2)throw new Error("too late; already running");return t}function le(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function D8(n,e,t){var r=n.__transition,a;r[e]=t,t.timer=vl(o,0,t.time);function o(u){t.state=bs,t.timer.restart(l,t.delay,t.time),t.delay<=u&&l(u-t.delay)}function l(u){var h,p,v,m;if(t.state!==bs)return d();for(h in r)if(m=r[h],m.name===t.name){if(m.state===z2)return gs(l);m.state===_s?(m.state=V2,m.timer.stop(),m.on.call("interrupt",n,n.__data__,m.index,m.group),delete r[h]):+h<e&&(m.state=V2,m.timer.stop(),m.on.call("cancel",n,n.__data__,m.index,m.group),delete r[h])}if(gs(function(){t.state===z2&&(t.state=_s,t.timer.restart(s,t.delay,t.time),s(u))}),t.state=Gi,t.on.call("start",n,n.__data__,t.index,t.group),t.state===Gi){for(t.state=z2,a=new Array(v=t.tween.length),h=0,p=-1;h<v;++h)(m=t.tween[h].value.call(n,n.__data__,t.index,t.group))&&(a[++p]=m);a.length=p+1}}function s(u){for(var h=u<t.duration?t.ease.call(null,u/t.duration):(t.timer.restart(d),t.state=Hi,1),p=-1,v=a.length;++p<v;)a[p].call(n,h);t.state===Hi&&(t.on.call("end",n,n.__data__,t.index,t.group),d())}function d(){t.state=V2,t.timer.stop(),delete r[e];for(var u in r)return;delete n.__transition}}function U2(n,e){var t=n.__transition,r,a,o=!0,l;if(t){e=e==null?null:e+"";for(l in t){if((r=t[l]).name!==e){o=!1;continue}a=r.state>Gi&&r.state<Hi,r.state=V2,r.timer.stop(),r.on.call(a?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[l]}o&&delete n.__transition}}function L8(n){return this.each(function(){U2(this,n)})}function z8(n,e){var t,r;return function(){var a=_e(this,n),o=a.tween;if(o!==t){r=t=o;for(var l=0,s=r.length;l<s;++l)if(r[l].name===e){r=r.slice(),r.splice(l,1);break}}a.tween=r}}function V8(n,e,t){var r,a;if(typeof t!="function")throw new Error;return function(){var o=_e(this,n),l=o.tween;if(l!==r){a=(r=l).slice();for(var s={name:e,value:t},d=0,u=a.length;d<u;++d)if(a[d].name===e){a[d]=s;break}d===u&&a.push(s)}o.tween=a}}function U8(n,e){var t=this._id;if(n+="",arguments.length<2){for(var r=le(this.node(),t).tween,a=0,o=r.length,l;a<o;++a)if((l=r[a]).name===n)return l.value;return null}return this.each((e==null?z8:V8)(t,n,e))}function xa(n,e,t){var r=n._id;return n.each(function(){var a=_e(this,r);(a.value||(a.value={}))[e]=t.apply(this,arguments)}),function(a){return le(a,r).value[e]}}function gl(n,e){var t;return(typeof e=="number"?ae:e instanceof b1?X2:(t=b1(e))?(e=t,X2):cl)(n,e)}function G8(n){return function(){this.removeAttribute(n)}}function H8(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Q8(n,e,t){var r,a=t+"",o;return function(){var l=this.getAttribute(n);return l===a?null:l===r?o:o=e(r=l,t)}}function j8(n,e,t){var r,a=t+"",o;return function(){var l=this.getAttributeNS(n.space,n.local);return l===a?null:l===r?o:o=e(r=l,t)}}function $8(n,e,t){var r,a,o;return function(){var l,s=t(this),d;return s==null?void this.removeAttribute(n):(l=this.getAttribute(n),d=s+"",l===d?null:l===r&&d===a?o:(a=d,o=e(r=l,s)))}}function W8(n,e,t){var r,a,o;return function(){var l,s=t(this),d;return s==null?void this.removeAttributeNS(n.space,n.local):(l=this.getAttributeNS(n.space,n.local),d=s+"",l===d?null:l===r&&d===a?o:(a=d,o=e(r=l,s)))}}function Y8(n,e){var t=hr(n),r=t==="transform"?C8:gl;return this.attrTween(n,typeof e=="function"?(t.local?W8:$8)(t,r,xa(this,"attr."+n,e)):e==null?(t.local?H8:G8)(t):(t.local?j8:Q8)(t,r,e))}function q8(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function X8(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function K8(n,e){var t,r;function a(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&X8(n,o)),t}return a._value=e,a}function Z8(n,e){var t,r;function a(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&q8(n,o)),t}return a._value=e,a}function J8(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var r=hr(n);return this.tween(t,(r.local?K8:Z8)(r,e))}function n9(n,e){return function(){ya(this,n).delay=+e.apply(this,arguments)}}function e9(n,e){return e=+e,function(){ya(this,n).delay=e}}function t9(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?n9:e9)(e,n)):le(this.node(),e).delay}function r9(n,e){return function(){_e(this,n).duration=+e.apply(this,arguments)}}function i9(n,e){return e=+e,function(){_e(this,n).duration=e}}function a9(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?r9:i9)(e,n)):le(this.node(),e).duration}function o9(n,e){if(typeof e!="function")throw new Error;return function(){_e(this,n).ease=e}}function s9(n){var e=this._id;return arguments.length?this.each(o9(e,n)):le(this.node(),e).ease}function l9(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;_e(this,n).ease=t}}function c9(n){if(typeof n!="function")throw new Error;return this.each(l9(this._id,n))}function u9(n){typeof n!="function"&&(n=Y0(n));for(var e=this._groups,t=e.length,r=new Array(t),a=0;a<t;++a)for(var o=e[a],l=o.length,s=r[a]=[],d,u=0;u<l;++u)(d=o[u])&&n.call(d,d.__data__,u,o)&&s.push(d);return new Ne(r,this._parents,this._name,this._id)}function h9(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,a=t.length,o=Math.min(r,a),l=new Array(r),s=0;s<o;++s)for(var d=e[s],u=t[s],h=d.length,p=l[s]=new Array(h),v,m=0;m<h;++m)(v=d[m]||u[m])&&(p[m]=v);for(;s<r;++s)l[s]=e[s];return new Ne(l,this._parents,this._name,this._id)}function f9(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function d9(n,e,t){var r,a,o=f9(e)?ya:_e;return function(){var l=o(this,n),s=l.on;s!==r&&(a=(r=s).copy()).on(e,t),l.on=a}}function p9(n,e){var t=this._id;return arguments.length<2?le(this.node(),t).on.on(n):this.each(d9(t,n,e))}function v9(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function m9(){return this.on("end.remove",v9(this._id))}function g9(n){var e=this._name,t=this._id;typeof n!="function"&&(n=da(n));for(var r=this._groups,a=r.length,o=new Array(a),l=0;l<a;++l)for(var s=r[l],d=s.length,u=o[l]=new Array(d),h,p,v=0;v<d;++v)(h=s[v])&&(p=n.call(h,h.__data__,v,s))&&("__data__"in h&&(p.__data__=h.__data__),u[v]=p,mr(u[v],e,t,v,u,le(h,t)));return new Ne(o,this._parents,e,t)}function b9(n){var e=this._name,t=this._id;typeof n!="function"&&(n=W0(n));for(var r=this._groups,a=r.length,o=[],l=[],s=0;s<a;++s)for(var d=r[s],u=d.length,h,p=0;p<u;++p)if(h=d[p]){for(var v=n.call(h,h.__data__,p,d),m,_=le(h,t),b=0,y=v.length;b<y;++b)(m=v[b])&&mr(m,e,t,b,v,_);o.push(v),l.push(h)}return new Ne(o,l,e,t)}var _9=i2.prototype.constructor;function w9(){return new _9(this._groups,this._parents)}function y9(n,e){var t,r,a;return function(){var o=$1(this,n),l=(this.style.removeProperty(n),$1(this,n));return o===l?null:o===t&&l===r?a:a=e(t=o,r=l)}}function bl(n){return function(){this.style.removeProperty(n)}}function x9(n,e,t){var r,a=t+"",o;return function(){var l=$1(this,n);return l===a?null:l===r?o:o=e(r=l,t)}}function A9(n,e,t){var r,a,o;return function(){var l=$1(this,n),s=t(this),d=s+"";return s==null&&(d=s=(this.style.removeProperty(n),$1(this,n))),l===d?null:l===r&&d===a?o:(a=d,o=e(r=l,s))}}function E9(n,e){var t,r,a,o="style."+e,l="end."+o,s;return function(){var d=_e(this,n),u=d.on,h=d.value[o]==null?s||(s=bl(e)):void 0;(u!==t||a!==h)&&(r=(t=u).copy()).on(l,a=h),d.on=r}}function C9(n,e,t){var r=(n+="")=="transform"?E8:gl;return e==null?this.styleTween(n,y9(n,r)).on("end.style."+n,bl(n)):typeof e=="function"?this.styleTween(n,A9(n,r,xa(this,"style."+n,e))).each(E9(this._id,n)):this.styleTween(n,x9(n,r,e),t).on("end.style."+n,null)}function k9(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}function S9(n,e,t){var r,a;function o(){var l=e.apply(this,arguments);return l!==a&&(r=(a=l)&&k9(n,l,t)),r}return o._value=e,o}function P9(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,S9(n,e,t??""))}function M9(n){return function(){this.textContent=n}}function I9(n){return function(){var e=n(this);this.textContent=e??""}}function R9(n){return this.tween("text",typeof n=="function"?I9(xa(this,"text",n)):M9(n==null?"":n+""))}function B9(n){return function(e){this.textContent=n.call(this,e)}}function N9(n){var e,t;function r(){var a=n.apply(this,arguments);return a!==t&&(e=(t=a)&&B9(a)),e}return r._value=n,r}function T9(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,N9(n))}function F9(){for(var n=this._name,e=this._id,t=_l(),r=this._groups,a=r.length,o=0;o<a;++o)for(var l=r[o],s=l.length,d,u=0;u<s;++u)if(d=l[u]){var h=le(d,e);mr(d,n,t,u,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Ne(r,this._parents,n,t)}function O9(){var n,e,t=this,r=t._id,a=t.size();return new Promise(function(o,l){var s={value:l},d={value:function(){--a===0&&o()}};t.each(function(){var u=_e(this,r),h=u.on;h!==n&&(e=(n=h).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(d)),u.on=e}),a===0&&o()})}var D9=0;function Ne(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function _l(){return++D9}var Ce=i2.prototype;Ne.prototype={constructor:Ne,select:g9,selectAll:b9,selectChild:Ce.selectChild,selectChildren:Ce.selectChildren,filter:u9,merge:h9,selection:w9,transition:F9,call:Ce.call,nodes:Ce.nodes,node:Ce.node,size:Ce.size,empty:Ce.empty,each:Ce.each,on:p9,attr:Y8,attrTween:J8,style:C9,styleTween:P9,text:R9,textTween:T9,remove:m9,tween:U8,delay:t9,duration:a9,ease:s9,easeVarying:c9,end:O9,[Symbol.iterator]:Ce[Symbol.iterator]};var L9={time:null,delay:0,duration:250,ease:c6};function z9(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function V9(n){var e,t;n instanceof Ne?(e=n._id,n=n._name):(e=_l(),(t=L9).time=wa(),n=n==null?null:n+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var l=r[o],s=l.length,d,u=0;u<s;++u)(d=l[u])&&mr(d,n,e,u,l,t||z9(d,e));return new Ne(r,this._parents,n,e)}i2.prototype.interrupt=L8;i2.prototype.transition=V9;const C2=n=>()=>n;function U9(n,{sourceEvent:e,target:t,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function Re(n,e,t){this.k=n,this.x=e,this.y=t}Re.prototype={constructor:Re,scale:function(n){return n===1?this:new Re(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Re(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var u1=new Re(1,0,0);Re.prototype;function oi(n){n.stopImmediatePropagation()}function kt(n){n.preventDefault(),n.stopImmediatePropagation()}function G9(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function H9(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function ws(){return this.__zoom||u1}function Q9(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function j9(){return navigator.maxTouchPoints||"ontouchstart"in this}function $9(n,e,t){var r=n.invertX(e[0][0])-t[0][0],a=n.invertX(e[1][0])-t[1][0],o=n.invertY(e[0][1])-t[0][1],l=n.invertY(e[1][1])-t[1][1];return n.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l))}function W9(){var n=G9,e=H9,t=$9,r=Q9,a=j9,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],s=250,d=M8,u=va("start","zoom","end"),h,p,v,m=500,_=150,b=0,y=10;function E(I){I.property("__zoom",ws).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",F).filter(a).on("touchstart.zoom",R).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",Q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(I,O,B,L){var T=I.selection?I.selection():I;T.property("__zoom",ws),I!==T?x(I,O,B,L):T.interrupt().each(function(){A(this,arguments).event(L).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},E.scaleBy=function(I,O,B,L){E.scaleTo(I,function(){var T=this.__zoom.k,U=typeof O=="function"?O.apply(this,arguments):O;return T*U},B,L)},E.scaleTo=function(I,O,B,L){E.transform(I,function(){var T=e.apply(this,arguments),U=this.__zoom,G=B==null?w(T):typeof B=="function"?B.apply(this,arguments):B,j=U.invert(G),X=typeof O=="function"?O.apply(this,arguments):O;return t(k(C(U,X),G,j),T,l)},B,L)},E.translateBy=function(I,O,B,L){E.transform(I,function(){return t(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof B=="function"?B.apply(this,arguments):B),e.apply(this,arguments),l)},null,L)},E.translateTo=function(I,O,B,L,T){E.transform(I,function(){var U=e.apply(this,arguments),G=this.__zoom,j=L==null?w(U):typeof L=="function"?L.apply(this,arguments):L;return t(u1.translate(j[0],j[1]).scale(G.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof B=="function"?-B.apply(this,arguments):-B),U,l)},L,T)};function C(I,O){return O=Math.max(o[0],Math.min(o[1],O)),O===I.k?I:new Re(O,I.x,I.y)}function k(I,O,B){var L=O[0]-B[0]*I.k,T=O[1]-B[1]*I.k;return L===I.x&&T===I.y?I:new Re(I.k,L,T)}function w(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}function x(I,O,B,L){I.on("start.zoom",function(){A(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(L).end()}).tween("zoom",function(){var T=this,U=arguments,G=A(T,U).event(L),j=e.apply(T,U),X=B==null?w(j):typeof B=="function"?B.apply(T,U):B,Y=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),q=T.__zoom,D=typeof O=="function"?O.apply(T,U):O,nn=d(q.invert(X).concat(Y/q.k),D.invert(X).concat(Y/D.k));return function(rn){if(rn===1)rn=D;else{var en=nn(rn),Pn=Y/en[2];rn=new Re(Pn,X[0]-en[0]*Pn,X[1]-en[1]*Pn)}G.zoom(null,rn)}})}function A(I,O,B){return!B&&I.__zooming||new P(I,O)}function P(I,O){this.that=I,this.args=O,this.active=0,this.sourceEvent=null,this.extent=e.apply(I,O),this.taps=0}P.prototype={event:function(I){return I&&(this.sourceEvent=I),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,O){return this.mouse&&I!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&I!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&I!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){var O=tn(this.that).datum();u.call(I,this.that,new U9(I,{sourceEvent:this.sourceEvent,target:E,type:I,transform:this.that.__zoom,dispatch:u}),O)}};function M(I,...O){if(!n.apply(this,arguments))return;var B=A(this,O).event(I),L=this.__zoom,T=Math.max(o[0],Math.min(o[1],L.k*Math.pow(2,r.apply(this,arguments)))),U=c1(I);if(B.wheel)(B.mouse[0][0]!==U[0]||B.mouse[0][1]!==U[1])&&(B.mouse[1]=L.invert(B.mouse[0]=U)),clearTimeout(B.wheel);else{if(L.k===T)return;B.mouse=[U,L.invert(U)],U2(this),B.start()}kt(I),B.wheel=setTimeout(G,_),B.zoom("mouse",t(k(C(L,T),B.mouse[0],B.mouse[1]),B.extent,l));function G(){B.wheel=null,B.end()}}function N(I,...O){if(v||!n.apply(this,arguments))return;var B=I.currentTarget,L=A(this,O,!0).event(I),T=tn(I.view).on("mousemove.zoom",X,!0).on("mouseup.zoom",Y,!0),U=c1(I,B),G=I.clientX,j=I.clientY;Wu(I.view),oi(I),L.mouse=[U,this.__zoom.invert(U)],U2(this),L.start();function X(q){if(kt(q),!L.moved){var D=q.clientX-G,nn=q.clientY-j;L.moved=D*D+nn*nn>b}L.event(q).zoom("mouse",t(k(L.that.__zoom,L.mouse[0]=c1(q,B),L.mouse[1]),L.extent,l))}function Y(q){T.on("mousemove.zoom mouseup.zoom",null),Yu(q.view,L.moved),kt(q),L.event(q).end()}}function F(I,...O){if(n.apply(this,arguments)){var B=this.__zoom,L=c1(I.changedTouches?I.changedTouches[0]:I,this),T=B.invert(L),U=B.k*(I.shiftKey?.5:2),G=t(k(C(B,U),L,T),e.apply(this,O),l);kt(I),s>0?tn(this).transition().duration(s).call(x,G,L,I):tn(this).call(E.transform,G,L,I)}}function R(I,...O){if(n.apply(this,arguments)){var B=I.touches,L=B.length,T=A(this,O,I.changedTouches.length===L).event(I),U,G,j,X;for(oi(I),G=0;G<L;++G)j=B[G],X=c1(j,this),X=[X,this.__zoom.invert(X),j.identifier],T.touch0?!T.touch1&&T.touch0[2]!==X[2]&&(T.touch1=X,T.taps=0):(T.touch0=X,U=!0,T.taps=1+!!h);h&&(h=clearTimeout(h)),U&&(T.taps<2&&(p=X[0],h=setTimeout(function(){h=null},m)),U2(this),T.start())}}function z(I,...O){if(this.__zooming){var B=A(this,O).event(I),L=I.changedTouches,T=L.length,U,G,j,X;for(kt(I),U=0;U<T;++U)G=L[U],j=c1(G,this),B.touch0&&B.touch0[2]===G.identifier?B.touch0[0]=j:B.touch1&&B.touch1[2]===G.identifier&&(B.touch1[0]=j);if(G=B.that.__zoom,B.touch1){var Y=B.touch0[0],q=B.touch0[1],D=B.touch1[0],nn=B.touch1[1],rn=(rn=D[0]-Y[0])*rn+(rn=D[1]-Y[1])*rn,en=(en=nn[0]-q[0])*en+(en=nn[1]-q[1])*en;G=C(G,Math.sqrt(rn/en)),j=[(Y[0]+D[0])/2,(Y[1]+D[1])/2],X=[(q[0]+nn[0])/2,(q[1]+nn[1])/2]}else if(B.touch0)j=B.touch0[0],X=B.touch0[1];else return;B.zoom("touch",t(k(G,j,X),B.extent,l))}}function Q(I,...O){if(this.__zooming){var B=A(this,O).event(I),L=I.changedTouches,T=L.length,U,G;for(oi(I),v&&clearTimeout(v),v=setTimeout(function(){v=null},m),U=0;U<T;++U)G=L[U],B.touch0&&B.touch0[2]===G.identifier?delete B.touch0:B.touch1&&B.touch1[2]===G.identifier&&delete B.touch1;if(B.touch1&&!B.touch0&&(B.touch0=B.touch1,delete B.touch1),B.touch0)B.touch0[1]=this.__zoom.invert(B.touch0[0]);else if(B.end(),B.taps===2&&(G=c1(G,this),Math.hypot(p[0]-G[0],p[1]-G[1])<y)){var j=tn(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return E.wheelDelta=function(I){return arguments.length?(r=typeof I=="function"?I:C2(+I),E):r},E.filter=function(I){return arguments.length?(n=typeof I=="function"?I:C2(!!I),E):n},E.touchable=function(I){return arguments.length?(a=typeof I=="function"?I:C2(!!I),E):a},E.extent=function(I){return arguments.length?(e=typeof I=="function"?I:C2([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),E):e},E.scaleExtent=function(I){return arguments.length?(o[0]=+I[0],o[1]=+I[1],E):[o[0],o[1]]},E.translateExtent=function(I){return arguments.length?(l[0][0]=+I[0][0],l[1][0]=+I[1][0],l[0][1]=+I[0][1],l[1][1]=+I[1][1],E):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},E.constrain=function(I){return arguments.length?(t=I,E):t},E.duration=function(I){return arguments.length?(s=+I,E):s},E.interpolate=function(I){return arguments.length?(d=I,E):d},E.on=function(){var I=u.on.apply(u,arguments);return I===u?E:I},E.clickDistance=function(I){return arguments.length?(b=(I=+I)*I,E):Math.sqrt(b)},E.tapDistance=function(I){return arguments.length?(y=+I,E):y},E}var Y9=1e-6,Xe=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});function q9(){var n=new Xe(9);return Xe!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function X9(n,e){var t=e[0],r=e[1],a=e[2],o=e[3],l=e[4],s=e[5],d=e[6],u=e[7],h=e[8],p=e[9],v=e[10],m=e[11],_=e[12],b=e[13],y=e[14],E=e[15],C=t*s-r*l,k=t*d-a*l,w=t*u-o*l,x=r*d-a*s,A=r*u-o*s,P=a*u-o*d,M=h*b-p*_,N=h*y-v*_,F=h*E-m*_,R=p*y-v*b,z=p*E-m*b,Q=v*E-m*y,I=C*Q-k*z+w*R+x*F-A*N+P*M;return I?(I=1/I,n[0]=(s*Q-d*z+u*R)*I,n[1]=(d*F-l*Q-u*N)*I,n[2]=(l*z-s*F+u*M)*I,n[3]=(a*z-r*Q-o*R)*I,n[4]=(t*Q-a*F+o*N)*I,n[5]=(r*F-t*z-o*M)*I,n[6]=(b*P-y*A+E*x)*I,n[7]=(y*w-_*P-E*k)*I,n[8]=(_*A-b*w+E*C)*I,n):null}function St(){var n=new Xe(16);return Xe!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0),n[0]=1,n[5]=1,n[10]=1,n[15]=1,n}function si(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function li(n,e,t){var r=e[0],a=e[1],o=e[2],l=e[3],s=e[4],d=e[5],u=e[6],h=e[7],p=e[8],v=e[9],m=e[10],_=e[11],b=e[12],y=e[13],E=e[14],C=e[15],k=t[0],w=t[1],x=t[2],A=t[3];return n[0]=k*r+w*s+x*p+A*b,n[1]=k*a+w*d+x*v+A*y,n[2]=k*o+w*u+x*m+A*E,n[3]=k*l+w*h+x*_+A*C,k=t[4],w=t[5],x=t[6],A=t[7],n[4]=k*r+w*s+x*p+A*b,n[5]=k*a+w*d+x*v+A*y,n[6]=k*o+w*u+x*m+A*E,n[7]=k*l+w*h+x*_+A*C,k=t[8],w=t[9],x=t[10],A=t[11],n[8]=k*r+w*s+x*p+A*b,n[9]=k*a+w*d+x*v+A*y,n[10]=k*o+w*u+x*m+A*E,n[11]=k*l+w*h+x*_+A*C,k=t[12],w=t[13],x=t[14],A=t[15],n[12]=k*r+w*s+x*p+A*b,n[13]=k*a+w*d+x*v+A*y,n[14]=k*o+w*u+x*m+A*E,n[15]=k*l+w*h+x*_+A*C,n}function ys(n,e,t){var r=t[0],a=t[1],o=t[2],l,s,d,u,h,p,v,m,_,b,y,E;return e===n?(n[12]=e[0]*r+e[4]*a+e[8]*o+e[12],n[13]=e[1]*r+e[5]*a+e[9]*o+e[13],n[14]=e[2]*r+e[6]*a+e[10]*o+e[14],n[15]=e[3]*r+e[7]*a+e[11]*o+e[15]):(l=e[0],s=e[1],d=e[2],u=e[3],h=e[4],p=e[5],v=e[6],m=e[7],_=e[8],b=e[9],y=e[10],E=e[11],n[0]=l,n[1]=s,n[2]=d,n[3]=u,n[4]=h,n[5]=p,n[6]=v,n[7]=m,n[8]=_,n[9]=b,n[10]=y,n[11]=E,n[12]=l*r+h*a+_*o+e[12],n[13]=s*r+p*a+b*o+e[13],n[14]=d*r+v*a+y*o+e[14],n[15]=u*r+m*a+E*o+e[15]),n}function xs(n,e,t,r){var a=r[0],o=r[1],l=r[2],s=Math.hypot(a,o,l),d,u,h,p,v,m,_,b,y,E,C,k,w,x,A,P,M,N,F,R,z,Q,I,O;return s<Y9?null:(s=1/s,a*=s,o*=s,l*=s,d=Math.sin(t),u=Math.cos(t),h=1-u,p=e[0],v=e[1],m=e[2],_=e[3],b=e[4],y=e[5],E=e[6],C=e[7],k=e[8],w=e[9],x=e[10],A=e[11],P=a*a*h+u,M=o*a*h+l*d,N=l*a*h-o*d,F=a*o*h-l*d,R=o*o*h+u,z=l*o*h+a*d,Q=a*l*h+o*d,I=o*l*h-a*d,O=l*l*h+u,n[0]=p*P+b*M+k*N,n[1]=v*P+y*M+w*N,n[2]=m*P+E*M+x*N,n[3]=_*P+C*M+A*N,n[4]=p*F+b*R+k*z,n[5]=v*F+y*R+w*z,n[6]=m*F+E*R+x*z,n[7]=_*F+C*R+A*z,n[8]=p*Q+b*I+k*O,n[9]=v*Q+y*I+w*O,n[10]=m*Q+E*I+x*O,n[11]=_*Q+C*I+A*O,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n)}function K9(n,e,t,r,a){var o=1/Math.tan(e/2),l;return n[0]=o/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,a!=null&&a!==1/0?(l=1/(r-a),n[10]=(a+r)*l,n[14]=2*a*r*l):(n[10]=-1,n[14]=-2*r),n}var Z9=K9;function J9(n,e,t,r,a,o,l){var s=1/(e-t),d=1/(r-a),u=1/(o-l);return n[0]=-2*s,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*d,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*u,n[11]=0,n[12]=(e+t)*s,n[13]=(a+r)*d,n[14]=(l+o)*u,n[15]=1,n}var nh=J9;function G2(){var n=new Xe(3);return Xe!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}(function(){var n=G2();return function(e,t,r,a,o,l){var s,d;for(t||(t=3),r||(r=0),a?d=Math.min(a*t+r,e.length):d=e.length,s=r;s<d;s+=t)n[0]=e[s],n[1]=e[s+1],n[2]=e[s+2],o(n,n,l),e[s]=n[0],e[s+1]=n[1],e[s+2]=n[2];return e}})();function wl(){var n=new Xe(4);return Xe!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0),n}function eh(n,e,t){var r=e[0],a=e[1],o=e[2],l=e[3];return n[0]=t[0]*r+t[4]*a+t[8]*o+t[12]*l,n[1]=t[1]*r+t[5]*a+t[9]*o+t[13]*l,n[2]=t[2]*r+t[6]*a+t[10]*o+t[14]*l,n[3]=t[3]*r+t[7]*a+t[11]*o+t[15]*l,n}(function(){var n=wl();return function(e,t,r,a,o,l){var s,d;for(t||(t=4),r||(r=0),a?d=Math.min(a*t+r,e.length):d=e.length,s=r;s<d;s+=t)n[0]=e[s],n[1]=e[s+1],n[2]=e[s+2],n[3]=e[s+3],o(n,n,l),e[s]=n[0],e[s+1]=n[1],e[s+2]=n[2],e[s+3]=n[3];return e}})();function th(n,e){let t=["webgl","experimental-webgl","webkit-3d","moz-webgl"],r=null;for(let a=0;a<t.length;++a){try{r=n.getContext(t[a],e)}catch{}if(r)break}return r}function Zn(n,e,t){let r;return r=n.createShader(t),n.shaderSource(r,e),n.compileShader(r),n.getShaderParameter(r,n.COMPILE_STATUS)?r:(console.log("ERROR with script: ",e),console.log(n.getShaderInfoLog(r)),null)}function z1(n,e,t,r,a){let o=a.createProgram();if(a.attachShader(o,n),a.attachShader(o,e),a.linkProgram(o),!a.getProgramParameter(o,a.LINK_STATUS)){alert("Shader Compilation Error."+a.getProgramInfoLog(o));return}if(this.ID=o,this.uniforms=new Object,this.attributes=new Object,t)for(let l=0;l<t.length;l++)this.uniforms[t[l]]=a.getUniformLocation(this.ID,t[l]);if(this.attributes.enable=function(l){a.enableVertexAttribArray(this[l])},this.attributes.disable=function(l){a.disableVertexAttribArray(this[l])},r)for(let l=0;l<r.length;l++)this.attributes[r[l]]=a.getAttribLocation(this.ID,r[l]);this.use=function(l){l.useProgram(this.ID)}}function yl(n,e=!0,t=!0){let r=[-1,1,0,-1,-1,0,1,1,0,1,-1,0],a=[0,0,1,0,0,1,0,0,1,0,0,1],o=[0,1,0,1,0,0,1,1,0,0,0,0],l={};return t&&(l.texCoordObject=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,l.texCoordObject),n.bufferData(n.ARRAY_BUFFER,new Float32Array(o),n.STATIC_DRAW)),e&&(l.normalObject=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,l.normalObject),n.bufferData(n.ARRAY_BUFFER,new Float32Array(a),n.STATIC_DRAW)),l.vertexObject=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,l.vertexObject),n.bufferData(n.ARRAY_BUFFER,new Float32Array(r),n.STATIC_DRAW),l.numIndices=4,l}function As(n){return n*Math.PI/180}function Qi(n,e,t,r){if(r<=t)return t;const a=Math.floor(t+(r-t)/2),o=e-n[a].value,l=e-n[a+1].value;return o<0?Qi(n,e,t,a-1):l<0?a:Qi(n,e,a+1,r)}const rh=(n,e,t)=>{const r=(n-e)/(t-e);return[1-r,r]};function ih(n){return n.value!==void 0&&n.mapped!==void 0}function ah(n){return n.length>0&&ih(n[0])}function Es(n,e,t,r){return[n*e[0]+t*r[0],n*e[1]+t*r[1],n*e[2]+t*r[2]]}function Cs(n){return n||rh}function oh(n,e,t){return!Array.isArray(n)||n.length<1?ch:ah(n)?sh(n,e,Cs(t),Es):lh(n,e,Cs(t),Es)}function sh(n,e,t,r){const a=n.sort((o,l)=>o.value<l.value?-1:1);return function(o){const l=e(o),s=Qi(a,l,0,a.length-1);if(s==0&&l<a[0].value)return a[s].mapped;if(s==a.length-1)return a[s].mapped;const[d,u]=t(l,a[s].value,a[s+1].value);return r(d,a[s].mapped,u,a[s+1].mapped)}}function lh(n,e,t,r){return function(a){const o=e(a),l=(n.length-1)*o;if(l<=0)return n[0];if(l>=n.length-1)return n[n.length-1];const s=Math.floor(l),[d,u]=t(l,s,s+1);return r(d,n[s],u,n[s+1])}}function ch(n){return[0,0,0]}function uh(n,e){let[t,r]=n;const[a,o]=e;return Math.abs(t-r)<Number.EPSILON&&(r=t+1),function(l){return a+(o-a)*((l-t)/(r-t))}}const hh=[[.001462,466e-6,.013866],[.002267,.00127,.01857],[.003299,.002249,.024239],[.004547,.003392,.030909],[.006006,.004692,.038558],[.007676,.006136,.046836],[.009561,.007713,.055143],[.011663,.009417,.06346],[.013995,.011225,.071862],[.016561,.013136,.080282],[.019373,.015133,.088767],[.022447,.017199,.097327],[.025793,.019331,.10593],[.029432,.021503,.114621],[.033385,.023702,.123397],[.037668,.025921,.132232],[.042253,.028139,.141141],[.046915,.030324,.150164],[.051644,.032474,.159254],[.056449,.034569,.168414],[.06134,.03659,.177642],[.066331,.038504,.186962],[.071429,.040294,.196354],[.076637,.041905,.205799],[.081962,.043328,.215289],[.087411,.044556,.224813],[.09299,.045583,.234358],[.098702,.046402,.243904],[.104551,.047008,.25343],[.110536,.047399,.262912],[.116656,.047574,.272321],[.122908,.047536,.281624],[.129285,.047293,.290788],[.135778,.046856,.299776],[.142378,.046242,.308553],[.149073,.045468,.317085],[.15585,.044559,.325338],[.162689,.043554,.333277],[.169575,.042489,.340874],[.176493,.041402,.348111],[.183429,.040329,.354971],[.190367,.039309,.361447],[.197297,.0384,.367535],[.204209,.037632,.373238],[.211095,.03703,.378563],[.217949,.036615,.383522],[.224763,.036405,.388129],[.231538,.036405,.3924],[.238273,.036621,.396353],[.244967,.037055,.400007],[.25162,.037705,.403378],[.258234,.038571,.406485],[.26481,.039647,.409345],[.271347,.040922,.411976],[.27785,.042353,.414392],[.284321,.043933,.416608],[.290763,.045644,.418637],[.297178,.04747,.420491],[.303568,.049396,.422182],[.309935,.051407,.423721],[.316282,.05349,.425116],[.32261,.055634,.426377],[.328921,.057827,.427511],[.335217,.06006,.428524],[.3415,.062325,.429425],[.347771,.064616,.430217],[.354032,.066925,.430906],[.360284,.069247,.431497],[.366529,.071579,.431994],[.372768,.073915,.4324],[.379001,.076253,.432719],[.385228,.078591,.432955],[.391453,.080927,.433109],[.397674,.083257,.433183],[.403894,.08558,.433179],[.410113,.087896,.433098],[.416331,.090203,.432943],[.422549,.092501,.432714],[.428768,.09479,.432412],[.434987,.097069,.432039],[.441207,.099338,.431594],[.447428,.101597,.43108],[.453651,.103848,.430498],[.459875,.106089,.429846],[.4661,.108322,.429125],[.472328,.110547,.428334],[.478558,.112764,.427475],[.484789,.114974,.426548],[.491022,.117179,.425552],[.497257,.119379,.424488],[.503493,.121575,.423356],[.50973,.123769,.422156],[.515967,.12596,.420887],[.522206,.12815,.419549],[.528444,.130341,.418142],[.534683,.132534,.416667],[.54092,.134729,.415123],[.547157,.136929,.413511],[.553392,.139134,.411829],[.559624,.141346,.410078],[.565854,.143567,.408258],[.572081,.145797,.406369],[.578304,.148039,.404411],[.584521,.150294,.402385],[.590734,.152563,.40029],[.59694,.154848,.398125],[.603139,.157151,.395891],[.60933,.159474,.393589],[.615513,.161817,.391219],[.621685,.164184,.388781],[.627847,.166575,.386276],[.633998,.168992,.383704],[.640135,.171438,.381065],[.64626,.173914,.378359],[.652369,.176421,.375586],[.658463,.178962,.372748],[.66454,.181539,.369846],[.670599,.184153,.366879],[.676638,.186807,.363849],[.682656,.189501,.360757],[.688653,.192239,.357603],[.694627,.195021,.354388],[.700576,.197851,.351113],[.7065,.200728,.347777],[.712396,.203656,.344383],[.718264,.206636,.340931],[.724103,.20967,.337424],[.729909,.212759,.333861],[.735683,.215906,.330245],[.741423,.219112,.326576],[.747127,.222378,.322856],[.752794,.225706,.319085],[.758422,.229097,.315266],[.76401,.232554,.311399],[.769556,.236077,.307485],[.775059,.239667,.303526],[.780517,.243327,.299523],[.785929,.247056,.295477],[.791293,.250856,.29139],[.796607,.254728,.287264],[.801871,.258674,.283099],[.807082,.262692,.278898],[.812239,.266786,.274661],[.817341,.270954,.27039],[.822386,.275197,.266085],[.827372,.279517,.26175],[.832299,.283913,.257383],[.837165,.288385,.252988],[.841969,.292933,.248564],[.846709,.297559,.244113],[.851384,.30226,.239636],[.855992,.307038,.235133],[.860533,.311892,.230606],[.865006,.316822,.226055],[.869409,.321827,.221482],[.873741,.326906,.216886],[.878001,.33206,.212268],[.882188,.337287,.207628],[.886302,.342586,.202968],[.890341,.347957,.198286],[.894305,.353399,.193584],[.898192,.358911,.18886],[.902003,.364492,.184116],[.905735,.37014,.17935],[.90939,.375856,.174563],[.912966,.381636,.169755],[.916462,.387481,.164924],[.919879,.393389,.16007],[.923215,.399359,.155193],[.92647,.405389,.150292],[.929644,.411479,.145367],[.932737,.417627,.140417],[.935747,.423831,.13544],[.938675,.430091,.130438],[.941521,.436405,.125409],[.944285,.442772,.120354],[.946965,.449191,.115272],[.949562,.45566,.110164],[.952075,.462178,.105031],[.954506,.468744,.099874],[.956852,.475356,.094695],[.959114,.482014,.089499],[.961293,.488716,.084289],[.963387,.495462,.079073],[.965397,.502249,.073859],[.967322,.509078,.068659],[.969163,.515946,.063488],[.970919,.522853,.058367],[.97259,.529798,.053324],[.974176,.53678,.048392],[.975677,.543798,.043618],[.977092,.55085,.03905],[.978422,.557937,.034931],[.979666,.565057,.031409],[.980824,.572209,.028508],[.981895,.579392,.02625],[.982881,.586606,.024661],[.983779,.593849,.02377],[.984591,.601122,.023606],[.985315,.608422,.024202],[.985952,.61575,.025592],[.986502,.623105,.027814],[.986964,.630485,.030908],[.987337,.63789,.034916],[.987622,.64532,.039886],[.987819,.652773,.045581],[.987926,.66025,.05175],[.987945,.667748,.058329],[.987874,.675267,.065257],[.987714,.682807,.072489],[.987464,.690366,.07999],[.987124,.697944,.087731],[.986694,.70554,.095694],[.986175,.713153,.103863],[.985566,.720782,.112229],[.984865,.728427,.120785],[.984075,.736087,.129527],[.983196,.743758,.138453],[.982228,.751442,.147565],[.981173,.759135,.156863],[.980032,.766837,.166353],[.978806,.774545,.176037],[.977497,.782258,.185923],[.976108,.789974,.196018],[.974638,.797692,.206332],[.973088,.805409,.216877],[.971468,.813122,.227658],[.969783,.820825,.238686],[.968041,.828515,.249972],[.966243,.836191,.261534],[.964394,.843848,.273391],[.962517,.851476,.285546],[.960626,.859069,.29801],[.95872,.866624,.31082],[.956834,.874129,.323974],[.954997,.881569,.337475],[.953215,.888942,.351369],[.951546,.896226,.365627],[.950018,.903409,.380271],[.948683,.910473,.395289],[.947594,.917399,.410665],[.946809,.924168,.426373],[.946392,.930761,.442367],[.946403,.937159,.458592],[.946903,.943348,.47497],[.947937,.949318,.491426],[.949545,.955063,.50786],[.95174,.960587,.524203],[.954529,.965896,.540361],[.957896,.971003,.556275],[.961812,.975924,.571925],[.966249,.980678,.587206],[.971162,.985282,.602154],[.976511,.989753,.61676],[.982257,.994109,.631017],[.988362,.998364,.644924]];let fh=class{constructor(e,t,r,a){for(const[o,l]of Object.entries(e))o=="Color"||o=="Size"||o=="Position"||o=="OutlineColor"||o=="OutlineWidth"||(this[o]=l);this._network=a,this.ID=t,this.index=r}set color(e){let t=this.index;this._network.colors[t*4+0]=e[0],this._network.colors[t*4+1]=e[1],this._network.colors[t*4+2]=e[2],e.length>3&&(this._network.colors[t*4+3]=e[3])}get color(){let e=this.index;return[this._network.colors[e*4+0],this._network.colors[e*4+1],this._network.colors[e*4+2],this._network.colors[e*4+3]]}set opacity(e){let t=this.index;this._network.colors[t*4+3]=e}get opacity(){let e=this.index;return this._network.colors[e*4+3]}set size(e){this._network.sizes[this.index]=e}get size(){return this._network.sizes[this.index]}set outlineColor(e){let t=this.index;this._network.outlineColors[t*4+0]=e[0],this._network.outlineColors[t*4+1]=e[1],this._network.outlineColors[t*4+2]=e[2],e.length>3&&(this._network.outlineColors[t*4+3]=e[3])}get outlineColor(){let e=this.index;return[this._network.outlineColors[e*4+0],this._network.outlineColors[e*4+1],this._network.outlineColors[e*4+2],this._network.outlineColors[e*4+3]]}set outlineWidth(e){this._network.outlineWidths[this.index]=e}get outlineWidth(){return this._network.outlineWidths[this.index]}get network(){return this._network}set position(e){let t=this.index;this._network.positions[t*3+0]=e[0],this._network.positions[t*3+1]=e[1],this._network.positions[t*3+2]=e[2]}get position(){let e=this.index;return[this._network.positions[e*3+0],this._network.positions[e*3+1],this._network.positions[e*3+2]]}};class dh{constructor(e,t,r){this.ID2index=new Object,this.index2Node=[];for(const[l,s]of Object.entries(e))if(!this.ID2index.hasOwnProperty(l)){let d=this.index2Node.length;this.ID2index[l]=d,s.index=d,s.ID=l,this.index2Node.push(s),s.neighbors=[],s.edges=[]}this.indexedEdges=new Int32Array(t.length*2);for(let l=0;l<t.length;l++){const s=t[l];let d=this.ID2index[s.source],u=this.ID2index[s.target];this.indexedEdges[l*2]=d,this.indexedEdges[l*2+1]=u}this.positions=new Float32Array(3*this.index2Node.length),this.colors=new Float32Array(4*this.index2Node.length),this.sizes=new Float32Array(this.index2Node.length),this.outlineColors=new Float32Array(4*this.index2Node.length);for(let l=0;l<this.index2Node.length;l++)this.colors[l*4+3]=1,this.outlineColors[l*4+3]=1;this.outlineWidths=new Float32Array(this.index2Node.length),this.edgePositions=null,this.edgeColors=null,this.edgeSizes=null,this.nodes={};let a=uh([0,this.index2Node.length],[0,1]),o=oh(hh,a);for(let l=0;l<this.index2Node.length;l++){let s=this.index2Node[l];if(s.hasOwnProperty("Position")?(this.positions[l*3]=s.Position[0],this.positions[l*3+1]=s.Position[1],this.positions[l*3+2]=s.Position[2]):s.hasOwnProperty("posx")&&s.hasOwnProperty("posy")?(this.positions[l*3]=s.posx,this.positions[l*3+1]=s.posy,s.hasOwnProperty("posz")?this.positions[l*3+2]=s.posz:this.positions[l*3+2]=0):(this.positions[l*3+0]=(Math.random()-.5)*2*200,this.positions[l*3+1]=(Math.random()-.5)*2*200,this.positions[l*3+2]=(Math.random()-.5)*2*200),s.hasOwnProperty("Color"))l==0&&console.log("NODE COLOR:",s.Color),this.colors[l*4+0]=s.Color[0],this.colors[l*4+1]=s.Color[1],this.colors[l*4+2]=s.Color[2],s.Color.length>3?this.colors[l*4+3]=s.Color[3]:this.colors[l*4+3]=1;else{let u=o(l);this.colors[l*4+0]=u[0],this.colors[l*4+1]=u[1],this.colors[l*4+2]=u[2],u.length>3?this.colors[l*4+3]=u[3]:this.colors[l*4+3]=1}s.hasOwnProperty("Size")?this.sizes[l]=s.Size:this.sizes[l]=1,s.hasOwnProperty("OutlineColor")?(this.outlineColors[l*4+0]=s.OutlineColor[0],this.outlineColors[l*4+1]=s.OutlineColor[1],this.outlineColors[l*4+2]=s.OutlineColor[2],s.OutlineColor.length>3?this.outlineColors[l*4+3]=s.OutlineColor[3]:this.outlineColors[l*4+3]=1):(this.outlineColors[l*4+0]=1,this.outlineColors[l*4+1]=1,this.outlineColors[l*4+2]=1,this.outlineColors[l*4+3]=1),s.hasOwnProperty("OutlineWidth")?this.outlineWidths[l]=s.OutlineWidth:this.outlineWidths[l]=0;let d=new fh(s,s.ID,l,this);this.index2Node[l]=d,this.nodes[s.ID]=d}for(let l=0;l<t.length;l++){const s=t[l];let d=this.ID2index[s.source],u=this.ID2index[s.target],h=this.index2Node[d],p=this.index2Node[u];h.neighbors.push(p),p.neighbors.push(h),h.edges.push(l),p.edges.push(l)}}get nodeCount(){return this.index2Node.length}updateEdgePositions(){this.edgePositions==null&&(this.edgePositions=new Float32Array(3*this.indexedEdges.length));const e=this.indexedEdges.length,t=this.positions,r=this.edgePositions,a=this.indexedEdges;for(let o=0;o<e/2;o++){const l=a[o*2]*3,s=a[o*2+1]*3,d=o*6,u=d+3;r[d]=t[l],r[d+1]=t[l+1],r[d+2]=t[l+2],r[u]=t[s],r[u+1]=t[s+1],r[u+2]=t[s+2]}}updateEdgeColors(e=!0){this.edgeColors==null&&(this.edgeColors=new Float32Array(4*this.indexedEdges.length));const t=this.indexedEdges.length,r=this.edgeColors,a=this.colors,o=this.indexedEdges;for(let l=0;l<t/2;l++){const s=o[l*2]*4,d=o[l*2+1]*4,u=l*8,h=u+4;r[u]=a[s],r[u+1]=a[s+1],r[u+2]=a[s+2],r[h]=a[d],r[h+1]=a[d+1],r[h+2]=a[d+2],e&&(r[u+3]=a[s+3],r[h+3]=a[d+3])}}updateEdgeSizes(){this.edgeSizes==null&&(this.edgeSizes=new Float32Array(this.indexedEdges.length));const e=this.indexedEdges.length,t=this.edgeSizes,r=this.sizes,a=this.indexedEdges;for(let o=0;o<e/2;o++){const l=a[o*2],s=a[o*2+1];t[o*2]=r[l],t[o*2+1]=r[s]}}updateEdgeOpacity(e){this.edgeColors==null&&(this.edgeColors=new Float32Array(4*this.indexedEdges.length));const t=this.indexedEdges.length,r=this.edgeColors,a=this.colors,o=this.indexedEdges;for(let l=0;l<t/2;l++){const s=o[l*2]*4,d=o[l*2+1]*4;r[l*8+3]=a[s+3],r[l*8+7]=a[d+3]}}}class ph{constructor(e,{FPS:t=60,throttle:r=!0,maxQueueLength:a=10}){this.helios=e,this.needsRender=!1,this.needsUpdateNodesGeometry=!1,this.needsUpdateEdgesGeometry=!1,this._FPS=t,this._throttle=r,this._maxQueueLength=a,this._started=!1,this._paused=!0,this._lastFPS=0,this._averageFPS=0,this._tasks={},this._executionCount=0,this._lastTimestamp=null,this._currentTimestamp=null,this._lastExecutionTimestamp=null,this._lastRequestFrameID=0,this._timeout=null,this._times=[],this._lastRepeatInterval=0,this._shouldCleanup=!1}FPS(e){return e===void 0?this.FPS:(this.FPS=e,this)}schedule({name:e="default",callback:t=null,delay:r=0,repeat:a=!1,maxRepeatCount:o=1/0,maxRepeatTime:l=1/0,repeatInterval:s=0,synchronized:d=!0,immediateUpdates:u=!1,updateNodesGeometry:h=!1,updateEdgesGeometry:p=!1,afterRedraw:v=!1,redraw:m=!0,replace:_=!0}){let b={name:e,callback:t,delay:r,repeat:a,maxRepeatCount:o,maxRepeatTime:l,repeatInterval:s,synchronized:d,immediateUpdates:u,updateNodesGeometry:h,updateEdgesGeometry:p,afterRedraw:v,redraw:m,replace:_,executionCount:0,lastTimestamp:window.performance.now(),lastExecutionTime:0,shouldBeRemoved:!1,cancel:function(){this.shouldBeRemoved=!0,this.synchronized||clearTimeout(this._timeout)}};return e in this._tasks||(this._tasks[e]=[]),_&&this._clearTask(e),d||this.runAsyncTask(b,b.delay),this._addTaskToQueue(b,e),this._paused&&this._started&&this._updateTimeout(),this}runAsyncTask(e,t=0){this._executionCount+=1,e.timeout=setTimeout(()=>{if(e.shouldBeRemoved)return;let r=window.performance.now(),a=r-e.lastTimestamp;if(e.callback?.(a,e),e.executionCount+=1,e.immediateUpdates?this._updateHelios(e.needsRender,e.needsUpdateNodesGeometry,e.needsUpdateEdgesGeometry):(e.redraw&&(this.needsRender=!0),e.updateNodesGeometry&&(this.needsUpdateNodesGeometry=!0),e.updateEdgesGeometry&&(this.needsUpdateEdgesGeometry=!0)),e.repeat){let o=window.performance.now();e.lastExecutionTime=o-r,e.lastTimestamp=r;let l=e.repeatInterval-(o-r);l<0&&(l=0),e.executionCount>=e.maxRepeatCount?e.shouldBeRemoved=!0:this.runAsyncTask(e,l)}else e.shouldBeRemoved=!0;this._started&&this._paused&&this._updateTimeout()},t)}_executeTask(e,t,r){if(e.callback?.(t,e),e===void 0)return!1;if(e.executionCount+=1,e.repeat&&e.executionCount<e.maxRepeatCount){let a=window.performance.now();e.lastExecutionTime=a-r,e.lastTimestamp=r}else e.shouldBeRemoved=!0;return!0}runSyncTasks(){if(this._shouldCleanup)return;this._executionCount+=1;let e=[],t=window.performance.now();for(let r of Object.keys(this._tasks).sort()){let a=this._tasks[r];for(let o=0;o<a.length;o++){if((a[o].synchronized||!a[o].immediateUpdates)&&(a[o].redraw&&(this.needsRender=!0),a[o].updateNodesGeometry&&(this.needsUpdateNodesGeometry=!0),a[o].updateEdgesGeometry&&(this.needsUpdateEdgesGeometry=!0)),!a[o]?.shouldBeRemoved){let l=window.performance.now(),s=l-a[o].lastTimestamp+a[o].lastExecutionTime;s<0&&(s=0);let d=!1;if(a[o].executionCount==0?s>=a[o].delay&&(d=!0):s>=a[o].repeatInterval&&(d=!0),d){if(a[o].afterRedraw)e.push({task:a[o],elapsedTime:s,currentTimestamp:l});else if(!this._executeTask(a[o],s,l))break}}a[o]?.shouldBeRemoved&&(a.splice(o,1),o--)}a.length==0&&delete this._tasks[r]}this._updateHelios(this.needsRender,this.needsUpdateNodesGeometry,this.needsUpdateEdgesGeometry,!0,e),this._lastTimestamp=t}_updateHelios(e,t,r,a,o){e===void 0&&(e=this.needsRender),t===void 0&&(t=this.needsUpdateNodesGeometry),r===void 0&&(r=this.needsUpdateEdgesGeometry),t&&(this.helios.updateNodesGeometry(),this.needsUpdateNodesGeometry=!1),r&&(this.helios.updateEdgesGeometry(),this.needsUpdateEdgesGeometry=!1),cancelAnimationFrame(this.lastRequestFrameID),this.lastRequestFrameID=requestAnimationFrame(()=>{if(this._shouldCleanup)return;const l=window.performance.now();for(;this._times.length>0&&this._times[0]<=l-1e3;)this._times.shift();this._times.push(l),this._averageFPS=this._times.length,e&&(this.helios.redraw(),this.needsRender=!1),(o?.length||0)>0&&o.forEach(s=>{s.task._timeout=setTimeout(()=>{this._executeTask(s.task,s.elapsedTime,s.currentTimestamp)},0)}),a&&(this._lastExecutionTimestamp=window.performance.now(),this._updateTimeout())})}_addTaskToQueue(e,t){let r=this._tasks[t];r.push(e),r.length>this._maxQueueLength&&(r[0].timeout&&(r[0].shouldBeRemoved=!0,clearTimeout(e.taskQueue[0])),r.shift(),console.warn(`One task was discarded because of too many tasks in the ${t} queue. (maxQueueLength = ${this._maxQueueLength})`))}_clearTask(e){if(e in this._tasks){let t=this._tasks[e];for(let r=0;r<t.length;r++){let a=t[r];a.timeout&&(a.shouldBeRemoved=!0,clearTimeout(a.timeout))}t.length=0}}unschedule(e){return e in this._tasks&&(this._clearTask(e),delete this._tasks[e]),this._updateTimeout(),this}hasTask(e){return e in this._tasks}start(){return this._started=!0,this._updateTimeout(),this}stop(){return this._shouldCleanup=!0,clearTimeout(this._timeout),this.paused=!1,this.started=!1,this._lastTimestamp=null,this._lastExecutionTime=0,this}_updateTimeout(){if(clearTimeout(this._timeout),this._started)if(Object.keys(this._tasks).length===0)this.paused=!0;else{this.paused=!1;let e=0,t=window.performance.now();this._lastTimestamp!=null&&this._throttle&&(e=1e3/this._FPS-(t-this._lastTimestamp),e<0&&(e=0)),this._lastFPS=1e3/(t-this._lastTimestamp),this._timeout=setTimeout(()=>{this.runSyncTasks()},e)}}}var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function k2(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Al={exports:{}};/*!

pica
https://github.com/nodeca/pica

*/(function(n,e){(function(t){n.exports=t()})(function(){return function(){function t(r,a,o){function l(u,h){if(!a[u]){if(!r[u]){var p=typeof k2=="function"&&k2;if(!h&&p)return p(u,!0);if(s)return s(u,!0);var v=new Error("Cannot find module '"+u+"'");throw v.code="MODULE_NOT_FOUND",v}var m=a[u]={exports:{}};r[u][0].call(m.exports,function(_){var b=r[u][1][_];return l(b||_)},m,m.exports,t,r,a,o)}return a[u].exports}for(var s=typeof k2=="function"&&k2,d=0;d<o.length;d++)l(o[d]);return l}return t}()({1:[function(t,r,a){var o=t("multimath"),l=t("./mm_unsharp_mask"),s=t("./mm_resize");function d(u){var h=u||[],p={js:h.indexOf("js")>=0,wasm:h.indexOf("wasm")>=0};o.call(this,p),this.features={js:p.js,wasm:p.wasm&&this.has_wasm()},this.use(l),this.use(s)}d.prototype=Object.create(o.prototype),d.prototype.constructor=d,d.prototype.resizeAndUnsharp=function(h,p){var v=this.resize(h,p);return h.unsharpAmount&&this.unsharp_mask(v,h.toWidth,h.toHeight,h.unsharpAmount,h.unsharpRadius,h.unsharpThreshold),v},r.exports=d},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(t,r,a){function o(p){return p<0?0:p>255?255:p}function l(p){return p>=0?p:0}function s(p,v,m,_,b,y){var E,C,k,w,x,A,P,M,N,F,R,z=0,Q=0;for(N=0;N<_;N++){for(x=0,F=0;F<b;F++){for(A=y[x++],P=y[x++],M=z+A*4|0,E=C=k=w=0;P>0;P--)R=y[x++],w=w+R*p[M+3]|0,k=k+R*p[M+2]|0,C=C+R*p[M+1]|0,E=E+R*p[M]|0,M=M+4|0;v[Q+3]=l(w>>7),v[Q+2]=l(k>>7),v[Q+1]=l(C>>7),v[Q]=l(E>>7),Q=Q+_*4|0}Q=(N+1)*4|0,z=(N+1)*m*4|0}}function d(p,v,m,_,b,y){var E,C,k,w,x,A,P,M,N,F,R,z=0,Q=0;for(N=0;N<_;N++){for(x=0,F=0;F<b;F++){for(A=y[x++],P=y[x++],M=z+A*4|0,E=C=k=w=0;P>0;P--)R=y[x++],w=w+R*p[M+3]|0,k=k+R*p[M+2]|0,C=C+R*p[M+1]|0,E=E+R*p[M]|0,M=M+4|0;E>>=7,C>>=7,k>>=7,w>>=7,v[Q+3]=o(w+8192>>14),v[Q+2]=o(k+8192>>14),v[Q+1]=o(C+8192>>14),v[Q]=o(E+8192>>14),Q=Q+_*4|0}Q=(N+1)*4|0,z=(N+1)*m*4|0}}function u(p,v,m,_,b,y){var E,C,k,w,x,A,P,M,N,F,R,z,Q=0,I=0;for(F=0;F<_;F++){for(A=0,R=0;R<b;R++){for(P=y[A++],M=y[A++],N=Q+P*4|0,E=C=k=w=0;M>0;M--)z=y[A++],x=p[N+3],w=w+z*x|0,k=k+z*p[N+2]*x|0,C=C+z*p[N+1]*x|0,E=E+z*p[N]*x|0,N=N+4|0;k=k/255|0,C=C/255|0,E=E/255|0,v[I+3]=l(w>>7),v[I+2]=l(k>>7),v[I+1]=l(C>>7),v[I]=l(E>>7),I=I+_*4|0}I=(F+1)*4|0,Q=(F+1)*m*4|0}}function h(p,v,m,_,b,y){var E,C,k,w,x,A,P,M,N,F,R,z=0,Q=0;for(N=0;N<_;N++){for(x=0,F=0;F<b;F++){for(A=y[x++],P=y[x++],M=z+A*4|0,E=C=k=w=0;P>0;P--)R=y[x++],w=w+R*p[M+3]|0,k=k+R*p[M+2]|0,C=C+R*p[M+1]|0,E=E+R*p[M]|0,M=M+4|0;E>>=7,C>>=7,k>>=7,w>>=7,w=o(w+8192>>14),w>0&&(E=E*255/w|0,C=C*255/w|0,k=k*255/w|0),v[Q+3]=w,v[Q+2]=o(k+8192>>14),v[Q+1]=o(C+8192>>14),v[Q]=o(E+8192>>14),Q=Q+_*4|0}Q=(N+1)*4|0,z=(N+1)*m*4|0}}r.exports={convolveHor:s,convolveVert:d,convolveHorWithPre:u,convolveVertWithPre:h}},{}],3:[function(t,r,a){r.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(t,r,a){r.exports={name:"resize",fn:t("./resize"),wasm_fn:t("./resize_wasm"),wasm_src:t("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(t,r,a){var o=t("./resize_filter_gen"),l=t("./convolve"),s=l.convolveHor,d=l.convolveVert,u=l.convolveHorWithPre,h=l.convolveVertWithPre;function p(m,_,b){for(var y=3,E=_*b*4|0;y<E;){if(m[y]!==255)return!0;y=y+4|0}return!1}function v(m,_,b){for(var y=3,E=_*b*4|0;y<E;)m[y]=255,y=y+4|0}r.exports=function(_){var b=_.src,y=_.width,E=_.height,C=_.toWidth,k=_.toHeight,w=_.scaleX||_.toWidth/_.width,x=_.scaleY||_.toHeight/_.height,A=_.offsetX||0,P=_.offsetY||0,M=_.dest||new Uint8Array(C*k*4),N=typeof _.filter>"u"?"mks2013":_.filter,F=o(N,y,C,w,A),R=o(N,E,k,x,P),z=new Uint16Array(C*E*4);return p(b,y,E)?(u(b,z,y,E,C,F),h(z,M,E,C,k,R)):(s(b,z,y,E,C,F),d(z,M,E,C,k,R),v(M,C,k)),M}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(t,r,a){var o=t("./resize_filter_info"),l=14;function s(d){return Math.round(d*((1<<l)-1))}r.exports=function(u,h,p,v,m){var _=o.filter[u].fn,b=1/v,y=Math.min(1,v),E=o.filter[u].win/y,C,k,w,x,A,P,M,N,F,R,z,Q,I,O,B,L,T,U=Math.floor((E+1)*2),G=new Int16Array((U+2)*p),j=0,X=!G.subarray||!G.set;for(C=0;C<p;C++){for(k=(C+.5)*b+m,w=Math.max(0,Math.floor(k-E)),x=Math.min(h-1,Math.ceil(k+E)),A=x-w+1,P=new Float32Array(A),M=new Int16Array(A),N=0,F=w,R=0;F<=x;F++,R++)z=_((F+.5-k)*y),N+=z,P[R]=z;for(Q=0,R=0;R<P.length;R++)I=P[R]/N,Q+=I,M[R]=s(I);for(M[p>>1]+=s(1-Q),O=0;O<M.length&&M[O]===0;)O++;if(O<M.length){for(B=M.length-1;B>0&&M[B]===0;)B--;if(L=w+O,T=B-O+1,G[j++]=L,G[j++]=T,!X)G.set(M.subarray(O,B+1),j),j+=T;else for(R=O;R<=B;R++)G[j++]=M[R]}else G[j++]=0,G[j++]=0}return G}},{"./resize_filter_info":7}],7:[function(t,r,a){var o={box:{win:.5,fn:function(s){return s<0&&(s=-s),s<.5?1:0}},hamming:{win:1,fn:function(s){if(s<0&&(s=-s),s>=1)return 0;if(s<11920929e-14)return 1;var d=s*Math.PI;return Math.sin(d)/d*(.54+.46*Math.cos(d/1))}},lanczos2:{win:2,fn:function(s){if(s<0&&(s=-s),s>=2)return 0;if(s<11920929e-14)return 1;var d=s*Math.PI;return Math.sin(d)/d*Math.sin(d/2)/(d/2)}},lanczos3:{win:3,fn:function(s){if(s<0&&(s=-s),s>=3)return 0;if(s<11920929e-14)return 1;var d=s*Math.PI;return Math.sin(d)/d*Math.sin(d/3)/(d/3)}},mks2013:{win:2.5,fn:function(s){return s<0&&(s=-s),s>=2.5?0:s>=1.5?-.125*(s-2.5)*(s-2.5):s>=.5?.25*(4*s*s-11*s+7):1.0625-1.75*s*s}}};r.exports={filter:o,f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(t,r,a){var o=t("./resize_filter_gen");function l(p,v,m){for(var _=3,b=v*m*4|0;_<b;){if(p[_]!==255)return!0;_=_+4|0}return!1}function s(p,v,m){for(var _=3,b=v*m*4|0;_<b;)p[_]=255,_=_+4|0}function d(p){return new Uint8Array(p.buffer,0,p.byteLength)}var u=!0;try{u=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1}catch{}function h(p,v,m){if(u){v.set(d(p),m);return}for(var _=m,b=0;b<p.length;b++){var y=p[b];v[_++]=y&255,v[_++]=y>>8&255}}r.exports=function(v){var m=v.src,_=v.width,b=v.height,y=v.toWidth,E=v.toHeight,C=v.scaleX||v.toWidth/v.width,k=v.scaleY||v.toHeight/v.height,w=v.offsetX||0,x=v.offsetY||0,A=v.dest||new Uint8Array(y*E*4),P=typeof v.filter>"u"?"mks2013":v.filter,M=o(P,_,y,C,w),N=o(P,b,E,k,x),F=0,R=Math.max(m.byteLength,A.byteLength),z=this.__align(F+R),Q=b*y*4*2,I=this.__align(z+Q),O=this.__align(I+M.byteLength),B=O+N.byteLength,L=this.__instance("resize",B),T=new Uint8Array(this.__memory.buffer),U=new Uint32Array(this.__memory.buffer),G=new Uint32Array(m.buffer);U.set(G),h(M,T,I),h(N,T,O);var j=L.exports.convolveHV||L.exports._convolveHV;l(m,_,b)?j(I,O,z,_,b,y,E,1):(j(I,O,z,_,b,y,E,0),s(A,y,E));var X=new Uint32Array(A.buffer);return X.set(new Uint32Array(this.__memory.buffer,0,E*y)),A}},{"./resize_filter_gen":6}],9:[function(t,r,a){r.exports={name:"unsharp_mask",fn:t("./unsharp_mask"),wasm_fn:t("./unsharp_mask_wasm"),wasm_src:t("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(t,r,a){var o=t("glur/mono16");function l(s,d,u){for(var h=d*u,p=new Uint16Array(h),v,m,_,b,y=0;y<h;y++)v=s[4*y],m=s[4*y+1],_=s[4*y+2],b=v>=m&&v>=_?v:m>=_&&m>=v?m:_,p[y]=b<<8;return p}r.exports=function(d,u,h,p,v,m){var _,b,y,E,C;if(!(p===0||v<.5)){v>2&&(v=2);var k=l(d,u,h),w=new Uint16Array(k);o(w,u,h,v);for(var x=p/100*4096+.5|0,A=m<<8,P=u*h,M=0;M<P;M++)_=k[M],E=_-w[M],Math.abs(E)>=A&&(b=_+(x*E+2048>>12),b=b>65280?65280:b,b=b<0?0:b,_=_!==0?_:1,y=(b<<12)/_|0,C=M*4,d[C]=d[C]*y+2048>>12,d[C+1]=d[C+1]*y+2048>>12,d[C+2]=d[C+2]*y+2048>>12)}}},{"glur/mono16":18}],11:[function(t,r,a){r.exports=function(l,s,d,u,h,p){if(!(u===0||h<.5)){h>2&&(h=2);var v=s*d,m=v*4,_=v*2,b=v*2,y=Math.max(s,d)*4,E=8*4,C=0,k=m,w=k+_,x=w+b,A=x+b,P=A+y,M=this.__instance("unsharp_mask",m+_+b*2+y+E,{exp:Math.exp}),N=new Uint32Array(l.buffer),F=new Uint32Array(this.__memory.buffer);F.set(N);var R=M.exports.hsv_v16||M.exports._hsv_v16;R(C,k,s,d),R=M.exports.blurMono16||M.exports._blurMono16,R(k,w,x,A,P,s,d,h),R=M.exports.unsharp||M.exports._unsharp,R(C,C,k,w,s,d,u,p),N.set(new Uint32Array(this.__memory.buffer,0,v))}}},{}],12:[function(t,r,a){r.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAE0B2AAAGAEf39/fwBgBn9/f39/fwBgCH9/f39/f39/AGAIf39/f39/f30AYAJ9fwBgAXwBfAIZAgNlbnYDZXhwAAYDZW52Bm1lbW9yeQIAAAMHBgAFAgQBAwYGAX8AQQALB4oBCBFfX3dhc21fY2FsbF9jdG9ycwABFl9fYnVpbGRfZ2F1c3NpYW5fY29lZnMAAg5fX2dhdXNzMTZfbGluZQADCmJsdXJNb25vMTYABAdoc3ZfdjE2AAUHdW5zaGFycAAGDF9fZHNvX2hhbmRsZQMAGF9fd2FzbV9hcHBseV9kYXRhX3JlbG9jcwABCsUMBgMAAQvWAQEHfCABRNuGukOCGvs/IAC7oyICRAAAAAAAAADAohAAIgW2jDgCFCABIAKaEAAiAyADoCIGtjgCECABRAAAAAAAAPA/IAOhIgQgBKIgAyACIAKgokQAAAAAAADwP6AgBaGjIgS2OAIAIAEgBSAEmqIiB7Y4AgwgASADIAJEAAAAAAAA8D+gIASioiIItjgCCCABIAMgAkQAAAAAAADwv6AgBKKiIgK2OAIEIAEgByAIoCAFRAAAAAAAAPA/IAahoCIDo7Y4AhwgASAEIAKgIAOjtjgCGAuGBQMGfwl8An0gAyoCDCEVIAMqAgghFiADKgIUuyERIAMqAhC7IRACQCAEQQFrIghBAEgiCQRAIAIhByAAIQYMAQsgAiAALwEAuCIPIAMqAhi7oiIMIBGiIg0gDCAQoiAPIAMqAgS7IhOiIhQgAyoCALsiEiAPoqCgoCIOtjgCACACQQRqIQcgAEECaiEGIAhFDQAgCEEBIAhBAUgbIgpBf3MhCwJ/IAQgCmtBAXFFBEAgDiENIAgMAQsgAiANIA4gEKIgFCASIAAvAQK4Ig+ioKCgIg22OAIEIAJBCGohByAAQQRqIQYgDiEMIARBAmsLIQIgC0EAIARrRg0AA0AgByAMIBGiIA0gEKIgDyAToiASIAYvAQC4Ig6ioKCgIgy2OAIAIAcgDSARoiAMIBCiIA4gE6IgEiAGLwECuCIPoqCgoCINtjgCBCAHQQhqIQcgBkEEaiEGIAJBAkohACACQQJrIQIgAA0ACwsCQCAJDQAgASAFIAhsQQF0aiIAAn8gBkECay8BACICuCINIBW7IhKiIA0gFrsiE6KgIA0gAyoCHLuiIgwgEKKgIAwgEaKgIg8gB0EEayIHKgIAu6AiDkQAAAAAAADwQWMgDkQAAAAAAAAAAGZxBEAgDqsMAQtBAAs7AQAgCEUNACAGQQRrIQZBACAFa0EBdCEBA0ACfyANIBKiIAJB//8DcbgiDSAToqAgDyIOIBCioCAMIBGioCIPIAdBBGsiByoCALugIgxEAAAAAAAA8EFjIAxEAAAAAAAAAABmcQRAIAyrDAELQQALIQMgBi8BACECIAAgAWoiACADOwEAIAZBAmshBiAIQQFKIQMgDiEMIAhBAWshCCADDQALCwvRAgIBfwd8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIglEAAAAAAAAAMCiEAAiDLaMOAIUIAQgCZoQACIKIAqgIg22OAIQIAREAAAAAAAA8D8gCqEiCyALoiAKIAkgCaCiRAAAAAAAAPA/oCAMoaMiC7Y4AgAgBCAMIAuaoiIOtjgCDCAEIAogCUQAAAAAAADwP6AgC6KiIg+2OAIIIAQgCiAJRAAAAAAAAPC/oCALoqIiCbY4AgQgBCAOIA+gIAxEAAAAAAAA8D8gDaGgIgqjtjgCHCAEIAsgCaAgCqO2OAIYIAYEQANAIAAgBSAIbEEBdGogAiAIQQF0aiADIAQgBSAGEAMgCEEBaiIIIAZHDQALCyAFRQ0AQQAhCANAIAIgBiAIbEEBdGogASAIQQF0aiADIAQgBiAFEAMgCEEBaiIIIAVHDQALCwtxAQN/IAIgA2wiBQRAA0AgASAAKAIAIgRBEHZB/wFxIgIgAiAEQQh2Qf8BcSIDIAMgBEH/AXEiBEkbIAIgA0sbIgYgBiAEIAIgBEsbIAMgBEsbQQh0OwEAIAFBAmohASAAQQRqIQAgBUEBayIFDQALCwuZAgIDfwF8IAQgBWwhBAJ/IAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6AiC5lEAAAAAAAA4EFjBEAgC6oMAQtBgICAgHgLIQUgBARAIAdBCHQhCUEAIQYDQCAJIAIgBkEBdCIHai8BACIBIAMgB2ovAQBrIgcgB0EfdSIIaiAIc00EQCAAIAZBAnQiCGoiCiAFIAdsQYAQakEMdSABaiIHQYD+AyAHQYD+A0gbIgdBACAHQQBKG0EMdCABQQEgARtuIgEgCi0AAGxBgBBqQQx2OgAAIAAgCEEBcmoiByABIActAABsQYAQakEMdjoAACAAIAhBAnJqIgcgASAHLQAAbEGAEGpBDHY6AAALIAZBAWoiBiAERw0ACwsL"},{}],13:[function(t,r,a){var o=100;function l(s,d){this.create=s,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=d||2e3}l.prototype.acquire=function(){var s=this,d;return this.available.length!==0?d=this.available.pop():(d=this.create(),d.id=this.lastId++,d.release=function(){return s.release(d)}),this.acquired[d.id]=d,d},l.prototype.release=function(s){var d=this;delete this.acquired[s.id],s.lastUsed=Date.now(),this.available.push(s),this.timeoutId===0&&(this.timeoutId=setTimeout(function(){return d.gc()},o))},l.prototype.gc=function(){var s=this,d=Date.now();this.available=this.available.filter(function(u){return d-u.lastUsed>s.idle?(u.destroy(),!1):!0}),this.available.length!==0?this.timeoutId=setTimeout(function(){return s.gc()},o):this.timeoutId=0},r.exports=l},{}],14:[function(t,r,a){var o=2;r.exports=function(s,d,u,h,p,v){var m=u/s,_=h/d,b=(2*v+o+1)/p;if(b>.5)return[[u,h]];var y=Math.ceil(Math.log(Math.min(m,_))/Math.log(b));if(y<=1)return[[u,h]];for(var E=[],C=0;C<y;C++){var k=Math.round(Math.pow(Math.pow(s,y-C-1)*Math.pow(u,C+1),1/y)),w=Math.round(Math.pow(Math.pow(d,y-C-1)*Math.pow(h,C+1),1/y));E.push([k,w])}return E}},{}],15:[function(t,r,a){var o=1e-5;function l(d){var u=Math.round(d);return Math.abs(d-u)<o?u:Math.floor(d)}function s(d){var u=Math.round(d);return Math.abs(d-u)<o?u:Math.ceil(d)}r.exports=function(u){var h=u.toWidth/u.width,p=u.toHeight/u.height,v=l(u.srcTileSize*h)-2*u.destTileBorder,m=l(u.srcTileSize*p)-2*u.destTileBorder;if(v<1||m<1)throw new Error("Internal error in pica: target tile width/height is too small.");var _,b,y,E,C,k,w=[],x;for(E=0;E<u.toHeight;E+=m)for(y=0;y<u.toWidth;y+=v)_=y-u.destTileBorder,_<0&&(_=0),C=y+v+u.destTileBorder-_,_+C>=u.toWidth&&(C=u.toWidth-_),b=E-u.destTileBorder,b<0&&(b=0),k=E+m+u.destTileBorder-b,b+k>=u.toHeight&&(k=u.toHeight-b),x={toX:_,toY:b,toWidth:C,toHeight:k,toInnerX:y,toInnerY:E,toInnerWidth:v,toInnerHeight:m,offsetX:_/h-l(_/h),offsetY:b/p-l(b/p),scaleX:h,scaleY:p,x:l(_/h),y:l(b/p),width:s(C/h),height:s(k/p)},w.push(x);return w}},{}],16:[function(t,r,a){function o(l){return Object.prototype.toString.call(l)}r.exports.isCanvas=function(s){var d=o(s);return d==="[object HTMLCanvasElement]"||d==="[object OffscreenCanvas]"||d==="[object Canvas]"},r.exports.isImage=function(s){return o(s)==="[object HTMLImageElement]"},r.exports.isImageBitmap=function(s){return o(s)==="[object ImageBitmap]"},r.exports.limiter=function(s){var d=0,u=[];function h(){d<s&&u.length&&(d++,u.shift()())}return function(v){return new Promise(function(m,_){u.push(function(){v().then(function(b){m(b),d--,h()},function(b){_(b),d--,h()})}),h()})}},r.exports.cib_quality_name=function(s){switch(s){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},r.exports.cib_support=function(s){return Promise.resolve().then(function(){if(typeof createImageBitmap>"u")return!1;var d=s(100,100);return createImageBitmap(d,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(u){var h=u.width===10;return u.close(),d=null,h})}).catch(function(){return!1})},r.exports.worker_offscreen_canvas_support=function(){return new Promise(function(s,d){if(typeof OffscreenCanvas>"u"){s(!1);return}function u(v){if(typeof createImageBitmap>"u"){v.postMessage(!1);return}Promise.resolve().then(function(){var m=new OffscreenCanvas(10,10),_=m.getContext("2d");return _.rect(0,0,1,1),createImageBitmap(m,0,0,1,1)}).then(function(){return v.postMessage(!0)},function(){return v.postMessage(!1)})}var h=btoa("(".concat(u.toString(),")(self);")),p=new Worker("data:text/javascript;base64,".concat(h));p.onmessage=function(v){return s(v.data)},p.onerror=d}).then(function(s){return s},function(){return!1})},r.exports.can_use_canvas=function(s){var d=!1;try{var u=s(2,1),h=u.getContext("2d"),p=h.createImageData(2,1);p.data[0]=12,p.data[1]=23,p.data[2]=34,p.data[3]=255,p.data[4]=45,p.data[5]=56,p.data[6]=67,p.data[7]=255,h.putImageData(p,0,0),p=null,p=h.getImageData(0,0,2,1),p.data[0]===12&&p.data[1]===23&&p.data[2]===34&&p.data[3]===255&&p.data[4]===45&&p.data[5]===56&&p.data[6]===67&&p.data[7]===255&&(d=!0)}catch{}return d},r.exports.cib_can_use_region=function(){return new Promise(function(s){if(typeof Image>"u"||typeof createImageBitmap>"u"){s(!1);return}var d=new Image;d.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",d.onload=function(){createImageBitmap(d,0,0,d.width,d.height).then(function(u){u.width===d.width&&u.height===d.height?s(!0):s(!1)},function(){return s(!1)})},d.onerror=function(){return s(!1)}})}},{}],17:[function(t,r,a){r.exports=function(){var o=t("./mathlib"),l;onmessage=function(d){var u=d.data.opts;if(!u.src&&u.srcBitmap){var h=new OffscreenCanvas(u.width,u.height),p=h.getContext("2d");p.drawImage(u.srcBitmap,0,0),u.src=p.getImageData(0,0,u.width,u.height).data,h.width=h.height=0,h=null,u.srcBitmap.close(),u.srcBitmap=null}l||(l=new o(d.data.features));var v=l.resizeAndUnsharp(u);postMessage({data:v},[v.buffer])}}},{"./mathlib":1}],18:[function(t,r,a){var o,l,s,d,u,h,p,v;function m(y){y<.5&&(y=.5);var E=Math.exp(.726*.726)/y,C=Math.exp(-E),k=Math.exp(-2*E),w=(1-C)*(1-C)/(1+2*E*C-k);return o=w,l=w*(E-1)*C,s=w*(E+1)*C,d=-w*k,u=2*C,h=-k,p=(o+l)/(1-u-h),v=(s+d)/(1-u-h),new Float32Array([o,l,s,d,u,h,p,v])}function _(y,E,C,k,w,x){var A,P,M,N,F,R,z,Q,I,O,B,L,T,U;for(I=0;I<x;I++){for(R=I*w,z=I,Q=0,A=y[R],F=A*k[6],N=F,B=k[0],L=k[1],T=k[4],U=k[5],O=0;O<w;O++)P=y[R],M=P*B+A*L+N*T+F*U,F=N,N=M,A=P,C[Q]=N,Q++,R++;for(R--,Q--,z+=x*(w-1),A=y[R],F=A*k[7],N=F,P=A,B=k[2],L=k[3],O=w-1;O>=0;O--)M=P*B+A*L+N*T+F*U,F=N,N=M,A=P,P=y[R],E[z]=C[Q]+N,R--,Q--,z-=x}}function b(y,E,C,k){if(k){var w=new Uint16Array(y.length),x=new Float32Array(Math.max(E,C)),A=m(k);_(y,w,x,A,E,C),_(w,y,x,A,C,E)}}r.exports=b},{}],19:[function(t,r,a){var o=t("object-assign"),l=t("./lib/base64decode"),s=t("./lib/wa_detect"),d={js:!0,wasm:!0};function u(h){if(!(this instanceof u))return new u(h);var p=o({},d,h||{});if(this.options=p,this.__cache={},this.__init_promise=null,this.__modules=p.modules||{},this.__memory=null,this.__wasm={},this.__isLE=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1,!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}u.prototype.has_wasm=s,u.prototype.use=function(h){return this.__modules[h.name]=h,this.options.wasm&&this.has_wasm()&&h.wasm_fn?this[h.name]=h.wasm_fn:this[h.name]=h.fn,this},u.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error(`mathlib: only "wasm" was enabled, but it's not supported`));var h=this;return this.__init_promise=Promise.all(Object.keys(h.__modules).map(function(p){var v=h.__modules[p];return!h.options.wasm||!h.has_wasm()||!v.wasm_fn||h.__wasm[p]?null:WebAssembly.compile(h.__base64decode(v.wasm_src)).then(function(m){h.__wasm[p]=m})})).then(function(){return h}),this.__init_promise},u.prototype.__base64decode=l,u.prototype.__reallocate=function(p){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(p/(64*1024))}),this.__memory;var v=this.__memory.buffer.byteLength;return v<p&&this.__memory.grow(Math.ceil((p-v)/(64*1024))),this.__memory},u.prototype.__instance=function(p,v,m){if(v&&this.__reallocate(v),!this.__wasm[p]){var _=this.__modules[p];this.__wasm[p]=new WebAssembly.Module(this.__base64decode(_.wasm_src))}if(!this.__cache[p]){var b={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[p]=new WebAssembly.Instance(this.__wasm[p],{env:o(b,m||{})})}return this.__cache[p]},u.prototype.__align=function(p,v){v=v||8;var m=p%v;return p+(m?v-m:0)},r.exports=u},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(t,r,a){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";r.exports=function(s){for(var d=s.replace(/[\r\n=]/g,""),u=d.length,h=new Uint8Array(u*3>>2),p=0,v=0,m=0;m<u;m++)m%4===0&&m&&(h[v++]=p>>16&255,h[v++]=p>>8&255,h[v++]=p&255),p=p<<6|o.indexOf(d.charAt(m));var _=u%4*6;return _===0?(h[v++]=p>>16&255,h[v++]=p>>8&255,h[v++]=p&255):_===18?(h[v++]=p>>10&255,h[v++]=p>>2&255):_===12&&(h[v++]=p>>4&255),h}},{}],21:[function(t,r,a){var o;r.exports=function(){if(typeof o<"u"||(o=!1,typeof WebAssembly>"u"))return o;try{var s=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),d=new WebAssembly.Module(s),u=new WebAssembly.Instance(d,{});return u.exports.test(4)!==0&&(o=!0),o}catch{}return o}},{}],22:[function(t,r,a){var o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function d(h){if(h==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(h)}function u(){try{if(!Object.assign)return!1;var h=new String("abc");if(h[5]="de",Object.getOwnPropertyNames(h)[0]==="5")return!1;for(var p={},v=0;v<10;v++)p["_"+String.fromCharCode(v)]=v;var m=Object.getOwnPropertyNames(p).map(function(b){return p[b]});if(m.join("")!=="0123456789")return!1;var _={};return"abcdefghijklmnopqrst".split("").forEach(function(b){_[b]=b}),Object.keys(Object.assign({},_)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}r.exports=u()?Object.assign:function(h,p){for(var v,m=d(h),_,b=1;b<arguments.length;b++){v=Object(arguments[b]);for(var y in v)l.call(v,y)&&(m[y]=v[y]);if(o){_=o(v);for(var E=0;E<_.length;E++)s.call(v,_[E])&&(m[_[E]]=v[_[E]])}}return m}},{}],23:[function(t,r,a){var o=arguments[3],l=arguments[4],s=arguments[5],d=JSON.stringify;r.exports=function(u,h){for(var p,v=Object.keys(s),m=0,_=v.length;m<_;m++){var b=v[m],y=s[b].exports;if(y===u||y&&y.default===u){p=b;break}}if(!p){p=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var E={},m=0,_=v.length;m<_;m++){var b=v[m];E[b]=b}l[p]=["function(require,module,exports){"+u+"(self); }",E]}var C=Math.floor(Math.pow(16,8)*Math.random()).toString(16),k={};k[p]=p,l[C]=["function(require,module,exports){var f = require("+d(p)+");(f.default ? f.default : f)(self);}",k];var w={};x(C);function x(R){w[R]=!0;for(var z in l[R][1]){var Q=l[R][1][z];w[Q]||x(Q)}}var A="("+o+")({"+Object.keys(w).map(function(R){return d(R)+":["+l[R][0]+","+d(l[R][1])+"]"}).join(",")+"},{},["+d(C)+"])",P=window.URL||window.webkitURL||window.mozURL||window.msURL,M=new Blob([A],{type:"text/javascript"});if(h&&h.bare)return M;var N=P.createObjectURL(M),F=new Worker(N);return F.objectURL=N,F}},{}],"/index.js":[function(t,r,a){function o(B,L){return h(B)||u(B,L)||s(B,L)||l()}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(B,L){if(B){if(typeof B=="string")return d(B,L);var T=Object.prototype.toString.call(B).slice(8,-1);if(T==="Object"&&B.constructor&&(T=B.constructor.name),T==="Map"||T==="Set")return Array.from(B);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return d(B,L)}}function d(B,L){(L==null||L>B.length)&&(L=B.length);for(var T=0,U=new Array(L);T<L;T++)U[T]=B[T];return U}function u(B,L){var T=B==null?null:typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(T!=null){var U=[],G=!0,j=!1,X,Y;try{for(T=T.call(B);!(G=(X=T.next()).done)&&(U.push(X.value),!(L&&U.length===L));G=!0);}catch(q){j=!0,Y=q}finally{try{!G&&T.return!=null&&T.return()}finally{if(j)throw Y}}return U}}function h(B){if(Array.isArray(B))return B}var p=t("object-assign"),v=t("webworkify"),m=t("./lib/mathlib"),_=t("./lib/pool"),b=t("./lib/utils"),y=t("./lib/worker"),E=t("./lib/stepper"),C=t("./lib/tiler"),k=t("./lib/mm_resize/resize_filter_info"),w={},x=!1;try{typeof navigator<"u"&&navigator.userAgent&&(x=navigator.userAgent.indexOf("Safari")>=0)}catch{}var A=1;typeof navigator<"u"&&(A=Math.min(navigator.hardwareConcurrency||1,4));var P={tile:1024,concurrency:A,features:["js","wasm","ww"],idle:2e3,createCanvas:function(L,T){var U=document.createElement("canvas");return U.width=L,U.height=T,U}},M={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},N=!1,F=!1,R=!1,z=!1,Q=!1;function I(){return{value:v(y),destroy:function(){if(this.value.terminate(),typeof window<"u"){var L=window.URL||window.webkitURL||window.mozURL||window.msURL;L&&L.revokeObjectURL&&this.value.objectURL&&L.revokeObjectURL(this.value.objectURL)}}}}function O(B){if(!(this instanceof O))return new O(B);this.options=p({},P,B||{});var L="lk_".concat(this.options.concurrency);this.__limit=w[L]||b.limiter(this.options.concurrency),w[L]||(w[L]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}O.prototype.init=function(){var B=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData<"u"&&typeof Uint8ClampedArray<"u")try{new ImageData(new Uint8ClampedArray(400),10,10),N=!0}catch{}typeof ImageBitmap<"u"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?F=!0:this.debug("ImageBitmap does not support .close(), disabled"));var L=this.options.features.slice();if(L.indexOf("all")>=0&&(L=["cib","wasm","js","ww"]),this.__requested_features=L,this.__mathlib=new m(L),L.indexOf("ww")>=0&&typeof window<"u"&&"Worker"in window)try{var T=t("webworkify")(function(){});T.terminate(),this.features.ww=!0;var U="wp_".concat(JSON.stringify(this.options));w[U]?this.__workersPool=w[U]:(this.__workersPool=new _(I,this.options.idle),w[U]=this.__workersPool)}catch{}var G=this.__mathlib.init().then(function(q){p(B.features,q.features)}),j;F?j=b.cib_support(this.options.createCanvas).then(function(q){if(B.features.cib&&L.indexOf("cib")<0){B.debug("createImageBitmap() resize supported, but disabled by config");return}L.indexOf("cib")>=0&&(B.features.cib=q)}):j=Promise.resolve(!1),R=b.can_use_canvas(this.options.createCanvas);var X;F&&N&&L.indexOf("ww")!==-1?X=b.worker_offscreen_canvas_support():X=Promise.resolve(!1),X=X.then(function(q){z=q});var Y=b.cib_can_use_region().then(function(q){Q=q});return this.__initPromise=Promise.all([G,j,X,Y]).then(function(){return B}),this.__initPromise},O.prototype.__invokeResize=function(B,L){var T=this;return L.__mathCache=L.__mathCache||{},Promise.resolve().then(function(){return T.features.ww?new Promise(function(U,G){var j=T.__workersPool.acquire();L.cancelToken&&L.cancelToken.catch(function(Y){return G(Y)}),j.value.onmessage=function(Y){j.release(),Y.data.err?G(Y.data.err):U(Y.data)};var X=[];B.src&&X.push(B.src.buffer),B.srcBitmap&&X.push(B.srcBitmap),j.value.postMessage({opts:B,features:T.__requested_features,preload:{wasm_nodule:T.__mathlib.__}},X)}):{data:T.__mathlib.resizeAndUnsharp(B,L.__mathCache)}})},O.prototype.__extractTileData=function(B,L,T,U,G){if(this.features.ww&&z&&(b.isCanvas(L)||Q))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(U.srcImageBitmap||L,B.x,B.y,B.width,B.height).then(function(Y){return G.srcBitmap=Y,G});if(b.isCanvas(L))return U.srcCtx||(U.srcCtx=L.getContext("2d")),this.debug("Get tile pixel data"),G.src=U.srcCtx.getImageData(B.x,B.y,B.width,B.height).data,G;this.debug("Draw tile imageBitmap/image to temporary canvas");var j=this.options.createCanvas(B.width,B.height),X=j.getContext("2d");return X.globalCompositeOperation="copy",X.drawImage(U.srcImageBitmap||L,B.x,B.y,B.width,B.height,0,0,B.width,B.height),this.debug("Get tile pixel data"),G.src=X.getImageData(0,0,B.width,B.height).data,j.width=j.height=0,G},O.prototype.__landTileData=function(B,L,T){var U;if(this.debug("Convert raw rgba tile result to ImageData"),L.bitmap)return T.toCtx.drawImage(L.bitmap,B.toX,B.toY),null;if(N)U=new ImageData(new Uint8ClampedArray(L.data),B.toWidth,B.toHeight);else if(U=T.toCtx.createImageData(B.toWidth,B.toHeight),U.data.set)U.data.set(L.data);else for(var G=U.data.length-1;G>=0;G--)U.data[G]=L.data[G];return this.debug("Draw tile"),x?T.toCtx.putImageData(U,B.toX,B.toY,B.toInnerX-B.toX,B.toInnerY-B.toY,B.toInnerWidth+1e-5,B.toInnerHeight+1e-5):T.toCtx.putImageData(U,B.toX,B.toY,B.toInnerX-B.toX,B.toInnerY-B.toY,B.toInnerWidth,B.toInnerHeight),null},O.prototype.__tileAndResize=function(B,L,T){var U=this,G={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null},j=function(Y){return U.__limit(function(){if(T.canceled)return T.cancelToken;var q={width:Y.width,height:Y.height,toWidth:Y.toWidth,toHeight:Y.toHeight,scaleX:Y.scaleX,scaleY:Y.scaleY,offsetX:Y.offsetX,offsetY:Y.offsetY,filter:T.filter,unsharpAmount:T.unsharpAmount,unsharpRadius:T.unsharpRadius,unsharpThreshold:T.unsharpThreshold};return U.debug("Invoke resize math"),Promise.resolve(q).then(function(D){return U.__extractTileData(Y,B,T,G,D)}).then(function(D){return U.debug("Invoke resize math"),U.__invokeResize(D,T)}).then(function(D){return T.canceled?T.cancelToken:(G.srcImageData=null,U.__landTileData(Y,D,G))})})};return Promise.resolve().then(function(){if(G.toCtx=L.getContext("2d"),b.isCanvas(B))return null;if(b.isImageBitmap(B))return G.srcImageBitmap=B,G.isImageBitmapReused=!0,null;if(b.isImage(B))return F?(U.debug("Decode image via createImageBitmap"),createImageBitmap(B).then(function(X){G.srcImageBitmap=X}).catch(function(X){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(T.canceled)return T.cancelToken;U.debug("Calculate tiles");var X=C({width:T.width,height:T.height,srcTileSize:U.options.tile,toWidth:T.toWidth,toHeight:T.toHeight,destTileBorder:T.__destTileBorder}),Y=X.map(function(D){return j(D)});function q(D){D.srcImageBitmap&&(D.isImageBitmapReused||D.srcImageBitmap.close(),D.srcImageBitmap=null)}return U.debug("Process tiles"),Promise.all(Y).then(function(){return U.debug("Finished!"),q(G),L},function(D){throw q(G),D})})},O.prototype.__processStages=function(B,L,T,U){var G=this;if(U.canceled)return U.cancelToken;var j=B.shift(),X=o(j,2),Y=X[0],q=X[1],D=B.length===0,nn;D||k.q2f.indexOf(U.filter)<0?nn=U.filter:U.filter==="box"?nn="box":nn="hamming",U=p({},U,{toWidth:Y,toHeight:q,filter:nn});var rn;return D||(rn=this.options.createCanvas(Y,q)),this.__tileAndResize(L,D?T:rn,U).then(function(){return D?T:(U.width=Y,U.height=q,G.__processStages(B,rn,T,U))}).then(function(en){return rn&&(rn.width=rn.height=0),en})},O.prototype.__resizeViaCreateImageBitmap=function(B,L,T){var U=this,G=L.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(B,{resizeWidth:T.toWidth,resizeHeight:T.toHeight,resizeQuality:b.cib_quality_name(k.f2q[T.filter])}).then(function(j){if(T.canceled)return T.cancelToken;if(!T.unsharpAmount)return G.drawImage(j,0,0),j.close(),G=null,U.debug("Finished!"),L;U.debug("Unsharp result");var X=U.options.createCanvas(T.toWidth,T.toHeight),Y=X.getContext("2d");Y.drawImage(j,0,0),j.close();var q=Y.getImageData(0,0,T.toWidth,T.toHeight);return U.__mathlib.unsharp_mask(q.data,T.toWidth,T.toHeight,T.unsharpAmount,T.unsharpRadius,T.unsharpThreshold),G.putImageData(q,0,0),X.width=X.height=0,q=Y=X=G=null,U.debug("Finished!"),L})},O.prototype.resize=function(B,L,T){var U=this;this.debug("Start resize...");var G=p({},M);if(isNaN(T)?T&&(G=p(G,T)):G=p(G,{quality:T}),G.toWidth=L.width,G.toHeight=L.height,G.width=B.naturalWidth||B.width,G.height=B.naturalHeight||B.height,Object.prototype.hasOwnProperty.call(G,"quality")){if(G.quality<0||G.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(G.quality));G.filter=k.q2f[G.quality]}if(L.width===0||L.height===0)return Promise.reject(new Error("Invalid output size: ".concat(L.width,"x").concat(L.height)));G.unsharpRadius>2&&(G.unsharpRadius=2),G.canceled=!1,G.cancelToken&&(G.cancelToken=G.cancelToken.then(function(X){throw G.canceled=!0,X},function(X){throw G.canceled=!0,X}));var j=3;return G.__destTileBorder=Math.ceil(Math.max(j,2.5*G.unsharpRadius|0)),this.init().then(function(){if(G.canceled)return G.cancelToken;if(U.features.cib){if(k.q2f.indexOf(G.filter)>=0)return U.__resizeViaCreateImageBitmap(B,L,G);U.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!R){var X=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw X.code="ERR_GET_IMAGE_DATA",X}var Y=E(G.width,G.height,G.toWidth,G.toHeight,U.options.tile,G.__destTileBorder);return U.__processStages(Y,B,L,G)})},O.prototype.resizeBuffer=function(B){var L=this,T=p({},M,B);if(Object.prototype.hasOwnProperty.call(T,"quality")){if(T.quality<0||T.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(T.quality));T.filter=k.q2f[T.quality]}return this.init().then(function(){return L.__mathlib.resizeAndUnsharp(T)})},O.prototype.toBlob=function(B,L,T){return L=L||"image/png",new Promise(function(U){if(B.toBlob){B.toBlob(function(q){return U(q)},L,T);return}if(B.convertToBlob){U(B.convertToBlob({type:L,quality:T}));return}for(var G=atob(B.toDataURL(L,T).split(",")[1]),j=G.length,X=new Uint8Array(j),Y=0;Y<j;Y++)X[Y]=G.charCodeAt(Y);U(new Blob([X],{type:L}))})},O.prototype.debug=function(){},r.exports=O},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")})})(Al);var mh=Al.exports;const gh=xl(mh);let bh=function(){var n=function(e){};(function(e,t){typeof exports=="object"&&typeof module<"u"?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):t((e=typeof globalThis<"u"?globalThis:e||self).d3=e.d3||{})})(this,function(e){var t={value:()=>{}};function r(){for(var d,u=0,h=arguments.length,p={};u<h;++u){if(!(d=arguments[u]+"")||d in p||/[\s.]/.test(d))throw new Error("illegal type: "+d);p[d]=[]}return new a(p)}function a(d){this._=d}function o(d,u){return d.trim().split(/^|\s+/).map(function(h){var p="",v=h.indexOf(".");if(v>=0&&(p=h.slice(v+1),h=h.slice(0,v)),h&&!u.hasOwnProperty(h))throw new Error("unknown type: "+h);return{type:h,name:p}})}function l(d,u){for(var h,p=0,v=d.length;p<v;++p)if((h=d[p]).name===u)return h.value}function s(d,u,h){for(var p=0,v=d.length;p<v;++p)if(d[p].name===u){d[p]=t,d=d.slice(0,p).concat(d.slice(p+1));break}return h!=null&&d.push({name:u,value:h}),d}a.prototype=r.prototype={constructor:a,on:function(d,u){var h,p=this._,v=o(d+"",p),m=-1,_=v.length;if(!(arguments.length<2)){if(u!=null&&typeof u!="function")throw new Error("invalid callback: "+u);for(;++m<_;)if(h=(d=v[m]).type)p[h]=s(p[h],d.name,u);else if(u==null)for(h in p)p[h]=s(p[h],d.name,null);return this}for(;++m<_;)if((h=(d=v[m]).type)&&(h=l(p[h],d.name)))return h},copy:function(){var d={},u=this._;for(var h in u)d[h]=u[h].slice();return new a(d)},call:function(d,u){if((h=arguments.length-2)>0)for(var h,p,v=new Array(h),m=0;m<h;++m)v[m]=arguments[m+2];if(!this._.hasOwnProperty(d))throw new Error("unknown type: "+d);for(m=0,h=(p=this._[d]).length;m<h;++m)p[m].value.apply(u,v)},apply:function(d,u,h){if(!this._.hasOwnProperty(d))throw new Error("unknown type: "+d);for(var p=this._[d],v=0,m=p.length;v<m;++v)p[v].value.apply(u,h)}},e.dispatch=r,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){typeof exports=="object"&&typeof module<"u"?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):t((e=typeof globalThis<"u"?globalThis:e||self).d3=e.d3||{})}(this,function(e){function t(h,p,v,m){if(isNaN(p)||isNaN(v))return h;var _,b,y,E,C,k,w,x,A,P=h._root,M={data:m},N=h._x0,F=h._y0,R=h._x1,z=h._y1;if(!P)return h._root=M,h;for(;P.length;)if((k=p>=(b=(N+R)/2))?N=b:R=b,(w=v>=(y=(F+z)/2))?F=y:z=y,_=P,!(P=P[x=w<<1|k]))return _[x]=M,h;if(E=+h._x.call(null,P.data),C=+h._y.call(null,P.data),p===E&&v===C)return M.next=P,_?_[x]=M:h._root=M,h;do _=_?_[x]=new Array(4):h._root=new Array(4),(k=p>=(b=(N+R)/2))?N=b:R=b,(w=v>=(y=(F+z)/2))?F=y:z=y;while((x=w<<1|k)==(A=(C>=y)<<1|E>=b));return _[A]=P,_[x]=M,h}function r(h,p,v,m,_){this.node=h,this.x0=p,this.y0=v,this.x1=m,this.y1=_}function a(h){return h[0]}function o(h){return h[1]}function l(h,p,v){var m=new s(p??a,v??o,NaN,NaN,NaN,NaN);return h==null?m:m.addAll(h)}function s(h,p,v,m,_,b){this._x=h,this._y=p,this._x0=v,this._y0=m,this._x1=_,this._y1=b,this._root=void 0}function d(h){for(var p={data:h.data},v=p;h=h.next;)v=v.next={data:h.data};return p}var u=l.prototype=s.prototype;u.copy=function(){var h,p,v=new s(this._x,this._y,this._x0,this._y0,this._x1,this._y1),m=this._root;if(!m)return v;if(!m.length)return v._root=d(m),v;for(h=[{source:m,target:v._root=new Array(4)}];m=h.pop();)for(var _=0;_<4;++_)(p=m.source[_])&&(p.length?h.push({source:p,target:m.target[_]=new Array(4)}):m.target[_]=d(p));return v},u.add=function(h){const p=+this._x.call(null,h),v=+this._y.call(null,h);return t(this.cover(p,v),p,v,h)},u.addAll=function(h){var p,v,m,_,b=h.length,y=new Array(b),E=new Array(b),C=1/0,k=1/0,w=-1/0,x=-1/0;for(v=0;v<b;++v)isNaN(m=+this._x.call(null,p=h[v]))||isNaN(_=+this._y.call(null,p))||(y[v]=m,E[v]=_,m<C&&(C=m),m>w&&(w=m),_<k&&(k=_),_>x&&(x=_));if(C>w||k>x)return this;for(this.cover(C,k).cover(w,x),v=0;v<b;++v)t(this,y[v],E[v],h[v]);return this},u.cover=function(h,p){if(isNaN(h=+h)||isNaN(p=+p))return this;var v=this._x0,m=this._y0,_=this._x1,b=this._y1;if(isNaN(v))_=(v=Math.floor(h))+1,b=(m=Math.floor(p))+1;else{for(var y,E,C=_-v||1,k=this._root;v>h||h>=_||m>p||p>=b;)switch(E=(p<m)<<1|h<v,(y=new Array(4))[E]=k,k=y,C*=2,E){case 0:_=v+C,b=m+C;break;case 1:v=_-C,b=m+C;break;case 2:_=v+C,m=b-C;break;case 3:v=_-C,m=b-C}this._root&&this._root.length&&(this._root=k)}return this._x0=v,this._y0=m,this._x1=_,this._y1=b,this},u.data=function(){var h=[];return this.visit(function(p){if(!p.length)do h.push(p.data);while(p=p.next)}),h},u.extent=function(h){return arguments.length?this.cover(+h[0][0],+h[0][1]).cover(+h[1][0],+h[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},u.find=function(h,p,v){var m,_,b,y,E,C,k,w=this._x0,x=this._y0,A=this._x1,P=this._y1,M=[],N=this._root;for(N&&M.push(new r(N,w,x,A,P)),v==null?v=1/0:(w=h-v,x=p-v,A=h+v,P=p+v,v*=v);C=M.pop();)if(!(!(N=C.node)||(_=C.x0)>A||(b=C.y0)>P||(y=C.x1)<w||(E=C.y1)<x))if(N.length){var F=(_+y)/2,R=(b+E)/2;M.push(new r(N[3],F,R,y,E),new r(N[2],_,R,F,E),new r(N[1],F,b,y,R),new r(N[0],_,b,F,R)),(k=(p>=R)<<1|h>=F)&&(C=M[M.length-1],M[M.length-1]=M[M.length-1-k],M[M.length-1-k]=C)}else{var z=h-+this._x.call(null,N.data),Q=p-+this._y.call(null,N.data),I=z*z+Q*Q;if(I<v){var O=Math.sqrt(v=I);w=h-O,x=p-O,A=h+O,P=p+O,m=N.data}}return m},u.remove=function(h){if(isNaN(b=+this._x.call(null,h))||isNaN(y=+this._y.call(null,h)))return this;var p,v,m,_,b,y,E,C,k,w,x,A,P=this._root,M=this._x0,N=this._y0,F=this._x1,R=this._y1;if(!P)return this;if(P.length)for(;;){if((k=b>=(E=(M+F)/2))?M=E:F=E,(w=y>=(C=(N+R)/2))?N=C:R=C,p=P,!(P=P[x=w<<1|k]))return this;if(!P.length)break;(p[x+1&3]||p[x+2&3]||p[x+3&3])&&(v=p,A=x)}for(;P.data!==h;)if(m=P,!(P=P.next))return this;return(_=P.next)&&delete P.next,m?(_?m.next=_:delete m.next,this):p?(_?p[x]=_:delete p[x],(P=p[0]||p[1]||p[2]||p[3])&&P===(p[3]||p[2]||p[1]||p[0])&&!P.length&&(v?v[A]=P:this._root=P),this):(this._root=_,this)},u.removeAll=function(h){for(var p=0,v=h.length;p<v;++p)this.remove(h[p]);return this},u.root=function(){return this._root},u.size=function(){var h=0;return this.visit(function(p){if(!p.length)do++h;while(p=p.next)}),h},u.visit=function(h){var p,v,m,_,b,y,E=[],C=this._root;for(C&&E.push(new r(C,this._x0,this._y0,this._x1,this._y1));p=E.pop();)if(!h(C=p.node,m=p.x0,_=p.y0,b=p.x1,y=p.y1)&&C.length){var k=(m+b)/2,w=(_+y)/2;(v=C[3])&&E.push(new r(v,k,w,b,y)),(v=C[2])&&E.push(new r(v,m,w,k,y)),(v=C[1])&&E.push(new r(v,k,_,b,w)),(v=C[0])&&E.push(new r(v,m,_,k,w))}return this},u.visitAfter=function(h){var p,v=[],m=[];for(this._root&&v.push(new r(this._root,this._x0,this._y0,this._x1,this._y1));p=v.pop();){var _=p.node;if(_.length){var b,y=p.x0,E=p.y0,C=p.x1,k=p.y1,w=(y+C)/2,x=(E+k)/2;(b=_[0])&&v.push(new r(b,y,E,w,x)),(b=_[1])&&v.push(new r(b,w,E,C,x)),(b=_[2])&&v.push(new r(b,y,x,w,k)),(b=_[3])&&v.push(new r(b,w,x,C,k))}m.push(p)}for(;p=m.pop();)h(p.node,p.x0,p.y0,p.x1,p.y1);return this},u.x=function(h){return arguments.length?(this._x=h,this):this._x},u.y=function(h){return arguments.length?(this._y=h,this):this._y},e.quadtree=l,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){typeof exports=="object"&&typeof module<"u"?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):t((e=typeof globalThis<"u"?globalThis:e||self).d3=e.d3||{})}(this,function(e){var t,r,a=0,o=0,l=0,s=0,d=0,u=0,h=typeof performance=="object"&&performance.now?performance:Date,p=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(w){setTimeout(w,17)};function v(){return d||(p(m),d=h.now()+u)}function m(){d=0}function _(){this._call=this._time=this._next=null}function b(w,x,A){var P=new _;return P.restart(w,x,A),P}function y(){v(),++a;for(var w,x=t;x;)(w=d-x._time)>=0&&x._call.call(void 0,w),x=x._next;--a}function E(){d=(s=h.now())+u,a=o=0;try{y()}finally{a=0,function(){for(var w,x,A=t,P=1/0;A;)A._call?(P>A._time&&(P=A._time),w=A,A=A._next):(x=A._next,A._next=null,A=w?w._next=x:t=x);r=w,k(P)}(),d=0}}function C(){var w=h.now(),x=w-s;x>1e3&&(u-=x,s=w)}function k(w){a||(o&&(o=clearTimeout(o)),w-d>24?(w<1/0&&(o=setTimeout(E,w-h.now()-u)),l&&(l=clearInterval(l))):(l||(s=h.now(),l=setInterval(C,1e3)),a=1,p(E)))}_.prototype=b.prototype={constructor:_,restart:function(w,x,A){if(typeof w!="function")throw new TypeError("callback is not a function");A=(A==null?v():+A)+(x==null?0:+x),this._next||r===this||(r?r._next=this:t=this,r=this),this._call=w,this._time=A,k()},stop:function(){this._call&&(this._call=null,this._time=1/0,k())}},e.interval=function(w,x,A){var P=new _,M=x;return x==null?(P.restart(w,x,A),P):(P._restart=P.restart,P.restart=function(N,F,R){F=+F,R=R==null?v():+R,P._restart(function z(Q){Q+=M,P._restart(z,M+=F,R),N(Q)},F,R)},P.restart(w,x,A),P)},e.now=v,e.timeout=function(w,x,A){var P=new _;return x=x==null?0:+x,P.restart(M=>{P.stop(),w(M+x)},x,A),P},e.timer=b,e.timerFlush=y,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){typeof exports=="object"&&typeof module<"u"?t(exports,n(),n(),n()):typeof define=="function"&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],t):t((e=typeof globalThis<"u"?globalThis:e||self).d3=e.d3||{},e.d3,e.d3,e.d3)}(this,function(e,t,r,a){function o(b){return function(){return b}}function l(b){return 1e-6*(b()-.5)}function s(b){return b.x+b.vx}function d(b){return b.y+b.vy}function u(b){return b.index}function h(b,y){var E=b.get(y);if(!E)throw new Error("node not found: "+y);return E}const p=4294967296;function v(b){return b.x}function m(b){return b.y}var _=Math.PI*(3-Math.sqrt(5));e.forceCenter=function(b,y){var E,C=1;function k(){var w,x,A=E.length,P=0,M=0;for(w=0;w<A;++w)P+=(x=E[w]).x,M+=x.y;for(P=(P/A-b)*C,M=(M/A-y)*C,w=0;w<A;++w)(x=E[w]).x-=P,x.y-=M}return b==null&&(b=0),y==null&&(y=0),k.initialize=function(w){E=w},k.x=function(w){return arguments.length?(b=+w,k):b},k.y=function(w){return arguments.length?(y=+w,k):y},k.strength=function(w){return arguments.length?(C=+w,k):C},k},e.forceCollide=function(b){var y,E,C,k=1,w=1;function x(){for(var M,N,F,R,z,Q,I,O=y.length,B=0;B<w;++B)for(N=t.quadtree(y,s,d).visitAfter(A),M=0;M<O;++M)F=y[M],Q=E[F.index],I=Q*Q,R=F.x+F.vx,z=F.y+F.vy,N.visit(L);function L(T,U,G,j,X){var Y=T.data,q=T.r,D=Q+q;if(!Y)return U>R+D||j<R-D||G>z+D||X<z-D;if(Y.index>F.index){var nn=R-Y.x-Y.vx,rn=z-Y.y-Y.vy,en=nn*nn+rn*rn;en<D*D&&(nn===0&&(en+=(nn=l(C))*nn),rn===0&&(en+=(rn=l(C))*rn),en=(D-(en=Math.sqrt(en)))/en*k,F.vx+=(nn*=en)*(D=(q*=q)/(I+q)),F.vy+=(rn*=en)*D,Y.vx-=nn*(D=1-D),Y.vy-=rn*D)}}}function A(M){if(M.data)return M.r=E[M.data.index];for(var N=M.r=0;N<4;++N)M[N]&&M[N].r>M.r&&(M.r=M[N].r)}function P(){if(y){var M,N,F=y.length;for(E=new Array(F),M=0;M<F;++M)N=y[M],E[N.index]=+b(N,M,y)}}return typeof b!="function"&&(b=o(b==null?1:+b)),x.initialize=function(M,N){y=M,C=N,P()},x.iterations=function(M){return arguments.length?(w=+M,x):w},x.strength=function(M){return arguments.length?(k=+M,x):k},x.radius=function(M){return arguments.length?(b=typeof M=="function"?M:o(+M),P(),x):b},x},e.forceLink=function(b){var y,E,C,k,w,x,A=u,P=function(I){return 1/Math.min(k[I.source.index],k[I.target.index])},M=o(30),N=1;function F(I){for(var O=0,B=b.length;O<N;++O)for(var L,T,U,G,j,X,Y,q=0;q<B;++q)T=(L=b[q]).source,G=(U=L.target).x+U.vx-T.x-T.vx||l(x),j=U.y+U.vy-T.y-T.vy||l(x),G*=X=((X=Math.sqrt(G*G+j*j))-E[q])/X*I*y[q],j*=X,U.vx-=G*(Y=w[q]),U.vy-=j*Y,T.vx+=G*(Y=1-Y),T.vy+=j*Y}function R(){if(C){var I,O,B=C.length,L=b.length,T=new Map(C.map((U,G)=>[A(U,G,C),U]));for(I=0,k=new Array(B);I<L;++I)(O=b[I]).index=I,typeof O.source!="object"&&(O.source=h(T,O.source)),typeof O.target!="object"&&(O.target=h(T,O.target)),k[O.source.index]=(k[O.source.index]||0)+1,k[O.target.index]=(k[O.target.index]||0)+1;for(I=0,w=new Array(L);I<L;++I)O=b[I],w[I]=k[O.source.index]/(k[O.source.index]+k[O.target.index]);y=new Array(L),z(),E=new Array(L),Q()}}function z(){if(C)for(var I=0,O=b.length;I<O;++I)y[I]=+P(b[I],I,b)}function Q(){if(C)for(var I=0,O=b.length;I<O;++I)E[I]=+M(b[I],I,b)}return b==null&&(b=[]),F.initialize=function(I,O){C=I,x=O,R()},F.links=function(I){return arguments.length?(b=I,R(),F):b},F.id=function(I){return arguments.length?(A=I,F):A},F.iterations=function(I){return arguments.length?(N=+I,F):N},F.strength=function(I){return arguments.length?(P=typeof I=="function"?I:o(+I),z(),F):P},F.distance=function(I){return arguments.length?(M=typeof I=="function"?I:o(+I),Q(),F):M},F},e.forceManyBody=function(){var b,y,E,C,k,w=o(-30),x=1,A=1/0,P=.81;function M(z){var Q,I=b.length,O=t.quadtree(b,v,m).visitAfter(F);for(C=z,Q=0;Q<I;++Q)y=b[Q],O.visit(R)}function N(){if(b){var z,Q,I=b.length;for(k=new Array(I),z=0;z<I;++z)Q=b[z],k[Q.index]=+w(Q,z,b)}}function F(z){var Q,I,O,B,L,T=0,U=0;if(z.length){for(O=B=L=0;L<4;++L)(Q=z[L])&&(I=Math.abs(Q.value))&&(T+=Q.value,U+=I,O+=I*Q.x,B+=I*Q.y);z.x=O/U,z.y=B/U}else{(Q=z).x=Q.data.x,Q.y=Q.data.y;do T+=k[Q.data.index];while(Q=Q.next)}z.value=T}function R(z,Q,I,O){if(!z.value)return!0;var B=z.x-y.x,L=z.y-y.y,T=O-Q,U=B*B+L*L;if(T*T/P<U)return U<A&&(B===0&&(U+=(B=l(E))*B),L===0&&(U+=(L=l(E))*L),U<x&&(U=Math.sqrt(x*U)),y.vx+=B*z.value*C/U,y.vy+=L*z.value*C/U),!0;if(!(z.length||U>=A)){(z.data!==y||z.next)&&(B===0&&(U+=(B=l(E))*B),L===0&&(U+=(L=l(E))*L),U<x&&(U=Math.sqrt(x*U)));do z.data!==y&&(T=k[z.data.index]*C/U,y.vx+=B*T,y.vy+=L*T);while(z=z.next)}}return M.initialize=function(z,Q){b=z,E=Q,N()},M.strength=function(z){return arguments.length?(w=typeof z=="function"?z:o(+z),N(),M):w},M.distanceMin=function(z){return arguments.length?(x=z*z,M):Math.sqrt(x)},M.distanceMax=function(z){return arguments.length?(A=z*z,M):Math.sqrt(A)},M.theta=function(z){return arguments.length?(P=z*z,M):Math.sqrt(P)},M},e.forceRadial=function(b,y,E){var C,k,w,x=o(.1);function A(M){for(var N=0,F=C.length;N<F;++N){var R=C[N],z=R.x-y||1e-6,Q=R.y-E||1e-6,I=Math.sqrt(z*z+Q*Q),O=(w[N]-I)*k[N]*M/I;R.vx+=z*O,R.vy+=Q*O}}function P(){if(C){var M,N=C.length;for(k=new Array(N),w=new Array(N),M=0;M<N;++M)w[M]=+b(C[M],M,C),k[M]=isNaN(w[M])?0:+x(C[M],M,C)}}return typeof b!="function"&&(b=o(+b)),y==null&&(y=0),E==null&&(E=0),A.initialize=function(M){C=M,P()},A.strength=function(M){return arguments.length?(x=typeof M=="function"?M:o(+M),P(),A):x},A.radius=function(M){return arguments.length?(b=typeof M=="function"?M:o(+M),P(),A):b},A.x=function(M){return arguments.length?(y=+M,A):y},A.y=function(M){return arguments.length?(E=+M,A):E},A},e.forceSimulation=function(b){var y,E=1,C=.001,k=1-Math.pow(C,1/300),w=0,x=.6,A=new Map,P=a.timer(F),M=r.dispatch("tick","end"),N=function(){let I=1;return()=>(I=(1664525*I+1013904223)%p)/p}();function F(){R(),M.call("tick",y),E<C&&(P.stop(),M.call("end",y))}function R(I){var O,B,L=b.length;I===void 0&&(I=1);for(var T=0;T<I;++T)for(E+=(w-E)*k,A.forEach(function(U){U(E)}),O=0;O<L;++O)(B=b[O]).fx==null?B.x+=B.vx*=x:(B.x=B.fx,B.vx=0),B.fy==null?B.y+=B.vy*=x:(B.y=B.fy,B.vy=0);return y}function z(){for(var I,O=0,B=b.length;O<B;++O){if((I=b[O]).index=O,I.fx!=null&&(I.x=I.fx),I.fy!=null&&(I.y=I.fy),isNaN(I.x)||isNaN(I.y)){var L=10*Math.sqrt(.5+O),T=O*_;I.x=L*Math.cos(T),I.y=L*Math.sin(T)}(isNaN(I.vx)||isNaN(I.vy))&&(I.vx=I.vy=0)}}function Q(I){return I.initialize&&I.initialize(b,N),I}return b==null&&(b=[]),z(),y={tick:R,restart:function(){return P.restart(F),y},stop:function(){return P.stop(),y},nodes:function(I){return arguments.length?(b=I,z(),A.forEach(Q),y):b},alpha:function(I){return arguments.length?(E=+I,y):E},alphaMin:function(I){return arguments.length?(C=+I,y):C},alphaDecay:function(I){return arguments.length?(k=+I,y):+k},alphaTarget:function(I){return arguments.length?(w=+I,y):w},velocityDecay:function(I){return arguments.length?(x=1-I,y):1-x},randomSource:function(I){return arguments.length?(N=I,A.forEach(Q),y):N},force:function(I,O){return arguments.length>1?(O==null?A.delete(I):A.set(I,Q(O)),y):A.get(I)},find:function(I,O,B){var L,T,U,G,j,X=0,Y=b.length;for(B==null?B=1/0:B*=B,X=0;X<Y;++X)(U=(L=I-(G=b[X]).x)*L+(T=O-G.y)*T)<B&&(j=G,B=U);return j},on:function(I,O){return arguments.length>1?(M.on(I,O),y):M.on(I)}}},e.forceX=function(b){var y,E,C,k=o(.1);function w(A){for(var P,M=0,N=y.length;M<N;++M)(P=y[M]).vx+=(C[M]-P.x)*E[M]*A}function x(){if(y){var A,P=y.length;for(E=new Array(P),C=new Array(P),A=0;A<P;++A)E[A]=isNaN(C[A]=+b(y[A],A,y))?0:+k(y[A],A,y)}}return typeof b!="function"&&(b=o(b==null?0:+b)),w.initialize=function(A){y=A,x()},w.strength=function(A){return arguments.length?(k=typeof A=="function"?A:o(+A),x(),w):k},w.x=function(A){return arguments.length?(b=typeof A=="function"?A:o(+A),x(),w):b},w},e.forceY=function(b){var y,E,C,k=o(.1);function w(A){for(var P,M=0,N=y.length;M<N;++M)(P=y[M]).vy+=(C[M]-P.y)*E[M]*A}function x(){if(y){var A,P=y.length;for(E=new Array(P),C=new Array(P),A=0;A<P;++A)E[A]=isNaN(C[A]=+b(y[A],A,y))?0:+k(y[A],A,y)}}return typeof b!="function"&&(b=o(b==null?0:+b)),w.initialize=function(A){y=A,x()},w.strength=function(A){return arguments.length?(k=typeof A=="function"?A:o(+A),x(),w):k},w.y=function(A){return arguments.length?(b=typeof A=="function"?A:o(+A),x(),w):b},w},Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){typeof exports=="object"&&typeof module<"u"?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):t((e=typeof globalThis<"u"?globalThis:e||self).d3=e.d3||{})}(this,function(e){function t(u,h,p){if(isNaN(h))return u;var v,m,_,b,y,E,C=u._root,k={data:p},w=u._x0,x=u._x1;if(!C)return u._root=k,u;for(;C.length;)if((b=h>=(m=(w+x)/2))?w=m:x=m,v=C,!(C=C[y=+b]))return v[y]=k,u;if(h===(_=+u._x.call(null,C.data)))return k.next=C,v?v[y]=k:u._root=k,u;do v=v?v[y]=new Array(2):u._root=new Array(2),(b=h>=(m=(w+x)/2))?w=m:x=m;while((y=+b)==(E=+(_>=m)));return v[E]=C,v[y]=k,u}function r(u,h,p){this.node=u,this.x0=h,this.x1=p}function a(u){return u[0]}function o(u,h){var p=new l(h??a,NaN,NaN);return u==null?p:p.addAll(u)}function l(u,h,p){this._x=u,this._x0=h,this._x1=p,this._root=void 0}function s(u){for(var h={data:u.data},p=h;u=u.next;)p=p.next={data:u.data};return h}var d=o.prototype=l.prototype;d.copy=function(){var u,h,p=new l(this._x,this._x0,this._x1),v=this._root;if(!v)return p;if(!v.length)return p._root=s(v),p;for(u=[{source:v,target:p._root=new Array(2)}];v=u.pop();)for(var m=0;m<2;++m)(h=v.source[m])&&(h.length?u.push({source:h,target:v.target[m]=new Array(2)}):v.target[m]=s(h));return p},d.add=function(u){var h=+this._x.call(null,u);return t(this.cover(h),h,u)},d.addAll=function(u){var h,p,v=u.length,m=new Array(v),_=1/0,b=-1/0;for(h=0;h<v;++h)isNaN(p=+this._x.call(null,u[h]))||(m[h]=p,p<_&&(_=p),p>b&&(b=p));if(_>b)return this;for(this.cover(_).cover(b),h=0;h<v;++h)t(this,m[h],u[h]);return this},d.cover=function(u){if(isNaN(u=+u))return this;var h=this._x0,p=this._x1;if(isNaN(h))p=(h=Math.floor(u))+1;else{for(var v,m,_=p-h||1,b=this._root;h>u||u>=p;)switch(m=+(u<h),(v=new Array(2))[m]=b,b=v,_*=2,m){case 0:p=h+_;break;case 1:h=p-_}this._root&&this._root.length&&(this._root=b)}return this._x0=h,this._x1=p,this},d.data=function(){var u=[];return this.visit(function(h){if(!h.length)do u.push(h.data);while(h=h.next)}),u},d.extent=function(u){return arguments.length?this.cover(+u[0][0]).cover(+u[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]},d.find=function(u,h){var p,v,m,_,b,y=this._x0,E=this._x1,C=[],k=this._root;for(k&&C.push(new r(k,y,E)),h==null?h=1/0:(y=u-h,E=u+h);_=C.pop();)if(!(!(k=_.node)||(v=_.x0)>E||(m=_.x1)<y))if(k.length){var w=(v+m)/2;C.push(new r(k[1],w,m),new r(k[0],v,w)),(b=+(u>=w))&&(_=C[C.length-1],C[C.length-1]=C[C.length-1-b],C[C.length-1-b]=_)}else{var x=Math.abs(u-+this._x.call(null,k.data));x<h&&(h=x,y=u-x,E=u+x,p=k.data)}return p},d.remove=function(u){if(isNaN(_=+this._x.call(null,u)))return this;var h,p,v,m,_,b,y,E,C,k=this._root,w=this._x0,x=this._x1;if(!k)return this;if(k.length)for(;;){if((y=_>=(b=(w+x)/2))?w=b:x=b,h=k,!(k=k[E=+y]))return this;if(!k.length)break;h[E+1&1]&&(p=h,C=E)}for(;k.data!==u;)if(v=k,!(k=k.next))return this;return(m=k.next)&&delete k.next,v?(m?v.next=m:delete v.next,this):h?(m?h[E]=m:delete h[E],(k=h[0]||h[1])&&k===(h[1]||h[0])&&!k.length&&(p?p[C]=k:this._root=k),this):(this._root=m,this)},d.removeAll=function(u){for(var h=0,p=u.length;h<p;++h)this.remove(u[h]);return this},d.root=function(){return this._root},d.size=function(){var u=0;return this.visit(function(h){if(!h.length)do++u;while(h=h.next)}),u},d.visit=function(u){var h,p,v,m,_=[],b=this._root;for(b&&_.push(new r(b,this._x0,this._x1));h=_.pop();)if(!u(b=h.node,v=h.x0,m=h.x1)&&b.length){var y=(v+m)/2;(p=b[1])&&_.push(new r(p,y,m)),(p=b[0])&&_.push(new r(p,v,y))}return this},d.visitAfter=function(u){var h,p=[],v=[];for(this._root&&p.push(new r(this._root,this._x0,this._x1));h=p.pop();){var m=h.node;if(m.length){var _,b=h.x0,y=h.x1,E=(b+y)/2;(_=m[0])&&p.push(new r(_,b,E)),(_=m[1])&&p.push(new r(_,E,y))}v.push(h)}for(;h=v.pop();)u(h.node,h.x0,h.x1);return this},d.x=function(u){return arguments.length?(this._x=u,this):this._x},e.binarytree=o,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){typeof exports=="object"&&typeof module<"u"?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):t((e=typeof globalThis<"u"?globalThis:e||self).d3=e.d3||{})}(this,function(e){function t(p,v,m,_,b){if(isNaN(v)||isNaN(m)||isNaN(_))return p;var y,E,C,k,w,x,A,P,M,N,F,R,z=p._root,Q={data:b},I=p._x0,O=p._y0,B=p._z0,L=p._x1,T=p._y1,U=p._z1;if(!z)return p._root=Q,p;for(;z.length;)if((P=v>=(E=(I+L)/2))?I=E:L=E,(M=m>=(C=(O+T)/2))?O=C:T=C,(N=_>=(k=(B+U)/2))?B=k:U=k,y=z,!(z=z[F=N<<2|M<<1|P]))return y[F]=Q,p;if(w=+p._x.call(null,z.data),x=+p._y.call(null,z.data),A=+p._z.call(null,z.data),v===w&&m===x&&_===A)return Q.next=z,y?y[F]=Q:p._root=Q,p;do y=y?y[F]=new Array(8):p._root=new Array(8),(P=v>=(E=(I+L)/2))?I=E:L=E,(M=m>=(C=(O+T)/2))?O=C:T=C,(N=_>=(k=(B+U)/2))?B=k:U=k;while((F=N<<2|M<<1|P)==(R=(A>=k)<<2|(x>=C)<<1|w>=E));return y[R]=z,y[F]=Q,p}function r(p,v,m,_,b,y,E){this.node=p,this.x0=v,this.y0=m,this.z0=_,this.x1=b,this.y1=y,this.z1=E}function a(p){return p[0]}function o(p){return p[1]}function l(p){return p[2]}function s(p,v,m,_){var b=new d(v??a,m??o,_??l,NaN,NaN,NaN,NaN,NaN,NaN);return p==null?b:b.addAll(p)}function d(p,v,m,_,b,y,E,C,k){this._x=p,this._y=v,this._z=m,this._x0=_,this._y0=b,this._z0=y,this._x1=E,this._y1=C,this._z1=k,this._root=void 0}function u(p){for(var v={data:p.data},m=v;p=p.next;)m=m.next={data:p.data};return v}var h=s.prototype=d.prototype;h.copy=function(){var p,v,m=new d(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),_=this._root;if(!_)return m;if(!_.length)return m._root=u(_),m;for(p=[{source:_,target:m._root=new Array(8)}];_=p.pop();)for(var b=0;b<8;++b)(v=_.source[b])&&(v.length?p.push({source:v,target:_.target[b]=new Array(8)}):_.target[b]=u(v));return m},h.add=function(p){var v=+this._x.call(null,p),m=+this._y.call(null,p),_=+this._z.call(null,p);return t(this.cover(v,m,_),v,m,_,p)},h.addAll=function(p){var v,m,_,b,y,E=p.length,C=new Array(E),k=new Array(E),w=new Array(E),x=1/0,A=1/0,P=1/0,M=-1/0,N=-1/0,F=-1/0;for(m=0;m<E;++m)isNaN(_=+this._x.call(null,v=p[m]))||isNaN(b=+this._y.call(null,v))||isNaN(y=+this._z.call(null,v))||(C[m]=_,k[m]=b,w[m]=y,_<x&&(x=_),_>M&&(M=_),b<A&&(A=b),b>N&&(N=b),y<P&&(P=y),y>F&&(F=y));if(x>M||A>N||P>F)return this;for(this.cover(x,A,P).cover(M,N,F),m=0;m<E;++m)t(this,C[m],k[m],w[m],p[m]);return this},h.cover=function(p,v,m){if(isNaN(p=+p)||isNaN(v=+v)||isNaN(m=+m))return this;var _=this._x0,b=this._y0,y=this._z0,E=this._x1,C=this._y1,k=this._z1;if(isNaN(_))E=(_=Math.floor(p))+1,C=(b=Math.floor(v))+1,k=(y=Math.floor(m))+1;else{for(var w,x,A=E-_||1,P=this._root;_>p||p>=E||b>v||v>=C||y>m||m>=k;)switch(x=(m<y)<<2|(v<b)<<1|p<_,(w=new Array(8))[x]=P,P=w,A*=2,x){case 0:E=_+A,C=b+A,k=y+A;break;case 1:_=E-A,C=b+A,k=y+A;break;case 2:E=_+A,b=C-A,k=y+A;break;case 3:_=E-A,b=C-A,k=y+A;break;case 4:E=_+A,C=b+A,y=k-A;break;case 5:_=E-A,C=b+A,y=k-A;break;case 6:E=_+A,b=C-A,y=k-A;break;case 7:_=E-A,b=C-A,y=k-A}this._root&&this._root.length&&(this._root=P)}return this._x0=_,this._y0=b,this._z0=y,this._x1=E,this._y1=C,this._z1=k,this},h.data=function(){var p=[];return this.visit(function(v){if(!v.length)do p.push(v.data);while(v=v.next)}),p},h.extent=function(p){return arguments.length?this.cover(+p[0][0],+p[0][1],+p[0][2]).cover(+p[1][0],+p[1][1],+p[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},h.find=function(p,v,m,_){var b,y,E,C,k,w,x,A,P,M=this._x0,N=this._y0,F=this._z0,R=this._x1,z=this._y1,Q=this._z1,I=[],O=this._root;for(O&&I.push(new r(O,M,N,F,R,z,Q)),_==null?_=1/0:(M=p-_,N=v-_,F=m-_,R=p+_,z=v+_,Q=m+_,_*=_);A=I.pop();)if(!(!(O=A.node)||(y=A.x0)>R||(E=A.y0)>z||(C=A.z0)>Q||(k=A.x1)<M||(w=A.y1)<N||(x=A.z1)<F))if(O.length){var B=(y+k)/2,L=(E+w)/2,T=(C+x)/2;I.push(new r(O[7],B,L,T,k,w,x),new r(O[6],y,L,T,B,w,x),new r(O[5],B,E,T,k,L,x),new r(O[4],y,E,T,B,L,x),new r(O[3],B,L,C,k,w,T),new r(O[2],y,L,C,B,w,T),new r(O[1],B,E,C,k,L,T),new r(O[0],y,E,C,B,L,T)),(P=(m>=T)<<2|(v>=L)<<1|p>=B)&&(A=I[I.length-1],I[I.length-1]=I[I.length-1-P],I[I.length-1-P]=A)}else{var U=p-+this._x.call(null,O.data),G=v-+this._y.call(null,O.data),j=m-+this._z.call(null,O.data),X=U*U+G*G+j*j;if(X<_){var Y=Math.sqrt(_=X);M=p-Y,N=v-Y,F=m-Y,R=p+Y,z=v+Y,Q=m+Y,b=O.data}}return b},h.remove=function(p){if(isNaN(y=+this._x.call(null,p))||isNaN(E=+this._y.call(null,p))||isNaN(C=+this._z.call(null,p)))return this;var v,m,_,b,y,E,C,k,w,x,A,P,M,N,F,R=this._root,z=this._x0,Q=this._y0,I=this._z0,O=this._x1,B=this._y1,L=this._z1;if(!R)return this;if(R.length)for(;;){if((A=y>=(k=(z+O)/2))?z=k:O=k,(P=E>=(w=(Q+B)/2))?Q=w:B=w,(M=C>=(x=(I+L)/2))?I=x:L=x,v=R,!(R=R[N=M<<2|P<<1|A]))return this;if(!R.length)break;(v[N+1&7]||v[N+2&7]||v[N+3&7]||v[N+4&7]||v[N+5&7]||v[N+6&7]||v[N+7&7])&&(m=v,F=N)}for(;R.data!==p;)if(_=R,!(R=R.next))return this;return(b=R.next)&&delete R.next,_?(b?_.next=b:delete _.next,this):v?(b?v[N]=b:delete v[N],(R=v[0]||v[1]||v[2]||v[3]||v[4]||v[5]||v[6]||v[7])&&R===(v[7]||v[6]||v[5]||v[4]||v[3]||v[2]||v[1]||v[0])&&!R.length&&(m?m[F]=R:this._root=R),this):(this._root=b,this)},h.removeAll=function(p){for(var v=0,m=p.length;v<m;++v)this.remove(p[v]);return this},h.root=function(){return this._root},h.size=function(){var p=0;return this.visit(function(v){if(!v.length)do++p;while(v=v.next)}),p},h.visit=function(p){var v,m,_,b,y,E,C,k,w=[],x=this._root;for(x&&w.push(new r(x,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));v=w.pop();)if(!p(x=v.node,_=v.x0,b=v.y0,y=v.z0,E=v.x1,C=v.y1,k=v.z1)&&x.length){var A=(_+E)/2,P=(b+C)/2,M=(y+k)/2;(m=x[7])&&w.push(new r(m,A,P,M,E,C,k)),(m=x[6])&&w.push(new r(m,_,P,M,A,C,k)),(m=x[5])&&w.push(new r(m,A,b,M,E,P,k)),(m=x[4])&&w.push(new r(m,_,b,M,A,P,k)),(m=x[3])&&w.push(new r(m,A,P,y,E,C,M)),(m=x[2])&&w.push(new r(m,_,P,y,A,C,M)),(m=x[1])&&w.push(new r(m,A,b,y,E,P,M)),(m=x[0])&&w.push(new r(m,_,b,y,A,P,M))}return this},h.visitAfter=function(p){var v,m=[],_=[];for(this._root&&m.push(new r(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));v=m.pop();){var b=v.node;if(b.length){var y,E=v.x0,C=v.y0,k=v.z0,w=v.x1,x=v.y1,A=v.z1,P=(E+w)/2,M=(C+x)/2,N=(k+A)/2;(y=b[0])&&m.push(new r(y,E,C,k,P,M,N)),(y=b[1])&&m.push(new r(y,P,C,k,w,M,N)),(y=b[2])&&m.push(new r(y,E,M,k,P,x,N)),(y=b[3])&&m.push(new r(y,P,M,k,w,x,N)),(y=b[4])&&m.push(new r(y,E,C,N,P,M,A)),(y=b[5])&&m.push(new r(y,P,C,N,w,M,A)),(y=b[6])&&m.push(new r(y,E,M,N,P,x,A)),(y=b[7])&&m.push(new r(y,P,M,N,w,x,A))}_.push(v)}for(;v=_.pop();)p(v.node,v.x0,v.y0,v.z0,v.x1,v.y1,v.z1);return this},h.x=function(p){return arguments.length?(this._x=p,this):this._x},h.y=function(p){return arguments.length?(this._y=p,this):this._y},h.z=function(p){return arguments.length?(this._z=p,this):this._z},e.octree=s,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){typeof exports=="object"&&typeof module<"u"?t(exports,n(),n(),n(),n(),n()):typeof define=="function"&&define.amd?define(["exports","d3-binarytree","d3-quadtree","d3-octree","d3-dispatch","d3-timer"],t):t((e=typeof globalThis<"u"?globalThis:e||self).d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3)}(this,function(e,t,r,a,o,l){function s(w){return function(){return w}}function d(w){return 1e-6*(w()-.5)}function u(w){return w.x+w.vx}function h(w){return w.y+w.vy}function p(w){return w.z+w.vz}function v(w){return w.index}function m(w,x){var A=w.get(x);if(!A)throw new Error("node not found: "+x);return A}const _=4294967296;function b(w){return w.x}function y(w){return w.y}function E(w){return w.z}var C=Math.PI*(3-Math.sqrt(5)),k=20*Math.PI/(9+Math.sqrt(221));e.forceCenter=function(w,x,A){var P,M=1;function N(){var F,R,z=P.length,Q=0,I=0,O=0;for(F=0;F<z;++F)Q+=(R=P[F]).x||0,I+=R.y||0,O+=R.z||0;for(Q=(Q/z-w)*M,I=(I/z-x)*M,O=(O/z-A)*M,F=0;F<z;++F)R=P[F],Q&&(R.x-=Q),I&&(R.y-=I),O&&(R.z-=O)}return w==null&&(w=0),x==null&&(x=0),A==null&&(A=0),N.initialize=function(F){P=F},N.x=function(F){return arguments.length?(w=+F,N):w},N.y=function(F){return arguments.length?(x=+F,N):x},N.z=function(F){return arguments.length?(A=+F,N):A},N.strength=function(F){return arguments.length?(M=+F,N):M},N},e.forceCollide=function(w){var x,A,P,M,N=1,F=1;function R(){for(var I,O,B,L,T,U,G,j,X=x.length,Y=0;Y<F;++Y)for(O=(A===1?t.binarytree(x,u):A===2?r.quadtree(x,u,h):A===3?a.octree(x,u,h,p):null).visitAfter(z),I=0;I<X;++I)B=x[I],G=P[B.index],j=G*G,L=B.x+B.vx,A>1&&(T=B.y+B.vy),A>2&&(U=B.z+B.vz),O.visit(q);function q(D,nn,rn,en,Pn,Ln,yn){var Nn=[nn,rn,en,Pn,Ln,yn],ce=Nn[0],Fe=Nn[1],ee=Nn[2],Fn=Nn[A],ue=Nn[A+1],Ze=Nn[A+2],Rn=D.data,te=D.r,Mn=G+te;if(!Rn)return ce>L+Mn||Fn<L-Mn||A>1&&(Fe>T+Mn||ue<T-Mn)||A>2&&(ee>U+Mn||Ze<U-Mn);if(Rn.index>B.index){var re=L-Rn.x-Rn.vx,ie=A>1?T-Rn.y-Rn.vy:0,Cn=A>2?U-Rn.z-Rn.vz:0,_n=re*re+ie*ie+Cn*Cn;_n<Mn*Mn&&(re===0&&(_n+=(re=d(M))*re),A>1&&ie===0&&(_n+=(ie=d(M))*ie),A>2&&Cn===0&&(_n+=(Cn=d(M))*Cn),_n=(Mn-(_n=Math.sqrt(_n)))/_n*N,B.vx+=(re*=_n)*(Mn=(te*=te)/(j+te)),A>1&&(B.vy+=(ie*=_n)*Mn),A>2&&(B.vz+=(Cn*=_n)*Mn),Rn.vx-=re*(Mn=1-Mn),A>1&&(Rn.vy-=ie*Mn),A>2&&(Rn.vz-=Cn*Mn))}}}function z(I){if(I.data)return I.r=P[I.data.index];for(var O=I.r=0;O<Math.pow(2,A);++O)I[O]&&I[O].r>I.r&&(I.r=I[O].r)}function Q(){if(x){var I,O,B=x.length;for(P=new Array(B),I=0;I<B;++I)O=x[I],P[O.index]=+w(O,I,x)}}return typeof w!="function"&&(w=s(w==null?1:+w)),R.initialize=function(I,...O){x=I,M=O.find(B=>typeof B=="function")||Math.random,A=O.find(B=>[1,2,3].includes(B))||2,Q()},R.iterations=function(I){return arguments.length?(F=+I,R):F},R.strength=function(I){return arguments.length?(N=+I,R):N},R.radius=function(I){return arguments.length?(w=typeof I=="function"?I:s(+I),Q(),R):w},R},e.forceLink=function(w){var x,A,P,M,N,F,R,z=v,Q=function(G){return 1/Math.min(N[G.source.index],N[G.target.index])},I=s(30),O=1;function B(G){for(var j=0,X=w.length;j<O;++j)for(var Y,q,D,nn,rn,en=0,Pn=0,Ln=0,yn=0;en<X;++en)q=(Y=w[en]).source,Pn=(D=Y.target).x+D.vx-q.x-q.vx||d(R),M>1&&(Ln=D.y+D.vy-q.y-q.vy||d(R)),M>2&&(yn=D.z+D.vz-q.z-q.vz||d(R)),Pn*=nn=((nn=Math.sqrt(Pn*Pn+Ln*Ln+yn*yn))-A[en])/nn*G*x[en],Ln*=nn,yn*=nn,D.vx-=Pn*(rn=F[en]),M>1&&(D.vy-=Ln*rn),M>2&&(D.vz-=yn*rn),q.vx+=Pn*(rn=1-rn),M>1&&(q.vy+=Ln*rn),M>2&&(q.vz+=yn*rn)}function L(){if(P){var G,j,X=P.length,Y=w.length,q=new Map(P.map((D,nn)=>[z(D,nn,P),D]));for(G=0,N=new Array(X);G<Y;++G)(j=w[G]).index=G,typeof j.source!="object"&&(j.source=m(q,j.source)),typeof j.target!="object"&&(j.target=m(q,j.target)),N[j.source.index]=(N[j.source.index]||0)+1,N[j.target.index]=(N[j.target.index]||0)+1;for(G=0,F=new Array(Y);G<Y;++G)j=w[G],F[G]=N[j.source.index]/(N[j.source.index]+N[j.target.index]);x=new Array(Y),T(),A=new Array(Y),U()}}function T(){if(P)for(var G=0,j=w.length;G<j;++G)x[G]=+Q(w[G],G,w)}function U(){if(P)for(var G=0,j=w.length;G<j;++G)A[G]=+I(w[G],G,w)}return w==null&&(w=[]),B.initialize=function(G,...j){P=G,R=j.find(X=>typeof X=="function")||Math.random,M=j.find(X=>[1,2,3].includes(X))||2,L()},B.links=function(G){return arguments.length?(w=G,L(),B):w},B.id=function(G){return arguments.length?(z=G,B):z},B.iterations=function(G){return arguments.length?(O=+G,B):O},B.strength=function(G){return arguments.length?(Q=typeof G=="function"?G:s(+G),T(),B):Q},B.distance=function(G){return arguments.length?(I=typeof G=="function"?G:s(+G),U(),B):I},B},e.forceManyBody=function(){var w,x,A,P,M,N,F=s(-30),R=1,z=1/0,Q=.81;function I(T){var U,G=w.length,j=(x===1?t.binarytree(w,b):x===2?r.quadtree(w,b,y):x===3?a.octree(w,b,y,E):null).visitAfter(B);for(M=T,U=0;U<G;++U)A=w[U],j.visit(L)}function O(){if(w){var T,U,G=w.length;for(N=new Array(G),T=0;T<G;++T)U=w[T],N[U.index]=+F(U,T,w)}}function B(T){var U,G,j,X,Y,q,D=0,nn=0,rn=T.length;if(rn){for(j=X=Y=q=0;q<rn;++q)(U=T[q])&&(G=Math.abs(U.value))&&(D+=U.value,nn+=G,j+=G*(U.x||0),X+=G*(U.y||0),Y+=G*(U.z||0));D*=Math.sqrt(4/rn),T.x=j/nn,x>1&&(T.y=X/nn),x>2&&(T.z=Y/nn)}else{(U=T).x=U.data.x,x>1&&(U.y=U.data.y),x>2&&(U.z=U.data.z);do D+=N[U.data.index];while(U=U.next)}T.value=D}function L(T,U,G,j,X){if(!T.value)return!0;var Y=[G,j,X][x-1],q=T.x-A.x,D=x>1?T.y-A.y:0,nn=x>2?T.z-A.z:0,rn=Y-U,en=q*q+D*D+nn*nn;if(rn*rn/Q<en)return en<z&&(q===0&&(en+=(q=d(P))*q),x>1&&D===0&&(en+=(D=d(P))*D),x>2&&nn===0&&(en+=(nn=d(P))*nn),en<R&&(en=Math.sqrt(R*en)),A.vx+=q*T.value*M/en,x>1&&(A.vy+=D*T.value*M/en),x>2&&(A.vz+=nn*T.value*M/en)),!0;if(!(T.length||en>=z)){(T.data!==A||T.next)&&(q===0&&(en+=(q=d(P))*q),x>1&&D===0&&(en+=(D=d(P))*D),x>2&&nn===0&&(en+=(nn=d(P))*nn),en<R&&(en=Math.sqrt(R*en)));do T.data!==A&&(rn=N[T.data.index]*M/en,A.vx+=q*rn,x>1&&(A.vy+=D*rn),x>2&&(A.vz+=nn*rn));while(T=T.next)}}return I.initialize=function(T,...U){w=T,P=U.find(G=>typeof G=="function")||Math.random,x=U.find(G=>[1,2,3].includes(G))||2,O()},I.strength=function(T){return arguments.length?(F=typeof T=="function"?T:s(+T),O(),I):F},I.distanceMin=function(T){return arguments.length?(R=T*T,I):Math.sqrt(R)},I.distanceMax=function(T){return arguments.length?(z=T*T,I):Math.sqrt(z)},I.theta=function(T){return arguments.length?(Q=T*T,I):Math.sqrt(Q)},I},e.forceRadial=function(w,x,A,P){var M,N,F,R,z=s(.1);function Q(O){for(var B=0,L=M.length;B<L;++B){var T=M[B],U=T.x-x||1e-6,G=(T.y||0)-A||1e-6,j=(T.z||0)-P||1e-6,X=Math.sqrt(U*U+G*G+j*j),Y=(R[B]-X)*F[B]*O/X;T.vx+=U*Y,N>1&&(T.vy+=G*Y),N>2&&(T.vz+=j*Y)}}function I(){if(M){var O,B=M.length;for(F=new Array(B),R=new Array(B),O=0;O<B;++O)R[O]=+w(M[O],O,M),F[O]=isNaN(R[O])?0:+z(M[O],O,M)}}return typeof w!="function"&&(w=s(+w)),x==null&&(x=0),A==null&&(A=0),P==null&&(P=0),Q.initialize=function(O,...B){M=O,N=B.find(L=>[1,2,3].includes(L))||2,I()},Q.strength=function(O){return arguments.length?(z=typeof O=="function"?O:s(+O),I(),Q):z},Q.radius=function(O){return arguments.length?(w=typeof O=="function"?O:s(+O),I(),Q):w},Q.x=function(O){return arguments.length?(x=+O,Q):x},Q.y=function(O){return arguments.length?(A=+O,Q):A},Q.z=function(O){return arguments.length?(P=+O,Q):P},Q},e.forceSimulation=function(w,x){x=x||2;var A,P=Math.min(3,Math.max(1,Math.round(x))),M=1,N=.001,F=1-Math.pow(N,1/300),R=0,z=.6,Q=new Map,I=l.timer(L),O=o.dispatch("tick","end"),B=function(){let j=1;return()=>(j=(1664525*j+1013904223)%_)/_}();function L(){T(),O.call("tick",A),M<N&&(I.stop(),O.call("end",A))}function T(j){var X,Y,q=w.length;j===void 0&&(j=1);for(var D=0;D<j;++D)for(M+=(R-M)*F,Q.forEach(function(nn){nn(M)}),X=0;X<q;++X)(Y=w[X]).fx==null?Y.x+=Y.vx*=z:(Y.x=Y.fx,Y.vx=0),P>1&&(Y.fy==null?Y.y+=Y.vy*=z:(Y.y=Y.fy,Y.vy=0)),P>2&&(Y.fz==null?Y.z+=Y.vz*=z:(Y.z=Y.fz,Y.vz=0));return A}function U(){for(var j,X=0,Y=w.length;X<Y;++X){if((j=w[X]).index=X,j.fx!=null&&(j.x=j.fx),j.fy!=null&&(j.y=j.fy),j.fz!=null&&(j.z=j.fz),isNaN(j.x)||P>1&&isNaN(j.y)||P>2&&isNaN(j.z)){var q=10*(P>2?Math.cbrt(.5+X):P>1?Math.sqrt(.5+X):X),D=X*C,nn=X*k;P===1?j.x=q:P===2?(j.x=q*Math.cos(D),j.y=q*Math.sin(D)):(j.x=q*Math.sin(D)*Math.cos(nn),j.y=q*Math.cos(D),j.z=q*Math.sin(D)*Math.sin(nn))}(isNaN(j.vx)||P>1&&isNaN(j.vy)||P>2&&isNaN(j.vz))&&(j.vx=0,P>1&&(j.vy=0),P>2&&(j.vz=0))}}function G(j){return j.initialize&&j.initialize(w,B,P),j}return w==null&&(w=[]),U(),A={tick:T,restart:function(){return I.restart(L),A},stop:function(){return I.stop(),A},numDimensions:function(j){return arguments.length?(P=Math.min(3,Math.max(1,Math.round(j))),Q.forEach(G),A):P},nodes:function(j){return arguments.length?(w=j,U(),Q.forEach(G),A):w},alpha:function(j){return arguments.length?(M=+j,A):M},alphaMin:function(j){return arguments.length?(N=+j,A):N},alphaDecay:function(j){return arguments.length?(F=+j,A):+F},alphaTarget:function(j){return arguments.length?(R=+j,A):R},velocityDecay:function(j){return arguments.length?(z=1-j,A):1-z},randomSource:function(j){return arguments.length?(B=j,Q.forEach(G),A):B},force:function(j,X){return arguments.length>1?(X==null?Q.delete(j):Q.set(j,G(X)),A):Q.get(j)},find:function(){var j,X,Y,q,D,nn,rn=Array.prototype.slice.call(arguments),en=rn.shift()||0,Pn=(P>1?rn.shift():null)||0,Ln=(P>2?rn.shift():null)||0,yn=rn.shift()||1/0,Nn=0,ce=w.length;for(yn*=yn,Nn=0;Nn<ce;++Nn)(q=(j=en-(D=w[Nn]).x)*j+(X=Pn-(D.y||0))*X+(Y=Ln-(D.z||0))*Y)<yn&&(nn=D,yn=q);return nn},on:function(j,X){return arguments.length>1?(O.on(j,X),A):O.on(j)}}},e.forceX=function(w){var x,A,P,M=s(.1);function N(R){for(var z,Q=0,I=x.length;Q<I;++Q)(z=x[Q]).vx+=(P[Q]-z.x)*A[Q]*R}function F(){if(x){var R,z=x.length;for(A=new Array(z),P=new Array(z),R=0;R<z;++R)A[R]=isNaN(P[R]=+w(x[R],R,x))?0:+M(x[R],R,x)}}return typeof w!="function"&&(w=s(w==null?0:+w)),N.initialize=function(R){x=R,F()},N.strength=function(R){return arguments.length?(M=typeof R=="function"?R:s(+R),F(),N):M},N.x=function(R){return arguments.length?(w=typeof R=="function"?R:s(+R),F(),N):w},N},e.forceY=function(w){var x,A,P,M=s(.1);function N(R){for(var z,Q=0,I=x.length;Q<I;++Q)(z=x[Q]).vy+=(P[Q]-z.y)*A[Q]*R}function F(){if(x){var R,z=x.length;for(A=new Array(z),P=new Array(z),R=0;R<z;++R)A[R]=isNaN(P[R]=+w(x[R],R,x))?0:+M(x[R],R,x)}}return typeof w!="function"&&(w=s(w==null?0:+w)),N.initialize=function(R){x=R,F()},N.strength=function(R){return arguments.length?(M=typeof R=="function"?R:s(+R),F(),N):M},N.y=function(R){return arguments.length?(w=typeof R=="function"?R:s(+R),F(),N):w},N},e.forceZ=function(w){var x,A,P,M=s(.1);function N(R){for(var z,Q=0,I=x.length;Q<I;++Q)(z=x[Q]).vz+=(P[Q]-z.z)*A[Q]*R}function F(){if(x){var R,z=x.length;for(A=new Array(z),P=new Array(z),R=0;R<z;++R)A[R]=isNaN(P[R]=+w(x[R],R,x))?0:+M(x[R],R,x)}}return typeof w!="function"&&(w=s(w==null?0:+w)),N.initialize=function(R){x=R,F()},N.strength=function(R){return arguments.length?(M=typeof R=="function"?R:s(+R),F(),N):M},N.z=function(R){return arguments.length?(w=typeof R=="function"?R:s(+R),F(),N):w},N},Object.defineProperty(e,"__esModule",{value:!0})}),this._handleSetAttribute=(e,t)=>{let r=e.split("."),a=this;for(let o=0;o<r.length;o++)a=a?.[r[o]];a?.(t)},self.onmessage=function(e){let t=!1;if(e.data.type=="pause")this.simulation.stop();else if(e.data.type=="resume")this.simulation.restart();else if(e.data.type=="setAttribute")this._handleSetAttribute(e.data.attributeName,e.data.value);else if(e.data.type=="start"){let r=e.data.positions,a=e.data.edges;e.data.use2D&&(t=!0);let o=[],l=[];for(let s=0;s<r.length/3;s++){let d=r[s*3+0]*10,u=r[s*3+1]*10,h=r[s*3+2]*10,p=0;o.push({x:d,y:u,z:h,vz:p,ID:s})}for(let s=0;s<a.length/2;s++){let d=a[s*2],u=a[s*2+1],h={source:d,target:u};l.push(h)}this.repulsiveforce=d3.forceManyBody(),this.attractiveforce=d3.forceLink(l),this.centralForce=d3.forceCenter(),this.simulation=d3.forceSimulation(o).numDimensions(t?2:3).force("charge",this.repulsiveforce).force("link",this.attractiveforce).force("center",centralForce).force("gravity",this.gravityForce).velocityDecay(.05).on("tick",async()=>{for(let s=0;s<o.length;s++){const d=o[s];r[s*3+0]=d.x/10,r[s*3+1]=d.y/10,t?r[s*3+2]=0:r[s*3+2]=d.z/10}self.postMessage({type:"update",positions:r})}).on("end",()=>{self.postMessage({type:"stop"})})}}},_h=bh.toString(),wh=URL.createObjectURL(new Blob([`(${_h})()`],{type:"text/javascript"}));class yh{constructor({network:e=null,onUpdate:t=null,onStop:r=null,onStart:a=null,use2D:o=!1}){this._network=e,this._onUpdate=t,this._onStop=r,this._onStart=a,this._use2D=o,this._attributes={charge:.1},this._layoutWorker=null}start(){return this._layoutWorker||(this._layoutWorker=new Worker(wh),this._layoutWorker.onmessage=e=>{e.data.type=="update"?this._onUpdate?.(e.data):e.data.type=="stop"?(this._onStop?.(e.data),this._layoutRunning=!1):e.data.type=="getAttribute"?this._handleReturnAttribute(e.data):console.log("Layout received Unknown msg: ",e)},this._layoutRunning=!0,this._onStart?.(),this._layoutWorker.postMessage({type:"start",positions:this._network.positions,edges:this._network.indexedEdges,use2D:this._use2D})),this}restart(){return this.stop(),this.start(),this}stop(){return this._layoutRunning&&this._onStop?.(),this._layoutWorker?.terminate(),this._layoutRunning=!1,delete this._layoutWorker,this._layoutWorker=null,this}resume(){return this.start(),this._layoutRunning||this._onStart?.(),this._layoutWorker.postMessage({type:"resume"}),this._layoutRunning=!0,this}pause(){return this._layoutWorker.postMessage({type:"pause"}),this._layoutRunning=!1,this._onStop?.(),this}onUpdate(e){return this._onUpdate=e,this}onStop(e){return this._onStop=e,this}onStart(e){return this._onStart=e,this}isRunning(){return this._layoutRunning}cleanup(){this.stop()}_handleGetAttribute(){}setAttribute(e,t){return this._layoutWorker.postMessage({type:"setAttribute",attributeName:e,value:t}),this}groups(e){return this.setAttribute("groups",e)}alpha(e){return this.setAttribute("alpha",e)}alphaDecay(e){return this.setAttribute("alphaDecay",e)}alphaTarget(e){return this.setAttribute("alphaTarget",e)}velocityDecay(e){return this.setAttribute("velocityDecay",e)}}let ks=`
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
 
uniform float globalSizeScale;
uniform float globalSizeBase;
uniform float globalWidthScale;
uniform float globalWidthBase;

uniform float globalOpacityScale;
uniform float globalOpacityBase;

attribute vec3 fromVertex;
attribute vec3 toVertex;
attribute vec2 vertexType;
// 0,1:  0.0, 1.0, // source, top
// 0,0:  0.0, 0.0, // source, bottom
// 1,1:  1.0, 1.0, // target, top
// 1,0:  1.0, 0.0, // target, bottom

attribute vec4 fromColor;
attribute vec4 toColor;
attribute float fromSize;
attribute float toSize;
attribute vec4 encodedIndex;

varying vec4 vColor;
varying vec3 vOffset;
varying vec4 vEncodedIndex;


//varying float vZComponent;

void main(void){
	vColor = (fromColor)*vertexType.x + (toColor)*(1.0-vertexType.x);
	vColor.w = clamp(globalOpacityBase+globalOpacityScale*vColor.w,0.0,1.0);
	float updatedFromSize = globalSizeScale*fromSize+globalSizeBase;
	float updatedToSize = globalSizeScale*toSize+globalSizeBase;

	float width = globalWidthBase+globalWidthScale*((updatedFromSize)*vertexType.x + (updatedToSize)*(1.0-vertexType.x));
	vEncodedIndex = encodedIndex;
	//vZComponent = viewVertex.z;


	vec3 vertexCenter = fromVertex.xyz*vertexType.x + toVertex.xyz*(1.0-vertexType.x);
	vec3 destinationVertexCenter = fromVertex.xyz*(1.0-vertexType.x) + toVertex.xyz*vertexType.x;
	
	vec3 displacement = (viewMatrix*vec4((destinationVertexCenter-vertexCenter),0.0)).xyz;
	vec3 perpendicularVector = normalize(vec3(-displacement.y, displacement.x, 0.0));
	vec3 offset = width*(vertexType.x-0.5)*(vertexType.y-0.5)*4.0*1.5*perpendicularVector;
	
	vec4 viewVertex = viewMatrix * vec4(vertexCenter.xyz,1.0)+vec4(offset,0.0);
	float displacementLength = length(displacement);
	vOffset = vec3(vertexType.x,updatedToSize/displacementLength*1.5,updatedFromSize/displacementLength*1.5);
	

	vec4 temp_pos = projectionMatrix*viewVertex;
	// vec4 eye_vec = vec4(0.0,0.0,0.0,0);
	// float dist = length(eye_vec);
	// vec4 lookat = eye_vec - temp_pos;
	// vec4 dir = temp_pos - eye_vec;
	// vec4 center = normalize(-eye_vec);
	// vec4 proj = dot(temp_pos, normalize(-lookat)) * normalize(-lookat);
	// vec4 c = temp_pos - proj;
	// float magnitude = 1.0-acos(dot(normalize(-eye_vec), normalize(temp_pos)));

	// c = length(c) * magnitude * normalize(c);
	// vec4 dir2 = normalize(c-lookat);
	// temp_pos.xy = (dir2).xy;
	// temp_pos.z = 0.0;
	// temp_pos.w = 1.0;


	gl_Position = temp_pos;
	
}
`,Ss=`
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
 
uniform float globalSizeScale;
uniform float globalSizeBase;
uniform float globalWidthScale;
uniform float globalWidthBase;

uniform float globalOpacityScale;
uniform float globalOpacityBase;

attribute vec3 fromVertex;
attribute vec3 toVertex;
attribute vec2 vertexType;
// 0,1:  0.0, 1.0, // source, top
// 0,0:  0.0, 0.0, // source, bottom
// 1,1:  1.0, 1.0, // target, top
// 1,0:  1.0, 0.0, // target, bottom

attribute vec4 fromColor;
attribute vec4 toColor;
attribute float fromSize;
attribute float toSize;
attribute vec4 encodedIndex;

varying vec4 vColor;
varying vec3 vOffset;
varying vec4 vEncodedIndex;


vec2 hyperbolicNormFactor(vec2 vertex, float scaling){
	vec2 pos = vertex.xy;
	float r = length(pos.xy);
	// //polar
	// vec2 normFactor = (r+scaling)*vec2(1.0,1.0);
	// catersian
	vec2 normFactor = sqrt(vertex.xy*vertex.xy+scaling*scaling);
	return normFactor;
}

//varying float vZComponent;

void main(void){
	vColor = (fromColor)*vertexType.x + (toColor)*(1.0-vertexType.x);
	vColor.w = clamp(globalOpacityBase+globalOpacityScale*vColor.w,0.0,1.0);
	float updatedFromSize = globalSizeScale*fromSize+globalSizeBase;
	float updatedToSize = globalSizeScale*toSize+globalSizeBase;

	float width = globalWidthBase+globalWidthScale*((updatedFromSize)*vertexType.x + (updatedToSize)*(1.0-vertexType.x));
	vEncodedIndex = encodedIndex;
	//vZComponent = viewVertex.z;

	float scaling = -viewMatrix[3][2];
	
	vec4 fromVertexView = viewMatrix * vec4(fromVertex.xyz,1.0);
	vec4 toVertexView = viewMatrix * vec4(toVertex.xyz,1.0);

	vec2 normFactorFrom = hyperbolicNormFactor(fromVertexView.xy, scaling);
	vec2 normFactorTo = hyperbolicNormFactor(toVertexView.xy, scaling);
	
	vec3 vertexCenter = fromVertexView.xyz*vertexType.x + toVertexView.xyz*(1.0-vertexType.x);
	vec3 destinationVertexCenter = fromVertexView.xyz*(1.0-vertexType.x) + toVertexView.xyz*vertexType.x;

	vec2 normFactorCenter = hyperbolicNormFactor(vertexCenter.xy, scaling);
	vec2 normFactorDestinationCenter = hyperbolicNormFactor(destinationVertexCenter.xy, scaling);

	fromVertexView.xy = fromVertexView.xy/normFactorFrom/vec2(projectionMatrix[0][0],projectionMatrix[1][1]);
	toVertexView.xy = toVertexView.xy/normFactorTo/vec2(projectionMatrix[0][0],projectionMatrix[1][1]);
	vertexCenter.xy = vertexCenter.xy/normFactorCenter/vec2(projectionMatrix[0][0],projectionMatrix[1][1]);
	destinationVertexCenter.xy = destinationVertexCenter.xy/normFactorDestinationCenter/vec2(projectionMatrix[0][0],projectionMatrix[1][1]);

	vec3 displacement = vec4((destinationVertexCenter-vertexCenter),0.0).xyz;
	vec3 perpendicularVector = normalize(vec3(-displacement.y, displacement.x, 0.0));
	vec3 offset = width*(vertexType.x-0.5)*(vertexType.y-0.5)*4.0*1.0*perpendicularVector/length(normFactorCenter)*scaling;
	
	vec4 viewVertex = vec4(vertexCenter.xyz,1.0)+vec4(offset,0.0);
	float displacementLength = length(displacement);
	// vOffset = vec3(vertexType.x,updatedToSize/displacementLength*1.0,updatedFromSize/displacementLength*1.0);
	vOffset = vec3(0.0,0.0,0.0);
	viewVertex.zw = vec2(0.0,1.0);
	vec4 temp_pos = projectionMatrix*viewVertex;
	gl_Position = temp_pos;
}
`,xh=`
#ifdef GL_ES
	precision highp float;
#endif
//uniform vec2 nearFar;
varying vec4 vEncodedIndex;
varying vec4 vColor;
varying vec3 vOffset;
//varying float vZComponent;
//gl_DepthRange.near)/gl_DepthRange.diff
void main(){
	//float w = (-vZComponent-nearFar[0])/(nearFar[1]-nearFar[0]);
	if(vOffset.x<vOffset.y || vOffset.x>(1.0-vOffset.z)){
		discard;
	}

	// gl_FragColor = vec4(vOffset.x,vOffset.x,0,1.0);//vec4(vColor.xyz,globalOpacity*vColor.w);
	gl_FragColor = vColor;
}
`,Ah=`
#ifdef GL_ES
	precision highp float;
#endif
//uniform vec2 nearFar;
varying vec4 vEncodedIndex;
varying vec4 vColor;
varying vec3 vOffset;
//varying float vZComponent;
//gl_DepthRange.near)/gl_DepthRange.diff
void main(){

	if(vOffset.x<vOffset.y*1.1 || vOffset.x>(1.0-vOffset.z*1.1) || (vEncodedIndex.x+vEncodedIndex.y+vEncodedIndex.z+vEncodedIndex.w)<=0.0){
		discard;
	}
	//float w = (-vZComponent-nearFar[0])/(nearFar[1]-nearFar[0]);
	gl_FragColor = vEncodedIndex;
	
}
`,Eh=`
uniform mat4 projectionViewMatrix;
uniform float globalOpacityScale;
uniform float globalOpacityBase;

attribute vec3 vertex;
attribute vec4 color;


varying vec4 vColor;
varying vec4 vEncodedIndex;

//varying float vZComponent;

void main(void){
	vColor = color;
	vColor.w = clamp(globalOpacityBase+globalOpacityScale*vColor.w,0.0,1.0);
	//vZComponent = viewVertex.z;
	gl_Position =   projectionViewMatrix * vec4(vertex,1.0);
}
`,Ch=`
uniform mat4 projectionViewMatrix;
uniform float globalOpacityScale;
uniform float globalOpacityBase;

attribute vec3 vertex;
attribute vec4 color;


varying vec4 vColor;
varying vec4 vEncodedIndex;

//varying float vZComponent;

void main(void){
	vColor = color;
	vColor.w = clamp(globalOpacityBase+globalOpacityScale*vColor.w,0.0,1.0);
	//vZComponent = viewVertex.z;

	vec4 temp_pos = projectionViewMatrix * vec4(vertex,1.0);
	vec4 eye_vec = vec4(0.0,0.0,1.0,0);
	float dist = length(eye_vec);
	vec4 lookat = eye_vec - temp_pos;
	vec4 dir = temp_pos - eye_vec;
	vec4 center = normalize(-eye_vec);
	vec4 proj = dot(temp_pos, normalize(-lookat)) * normalize(-lookat);
	vec4 c = temp_pos - proj;
	float magnitude = 1.0-acos(dot(normalize(-eye_vec), normalize(temp_pos)));

	c = length(c) * magnitude * normalize(c);
	vec4 dir2 = normalize(c-lookat);
	temp_pos.xy = (dir2).xy;
	temp_pos.z = 0.0;
	temp_pos.w = 1.0;
	gl_Position = temp_pos;
}
`,kh=`
#ifdef GL_ES
	precision highp float;
#endif
//uniform vec2 nearFar;
varying vec4 vColor;
//varying float vZComponent;
//gl_DepthRange.near)/gl_DepthRange.diff
void main(){
	//float w = (-vZComponent-nearFar[0])/(nearFar[1]-nearFar[0]);
	gl_FragColor = vColor;
	// gl_FragColor = vec4(vEncodedIndex.x/10,0,0,1.0);
}

`,ci=`
// uniform mat4 projectionMatrix;
// uniform mat4 viewMatrix;
// uniform mat3 normalMatrix;


// attribute vec4 vertex;
// attribute vec3 normal;
// attribute vec3 position;
// attribute vec3 color;
// attribute float size;
// attribute float Opacity;

// varying vec3 vNormal;
// varying vec3 vEye;

// varying vec3 vColor;
// varying float vSize;
// varying float vOpacity;

// void main(void){
// 	vec4 viewVertex = viewMatrix * (vertex*vec4(vec3(size),1.0) + vec4(position,0.0));
// 	vNormal = normalMatrix * normal;
// 	vEye = -vec3(viewVertex);
// 	vOpacity = Opacity;
// 	vColor = color;
// 	gl_Position =   projectionMatrix * viewVertex;
// }

uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

uniform float globalOpacityScale;
uniform float globalSizeScale;
uniform float globalOutlineWidthScale;

uniform float globalOpacityBase;
uniform float globalSizeBase;
uniform float globalOutlineWidthBase;

attribute vec2 vertex;
// attribute vec3 normal;
attribute vec3 position;
attribute vec4 color;
attribute float size;
attribute float outlineWidth;
attribute vec4 outlineColor;
attribute vec4 encodedIndex;

varying vec3 vNormal;
varying vec3 vEye;
varying vec4 vColor;
varying vec2 vOffset;
varying float vSize;
varying vec4 vEncodedIndex;
varying float vOutlineThreshold;
varying vec4 vOutlineColor;
varying vec4 vPosition;

void main(void){
	float BoxCorrection = 1.5;
	vec2 offset = vertex;
	float updatedSize = globalSizeScale*size+globalSizeBase;
	float updatedOutlineWidth = globalOutlineWidthScale*outlineWidth+globalOutlineWidthBase;
	float fullSize = updatedSize + updatedOutlineWidth;
	// vec4 viewCenters = viewMatrix*vec4(position,1);
	// vec3 viewCenters = position;
	// fragCenter = viewCenters
	// float scalingFactor = 1.0 / abs(centers.x)*0.001;
	// offset*=scalingFactor;
	vec3 cameraRight = normalize(vec3(viewMatrix[0][0], viewMatrix[1][0], viewMatrix[2][0]));
	vec3 cameraUp = normalize(vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]));

	// viewCenters.xy += offset*updatedSize*CameraRight_worldspace;
	
	vec4 viewCenters = viewMatrix*vec4(position+BoxCorrection*fullSize*(cameraRight*offset.x + cameraUp*offset.y),1.0);
	vNormal = vec3(0.0,0.0,1.0); //normalMatrix * normal;
	vEye = -vec3(offset,0.0);
	vEncodedIndex = encodedIndex;
	vColor = color;
	vColor.w = clamp(globalOpacityBase+globalOpacityScale*vColor.w,0.0,1.0);
	vOutlineColor.w = clamp(globalOpacityBase+globalOpacityScale*vOutlineColor.w,0.0,1.0);
	vOffset = vertex;
	vSize = updatedSize;
	vOutlineThreshold = updatedOutlineWidth/fullSize;

	vOutlineColor = outlineColor;
	vPosition = projectionMatrix * viewCenters;

	// vec4 temp_pos = vPosition;
	// vec4 eye_vec = vec4(0.0,0.0,0.0,0);
	// float dist = length(eye_vec);
	// vec4 lookat = eye_vec - temp_pos;
	// vec4 dir = temp_pos - eye_vec;
	// vec4 center = normalize(-eye_vec);
	// vec4 proj = dot(temp_pos, normalize(-lookat)) * normalize(-lookat);
	// vec4 c = temp_pos - proj;
	// float magnitude = 1.0-acos(dot(normalize(-eye_vec), normalize(temp_pos)));

	// c = length(c) * magnitude * normalize(c);
	// vec4 dir2 = normalize(c-lookat);
	// vPosition.xy = (dir2).xy;
	// vPosition.z = 0.0;
	// vPosition.w = 1.0;
	gl_Position = vPosition;
}
`,ui=`
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

uniform float globalOpacityScale;
uniform float globalSizeScale;
uniform float globalOutlineWidthScale;

uniform float globalOpacityBase;
uniform float globalSizeBase;
uniform float globalOutlineWidthBase;

attribute vec2 vertex;
// attribute vec3 normal;
attribute vec3 position;
attribute vec4 color;
attribute float size;
attribute float outlineWidth;
attribute vec4 outlineColor;
attribute vec4 encodedIndex;

varying vec3 vNormal;
varying vec3 vEye;
varying vec4 vColor;
varying vec2 vOffset;
varying float vSize;
varying vec4 vEncodedIndex;
varying float vOutlineThreshold;
varying vec4 vOutlineColor;
varying vec4 vPosition;

vec2 hyperbolicNormFactor(vec2 vertex, float scaling){
	vec2 pos = vertex.xy;
	float r = length(pos.xy);
	// //polar
	// vec2 normFactor = (r+scaling)*vec2(1.0,1.0);
	// catersian
	vec2 normFactor = sqrt(vertex.xy*vertex.xy+scaling*scaling);
	return normFactor;
}

void main(void){
	float BoxCorrection = 1.5;
	vec2 offset = vertex;
	float updatedSize = globalSizeScale*size+globalSizeBase;
	float updatedOutlineWidth = globalOutlineWidthScale*outlineWidth+globalOutlineWidthBase;
	float fullSize = updatedSize + updatedOutlineWidth;
	// vec4 viewCenters = viewMatrix*vec4(position,1);
	// vec3 viewCenters = position;
	// fragCenter = viewCenters
	// float scalingFactor = 1.0 / abs(centers.x)*0.001;
	// offset*=scalingFactor;
	vec3 cameraRight = normalize(vec3(viewMatrix[0][0], viewMatrix[1][0], viewMatrix[2][0]));
	vec3 cameraUp = normalize(vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]));

	// viewCenters.xy += offset*updatedSize*CameraRight_worldspace;
	


	// temp_pos.z = 0.0;
	// temp_pos.w = 1.0;



	vec4 viewCenters = viewMatrix*vec4(position.xyz,1.0);
	float scaling = -viewMatrix[3][2];
	vec4 temp_pos = viewCenters;
	
	vec2 normFactor = hyperbolicNormFactor(viewCenters.xy, scaling);
	// catersian
	// vec2 normFactor = sqrt(temp_pos.xy*temp_pos.xy+scaling*scaling);
	temp_pos.xy = temp_pos.xy/normFactor;

	viewCenters.xy = temp_pos.xy/vec2(projectionMatrix[0][0],projectionMatrix[1][1]);
	viewCenters.xy+=BoxCorrection*fullSize*offset.xy/length(normFactor)*scaling;
	

	vNormal = vec3(0.0,0.0,1.0); //normalMatrix * normal;
	vEye = -vec3(offset,0.0);
	vEncodedIndex = encodedIndex;
	vColor = color;
	vColor.w = clamp(globalOpacityBase+globalOpacityScale*vColor.w,0.0,1.0);
	vOutlineColor.w = clamp(globalOpacityBase+globalOpacityScale*vOutlineColor.w,0.0,1.0);
	vOffset = vertex;
	vSize = updatedSize;
	vOutlineThreshold = updatedOutlineWidth/fullSize;

	vOutlineColor = outlineColor;
	vPosition = projectionMatrix * viewCenters;

	gl_Position = vPosition;
}
`,Sh=`// #ifdef GL_ES
// 	precision highp float;
// #endif

precision mediump float;
varying vec4 vColor;
varying vec4 vEncodedIndex;
varying vec3 vNormal;
varying vec3 vEye;
varying float vSize;
varying vec2 vOffset;
varying float vOutlineThreshold;
varying vec4 vOutlineColor;
varying vec4 vPosition;



void main(){
	// const vec3 lightDirection = vec3(0.577350269,0.577350269,0.577350269);
	// const float ambientFactor = 0.6;
	
	// vec3 normal = normalize(vNormal);
	// vec3 eye = normalize(vEye);
	
	// //Ambient+Diffuse
	// float cosTheta = max(dot(lightDirection,normal),0.0);
	// vec3 newColor = vColor*(ambientFactor+cosTheta);
	
	// //Specular
	// vec3 reflection = reflect(-lightDirection, normal);
	// float eyeDotReflection = max(dot(eye, reflection), 0.0);
	// newColor +=  vec3(0.5)* pow(eyeDotReflection, 60.0);
	
	// gl_FragColor = vec4(newColor,vOpacity);
	// gl_FragColor = vec4(eye,Opacity);
	//gl_FragData[0] = vec4(newColor,Opacity);

// Renaming variables passed from the Vertex Shader

	// vec3 cameraPos;
	// vec3 cameraNormal;

	// float lensqr = dot(vOffset, vOffset);

	// if(lensqr > 1.0)
	// 		discard;
		
	// cameraNormal = vec3(vOffset, sqrt(1.0 - lensqr));
	// cameraPos = (cameraNormal * size) + cameraSpherePos;

	// float len = length(point);
	// // VTK Fake Spheres
	// float radius = 1.;
	// if(len > radius)
	// 		discard;
	// vec3 normalizedPoint = normalize(vec3(point.xy, sqrt(1. - len)));
	// vec3 direction = normalize(vec3(1., 1., 1.));
	// float df2 = max(0, dot(direction, normalizedPoint));
	// float sf2 = pow(df2, 90);
	// fragOutput0 = vec4(max((df2+0.3) * color, sf2 * vec3(1)), 1);

	// fragOutput1 = vec4(vertexVC.xyz, 1.0);
	// fragOutput2 = vec4(normalVCVSOutput, 1.0);
	
	float lensqr = dot(vOffset, vOffset);

	if(lensqr > 1.0)
		discard;
	

	vec3 normalizedPoint = normalize(vec3(vOffset.xy, sqrt(1. - lensqr)));
	const vec3 lightDirection = vec3(0.577350269,0.577350269,0.577350269);
	const float ambientFactor = 0.6;
	
	vec3 normal = normalizedPoint;
	vec3 eye = normalize(vEye);
	
	//Ambient+Diffuse
	float cosTheta = max(dot(lightDirection,normal),0.0);
	vec3 newColor = vColor.xyz*(ambientFactor+cosTheta);
	
	//Specular
	vec3 reflection = reflect(-lightDirection, normal);
	float eyeDotReflection = max(dot(eye, reflection), 0.0);
	newColor +=  vec3(0.5)* pow(eyeDotReflection, 60.0);
	
	
	
	if(lensqr < 1.0-vOutlineThreshold){
		// gl_FragColor = vec4(vColor,vOpacity)
		gl_FragColor = vec4(newColor,vColor.w);;
	}else{
		gl_FragColor = vec4(vOutlineColor.xyz,vOutlineColor.w);
	}
	// gl_FragDepthEXT = 0.5; 
}
`,Ph=`
// #ifdef GL_ES
// 	precision highp float;
// #endif

precision mediump float;
varying vec4 vColor;
varying vec4 vEncodedIndex;
varying vec3 vNormal;
varying vec3 vEye;
varying float vSize;
varying vec2 vOffset;
varying float vOutlineThreshold;
varying vec4 vOutlineColor;

void main(){
	float lensqr = dot(vOffset, vOffset);

	if(lensqr > 1.0)
			discard;
	
	gl_FragColor = vEncodedIndex;
}
`,Mh=`
// #ifdef GL_ES
// 	precision highp float;
// #endif

precision mediump float;
varying vec4 vColor;
varying vec4 vEncodedIndex;
varying vec3 vNormal;
varying vec3 vEye;
varying float vSize;
varying vec2 vOffset;
varying float vOutlineThreshold;
varying vec4 vOutlineColor;
varying vec4 vPosition;



void main(){
	
	float lensqr = dot(vOffset, vOffset);

	if(lensqr > 1.0)
			discard;
	
	if(lensqr < 1.0-vOutlineThreshold){
		// gl_FragColor = vec4(vColor,vOpacity)
		gl_FragColor = vColor;
	}else{
		gl_FragColor = vOutlineColor;
	}
	// gl_FragDepthEXT = 0.5; 
}
`;var H2={},gr={},a2={};Object.defineProperty(a2,"__esModule",{value:!0});var Ih=function(){function n(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function Rh(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Ps=a2.LinkedList=function(){function n(){Rh(this,n),this.length=0,this.first=null,this.last=null}return Ih(n,[{key:"forEach",value:function(t,r){for(var a=this.first,o=this.length,l=0;l<o;l++)t.call(r,a,l),a=a.next}},{key:"at",value:function(t){if(!(t>=0&&t<this.length))return null;for(var r=this.first;t--;)r=r.next;return r}},{key:"randomNode",value:function(){var t=Math.floor(Math.random()*this.length);return this.at(t)}},{key:"toArray",value:function(){for(var t=[],r=this.first,a=this.length;a--;)t.push(r.data||r),r=r.next;return t}}]),n}();Ps.prototype.each=Ps.prototype.forEach;Object.defineProperty(gr,"__esModule",{value:!0});gr.CircularLinkedList=void 0;var Bh=function(){function n(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),El=a2;function Nh(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Th(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function Fh(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Ms=gr.CircularLinkedList=function(n){Fh(e,n);function e(){return Nh(this,e),Th(this,Object.getPrototypeOf(e).apply(this,arguments))}return Bh(e,[{key:"append",value:function(r){this.first===null?(r.prev=r,r.next=r,this.first=r,this.last=r):(r.prev=this.last,r.next=this.first,this.first.prev=r,this.last.next=r,this.last=r),this.length++}},{key:"prepend",value:function(r){if(this.first===null){this.append(r);return}else r.prev=this.last,r.next=this.first,this.first.prev=r,this.last.next=r,this.first=r;this.length++}},{key:"insertAfter",value:function(r,a){a.prev=r,a.next=r.next,r.next.prev=a,r.next=a,a.prev===this.last&&(this.last=a),this.length++}},{key:"insertBefore",value:function(r,a){a.prev=r.prev,a.next=r,r.prev.next=a,r.prev=a,a.next===this.first&&(this.first=a),this.length++}},{key:"remove",value:function(r){this.length>1?(r.prev.next=r.next,r.next.prev=r.prev,r===this.first&&(this.first=r.next),r===this.last&&(this.last=r.prev)):(this.first=null,this.last=null),r.prev=null,r.next=null,this.length--}},{key:"withData",value:function(r){for(var a=this.first,o=this.last,l=Math.ceil(this.length/2);l--;){if(a.data===r)return a;if(o.data===r)return o;a=a.next,o=o.prev}return null}}]),e}(El.LinkedList);Ms.fromArray=function(n,e){for(var t=new Ms,r=n.length;r--;)t.prepend(e?new El.LinkedList.Node(n[r]):n[r]);return t};var Pt={},Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.PRECISION=1e-6;var Mt={},It={},Is;function J1(){if(Is)return It;Is=1,Object.defineProperty(It,"__esModule",{value:!0}),It.Matrix=void 0;var n=function(){function o(l,s){for(var d=0;d<s.length;d++){var u=s[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}return function(l,s,d){return s&&o(l.prototype,s),d&&o(l,d),l}}(),e=Te,t=Ke();function r(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var a=It.Matrix=function(){function o(l){r(this,o),this.setElements(l)}return n(o,[{key:"e",value:function(s,d){return s<1||s>this.elements.length||d<1||d>this.elements[0].length?null:this.elements[s-1][d-1]}},{key:"row",value:function(s){return s>this.elements.length?null:new t.Vector(this.elements[s-1])}},{key:"col",value:function(s){if(this.elements.length===0||s>this.elements[0].length)return null;for(var d=[],u=this.elements.length,h=0;h<u;h++)d.push(this.elements[h][s-1]);return new t.Vector(d)}},{key:"dimensions",value:function(){var s=this.elements.length===0?0:this.elements[0].length;return{rows:this.elements.length,cols:s}}},{key:"rows",value:function(){return this.elements.length}},{key:"cols",value:function(){return this.elements.length===0?0:this.elements[0].length}},{key:"eql",value:function(s){var d=s.elements||s;if((!d[0]||typeof d[0][0]>"u")&&(d=new o(d).elements),this.elements.length===0||d.length===0)return this.elements.length===d.length;if(this.elements.length!==d.length||this.elements[0].length!==d[0].length)return!1;for(var u=this.elements.length,h=this.elements[0].length,p;u--;)for(p=h;p--;)if(Math.abs(this.elements[u][p]-d[u][p])>e.PRECISION)return!1;return!0}},{key:"dup",value:function(){return new o(this.elements)}},{key:"map",value:function(s,d){if(this.elements.length===0)return new o([]);for(var u=[],h=this.elements.length,p=this.elements[0].length,v;h--;)for(v=p,u[h]=[];v--;)u[h][v]=s.call(d,this.elements[h][v],h+1,v+1);return new o(u)}},{key:"isSameSizeAs",value:function(s){var d=s.elements||s;return typeof d[0][0]>"u"&&(d=new o(d).elements),this.elements.length===0?d.length===0:this.elements.length===d.length&&this.elements[0].length===d[0].length}},{key:"add",value:function(s){if(this.elements.length===0)return this.map(function(u){return u});var d=s.elements||s;return typeof d[0][0]>"u"&&(d=new o(d).elements),this.isSameSizeAs(d)?this.map(function(u,h,p){return u+d[h-1][p-1]}):null}},{key:"subtract",value:function(s){if(this.elements.length===0)return this.map(function(u){return u});var d=s.elements||s;return typeof d[0][0]>"u"&&(d=new o(d).elements),this.isSameSizeAs(d)?this.map(function(u,h,p){return u-d[h-1][p-1]}):null}},{key:"canMultiplyFromLeft",value:function(s){if(this.elements.length===0)return!1;var d=s.elements||s;return typeof d[0][0]>"u"&&(d=new o(d).elements),this.elements[0].length===d.length}},{key:"multiply",value:function(s){if(this.elements.length===0)return null;if(!s.elements)return this.map(function(E){return E*s});var d=!!s.modulus,y=s.elements||s;if(typeof y[0][0]>"u"&&(y=new o(y).elements),!this.canMultiplyFromLeft(y))return null;for(var u=this.elements.length,h=y[0].length,p,v=this.elements[0].length,m,_=[],b;u--;)for(p=h,_[u]=[];p--;){for(m=v,b=0;m--;)b+=this.elements[u][m]*y[m][p];_[u][p]=b}var y=new o(_);return d?y.col(1):y}},{key:"minor",value:function(s,d,u,h){if(this.elements.length===0)return null;for(var p=[],v=u,m,_,b,y=this.elements.length,E=this.elements[0].length;v--;)for(m=u-v-1,p[m]=[],_=h;_--;)b=h-_-1,p[m][b]=this.elements[(s+m-1)%y][(d+b-1)%E];return new o(p)}},{key:"transpose",value:function(){if(this.elements.length===0)return new o([]);for(var s=this.elements.length,p,d=this.elements[0].length,u,h=[],p=d;p--;)for(u=s,h[p]=[];u--;)h[p][u]=this.elements[u][p];return new o(h)}},{key:"isSquare",value:function(){var s=this.elements.length===0?0:this.elements[0].length;return this.elements.length===s}},{key:"max",value:function(){if(this.elements.length===0)return null;for(var s=0,d=this.elements.length,u=this.elements[0].length,h;d--;)for(h=u;h--;)Math.abs(this.elements[d][h])>Math.abs(s)&&(s=this.elements[d][h]);return s}},{key:"indexOf",value:function(s){if(this.elements.length===0)return null;var d=this.elements.length,u,h=this.elements[0].length,p;for(u=0;u<d;u++)for(p=0;p<h;p++)if(this.elements[u][p]===s)return{i:u+1,j:p+1};return null}},{key:"diagonal",value:function(){if(!this.isSquare)return null;for(var s=[],d=this.elements.length,u=0;u<d;u++)s.push(this.elements[u][u]);return new t.Vector(s)}},{key:"toRightTriangular",value:function(){if(this.elements.length===0)return new o([]);var s=this.dup(),d,u=this.elements.length,h,p,v=this.elements[0].length,m;for(h=0;h<u;h++){if(s.elements[h][h]===0){for(p=h+1;p<u;p++)if(s.elements[p][h]!==0){for(d=[],m=0;m<v;m++)d.push(s.elements[h][m]+s.elements[p][m]);s.elements[h]=d;break}}if(s.elements[h][h]!==0)for(p=h+1;p<u;p++){var _=s.elements[p][h]/s.elements[h][h];for(d=[],m=0;m<v;m++)d.push(m<=h?0:s.elements[p][m]-s.elements[h][m]*_);s.elements[p]=d}}return s}},{key:"determinant",value:function(){if(this.elements.length===0)return 1;if(!this.isSquare())return null;for(var s=this.toRightTriangular(),d=s.elements[0][0],u=s.elements.length,h=1;h<u;h++)d=d*s.elements[h][h];return d}},{key:"isSingular",value:function(){return this.isSquare()&&this.determinant()===0}},{key:"trace",value:function(){if(this.elements.length===0)return 0;if(!this.isSquare())return null;for(var s=this.elements[0][0],d=this.elements.length,u=1;u<d;u++)s+=this.elements[u][u];return s}},{key:"rank",value:function(){if(this.elements.length===0)return 0;for(var s=this.toRightTriangular(),d=0,u=this.elements.length,h=this.elements[0].length,p;u--;)for(p=h;p--;)if(Math.abs(s.elements[u][p])>e.PRECISION){d++;break}return d}},{key:"augment",value:function(s){if(this.elements.length===0)return this.dup();var d=s.elements||s;typeof d[0][0]>"u"&&(d=new o(d).elements);var u=this.dup(),h=u.elements[0].length,p=u.elements.length,v=d[0].length,m;if(p!==d.length)return null;for(;p--;)for(m=v;m--;)u.elements[p][h+m]=d[p][m];return u}},{key:"inverse",value:function(){if(this.elements.length===0||!this.isSquare()||this.isSingular())return null;for(var s=this.elements.length,d=s,u,h=this.augment(o.I(s)).toRightTriangular(),p=h.elements[0].length,v,m,_,b=[],y;d--;){for(m=[],b[d]=[],_=h.elements[d][d],v=0;v<p;v++)y=h.elements[d][v]/_,m.push(y),v>=s&&b[d].push(y);for(h.elements[d]=m,u=d;u--;){for(m=[],v=0;v<p;v++)m.push(h.elements[u][v]-h.elements[d][v]*h.elements[u][d]);h.elements[u]=m}}return new o(b)}},{key:"round",value:function(){return this.map(function(s){return Math.round(s)})}},{key:"snapTo",value:function(s){return this.map(function(d){return Math.abs(d-s)<=e.PRECISION?s:d})}},{key:"inspect",value:function(){var s=[],d=this.elements.length;if(d===0)return"[]";for(var u=0;u<d;u++)s.push(new t.Vector(this.elements[u]).inspect());return s.join(`
`)}},{key:"setElements",value:function(s){var d,u,h=s.elements||s;if(h[0]&&typeof h[0][0]<"u"){for(d=h.length,this.elements=[];d--;)for(u=h[d].length,this.elements[d]=[];u--;)this.elements[d][u]=h[d][u];return this}var p=h.length;for(this.elements=[],d=0;d<p;d++)this.elements.push([h[d]]);return this}},{key:"flatten",value:function(){var s=[];if(this.elements.length==0)return[];for(var d=0;d<this.elements[0].length;d++)for(var u=0;u<this.elements.length;u++)s.push(this.elements[u][d]);return s}},{key:"ensure4x4",value:function(){if(this.elements.length==4&&this.elements[0].length==4)return this;if(this.elements.length>4||this.elements[0].length>4)return null;for(var s=0;s<this.elements.length;s++)for(var d=this.elements[s].length;d<4;d++)s==d?this.elements[s].push(1):this.elements[s].push(0);for(var s=this.elements.length;s<4;s++)s==0?this.elements.push([1,0,0,0]):s==1?this.elements.push([0,1,0,0]):s==2?this.elements.push([0,0,1,0]):s==3&&this.elements.push([0,0,0,1]);return this}},{key:"make3x3",value:function(){return this.elements.length!=4||this.elements[0].length!=4?null:new o([[this.elements[0][0],this.elements[0][1],this.elements[0][2]],[this.elements[1][0],this.elements[1][1],this.elements[1][2]],[this.elements[2][0],this.elements[2][1],this.elements[2][2]]])}}]),o}();return a.I=function(o){for(var l=[],s=o,d;s--;)for(d=o,l[s]=[];d--;)l[s][d]=s===d?1:0;return new a(l)},a.Diagonal=function(o){for(var l=o.length,s=a.I(l);l--;)s.elements[l][l]=o[l];return s},a.Rotation=function(o,l){if(!l)return new a([[Math.cos(o),-Math.sin(o)],[Math.sin(o),Math.cos(o)]]);var s=l.dup();if(s.elements.length!==3)return null;var d=s.modulus(),u=s.elements[0]/d,h=s.elements[1]/d,p=s.elements[2]/d,v=Math.sin(o),m=Math.cos(o),_=1-m;return new a([[_*u*u+m,_*u*h-v*p,_*u*p+v*h],[_*u*h+v*p,_*h*h+m,_*h*p-v*u],[_*u*p-v*h,_*h*p+v*u,_*p*p+m]])},a.RotationX=function(o){var l=Math.cos(o),s=Math.sin(o);return new a([[1,0,0],[0,l,-s],[0,s,l]])},a.RotationY=function(o){var l=Math.cos(o),s=Math.sin(o);return new a([[l,0,s],[0,1,0],[-s,0,l]])},a.RotationZ=function(o){var l=Math.cos(o),s=Math.sin(o);return new a([[l,-s,0],[s,l,0],[0,0,1]])},a.Random=function(o,l){return a.Zero(o,l).map(function(){return Math.random()})},a.Translation=function(o){if(o.elements.length==2){var l=a.I(3);return l.elements[2][0]=o.elements[0],l.elements[2][1]=o.elements[1],l}if(o.elements.length==3){var l=a.I(4);return l.elements[0][3]=o.elements[0],l.elements[1][3]=o.elements[1],l.elements[2][3]=o.elements[2],l}throw"Invalid length for Translation"},a.Zero=function(o,l){for(var s=[],d=o,u;d--;)for(u=l,s[d]=[];u--;)s[d][u]=0;return new a(s)},a.prototype.toUpperTriangular=a.prototype.toRightTriangular,a.prototype.det=a.prototype.determinant,a.prototype.tr=a.prototype.trace,a.prototype.rk=a.prototype.rank,a.prototype.inv=a.prototype.inverse,a.prototype.x=a.prototype.multiply,It}var Rs;function Ke(){if(Rs)return Mt;Rs=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.Vector=void 0;var n=function(){function o(l,s){for(var d=0;d<s.length;d++){var u=s[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}return function(l,s,d){return s&&o(l.prototype,s),d&&o(l,d),l}}(),e=J1(),t=Te;function r(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}var a=Mt.Vector=function(){function o(l){r(this,o),this.setElements(l)}return n(o,[{key:"e",value:function(s){return s<1||s>this.elements.length?null:this.elements[s-1]}},{key:"dimensions",value:function(){return this.elements.length}},{key:"modulus",value:function(){return Math.sqrt(this.dot(this))}},{key:"eql",value:function(s){var d=this.elements.length,u=s.elements||s;if(d!==u.length)return!1;for(;d--;)if(Math.abs(this.elements[d]-u[d])>t.PRECISION)return!1;return!0}},{key:"dup",value:function(){return new o(this.elements)}},{key:"map",value:function(s,d){var u=[];return this.each(function(h,p){u.push(s.call(d,h,p))}),new o(u)}},{key:"forEach",value:function(s,d){for(var u=this.elements.length,h=0;h<u;h++)s.call(d,this.elements[h],h+1)}},{key:"toUnitVector",value:function(){var s=this.modulus();return s===0?this.dup():this.map(function(d){return d/s})}},{key:"angleFrom",value:function(s){var d=s.elements||s,u=this.elements.length;if(u!==d.length)return null;var h=0,p=0,v=0;if(this.each(function(_,b){h+=_*d[b-1],p+=_*_,v+=d[b-1]*d[b-1]}),p=Math.sqrt(p),v=Math.sqrt(v),p*v===0)return null;var m=h/(p*v);return m<-1&&(m=-1),m>1&&(m=1),Math.acos(m)}},{key:"isParallelTo",value:function(s){var d=this.angleFrom(s);return d===null?null:d<=t.PRECISION}},{key:"isAntiparallelTo",value:function(s){var d=this.angleFrom(s);return d===null?null:Math.abs(d-Math.PI)<=t.PRECISION}},{key:"isPerpendicularTo",value:function(s){var d=this.dot(s);return d===null?null:Math.abs(d)<=t.PRECISION}},{key:"add",value:function(s){var d=s.elements||s;return this.elements.length!==d.length?null:this.map(function(u,h){return u+d[h-1]})}},{key:"subtract",value:function(s){var d=s.elements||s;return this.elements.length!==d.length?null:this.map(function(u,h){return u-d[h-1]})}},{key:"multiply",value:function(s){return this.map(function(d){return d*s})}},{key:"dot",value:function(s){var d=s.elements||s,u=0,h=this.elements.length;if(h!==d.length)return null;for(;h--;)u+=this.elements[h]*d[h];return u}},{key:"cross",value:function(s){var d=s.elements||s;if(this.elements.length!==3||d.length!==3)return null;var u=this.elements;return new o([u[1]*d[2]-u[2]*d[1],u[2]*d[0]-u[0]*d[2],u[0]*d[1]-u[1]*d[0]])}},{key:"max",value:function(){for(var s=0,d=this.elements.length;d--;)Math.abs(this.elements[d])>Math.abs(s)&&(s=this.elements[d]);return s}},{key:"indexOf",value:function(s){for(var d=null,u=this.elements.length,h=0;h<u;h++)d===null&&this.elements[h]===s&&(d=h+1);return d}},{key:"toDiagonalMatrix",value:function(){return e.Matrix.Diagonal(this.elements)}},{key:"round",value:function(){return this.map(function(s){return Math.round(s)})}},{key:"snapTo",value:function(s){return this.map(function(d){return Math.abs(d-s)<=t.PRECISION?s:d})}},{key:"distanceFrom",value:function(s){if(s.anchor||s.start&&s.end)return s.distanceFrom(this);var d=s.elements||s;if(d.length!==this.elements.length)return null;var u=0,h;return this.each(function(p,v){h=p-d[v-1],u+=h*h}),Math.sqrt(u)}},{key:"liesOn",value:function(s){return s.contains(this)}},{key:"liesIn",value:function(s){return s.contains(this)}},{key:"rotate",value:function(s,d){var u,h=null,p,v,m;switch(s.determinant&&(h=s.elements),this.elements.length){case 2:return u=d.elements||d,u.length!==2?null:(h||(h=e.Matrix.Rotation(s).elements),p=this.elements[0]-u[0],v=this.elements[1]-u[1],new o([u[0]+h[0][0]*p+h[0][1]*v,u[1]+h[1][0]*p+h[1][1]*v]));case 3:{if(!d.direction)return null;var _=d.pointClosestTo(this).elements;return h||(h=e.Matrix.Rotation(s,d.direction).elements),p=this.elements[0]-_[0],v=this.elements[1]-_[1],m=this.elements[2]-_[2],new o([_[0]+h[0][0]*p+h[0][1]*v+h[0][2]*m,_[1]+h[1][0]*p+h[1][1]*v+h[1][2]*m,_[2]+h[2][0]*p+h[2][1]*v+h[2][2]*m])}default:return null}}},{key:"reflectionIn",value:function(s){if(s.anchor){var d=this.elements.slice(),u=s.pointClosestTo(d).elements;return new o([u[0]+(u[0]-d[0]),u[1]+(u[1]-d[1]),u[2]+(u[2]-(d[2]||0))])}else{var h=s.elements||s;return this.elements.length!==h.length?null:this.map(function(p,v){return h[v-1]+(h[v-1]-p)})}}},{key:"to3D",value:function(){var s=this.dup();switch(s.elements.length){case 3:break;case 2:{s.elements.push(0);break}default:return null}return s}},{key:"inspect",value:function(){return"["+this.elements.join(", ")+"]"}},{key:"setElements",value:function(s){return this.elements=(s.elements||s).slice(),this}},{key:"flatten",value:function(){return this.elements}}]),o}();return a.Random=function(o){for(var l=[];o--;)l.push(Math.random());return new a(l)},a.Zero=function(o){for(var l=[];o--;)l.push(0);return new a(l)},a.prototype.x=a.prototype.multiply,a.prototype.each=a.prototype.forEach,a.i=new a([1,0,0]),a.j=new a([0,1,0]),a.k=new a([0,0,1]),Mt}var Rt={},Bs;function br(){if(Bs)return Rt;Bs=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.Plane=void 0;var n=function(){function s(d,u){for(var h=0;h<u.length;h++){var p=u[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,u,h){return u&&s(d.prototype,u),h&&s(d,h),d}}(),e=Te,t=J1(),r=Ke(),a=_r();function o(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")}var l=Rt.Plane=function(){function s(d,u,h){o(this,s),this.setVectors(d,u,h)}return n(s,[{key:"eql",value:function(u){return this.contains(u.anchor)&&this.isParallelTo(u)}},{key:"dup",value:function(){return new s(this.anchor,this.normal)}},{key:"translate",value:function(u){var h=u.elements||u;return new s([this.anchor.elements[0]+h[0],this.anchor.elements[1]+h[1],this.anchor.elements[2]+(h[2]||0)],this.normal)}},{key:"isParallelTo",value:function(u){var h;return u.normal?(h=this.normal.angleFrom(u.normal),Math.abs(h)<=e.PRECISION||Math.abs(Math.PI-h)<=e.PRECISION):u.direction?this.normal.isPerpendicularTo(u.direction):null}},{key:"isPerpendicularTo",value:function(u){var h=this.normal.angleFrom(u.normal);return Math.abs(Math.PI/2-h)<=e.PRECISION}},{key:"distanceFrom",value:function(u){if(this.intersects(u)||this.contains(u))return 0;if(u.anchor){var h=this.anchor.elements,p=u.anchor.elements,v=this.normal.elements;return Math.abs((h[0]-p[0])*v[0]+(h[1]-p[1])*v[1]+(h[2]-p[2])*v[2])}else{var m=u.elements||u,h=this.anchor.elements,v=this.normal.elements;return Math.abs((h[0]-m[0])*v[0]+(h[1]-m[1])*v[1]+(h[2]-(m[2]||0))*v[2])}}},{key:"contains",value:function(u){if(u.normal)return null;if(u.direction)return this.contains(u.anchor)&&this.contains(u.anchor.add(u.direction));var h=u.elements||u,p=this.anchor.elements,v=this.normal.elements,m=Math.abs(v[0]*(p[0]-h[0])+v[1]*(p[1]-h[1])+v[2]*(p[2]-(h[2]||0)));return m<=e.PRECISION}},{key:"intersects",value:function(u){return typeof u.direction>"u"&&typeof u.normal>"u"?null:!this.isParallelTo(u)}},{key:"intersectionWith",value:function(u){if(!this.intersects(u))return null;if(u.direction){var h=u.anchor.elements,p=u.direction.elements,v=this.anchor.elements,m=this.normal.elements,_=(m[0]*(v[0]-h[0])+m[1]*(v[1]-h[1])+m[2]*(v[2]-h[2]))/(m[0]*p[0]+m[1]*p[1]+m[2]*p[2]);return new r.Vector([h[0]+p[0]*_,h[1]+p[1]*_,h[2]+p[2]*_])}else if(u.normal){for(var b=this.normal.cross(u.normal).toUnitVector(),m=this.normal.elements,h=this.anchor.elements,y=u.normal.elements,E=u.anchor.elements,C=t.Matrix.Zero(2,2),k=0;C.isSingular();)k++,C=new t.Matrix([[m[k%3],m[(k+1)%3]],[y[k%3],y[(k+1)%3]]]);for(var w=C.inverse().elements,x=m[0]*h[0]+m[1]*h[1]+m[2]*h[2],A=y[0]*E[0]+y[1]*E[1]+y[2]*E[2],P=[w[0][0]*x+w[0][1]*A,w[1][0]*x+w[1][1]*A],M=[],N=1;N<=3;N++)M.push(k===N?0:P[(N+(5-k)%3)%3]);return new a.Line(M,b)}}},{key:"pointClosestTo",value:function(u){var h=u.elements||u,p=this.anchor.elements,v=this.normal.elements,m=(p[0]-h[0])*v[0]+(p[1]-h[1])*v[1]+(p[2]-(h[2]||0))*v[2];return new r.Vector([h[0]+v[0]*m,h[1]+v[1]*m,(h[2]||0)+v[2]*m])}},{key:"rotate",value:function(u,h){var p=u.determinant?u.elements:t.Matrix.Rotation(u,h.direction).elements,v=h.pointClosestTo(this.anchor).elements,m=this.anchor.elements,_=this.normal.elements,b=v[0],y=v[1],E=v[2],C=m[0],k=m[1],w=m[2],x=C-b,A=k-y,P=w-E;return new s([b+p[0][0]*x+p[0][1]*A+p[0][2]*P,y+p[1][0]*x+p[1][1]*A+p[1][2]*P,E+p[2][0]*x+p[2][1]*A+p[2][2]*P],[p[0][0]*_[0]+p[0][1]*_[1]+p[0][2]*_[2],p[1][0]*_[0]+p[1][1]*_[1]+p[1][2]*_[2],p[2][0]*_[0]+p[2][1]*_[1]+p[2][2]*_[2]])}},{key:"reflectionIn",value:function(u){if(u.normal){var h=this.anchor.elements,p=this.normal.elements,v=h[0],m=h[1],_=h[2],b=p[0],y=p[1],E=p[2],C=this.anchor.reflectionIn(u).elements,k=v+b,w=m+y,x=_+E,A=u.pointClosestTo([k,w,x]).elements,P=[A[0]+(A[0]-k)-C[0],A[1]+(A[1]-w)-C[1],A[2]+(A[2]-x)-C[2]];return new s(C,P)}else{if(u.direction)return this.rotate(Math.PI,u);var M=u.elements||u;return new s(this.anchor.reflectionIn([M[0],M[1],M[2]||0]),this.normal)}}},{key:"setVectors",value:function(u,h,p){if(u=new r.Vector(u),u=u.to3D(),u===null||(h=new r.Vector(h),h=h.to3D(),h===null))return null;if(typeof p>"u")p=null;else if(p=new r.Vector(p),p=p.to3D(),p===null)return null;var v=u.elements[0],m=u.elements[1],_=u.elements[2],b=h.elements[0],y=h.elements[1],E=h.elements[2],C,k;if(p!==null){var w=p.elements[0],x=p.elements[1],A=p.elements[2];if(C=new r.Vector([(y-m)*(A-_)-(E-_)*(x-m),(E-_)*(w-v)-(b-v)*(A-_),(b-v)*(x-m)-(y-m)*(w-v)]),k=C.modulus(),k===0)return null;C=new r.Vector([C.elements[0]/k,C.elements[1]/k,C.elements[2]/k])}else{if(k=Math.sqrt(b*b+y*y+E*E),k===0)return null;C=new r.Vector([h.elements[0]/k,h.elements[1]/k,h.elements[2]/k])}return this.anchor=u,this.normal=C,this}}]),s}();return l.XY=new l(r.Vector.Zero(3),r.Vector.k),l.YZ=new l(r.Vector.Zero(3),r.Vector.i),l.ZX=new l(r.Vector.Zero(3),r.Vector.j),l.YX=l.XY,l.ZY=l.YZ,l.XZ=l.ZX,l.fromPoints=function(s){var d=s.length,u=[],h,p,v,m,_,b,y,E,C,k,w=r.Vector.Zero(3);for(h=0;h<d;h++){if(p=new r.Vector(s[h]).to3D(),p===null)return null;if(u.push(p),v=u.length,v>2){if(_=u[v-1].elements,b=u[v-2].elements,y=u[v-3].elements,m=new r.Vector([(_[1]-b[1])*(y[2]-b[2])-(_[2]-b[2])*(y[1]-b[1]),(_[2]-b[2])*(y[0]-b[0])-(_[0]-b[0])*(y[2]-b[2]),(_[0]-b[0])*(y[1]-b[1])-(_[1]-b[1])*(y[0]-b[0])]).toUnitVector(),v>3&&(C=m.angleFrom(k),C!==null&&!(Math.abs(C)<=e.PRECISION||Math.abs(C-Math.PI)<=e.PRECISION)))return null;w=w.add(m),k=m}}return _=u[1].elements,b=u[0].elements,y=u[v-1].elements,E=u[v-2].elements,w=w.add(new r.Vector([(_[1]-b[1])*(y[2]-b[2])-(_[2]-b[2])*(y[1]-b[1]),(_[2]-b[2])*(y[0]-b[0])-(_[0]-b[0])*(y[2]-b[2]),(_[0]-b[0])*(y[1]-b[1])-(_[1]-b[1])*(y[0]-b[0])]).toUnitVector()).add(new r.Vector([(b[1]-y[1])*(E[2]-y[2])-(b[2]-y[2])*(E[1]-y[1]),(b[2]-y[2])*(E[0]-y[0])-(b[0]-y[0])*(E[2]-y[2]),(b[0]-y[0])*(E[1]-y[1])-(b[1]-y[1])*(E[0]-y[0])]).toUnitVector()),new l(u[0],w)},Rt}var Ns;function _r(){if(Ns)return Pt;Ns=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.Line=void 0;var n=function(){function s(d,u){for(var h=0;h<u.length;h++){var p=u[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,u,h){return u&&s(d.prototype,u),h&&s(d,h),d}}(),e=Te,t=Ke(),r=J1(),a=br();function o(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")}var l=Pt.Line=function(){function s(d,u){o(this,s),this.setVectors(d,u)}return n(s,[{key:"eql",value:function(u){return this.isParallelTo(u)&&this.contains(u.anchor)}},{key:"dup",value:function(){return new s(this.anchor,this.direction)}},{key:"translate",value:function(u){var h=u.elements||u;return new s([this.anchor.elements[0]+h[0],this.anchor.elements[1]+h[1],this.anchor.elements[2]+(h[2]||0)],this.direction)}},{key:"isParallelTo",value:function(u){if(u.normal||u.start&&u.end)return u.isParallelTo(this);var h=this.direction.angleFrom(u.direction);return Math.abs(h)<=e.PRECISION||Math.abs(h-Math.PI)<=e.PRECISION}},{key:"distanceFrom",value:function(u){if(u.normal||u.start&&u.end)return u.distanceFrom(this);if(u.direction){if(this.isParallelTo(u))return this.distanceFrom(u.anchor);var h=this.direction.cross(u.direction).toUnitVector().elements,p=this.anchor.elements,v=u.anchor.elements;return Math.abs((p[0]-v[0])*h[0]+(p[1]-v[1])*h[1]+(p[2]-v[2])*h[2])}else{var m=u.elements||u,p=this.anchor.elements,_=this.direction.elements,b=m[0]-p[0],y=m[1]-p[1],E=(m[2]||0)-p[2],C=Math.sqrt(b*b+y*y+E*E);if(C===0)return 0;var k=(b*_[0]+y*_[1]+E*_[2])/C,w=1-k*k;return Math.abs(C*Math.sqrt(w<0?0:w))}}},{key:"contains",value:function(u){if(u.start&&u.end)return this.contains(u.start)&&this.contains(u.end);var h=this.distanceFrom(u);return h!==null&&h<=e.PRECISION}},{key:"positionOf",value:function(u){if(!this.contains(u))return null;var h=u.elements||u,p=this.anchor.elements,v=this.direction.elements;return(h[0]-p[0])*v[0]+(h[1]-p[1])*v[1]+((h[2]||0)-p[2])*v[2]}},{key:"liesIn",value:function(u){return u.contains(this)}},{key:"intersects",value:function(u){return u.normal?u.intersects(this):!this.isParallelTo(u)&&this.distanceFrom(u)<=e.PRECISION}},{key:"intersectionWith",value:function(u){if(u.normal||u.start&&u.end)return u.intersectionWith(this);if(!this.intersects(u))return null;var h=this.anchor.elements,p=this.direction.elements,v=u.anchor.elements,m=u.direction.elements,_=p[0],b=p[1],y=p[2],E=m[0],C=m[1],k=m[2],w=h[0]-v[0],x=h[1]-v[1],A=h[2]-v[2],P=-_*w-b*x-y*A,M=E*w+C*x+k*A,N=_*_+b*b+y*y,F=E*E+C*C+k*k,R=_*E+b*C+y*k,z=(P*F/N+R*M)/(F-R*R);return new t.Vector([h[0]+z*_,h[1]+z*b,h[2]+z*y])}},{key:"pointClosestTo",value:function(u){if(u.start&&u.end){var h=u.pointClosestTo(this);return h===null?null:this.pointClosestTo(h)}else if(u.direction){if(this.intersects(u))return this.intersectionWith(u);if(this.isParallelTo(u))return null;var p=this.direction.elements,v=u.direction.elements,m=p[0],_=p[1],b=p[2],y=v[0],E=v[1],C=v[2],k=b*y-m*C,w=m*E-_*y,x=_*C-b*E,A=[k*C-w*E,w*y-x*C,x*E-k*y],h=new a.Plane(u.anchor,A);return h.intersectionWith(this)}else{var h=u.elements||u;if(this.contains(h))return new t.Vector(h);var P=this.anchor.elements,p=this.direction.elements,m=p[0],_=p[1],b=p[2],M=P[0],N=P[1],F=P[2],k=m*(h[1]-N)-_*(h[0]-M),w=_*((h[2]||0)-F)-b*(h[1]-N),x=b*(h[0]-M)-m*((h[2]||0)-F),R=new t.Vector([_*k-b*x,b*w-m*k,m*x-_*w]),z=this.distanceFrom(h)/R.modulus();return new t.Vector([h[0]+R.elements[0]*z,h[1]+R.elements[1]*z,(h[2]||0)+R.elements[2]*z])}}},{key:"rotate",value:function(u,h){typeof h.direction>"u"&&(h=new s(h.to3D(),t.Vector.k));var p=r.Matrix.Rotation(u,h.direction).elements,v=h.pointClosestTo(this.anchor).elements,m=this.anchor.elements,_=this.direction.elements,b=v[0],y=v[1],E=v[2],C=m[0],k=m[1],w=m[2],x=C-b,A=k-y,P=w-E;return new s([b+p[0][0]*x+p[0][1]*A+p[0][2]*P,y+p[1][0]*x+p[1][1]*A+p[1][2]*P,E+p[2][0]*x+p[2][1]*A+p[2][2]*P],[p[0][0]*_[0]+p[0][1]*_[1]+p[0][2]*_[2],p[1][0]*_[0]+p[1][1]*_[1]+p[1][2]*_[2],p[2][0]*_[0]+p[2][1]*_[1]+p[2][2]*_[2]])}},{key:"reverse",value:function(){return new s(this.anchor,this.direction.x(-1))}},{key:"reflectionIn",value:function(u){if(u.normal){var h=this.anchor.elements,p=this.direction.elements,v=h[0],m=h[1],_=h[2],b=p[0],y=p[1],E=p[2],C=this.anchor.reflectionIn(u).elements,k=v+b,w=m+y,x=_+E,A=u.pointClosestTo([k,w,x]).elements,P=[A[0]+(A[0]-k)-C[0],A[1]+(A[1]-w)-C[1],A[2]+(A[2]-x)-C[2]];return new s(C,P)}else{if(u.direction)return this.rotate(Math.PI,u);var M=u.elements||u;return new s(this.anchor.reflectionIn([M[0],M[1],M[2]||0]),this.direction)}}},{key:"setVectors",value:function(u,h){if(u=new t.Vector(u),h=new t.Vector(h),u.elements.length===2&&u.elements.push(0),h.elements.length===2&&h.elements.push(0),u.elements.length>3||h.elements.length>3)return null;var p=h.modulus();return p===0?null:(this.anchor=u,this.direction=new t.Vector([h.elements[0]/p,h.elements[1]/p,h.elements[2]/p]),this)}}]),s}();return l.X=new l(t.Vector.Zero(3),t.Vector.i),l.Y=new l(t.Vector.Zero(3),t.Vector.j),l.Z=new l(t.Vector.Zero(3),t.Vector.k),Pt}var wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.LineSegment=void 0;var Oh=function(){function n(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Bt=Ke(),Dh=br(),Lh=_r();function zh(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}wr.LineSegment=function(){function n(e,t){zh(this,n),this.setPoints(e,t)}return Oh(n,[{key:"eql",value:function(t){return this.start.eql(t.start)&&this.end.eql(t.end)||this.start.eql(t.end)&&this.end.eql(t.start)}},{key:"dup",value:function(){return new n(this.start,this.end)}},{key:"length",value:function(){var t=this.start.elements,r=this.end.elements,a=r[0]-t[0],o=r[1]-t[1],l=r[2]-t[2];return Math.sqrt(a*a+o*o+l*l)}},{key:"toVector",value:function(){var t=this.start.elements,r=this.end.elements;return new Bt.Vector([r[0]-t[0],r[1]-t[1],r[2]-t[2]])}},{key:"midpoint",value:function(){var t=this.start.elements,r=this.end.elements;return new Bt.Vector([(r[0]+t[0])/2,(r[1]+t[1])/2,(r[2]+t[2])/2])}},{key:"bisectingPlane",value:function(){return new Dh.Plane(this.midpoint(),this.toVector())}},{key:"translate",value:function(t){var r=t.elements||t,a=this.start.elements,o=this.end.elements;return new n([a[0]+r[0],a[1]+r[1],a[2]+(r[2]||0)],[o[0]+r[0],o[1]+r[1],o[2]+(r[2]||0)])}},{key:"isParallelTo",value:function(t){return this.line.isParallelTo(t)}},{key:"distanceFrom",value:function(t){var r=this.pointClosestTo(t);return r===null?null:r.distanceFrom(t)}},{key:"contains",value:function(t){if(t.start&&t.end)return this.contains(t.start)&&this.contains(t.end);var r=(t.elements||t).slice();if(r.length===2&&r.push(0),this.start.eql(r))return!0;var a=this.start.elements,o=new Bt.Vector([a[0]-r[0],a[1]-r[1],a[2]-(r[2]||0)]),l=this.toVector();return o.isAntiparallelTo(l)&&o.modulus()<=l.modulus()}},{key:"intersects",value:function(t){return this.intersectionWith(t)!==null}},{key:"intersectionWith",value:function(t){if(!this.line.intersects(t))return null;var r=this.line.intersectionWith(t);return this.contains(r)?r:null}},{key:"pointClosestTo",value:function(t){if(t.normal){var r=this.line.intersectionWith(t);return r===null?null:this.pointClosestTo(r)}else{var a=this.line.pointClosestTo(t);return a===null?null:this.contains(a)?a:(this.line.positionOf(a)<0?this.start:this.end).dup()}}},{key:"setPoints",value:function(t,r){return t=new Bt.Vector(t).to3D(),r=new Bt.Vector(r).to3D(),t===null||r===null?null:(this.line=new Lh.Line(t,r.subtract(t)),this.start=t,this.end=r,this)}}]),n}();var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});function Vh(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Aa.LinkedListNode=function n(e){Vh(this,n),this.prev=null,this.next=null,this.data=e};var yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.Polygon=void 0;var Uh=function(){function n(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),ke=a2,Ts=Te,Gh=J1(),Nt=Ke(),hi=br(),Hh=_r();function Qh(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}yr.Polygon=function(){function n(e,t){Qh(this,n),this.setVertices(e,t)}return Uh(n,[{key:"v",value:function(t){return this.vertices.at(t-1).data}},{key:"nodeFor",value:function(t){return this.vertices.withData(t)}},{key:"dup",value:function(){return new n(this.vertices,this.plane)}},{key:"translate",value:function(t){var r=t.elements||t;return this.vertices.each(function(a){var o=a.data.elements;a.data.setElements([o[0]+r[0],o[1]+r[1],o[2]+(r[2]||0)])}),this.plane=this.plane.translate(t),this.updateTrianglePlanes(function(a){return a.translate(t)}),this}},{key:"rotate",value:function(t,r){var a=Gh.Matrix.Rotation(t,r.direction);return this.vertices.each(function(o){o.data.setElements(o.data.rotate(a,r).elements)}),this.plane=this.plane.rotate(a,r),this.updateTrianglePlanes(function(o){return o.rotate(a,r)}),this}},{key:"scale",value:function(t,r){var a=r.elements||r;this.vertices.each(function(l){var s=l.data.elements;l.data.setElements([a[0]+t*(s[0]-a[0]),a[1]+t*(s[1]-a[1]),(a[2]||0)+t*(s[2]-(a[2]||0))])});var o=this.vertices.first.data;return this.plane.anchor.setElements(o),this.updateTrianglePlanes(function(l){return new hi.Plane(o,l.normal)}),this}},{key:"updateTrianglePlanes",value:function(t){var r;if(this.cached.triangles!==null)for(r=this.cached.triangles.length;r--;)this.cached.triangles[r].plane=t(this.cached.triangles[r].plane);if(this.cached.surfaceIntegralElements!==null)for(r=this.cached.surfaceIntegralElements.length;r--;)this.cached.surfaceIntegralElements[r].plane=t(this.cached.surfaceIntegralElements[r].plane)}},{key:"isTriangle",value:function(){return this.vertices.length===3}},{key:"trianglesForSurfaceIntegral",value:function(){if(this.cached.surfaceIntegralElements!==null)return this.cached.surfaceIntegralElements;var t=[],r=this.vertices.first.data,a=this.plane;return this.vertices.each(function(o,l){if(!(l<2)){var s=[r,o.prev.data,o.data];t.push(new n(s,hi.Plane.fromPoints(s)||a))}}),this.setCache("surfaceIntegralElements",t)}},{key:"area",value:function(){if(this.isTriangle()){var t=this.vertices.first,r=t.next,a=r.next;return t=t.data.elements,r=r.data.elements,a=a.data.elements,.5*new Nt.Vector([(t[1]-r[1])*(a[2]-r[2])-(t[2]-r[2])*(a[1]-r[1]),(t[2]-r[2])*(a[0]-r[0])-(t[0]-r[0])*(a[2]-r[2]),(t[0]-r[0])*(a[1]-r[1])-(t[1]-r[1])*(a[0]-r[0])]).modulus()}else{for(var o=this.trianglesForSurfaceIntegral(),l=0,s=o.length;s--;)l+=o[s].area()*o[s].plane.normal.dot(this.plane.normal);return l}}},{key:"centroid",value:function(){if(this.isTriangle()){var t=this.v(1).elements,r=this.v(2).elements,a=this.v(3).elements;return new Nt.Vector([(t[0]+r[0]+a[0])/3,(t[1]+r[1]+a[1])/3,(t[2]+r[2]+a[2])/3])}else{for(var t,o=0,l=Nt.Vector.Zero(3),s,a,d=this.trianglesForSurfaceIntegral(),u=d.length;u--;)t=d[u].area()*d[u].plane.normal.dot(this.plane.normal),o+=t,s=l.elements,a=d[u].centroid().elements,l.setElements([s[0]+a[0]*t,s[1]+a[1]*t,s[2]+a[2]*t]);return l.x(1/o)}}},{key:"projectionOn",value:function(t){var r=[];return this.vertices.each(function(a){r.push(t.pointClosestTo(a.data))}),new n(r)}},{key:"removeVertex",value:function(t){if(!this.isTriangle()){var r=this.nodeFor(t);if(r===null)return null;this.clearCache();var a=r.prev,o=r.next,l=a.data.isConvex(this),s=o.data.isConvex(this);return r.data.isConvex(this)?this.convexVertices.remove(this.convexVertices.withData(r.data)):this.reflexVertices.remove(this.reflexVertices.withData(r.data)),this.vertices.remove(r),l!==a.data.isConvex(this)&&(l?(this.convexVertices.remove(this.convexVertices.withData(a.data)),this.reflexVertices.append(new ke.LinkedList.Node(a.data))):(this.reflexVertices.remove(this.reflexVertices.withData(a.data)),this.convexVertices.append(new ke.LinkedList.Node(a.data)))),s!==o.data.isConvex(this)&&(s?(this.convexVertices.remove(this.convexVertices.withData(o.data)),this.reflexVertices.append(new ke.LinkedList.Node(o.data))):(this.reflexVertices.remove(this.reflexVertices.withData(o.data)),this.convexVertices.append(new ke.LinkedList.Node(o.data)))),this}}},{key:"contains",value:function(t){return this.containsByWindingNumber(t)}},{key:"containsByWindingNumber",value:function(t){var r=t.elements||t;if(!this.plane.contains(r)||this.hasEdgeContaining(r))return!1;var a,o,l,s,d=0,u,h=0,p=this;return this.vertices.each(function(v){a=v.data.elements,o=v.next.data.elements,l=new Nt.Vector([a[0]-r[0],a[1]-r[1],a[2]-(r[2]||0)]),s=new Nt.Vector([o[0]-r[0],o[1]-r[1],o[2]-(r[2]||0)]),u=l.angleFrom(s),!(u===null||u===0)&&(d+=(l.cross(s).isParallelTo(p.plane.normal)?1:-1)*u,d>=2*Math.PI-Ts.PRECISION&&(h++,d-=2*Math.PI),d<=-2*Math.PI+Ts.PRECISION&&(h--,d+=2*Math.PI))}),h!==0}},{key:"hasEdgeContaining",value:function(t){var r=t.elements||t,a=!1;return this.vertices.each(function(o){Hh.Line.Segment.create(o.data,o.next.data).contains(r)&&(a=!0)}),a}},{key:"toTriangles",value:function(){return this.cached.triangles!==null?this.cached.triangles:this.setCache("triangles",this.triangulateByEarClipping())}},{key:"triangulateByEarClipping",value:function(){for(var t=this.dup(),r=[],a,o,l,s;!t.isTriangle();){for(a=!1;!a;)a=!0,o=t.convexVertices.randomNode(),l=t.vertices.withData(o.data),s=new n([l.data,l.next.data,l.prev.data],this.plane),t.reflexVertices.each(function(d){d.data!==l.prev.data&&d.data!==l.next.data&&(s.contains(d.data)||s.hasEdgeContaining(d.data))&&(a=!1)});r.push(s),t.removeVertex(l.data)}return r.push(new n(t.vertices,this.plane)),r}},{key:"setVertices",value:function(t,r){var a=t.toArray?t.toArray():t;if(this.plane=r&&r.normal?r.dup():hi.Plane.fromPoints(a),this.plane===null)return null;this.vertices=new ke.LinkedList.Circular;for(var o=a.length,l;o--;)l=a[o].isConvex?a[o]:new n.Vertex(a[o]),this.vertices.prepend(new ke.LinkedList.Node(l));return this.clearCache(),this.populateVertexTypeLists(),this}},{key:"populateVertexTypeLists",value:function(){this.convexVertices=new ke.LinkedList.Circular,this.reflexVertices=new ke.LinkedList.Circular;var t=this;this.vertices.each(function(r){t[r.data.type(t)+"Vertices"].append(new ke.LinkedList.Node(r.data))})}},{key:"copyVertices",value:function(){this.clearCache(),this.vertices.each(function(t){t.data=new n.Vertex(t.data)}),this.populateVertexTypeLists()}},{key:"clearCache",value:function(){this.cached={triangles:null,surfaceIntegralElements:null}}},{key:"setCache",value:function(t,r){return this.cached[t]=r,r}},{key:"inspect",value:function(){var t=[];return this.vertices.each(function(r){t.push(r.data.inspect())}),t.join(" -> ")}}]),n}();var xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.Vertex=void 0;var jh=function(){function n(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),$h=Ke(),Fs=Te;function Wh(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Os(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function Yh(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Ds=xr.Vertex=function(n){Yh(e,n);function e(t){Wh(this,e);var r=Os(this,Object.getPrototypeOf(e).call(this,t));if(r.setElements(t),r.elements.length===2&&r.elements.push(0),r.elements.length!==3){var a;return a=null,Os(r,a)}return r}return jh(e,[{key:"isConvex",value:function(r){var a=r.nodeFor(this);if(a===null)return null;var o=a.prev.data,l=a.next.data,s=l.subtract(this),d=o.subtract(this),u=s.angleFrom(d);return u<=Fs.PRECISION?!0:Math.abs(u-Math.PI)<=Fs.PRECISION?!1:s.cross(d).dot(r.plane.normal)>0}},{key:"isReflex",value:function(r){var a=this.isConvex(r);return a===null?null:!a}},{key:"type",value:function(r){var a=this.isConvex(r);return a===null?null:a?"convex":"reflex"}}]),e}($h.Vector);Ds.convert=function(n){for(var e=n.toArray?n.toArray():n,t=[],r=e.length,a=0;a<r;a++)t.push(new Ds(e[a]));return t};var x1={};Object.defineProperty(x1,"__esModule",{value:!0});x1.mht=qh;x1.makeLookAt=Xh;x1.makeOrtho=Kh;x1.makePerspective=Zh;x1.makeFrustum=Cl;var fi=Ke(),nr=J1();function qh(n){var e="";if(n.length==16)for(var t=0;t<4;t++)e+="<span style='font-family: monospace'>["+n[t*4+0].toFixed(4)+","+n[t*4+1].toFixed(4)+","+n[t*4+2].toFixed(4)+","+n[t*4+3].toFixed(4)+"]</span><br>";else if(n.length==9)for(var t=0;t<3;t++)e+="<span style='font-family: monospace'>["+n[t*3+0].toFixed(4)+","+n[t*3+1].toFixed(4)+","+n[t*3+2].toFixed(4)+"]</font><br>";else return n.toString();return e}function Xh(n,e,t,r,a,o,l,s,d){var u=new fi.Vector([n,e,t]),h=new fi.Vector([r,a,o]),p=new fi.Vector([l,s,d]),v=u.subtract(h).toUnitVector(),m=p.cross(v).toUnitVector(),_=v.cross(m).toUnitVector(),b=new nr.Matrix([[m.e(1),m.e(2),m.e(3),0],[_.e(1),_.e(2),_.e(3),0],[v.e(1),v.e(2),v.e(3),0],[0,0,0,1]]),y=new nr.Matrix([[1,0,0,-n],[0,1,0,-e],[0,0,1,-t],[0,0,0,1]]);return b.x(y)}function Kh(n,e,t,r,a,o){var l=-(e+n)/(e-n),s=-(r+t)/(r-t),d=-(o+a)/(o-a);return new nr.Matrix([[2/(e-n),0,0,l],[0,2/(r-t),0,s],[0,0,-2/(o-a),d],[0,0,0,1]])}function Zh(n,e,t,r){var a=t*Math.tan(n*Math.PI/360),o=-a,l=o*e,s=a*e;return Cl(l,s,o,a,t,r)}function Cl(n,e,t,r,a,o){var l=2*a/(e-n),s=2*a/(r-t),d=(e+n)/(e-n),u=(r+t)/(r-t),h=-(o+a)/(o-a),p=-2*o*a/(o-a);return new nr.Matrix([[l,0,d,0],[0,s,u,0],[0,0,h,p],[0,0,-1,0]])}(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=gr;Object.defineProperty(n,"CircularLinkedList",{enumerable:!0,get:function(){return e.CircularLinkedList}});var t=_r();Object.defineProperty(n,"Line",{enumerable:!0,get:function(){return t.Line}});var r=wr;Object.defineProperty(n,"LineSegment",{enumerable:!0,get:function(){return r.LineSegment}});var a=a2;Object.defineProperty(n,"LinkedList",{enumerable:!0,get:function(){return a.LinkedList}});var o=Aa;Object.defineProperty(n,"LinkedListNode",{enumerable:!0,get:function(){return o.LinkedListNode}});var l=J1();Object.defineProperty(n,"Matrix",{enumerable:!0,get:function(){return l.Matrix}});var s=br();Object.defineProperty(n,"Plane",{enumerable:!0,get:function(){return s.Plane}});var d=yr;Object.defineProperty(n,"Polygon",{enumerable:!0,get:function(){return d.Polygon}});var u=Ke();Object.defineProperty(n,"Vector",{enumerable:!0,get:function(){return u.Vector}});var h=xr;Object.defineProperty(n,"Vertex",{enumerable:!0,get:function(){return h.Vertex}});var p=x1;Object.defineProperty(n,"mht",{enumerable:!0,get:function(){return p.mht}}),Object.defineProperty(n,"makeLookAt",{enumerable:!0,get:function(){return p.makeLookAt}}),Object.defineProperty(n,"makePerspective",{enumerable:!0,get:function(){return p.makePerspective}}),Object.defineProperty(n,"makeFrustum",{enumerable:!0,get:function(){return p.makeFrustum}}),Object.defineProperty(n,"makeOrtho",{enumerable:!0,get:function(){return p.makeOrtho}});var v=Te;Object.defineProperty(n,"PRECISION",{enumerable:!0,get:function(){return v.PRECISION}})})(H2);function un(n){for(var e=n.length/6|0,t=new Array(e),r=0;r<e;)t[r]="#"+n.slice(r*6,++r*6);return t}const Jh=un("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),n7=un("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),e7=un("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),t7=un("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),r7=un("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),i7=un("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),a7=un("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),o7=un("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),s7=un("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),l7=un("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),wn=n=>p8(n[n.length-1]);var kl=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(un);const c7=wn(kl);var Sl=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(un);const u7=wn(Sl);var Pl=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(un);const h7=wn(Pl);var Ml=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(un);const f7=wn(Ml);var Il=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(un);const d7=wn(Il);var Rl=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(un);const p7=wn(Rl);var Bl=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(un);const v7=wn(Bl);var Nl=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(un);const m7=wn(Nl);var Tl=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(un);const g7=wn(Tl);var Fl=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(un);const b7=wn(Fl);var Ol=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(un);const _7=wn(Ol);var Dl=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(un);const w7=wn(Dl);var Ll=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(un);const y7=wn(Ll);var zl=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(un);const x7=wn(zl);var Vl=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(un);const A7=wn(Vl);var Ul=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(un);const E7=wn(Ul);var Gl=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(un);const C7=wn(Gl);var Hl=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(un);const k7=wn(Hl);var Ql=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(un);const S7=wn(Ql);var jl=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(un);const P7=wn(jl);var $l=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(un);const M7=wn($l);var Wl=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(un);const I7=wn(Wl);var Yl=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(un);const R7=wn(Yl);var ql=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(un);const B7=wn(ql);var Xl=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(un);const N7=wn(Xl);var Kl=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(un);const T7=wn(Kl);var Zl=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(un);const F7=wn(Zl);function O7(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-n*(35.34-n*(2381.73-n*(6402.7-n*(7024.72-n*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+n*(170.73+n*(52.82-n*(131.46-n*(176.58-n*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+n*(442.36-n*(2482.43-n*(6167.24-n*(6614.94-n*2475.67)))))))+")"}const D7=_a(be(300,.5,0),be(-240,.5,1));var L7=_a(be(-100,.75,.35),be(80,1.5,.8)),z7=_a(be(260,.75,.35),be(80,1.5,.8)),S2=be();function V7(n){(n<0||n>1)&&(n-=Math.floor(n));var e=Math.abs(n-.5);return S2.h=360*n-100,S2.s=1.5-1.5*e,S2.l=.8-.9*e,S2+""}var P2=se(),U7=Math.PI/3,G7=Math.PI*2/3;function H7(n){var e;return n=(.5-n)*Math.PI,P2.r=255*(e=Math.sin(n))*e,P2.g=255*(e=Math.sin(n+U7))*e,P2.b=255*(e=Math.sin(n+G7))*e,P2+""}function Q7(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}function Ar(n){var e=n.length;return function(t){return n[Math.max(0,Math.min(e-1,Math.floor(t*e)))]}}const j7=Ar(un("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var $7=Ar(un("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Jl=Ar(un("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),W7=Ar(un("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Y7=Object.freeze(Object.defineProperty({__proto__:null,interpolateBlues:I7,interpolateBrBG:c7,interpolateBuGn:b7,interpolateBuPu:_7,interpolateCividis:O7,interpolateCool:z7,interpolateCubehelixDefault:D7,interpolateGnBu:w7,interpolateGreens:R7,interpolateGreys:B7,interpolateInferno:Jl,interpolateMagma:$7,interpolateOrRd:y7,interpolateOranges:F7,interpolatePRGn:u7,interpolatePiYG:h7,interpolatePlasma:W7,interpolatePuBu:A7,interpolatePuBuGn:x7,interpolatePuOr:f7,interpolatePuRd:E7,interpolatePurples:N7,interpolateRainbow:V7,interpolateRdBu:d7,interpolateRdGy:p7,interpolateRdPu:C7,interpolateRdYlBu:v7,interpolateRdYlGn:m7,interpolateReds:T7,interpolateSinebow:H7,interpolateSpectral:g7,interpolateTurbo:Q7,interpolateViridis:j7,interpolateWarm:L7,interpolateYlGn:S7,interpolateYlGnBu:k7,interpolateYlOrBr:P7,interpolateYlOrRd:M7,schemeAccent:n7,schemeBlues:Wl,schemeBrBG:kl,schemeBuGn:Fl,schemeBuPu:Ol,schemeCategory10:Jh,schemeDark2:e7,schemeGnBu:Dl,schemeGreens:Yl,schemeGreys:ql,schemeOrRd:Ll,schemeOranges:Zl,schemePRGn:Sl,schemePaired:t7,schemePastel1:r7,schemePastel2:i7,schemePiYG:Pl,schemePuBu:Vl,schemePuBuGn:zl,schemePuOr:Ml,schemePuRd:Ul,schemePurples:Xl,schemeRdBu:Il,schemeRdGy:Rl,schemeRdPu:Gl,schemeRdYlBu:Bl,schemeRdYlGn:Nl,schemeReds:Kl,schemeSet1:a7,schemeSet2:o7,schemeSet3:s7,schemeSpectral:Tl,schemeTableau10:l7,schemeYlGn:Ql,schemeYlGnBu:Hl,schemeYlOrBr:jl,schemeYlOrRd:$l},Symbol.toStringTag,{value:"Module"}));function Q1(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function q7(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function n4(n){let e,t,r;n.length!==2?(e=Q1,t=(s,d)=>Q1(n(s),d),r=(s,d)=>n(s)-d):(e=n===Q1||n===q7?n:X7,t=n,r=n);function a(s,d,u=0,h=s.length){if(u<h){if(e(d,d)!==0)return h;do{const p=u+h>>>1;t(s[p],d)<0?u=p+1:h=p}while(u<h)}return u}function o(s,d,u=0,h=s.length){if(u<h){if(e(d,d)!==0)return h;do{const p=u+h>>>1;t(s[p],d)<=0?u=p+1:h=p}while(u<h)}return u}function l(s,d,u=0,h=s.length){const p=a(s,d,u,h-1);return p>u&&r(s[p-1],d)>-r(s[p],d)?p-1:p}return{left:a,center:l,right:o}}function X7(){return 0}function K7(n){return n===null?NaN:+n}function*Z7(n,e){if(e===void 0)for(let t of n)t!=null&&(t=+t)>=t&&(yield t);else{let t=-1;for(let r of n)(r=e(r,++t,n))!=null&&(r=+r)>=r&&(yield r)}}const J7=n4(Q1),nf=J7.right;n4(K7).center;const ef=nf;class Ls extends Map{constructor(e,t=af){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(zs(this,e))}has(e){return super.has(zs(this,e))}set(e,t){return super.set(tf(this,e),t)}delete(e){return super.delete(rf(this,e))}}function zs({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):t}function tf({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function rf({_intern:n,_key:e},t){const r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function af(n){return n!==null&&typeof n=="object"?n.valueOf():n}function of(n=Q1){if(n===Q1)return e4;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function e4(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const sf=Math.sqrt(50),lf=Math.sqrt(10),cf=Math.sqrt(2);function er(n,e,t){const r=(e-n)/Math.max(0,t),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),l=o>=sf?10:o>=lf?5:o>=cf?2:1;let s,d,u;return a<0?(u=Math.pow(10,-a)/l,s=Math.round(n*u),d=Math.round(e*u),s/u<n&&++s,d/u>e&&--d,u=-u):(u=Math.pow(10,a)*l,s=Math.round(n/u),d=Math.round(e/u),s*u<n&&++s,d*u>e&&--d),d<s&&.5<=t&&t<2?er(n,e,t*2):[s,d,u]}function uf(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[a,o,l]=r?er(e,n,t):er(n,e,t);if(!(o>=a))return[];const s=o-a+1,d=new Array(s);if(r)if(l<0)for(let u=0;u<s;++u)d[u]=(o-u)/-l;else for(let u=0;u<s;++u)d[u]=(o-u)*l;else if(l<0)for(let u=0;u<s;++u)d[u]=(a+u)/-l;else for(let u=0;u<s;++u)d[u]=(a+u)*l;return d}function ji(n,e,t){return e=+e,n=+n,t=+t,er(n,e,t)[2]}function hf(n,e,t){e=+e,n=+n,t=+t;const r=e<n,a=r?ji(e,n,t):ji(n,e,t);return(r?-1:1)*(a<0?1/-a:a)}function Vs(n,e){let t;if(e===void 0)for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let a of n)(a=e(a,++r,n))!=null&&(t<a||t===void 0&&a>=a)&&(t=a)}return t}function Us(n,e){let t;if(e===void 0)for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let a of n)(a=e(a,++r,n))!=null&&(t>a||t===void 0&&a>=a)&&(t=a)}return t}function t4(n,e,t=0,r=1/0,a){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(a=a===void 0?e4:of(a);r>t;){if(r-t>600){const d=r-t+1,u=e-t+1,h=Math.log(d),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(d-p)/d)*(u-d/2<0?-1:1),m=Math.max(t,Math.floor(e-u*p/d+v)),_=Math.min(r,Math.floor(e+(d-u)*p/d+v));t4(n,e,m,_,a)}const o=n[e];let l=t,s=r;for(Tt(n,t,e),a(n[r],o)>0&&Tt(n,t,r);l<s;){for(Tt(n,l,s),++l,--s;a(n[l],o)<0;)++l;for(;a(n[s],o)>0;)--s}a(n[t],o)===0?Tt(n,t,s):(++s,Tt(n,s,r)),s<=e&&(t=s+1),e<=s&&(r=s-1)}return n}function Tt(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function ff(n,e,t){if(n=Float64Array.from(Z7(n,t)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return Us(n);if(e>=1)return Vs(n);var r,a=(r-1)*e,o=Math.floor(a),l=Vs(t4(n,o).subarray(0,o+1)),s=Us(n.subarray(o+1));return l+(s-l)*(a-o)}}function $i(n,e,t){n=+n,e=+e,t=(a=arguments.length)<2?(e=n,n=0,1):a<3?1:+t;for(var r=-1,a=Math.max(0,Math.ceil((e-n)/t))|0,o=new Array(a);++r<a;)o[r]=n+r*t;return o}function Ea(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function r4(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Gs=Symbol("implicit");function Ca(){var n=new Ls,e=[],t=[],r=Gs;function a(o){let l=n.get(o);if(l===void 0){if(r!==Gs)return r;n.set(o,l=e.push(o)-1)}return t[l%t.length]}return a.domain=function(o){if(!arguments.length)return e.slice();e=[],n=new Ls;for(const l of o)n.has(l)||n.set(l,e.push(l)-1);return a},a.range=function(o){return arguments.length?(t=Array.from(o),a):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return Ca(e,t).unknown(r)},Ea.apply(a,arguments),a}function Wi(){var n=Ca().unknown(void 0),e=n.domain,t=n.range,r=0,a=1,o,l,s=!1,d=0,u=0,h=.5;delete n.unknown;function p(){var v=e().length,m=a<r,_=m?a:r,b=m?r:a;o=(b-_)/Math.max(1,v-d+u*2),s&&(o=Math.floor(o)),_+=(b-_-o*(v-d))*h,l=o*(1-d),s&&(_=Math.round(_),l=Math.round(l));var y=$i(v).map(function(E){return _+o*E});return t(m?y.reverse():y)}return n.domain=function(v){return arguments.length?(e(v),p()):e()},n.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,p()):[r,a]},n.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,s=!0,p()},n.bandwidth=function(){return l},n.step=function(){return o},n.round=function(v){return arguments.length?(s=!!v,p()):s},n.padding=function(v){return arguments.length?(d=Math.min(1,u=+v),p()):d},n.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),p()):d},n.paddingOuter=function(v){return arguments.length?(u=+v,p()):u},n.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},n.copy=function(){return Wi(e(),[r,a]).round(s).paddingInner(d).paddingOuter(u).align(h)},Ea.apply(p(),arguments)}function df(n){return function(){return n}}function pf(n){return+n}var Hs=[0,1];function pe(n){return n}function Yi(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:df(isNaN(e)?NaN:.5)}function vf(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function mf(n,e,t){var r=n[0],a=n[1],o=e[0],l=e[1];return a<r?(r=Yi(a,r),o=t(l,o)):(r=Yi(r,a),o=t(o,l)),function(s){return o(r(s))}}function gf(n,e,t){var r=Math.min(n.length,e.length)-1,a=new Array(r),o=new Array(r),l=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++l<r;)a[l]=Yi(n[l],n[l+1]),o[l]=t(e[l],e[l+1]);return function(s){var d=ef(n,s,1,r)-1;return o[d](a[d](s))}}function bf(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function _f(){var n=Hs,e=Hs,t=Be,r,a,o,l=pe,s,d,u;function h(){var v=Math.min(n.length,e.length);return l!==pe&&(l=vf(n[0],n[v-1])),s=v>2?gf:mf,d=u=null,p}function p(v){return v==null||isNaN(v=+v)?o:(d||(d=s(n.map(r),e,t)))(r(l(v)))}return p.invert=function(v){return l(a((u||(u=s(e,n.map(r),ae)))(v)))},p.domain=function(v){return arguments.length?(n=Array.from(v,pf),h()):n.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),t=Wt,h()},p.clamp=function(v){return arguments.length?(l=v?!0:pe,h()):l!==pe},p.interpolate=function(v){return arguments.length?(t=v,h()):t},p.unknown=function(v){return arguments.length?(o=v,p):o},function(v,m){return r=v,a=m,h()}}function wf(){return _f()(pe,pe)}function yf(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function tr(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function q1(n){return n=tr(Math.abs(n)),n?n[1]:NaN}function xf(n,e){return function(t,r){for(var a=t.length,o=[],l=0,s=n[0],d=0;a>0&&s>0&&(d+s+1>r&&(s=Math.max(1,r-d)),o.push(t.substring(a-=s,a+s)),!((d+=s+1)>r));)s=n[l=(l+1)%n.length];return o.reverse().join(e)}}function Af(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var Ef=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rr(n){if(!(e=Ef.exec(n)))throw new Error("invalid format: "+n);var e;return new ka({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}rr.prototype=ka.prototype;function ka(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}ka.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cf(n){n:for(var e=n.length,t=1,r=-1,a;t<e;++t)switch(n[t]){case".":r=a=t;break;case"0":r===0&&(r=t),a=t;break;default:if(!+n[t])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(a+1):n}var i4;function kf(n,e){var t=tr(n,e);if(!t)return n+"";var r=t[0],a=t[1],o=a-(i4=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+tr(n,Math.max(0,e+o-1))[0]}function Qs(n,e){var t=tr(n,e);if(!t)return n+"";var r=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const js={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:yf,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>Qs(n*100,e),r:Qs,s:kf,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function $s(n){return n}var Ws=Array.prototype.map,Ys=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Sf(n){var e=n.grouping===void 0||n.thousands===void 0?$s:xf(Ws.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",a=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?$s:Af(Ws.call(n.numerals,String)),l=n.percent===void 0?"%":n.percent+"",s=n.minus===void 0?"":n.minus+"",d=n.nan===void 0?"NaN":n.nan+"";function u(p){p=rr(p);var v=p.fill,m=p.align,_=p.sign,b=p.symbol,y=p.zero,E=p.width,C=p.comma,k=p.precision,w=p.trim,x=p.type;x==="n"?(C=!0,x="g"):js[x]||(k===void 0&&(k=12),w=!0,x="g"),(y||v==="0"&&m==="=")&&(y=!0,v="0",m="=");var A=b==="$"?t:b==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",P=b==="$"?r:/[%p]/.test(x)?l:"",M=js[x],N=/[defgprs%]/.test(x);k=k===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function F(R){var z=A,Q=P,I,O,B;if(x==="c")Q=M(R)+Q,R="";else{R=+R;var L=R<0||1/R<0;if(R=isNaN(R)?d:M(Math.abs(R),k),w&&(R=Cf(R)),L&&+R==0&&_!=="+"&&(L=!1),z=(L?_==="("?_:s:_==="-"||_==="("?"":_)+z,Q=(x==="s"?Ys[8+i4/3]:"")+Q+(L&&_==="("?")":""),N){for(I=-1,O=R.length;++I<O;)if(B=R.charCodeAt(I),48>B||B>57){Q=(B===46?a+R.slice(I+1):R.slice(I))+Q,R=R.slice(0,I);break}}}C&&!y&&(R=e(R,1/0));var T=z.length+R.length+Q.length,U=T<E?new Array(E-T+1).join(v):"";switch(C&&y&&(R=e(U+R,U.length?E-Q.length:1/0),U=""),m){case"<":R=z+R+Q+U;break;case"=":R=z+U+R+Q;break;case"^":R=U.slice(0,T=U.length>>1)+z+R+Q+U.slice(T);break;default:R=U+z+R+Q;break}return o(R)}return F.toString=function(){return p+""},F}function h(p,v){var m=u((p=rr(p),p.type="f",p)),_=Math.max(-8,Math.min(8,Math.floor(q1(v)/3)))*3,b=Math.pow(10,-_),y=Ys[8+_/3];return function(E){return m(b*E)+y}}return{format:u,formatPrefix:h}}var M2,ir,a4;Pf({thousands:",",grouping:[3],currency:["$",""]});function Pf(n){return M2=Sf(n),ir=M2.format,a4=M2.formatPrefix,M2}function Mf(n){return Math.max(0,-q1(Math.abs(n)))}function If(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(q1(e)/3)))*3-q1(Math.abs(n)))}function Rf(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,q1(e)-q1(n))+1}function Bf(n,e,t,r){var a=hf(n,e,t),o;switch(r=rr(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(o=If(a,l))&&(r.precision=o),a4(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Rf(a,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Mf(a))&&(r.precision=o-(r.type==="%")*2);break}}return ir(r)}function Sa(n){var e=n.domain;return n.ticks=function(t){var r=e();return uf(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var a=e();return Bf(a[0],a[a.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),a=0,o=r.length-1,l=r[a],s=r[o],d,u,h=10;for(s<l&&(u=l,l=s,s=u,u=a,a=o,o=u);h-- >0;){if(u=ji(l,s,t),u===d)return r[a]=l,r[o]=s,e(r);if(u>0)l=Math.floor(l/u)*u,s=Math.ceil(s/u)*u;else if(u<0)l=Math.ceil(l*u)/u,s=Math.floor(s*u)/u;else break;d=u}return n},n}function qi(){var n=wf();return n.copy=function(){return bf(n,qi())},Ea.apply(n,arguments),Sa(n)}function Nf(){var n=0,e=1,t,r,a,o,l=pe,s=!1,d;function u(p){return p==null||isNaN(p=+p)?d:l(a===0?.5:(p=(o(p)-t)*a,s?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([n,e]=p,t=o(n=+n),r=o(e=+e),a=t===r?0:1/(r-t),u):[n,e]},u.clamp=function(p){return arguments.length?(s=!!p,u):s},u.interpolator=function(p){return arguments.length?(l=p,u):l};function h(p){return function(v){var m,_;return arguments.length?([m,_]=v,l=p(m,_),u):[l(0),l(1)]}}return u.range=h(Be),u.rangeRound=h(Wt),u.unknown=function(p){return arguments.length?(d=p,u):d},function(p){return o=p,t=p(n),r=p(e),a=t===r?0:1/(r-t),u}}function o4(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Xi(){var n=Sa(Nf()(pe));return n.copy=function(){return o4(n,Xi())},r4.apply(n,arguments)}function Tf(){var n=0,e=.5,t=1,r=1,a,o,l,s,d,u=pe,h,p=!1,v;function m(b){return isNaN(b=+b)?v:(b=.5+((b=+h(b))-o)*(r*b<r*o?s:d),u(p?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([n,e,t]=b,a=h(n=+n),o=h(e=+e),l=h(t=+t),s=a===o?0:.5/(o-a),d=o===l?0:.5/(l-o),r=o<a?-1:1,m):[n,e,t]},m.clamp=function(b){return arguments.length?(p=!!b,m):p},m.interpolator=function(b){return arguments.length?(u=b,m):u};function _(b){return function(y){var E,C,k;return arguments.length?([E,C,k]=y,u=I8(b,[E,C,k]),m):[u(0),u(.5),u(1)]}}return m.range=_(Be),m.rangeRound=_(Wt),m.unknown=function(b){return arguments.length?(v=b,m):v},function(b){return h=b,a=b(n),o=b(e),l=b(t),s=a===o?0:.5/(o-a),d=o===l?0:.5/(l-o),r=o<a?-1:1,m}}function s4(){var n=Sa(Tf()(pe));return n.copy=function(){return o4(n,s4())},r4.apply(n,arguments)}let Ff=`precision highp float; 

uniform sampler2D input_tex;
uniform sampler2D lut_tex;  
uniform float diverging;  
varying vec2 tex_coord;     
void main(){
	float val = texture2D( input_tex, tex_coord ).r+0.5*diverging;
	vec4 color = texture2D( lut_tex, vec2(val, 0.5) );
	gl_FragColor = vec4(color.rgb,1.0);
}
`,Of=`

attribute vec2 vertex;   
attribute vec2 texCoord; 
uniform mat4 uMVMatrix;  
uniform mat4 uPMatrix;   
varying vec2 tex_coord;  
void main(){
	tex_coord = texCoord; 
	gl_Position = uPMatrix * uMVMatrix * vec4( vertex, 0.0, 1.0 ); 
}

`,Df=`precision highp float;

varying vec2 quad_coord; 
varying float v_kernel_weight; 
uniform float kernel_weightScale; 
void main(void) { 
	float len = length( quad_coord ); 
	float nrm = v_kernel_weight * kernel_weightScale * 0.3989422804014327 * exp( -0.5*25.0*len*len ); 
	// gl_FragColor = vec4(1,1,1,1.0);//vec4(nrm,nrm,nrm, nrm );	
	gl_FragColor = vec4(nrm,nrm,nrm, nrm );
	// gl_FragColor = vec4(1,1,1, 1.0 ); 
}

`,Lf=`

attribute vec3 position;
attribute float kernel_weight;

attribute vec2 offset;
// attribute vec3 normal;

uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;

uniform mat4 uMVMatrix; 
uniform mat4 uPMatrix; 
uniform float bandwidthScale; 
uniform vec2 bandwidth; 
varying vec2 quad_coord; 
varying float v_kernel_weight; 

void main(void) { 
	// vec4 viewCenters = viewMatrix*vec4(position,1.0);
	// vec2 pos = (viewCenters).xy; 
	// quad_coord = offset.xy;  
	// pos += bandwidthScale * bandwidth * quad_coord; 
	// gl_Position = uPMatrix * uMVMatrix * vec4( pos, 0.0, 1.0); 
	


	float BoxCorrection = 1.5;
	float fullSize = bandwidthScale * 5.5;
	vec3 cameraRight = normalize(vec3(viewMatrix[0][0], viewMatrix[1][0], viewMatrix[2][0]));
	vec3 cameraUp = normalize(vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]));
	// vec4 viewCenters = viewMatrix*vec4(position+BoxCorrection*fullSize*(cameraRight*offset.x + cameraUp*offset.y),1.0);
	vec4 viewCenters = viewMatrix*vec4(position,1.0);
	viewCenters.xy += bandwidthScale * bandwidth * offset.xy;
	quad_coord = offset.xy; 
	v_kernel_weight = kernel_weight;
	gl_Position = projectionMatrix * viewCenters;
} 
`;function ar(n,e,t){let r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),n.getShaderParameter(r,n.COMPILE_STATUS)?r:(console.log(n.getShaderInfoLog(r)),null)}function zf(n){let e=ar(n,Df,n.FRAGMENT_SHADER),t=ar(n,Lf,n.VERTEX_SHADER),r=n.createProgram();return n.attachShader(r,t),n.attachShader(r,e),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)||alert("Could not initialise shaders"),n.useProgram(r),r.vertexPositionAttribute=n.getAttribLocation(r,"position"),r.vertexKernelWeightAttribute=n.getAttribLocation(r,"kernel_weight"),r.vertexOffsetAttribute=n.getAttribLocation(r,"offset"),r.pMatrixUniform=n.getUniformLocation(r,"uPMatrix"),r.mvMatrixUniform=n.getUniformLocation(r,"uMVMatrix"),r.projectionMatrixUniform=n.getUniformLocation(r,"projectionMatrix"),r.viewMatrixUniform=n.getUniformLocation(r,"viewMatrix"),r.bandwidthUniform=n.getUniformLocation(r,"bandwidth"),r.bandwidthScaleUniform=n.getUniformLocation(r,"bandwidthScale"),r.kernel_weightScaleUniform=n.getUniformLocation(r,"kernel_weightScale"),r}function Vf(n){let e=ar(n,Ff,n.FRAGMENT_SHADER),t=ar(n,Of,n.VERTEX_SHADER),r=n.createProgram();return n.attachShader(r,t),n.attachShader(r,e),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)||alert("Could not initialise shaders"),n.useProgram(r),r.vertexAttribute=n.getAttribLocation(r,"vertex"),r.texCoordAttribute=n.getAttribLocation(r,"texCoord"),r.pMatrixUniform=n.getUniformLocation(r,"uPMatrix"),r.mvMatrixUniform=n.getUniformLocation(r,"uMVMatrix"),r.input_texUniform=n.getUniformLocation(r,"input_tex"),r.lut_texUniform=n.getUniformLocation(r,"lut_tex"),r.divergingUniform=n.getUniformLocation(r,"diverging"),r}function Se(n){console.log(n)}class Uf{constructor(e,t,r,a=.1){this.gl=e,this.FBO,this.lutShader,this.shaderProgram,this.mvMatrix,this.pMatrix,this.qualityScale=a,this._divergingColormap=!1,this.bandwidth=[5.5,5.5],this.bandwidthScale=5,this.kernel_weightScale=.5,this.triangleVertexPositionBuffer,this.squareVertexPositionBuffer,this.PANEL_TEX_COORDS=[0,0,1,0,0,1,1,0,1,1,0,1],this.PANEL_TEX_POS=[0,0,1,0,0,1,1,0,1,1,0,1],this.QUAD_POS_BUFFER,this.QUAD_COORD_BUFFER,this.LUT_TEX,this.DATA=null,this.kernel_weights=null,this.resize(t,r),this.shaderProgram=zf(this.gl),this.lutShader=Vf(this.gl),this.initBuffers(),this.setColormap()}loadIdentity(){this.mvMatrix=H2.Matrix.I(4)}multMatrix(e){this.mvMatrix=this.mvMatrix.x(e)}mvScale(e){this.mvMatrix.elements[0][0]*=e[0],this.mvMatrix.elements[0][1]*=e[0],this.mvMatrix.elements[0][2]*=e[0],this.mvMatrix.elements[0][3]*=e[0],this.mvMatrix.elements[1][0]*=e[1],this.mvMatrix.elements[1][1]*=e[1],this.mvMatrix.elements[1][2]*=e[1],this.mvMatrix.elements[1][3]*=e[1],this.mvMatrix.elements[2][0]*=e[2],this.mvMatrix.elements[2][1]*=e[2],this.mvMatrix.elements[2][2]*=e[2],this.mvMatrix.elements[2][3]*=e[2]}mvTranslate(e){var t=H2.Matrix.Translation($V([e[0],e[1],e[2]])).ensure4x4();this.multMatrix(t)}perspective(e,t,r,a){this.pMatrix=makePerspective(e,t,r,a)}ortho(e,t,r,a){this.pMatrix=H2.makeOrtho(e,t,r,a,-1,1)}setMatrixUniforms(e){this.gl.uniformMatrix4fv(e.pMatrixUniform,!1,new Float32Array(this.pMatrix.flatten())),this.gl.uniformMatrix4fv(e.mvMatrixUniform,!1,new Float32Array(this.mvMatrix.flatten()))}initBuffers(){let e=this.gl;this.triangleVertexPositionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.triangleVertexPositionBuffer);var t=[0,1,0,-1,-1,0,1,-1,0];e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),this.triangleVertexPositionBuffer.itemSize=3,this.triangleVertexPositionBuffer.numItems=3,this.squareVertexPositionBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.squareVertexPositionBuffer),t=[1,1,0,-1,1,0,1,-1,0,-1,-1,0],e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),this.squareVertexPositionBuffer.itemSize=3,this.squareVertexPositionBuffer.numItems=4,this.QUAD_POS_BUFFER=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.QUAD_POS_BUFFER),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.PANEL_TEX_POS),e.STATIC_DRAW),this.QUAD_POS_BUFFER.itemSize=2,this.QUAD_POS_BUFFER.numItems=6,this.QUAD_COORD_BUFFER=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.QUAD_COORD_BUFFER),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.PANEL_TEX_COORDS),e.STATIC_DRAW),this.QUAD_COORD_BUFFER.itemSize=2,this.QUAD_COORD_BUFFER.numItems=6,this.nodesGeometry=yl(e,!1,!1)}drawScene(e,t){let r=this.width,a=this.height,o=this.gl,l=o.getExtension("ANGLE_instanced_arrays"),s=o.getParameter(o.FRAMEBUFFER_BINDING),d=o.getParameter(o.VIEWPORT);o.viewport(0,0,r*this.qualityScale,a*this.qualityScale),this.ortho(0,r,a,0),this.loadIdentity(),this.projectionMatrix=e,this.viewMatrix=t,o.bindFramebuffer(o.FRAMEBUFFER,this.FBO.id),o.clearColor(0,0,0,1),o.clear(o.COLOR_BUFFER_BIT),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE),o.useProgram(this.shaderProgram),this.setMatrixUniforms(this.shaderProgram),o.uniform1f(this.shaderProgram.bandwidthScaleUniform,this.bandwidthScale),o.uniformMatrix4fv(this.shaderProgram.viewMatrixUniform,!1,this.viewMatrix),o.uniformMatrix4fv(this.shaderProgram.projectionMatrixUniform,!1,this.projectionMatrix),o.uniform2f(this.shaderProgram.bandwidthUniform,this.bandwidth[0],this.bandwidth[1]),o.uniform1f(this.shaderProgram.kernel_weightScaleUniform,this.kernel_weightScale),o.enableVertexAttribArray(this.shaderProgram.vertexPositionAttribute),o.enableVertexAttribArray(this.shaderProgram.vertexKernelWeightAttribute),o.enableVertexAttribArray(this.shaderProgram.vertexOffsetAttribute),o.bindBuffer(o.ARRAY_BUFFER,this.nodesGeometry.vertexObject),o.vertexAttribPointer(this.shaderProgram.vertexOffsetAttribute,3,o.FLOAT,!1,0,0),l.vertexAttribDivisorANGLE(this.shaderProgram.vertexOffsetAttribute,0),o.bindBuffer(o.ARRAY_BUFFER,this.kernelWeightsBuffer),o.vertexAttribPointer(this.shaderProgram.vertexKernelWeightAttribute,1,o.FLOAT,!1,0,0),l.vertexAttribDivisorANGLE(this.shaderProgram.vertexKernelWeightAttribute,1),o.bindBuffer(o.ARRAY_BUFFER,this.positionsBuffer),o.vertexAttribPointer(this.shaderProgram.vertexPositionAttribute,this.positionsBuffer.itemSize,o.FLOAT,!1,0,0),l.vertexAttribDivisorANGLE(this.shaderProgram.vertexPositionAttribute,1),this.nodesGeometry.indexObject?l.drawElementsInstancedANGLE(o.TRIANGLES,this.nodesGeometry.numIndices,this.nodesGeometry.indexType,0,this.positionsBuffer.numItems):l.drawArraysInstancedANGLE(o.TRIANGLE_STRIP,0,this.nodesGeometry.numIndices,this.positionsBuffer.numItems),l.vertexAttribDivisorANGLE(this.shaderProgram.vertexPositionAttribute,0),l.vertexAttribDivisorANGLE(this.shaderProgram.vertexKernelWeightAttribute,0),o.bindFramebuffer(o.FRAMEBUFFER,s),o.disableVertexAttribArray(this.shaderProgram.vertexPositionAttribute),o.disableVertexAttribArray(this.shaderProgram.vertexKernelWeightAttribute),o.disableVertexAttribArray(this.shaderProgram.vertexOffsetAttribute),o.disable(o.BLEND),o.viewport(d[0],d[1],d[2],d[3]),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,this.FBO.tex),o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,this.LUT_TEX),o.useProgram(this.lutShader),o.enableVertexAttribArray(this.lutShader.vertexAttribute),o.enableVertexAttribArray(this.lutShader.texCoordAttribute),o.uniform1i(this.lutShader.input_texUniform,0),o.uniform1i(this.lutShader.lut_texUniform,1),o.uniform1f(this.lutShader.divergingUniform,+this._divergingColormap),this.ortho(0,1,0,1),this.loadIdentity(),this.setMatrixUniforms(this.lutShader),o.bindBuffer(o.ARRAY_BUFFER,this.QUAD_POS_BUFFER),o.vertexAttribPointer(this.lutShader.vertexAttribute,this.QUAD_POS_BUFFER.itemSize,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,this.QUAD_COORD_BUFFER),o.vertexAttribPointer(this.lutShader.texCoordAttribute,this.QUAD_COORD_BUFFER.itemSize,o.FLOAT,!1,0,0),o.drawArrays(o.TRIANGLES,0,this.QUAD_POS_BUFFER.numItems),o.disableVertexAttribArray(this.lutShader.vertexAttribute),o.disableVertexAttribArray(this.lutShader.texCoordAttribute)}resize(e,t,r=!1){(this.width!==e||this.height!==t||r)&&(e>0&&(this.width=e),t>0&&(this.height=t),this.deleteFBO(),this.create_FBO())}create_FBO(){let e=this.width*this.qualityScale,t=this.height*this.qualityScale,r=this.gl;try{var a=r.getExtension("OES_texture_float"),o=r.getExtension("OES_texture_float_linear")}catch{var a=!1,o=!1}let l={};l.id=r.createFramebuffer(),l.tex=r.createTexture(),r.bindTexture(r.TEXTURE_2D,l.tex),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),a&&o?(Se("[ OK ] Floating point textures (OES_texture_float) is supported"),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e,t,0,r.RGBA,r.FLOAT,null)):(Se("[FAIL] Floating point textures (OES_texture_float) is <B>NOT</B> supported, falling back to 8 bit blending. OES_texture_float is supported in Chrome dev version."),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e,t,0,r.RGBA,r.UNSIGNED_BYTE,null)),r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,l.id),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,l.tex,0);let s=r.checkFramebufferStatus(r.FRAMEBUFFER);s==r.FRAMEBUFFER_COMPLETE?Se("[ OK ] Framebuffer Initialization"):s==r.FRAMEBUFFER_INCOMPLETE_ATTACHMENT?Se("[FAIL] Framebuffer Creation FAIL GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT <br/>               Not all framebuffer attachment points are framebuffer attachment complete."):s==r.FRAMEBUFFER_INCOMPLETE_DIMENSIONS?Se("[FAIL] Framebuffer Creation FAIL GL_FRAMEBUFFER_INCOMPLETE_DIMENSIONS <br/>               Not all attached images have the same width and height. "):s==r.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT?Se("[FAIL] Framebuffer Creation FAIL GL_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT <br/> No images are attached to the framebuffer. "):s==r.FRAMEBUFFER_INCOMPLETE_UNSUPPORTED?Se("[FAIL] Framebuffer Creation FAIL GL_FRAMEBUFFER_INCOMPLETE_UNSUPPORTED <br/> The combination of internal formats of the attached images violates an implementation-dependent set of restrictions."):s==r.FRAMEBUFFER_UNSUPPORTED?Se("[FAIL] Framebuffer Creation FAIL GL_FRAMEBUFFER_UNSUPPORTED <br/>             The combination of internal formats of the attached images violates an implementation-dependent set of restrictions."):Se("[FAIL] Framebuffer Creation FAIL Unknown Error"),r.bindFramebuffer(r.FRAMEBUFFER,null),this.FBO=l}deleteFBO(){if(this.FBO){let e=this.gl;e.deleteFramebuffer(this.FBO.id),e.deleteTexture(this.FBO.tex)}}setBandwidth(e){this.bandwidthScale=e}setKernelWeightScale(e){this.kernel_weightScale=e}setColormap(e,t=0){self=this;let r=this.gl,a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a),t<=0&&(t=1024),e||(e=Jl);var o=new Uint8Array(t*4);for(let l=0;l<t;l++){let s=l/(t-1),d=se(e(s));o[l*4+0]=d.r,o[l*4+1]=d.g,o[l*4+2]=d.b,o[l*4+3]=.1}r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t,1,0,r.RGBA,r.UNSIGNED_BYTE,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.bindTexture(r.TEXTURE_2D,null),this.LUT_TEX=a}setData(e){this.DATA=e,this.updateTheDatabuffer()}setWeights(e){this.kernel_weights=e,this.updateTheKernelWeightsBuffer()}update_span(){for(let e=0;e<this.DATA.length;e+=1)this.DATA[e][0],this.DATA[e][1]}updateTheDatabuffer(){let e=this.gl;this.positionsBuffer||(this.positionsBuffer=e.createBuffer(),this.positionsBuffer.itemSize=3),e.bindBuffer(e.ARRAY_BUFFER,this.positionsBuffer),e.bufferData(e.ARRAY_BUFFER,this.DATA,e.DYNAMIC_DRAW),this.positionsBuffer.numItems=this.DATA.length/3,this.update_span()}updateTheKernelWeightsBuffer(){let e=this.gl;this.kernelWeightsBuffer||(this.kernelWeightsBuffer=e.createBuffer(),this.kernelWeightsBuffer.itemSize=1),e.bindBuffer(e.ARRAY_BUFFER,this.kernelWeightsBuffer),e.bufferData(e.ARRAY_BUFFER,this.kernel_weights,e.DYNAMIC_DRAW),this.kernelWeightsBuffer.numItems=this.kernel_weights.length}qualityScale(e){return e===void 0?this.quality_scale:(this.quality_scale!=e&&(this.quality_scale=e,this.resize(0,0,!0)),this)}divergingColormap(e){return e===void 0?this._divergingColormap:(this._divergingColormap!=e&&(this._divergingColormap=e,console.log("DIVERGING COLORMAP",e)),this)}cleanup(){let e=this.gl;e.deleteBuffer(this.positionsBuffer),e.deleteBuffer(this.kernelWeightsBuffer),e.deleteTexture(this.LUT_TEX),e.deleteProgram(this.program),e.deleteFramebuffer(this.framebuffer),e.deleteRenderbuffer(this.renderbuffer),e.deleteTexture(this.texture),this.positionsBuffer=null,this.kernelWeightsBuffer=null,this.LUT_TEX=null,this.program=null,this.framebuffer=null,this.renderbuffer=null,this.texture=null,this.DATA=null,this.kernel_weights=null,this.BUFFER_LIST=null,this.gl=null}}function Gf(n,e=t=>t.key){var t=[];return Ki(n,"",!0,r=>t.push(r),e),t.join("")}function Ki(n,e,t,r,a){if(n){r(`${e}${t?" ":" "}${a(n)}
`);const o=e+(t?"    ":"   ");n.left&&Ki(n.left,o,!1,r,a),n.right&&Ki(n.right,o,!0,r,a)}}function Zi(n){if(n===null)return!0;var e=or(n.left),t=or(n.right);return!!(Math.abs(e-t)<=1&&Zi(n.left)&&Zi(n.right))}function or(n){return n?1+Math.max(or(n.left),or(n.right)):0}function Ji(n,e,t,r,a){const o=a-r;if(o>0){const l=r+Math.floor(o/2),s=e[l],d=t[l],u={key:s,data:d,parent:n};return u.left=Ji(u,e,t,r,l),u.right=Ji(u,e,t,l+1,a),u}return null}function na(n){if(n===null)return 0;const e=na(n.left),t=na(n.right);return n.balanceFactor=e-t,Math.max(e,t)+1}function ea(n,e,t,r,a){if(t>=r)return;const o=n[t+r>>1];let l=t-1,s=r+1;for(;;){do l++;while(a(n[l],o)<0);do s--;while(a(n[s],o)>0);if(l>=s)break;let d=n[l];n[l]=n[s],n[s]=d,d=e[l],e[l]=e[s],e[s]=d}ea(n,e,t,s,a),ea(n,e,s+1,r,a)}function Hf(n,e){return n>e?1:n<e?-1:0}function I2(n){var e=n.right;return n.right=e.left,e.left&&(e.left.parent=n),e.parent=n.parent,e.parent&&(e.parent.left===n?e.parent.left=e:e.parent.right=e),n.parent=e,e.left=n,n.balanceFactor+=1,e.balanceFactor<0&&(n.balanceFactor-=e.balanceFactor),e.balanceFactor+=1,n.balanceFactor>0&&(e.balanceFactor+=n.balanceFactor),e}function R2(n){var e=n.left;return n.left=e.right,n.left&&(n.left.parent=n),e.parent=n.parent,e.parent&&(e.parent.left===n?e.parent.left=e:e.parent.right=e),n.parent=e,e.right=n,n.balanceFactor-=1,e.balanceFactor>0&&(n.balanceFactor-=e.balanceFactor),e.balanceFactor-=1,n.balanceFactor<0&&(e.balanceFactor+=n.balanceFactor),e}class sr{constructor(e,t=!1){this._comparator=e||Hf,this._root=null,this._size=0,this._noDuplicates=!!t}destroy(){return this.clear()}clear(){return this._root=null,this._size=0,this}get size(){return this._size}contains(e){if(this._root)for(var t=this._root,r=this._comparator;t;){var a=r(e,t.key);if(a===0)return!0;a<0?t=t.left:t=t.right}return!1}next(e){var t=e;if(t)if(t.right)for(t=t.right;t.left;)t=t.left;else for(t=e.parent;t&&t.right===e;)e=t,t=t.parent;return t}prev(e){var t=e;if(t)if(t.left)for(t=t.left;t.right;)t=t.right;else for(t=e.parent;t&&t.left===e;)e=t,t=t.parent;return t}forEach(e){for(var t=this._root,r=[],a=!1,o=0;!a;)t?(r.push(t),t=t.left):r.length>0?(t=r.pop(),e(t,o++),t=t.right):a=!0;return this}range(e,t,r,a){const o=[],l=this._comparator;let s=this._root,d;for(;o.length!==0||s;)if(s)o.push(s),s=s.left;else{if(s=o.pop(),d=l(s.key,t),d>0)break;if(l(s.key,e)>=0&&r.call(a,s))return this;s=s.right}return this}keys(){for(var e=this._root,t=[],r=[],a=!1;!a;)e?(t.push(e),e=e.left):t.length>0?(e=t.pop(),r.push(e.key),e=e.right):a=!0;return r}values(){for(var e=this._root,t=[],r=[],a=!1;!a;)e?(t.push(e),e=e.left):t.length>0?(e=t.pop(),r.push(e.data),e=e.right):a=!0;return r}at(e){for(var t=this._root,r=[],a=!1,o=0;!a;)if(t)r.push(t),t=t.left;else if(r.length>0){if(t=r.pop(),o===e)return t;o++,t=t.right}else a=!0;return null}minNode(){var e=this._root;if(!e)return null;for(;e.left;)e=e.left;return e}maxNode(){var e=this._root;if(!e)return null;for(;e.right;)e=e.right;return e}min(){var e=this._root;if(!e)return null;for(;e.left;)e=e.left;return e.key}max(){var e=this._root;if(!e)return null;for(;e.right;)e=e.right;return e.key}isEmpty(){return!this._root}pop(){var e=this._root,t=null;if(e){for(;e.left;)e=e.left;t={key:e.key,data:e.data},this.remove(e.key)}return t}popMax(){var e=this._root,t=null;if(e){for(;e.right;)e=e.right;t={key:e.key,data:e.data},this.remove(e.key)}return t}find(e){for(var t=this._root,r=t,a,o=this._comparator;r;){if(a=o(e,r.key),a===0)return r;a<0?r=r.left:r=r.right}return null}insert(e,t){if(!this._root)return this._root={parent:null,left:null,right:null,balanceFactor:0,key:e,data:t},this._size++,this._root;var r=this._comparator,a=this._root,o=null,l=0;if(this._noDuplicates)for(;a;){if(l=r(e,a.key),o=a,l===0)return null;l<0?a=a.left:a=a.right}else for(;a;)l=r(e,a.key),o=a,l<=0?a=a.left:a=a.right;var s={left:null,right:null,balanceFactor:0,parent:o,key:e,data:t},d;for(l<=0?o.left=s:o.right=s;o&&(l=r(o.key,e),l<0?o.balanceFactor-=1:o.balanceFactor+=1,o.balanceFactor!==0);){if(o.balanceFactor<-1){o.right.balanceFactor===1&&R2(o.right),d=I2(o),o===this._root&&(this._root=d);break}else if(o.balanceFactor>1){o.left.balanceFactor===-1&&I2(o.left),d=R2(o),o===this._root&&(this._root=d);break}o=o.parent}return this._size++,s}remove(e){if(!this._root)return null;for(var t=this._root,r=this._comparator,a=0;t&&(a=r(e,t.key),a!==0);)a<0?t=t.left:t=t.right;if(!t)return null;var o=t.key,l,s;if(t.left){for(l=t.left;l.left||l.right;){for(;l.right;)l=l.right;t.key=l.key,t.data=l.data,l.left&&(t=l,l=l.left)}t.key=l.key,t.data=l.data,t=l}if(t.right){for(s=t.right;s.left||s.right;){for(;s.left;)s=s.left;t.key=s.key,t.data=s.data,s.right&&(t=s,s=s.right)}t.key=s.key,t.data=s.data,t=s}for(var d=t.parent,u=t,h;d&&(d.left===u?d.balanceFactor-=1:d.balanceFactor+=1,d.balanceFactor<-1?(d.right.balanceFactor===1&&R2(d.right),h=I2(d),d===this._root&&(this._root=h),d=h):d.balanceFactor>1&&(d.left.balanceFactor===-1&&I2(d.left),h=R2(d),d===this._root&&(this._root=h),d=h),!(d.balanceFactor===-1||d.balanceFactor===1));)u=d,d=d.parent;return t.parent&&(t.parent.left===t?t.parent.left=null:t.parent.right=null),t===this._root&&(this._root=null),this._size--,o}load(e=[],t=[],r){if(this._size!==0)throw new Error("bulk-load: tree is not empty");const a=e.length;return r&&ea(e,t,0,a-1,this._comparator),this._root=Ji(null,e,t,0,a),na(this._root),this._size=a,this}isBalanced(){return Zi(this._root)}toString(e){return Gf(this._root,e)}}sr.default=sr;class Qf{constructor(e=!0){this.map=new Map,this.ascending=e,this.ascending?this.tree=new sr((t,r)=>t.key===r.key?0:t.value===r.value?t.key<r.key?-1:1:t.value-r.value):this.tree=new sr((t,r)=>t.key===r.key?0:t.value===r.value?t.key<r.key?-1:1:r.value-t.value)}set(e,t){if(this.map.has(e)){const r=this.map.get(e);this.tree.remove({key:e,value:r})}this.map.set(e,t),this.tree.insert({key:e,value:t})}delete(e){if(this.map.has(e)){const t=this.map.get(e);this.map.delete(e),this.tree.remove({key:e,value:t})}}get(e){return this.map.get(e)}getSortedKeys(){return this.tree.keys().map(e=>e.key)}getSortedPairs(){return this.tree.keys().map(e=>[e.key,e.value])}}let jf=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function $f(n,e=250){let t=!1;return(...r)=>{t||(n(...r),t=!0,setTimeout(()=>{t=!1},e))}}class Wf{constructor({element:e=null,elementID:t=null,density:r=!1,nodes:a={},edges:o=[],network:l=null,use2D:s=!1,orthographic:d=!1,hyperbolic:u=!1,fastEdges:h=!1,tracking:p=!0,fieldOfView:v=70,forceSupersample:m=!1,autoStartLayout:_=!0,autoCleanup:b=!0,webglOptions:y={}}){if(this.element=null,e==null?this.element=document.getElementById(t):this.element=e,this.element.innerHTML="",getComputedStyle(this.element).position==="static"&&(this.container.style.position="relative"),this.canvasElement=document.createElement("canvas"),this.canvasElement.style.position="absolute",this.canvasElement.style.width="100%",this.canvasElement.style.height="100%",this.canvasElement.style.display="block",this.canvasElement.style.boxSizing="border-box",this.element.appendChild(this.canvasElement),this.svgLayer=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svgLayer.style.position="absolute",this.svgLayer.style.width="100%",this.svgLayer.style.height="100%",this.svgLayer.style.display="block",this.svgLayer.style.boxSizing="border-box",this.svgLayer.style.pointerEvents="none",this.element.appendChild(this.svgLayer),this._canvasMargins={top:0,bottom:0,left:0,right:0},this.overlay=document.createElement("div"),this.overlay.style.position="absolute",this.overlay.style.width="100%",this.overlay.style.height="100%",this.overlay.style.display="block",this.overlay.style.boxSizing="border-box",this.overlay.style.pointerEvents="none",this.element.appendChild(this.overlay),l==null?this.network=new dh(a,o):this.network=l,this._autoCleanup=b,this._hasCleanup=!1,this.rotationMatrix=St(),this.translatePosition=G2(),this.lastTranslatePosition=G2(),this.targetTranslatePosition=G2(),this.lastPanX=0,this.lastPanY=0,this.panX=0,this.panY=0,this._fieldOfView=v,this.targetPanX=0,this.targetPanY=0,this.translateTime=0,this.translateDuration=0,this.mouseDown=!1,this.lastMouseX=null,this.lastMouseY=null,this.redrawingFromMouseWheelEvent=!1,this.fastEdges=h,this.animate=!1,this.useShadedNodes=!1,this.forceSupersample=m,this.cameraDistance=500,this.interacting=!1,this.rotateLinearX=0,this.rotateLinearY=0,this.saveResolutionRatio=1,this.pickingResolutionRatio=.25,this._trackingMaxPixels=2e4,this._trackingBufferEnabled=p,this._trackingBuffer=null,this._trackingBufferTexture=null,this._trackingBufferPixels=null,this._attributeTrackers={},this._trackingNodeDataMinimumUpdateInterval=200,this._trackingNodeMinimumUpdateInterval=1e3/30,this._updateTrackerNodesDataThrottle=$f(()=>{this._updateTrackerNodesData()},this._trackingNodeDataMinimumUpdateInterval),this._lastCanvasDimensions=[this.canvasElement.clientWidth,this.canvasElement.clientHeight],this._zoomFactor=1,this._semanticZoomExponent=.25,this._nodesGlobalOpacityScale=1,this._nodesGlobalOpacityBase=0,this._nodesGlobalSizeScale=1,this._nodesGlobalSizeBase=0,this._edgesGlobalOpacityScale=1,this._edgesGlobalOpacityBase=0,this._edgesGlobalWidthScale=.25,this._edgesGlobalWidthBase=0,this._nodesGlobalOutlineWidthScale=1,this._nodesGlobalOutlineWidthBase=0,this._edgesColorsFromNodes=!0,this._edgesWidthFromNodes=!0,this._backgroundColor=[.5,.5,.5,1],this._use2D=s||u,this._orthographic=d||s,this._hyperbolic=u,this._autoStartLayout=_,this.useAdditiveBlending=!1,this._pickeableEdges=new Set,this.scheduler=new ph(this,{throttle:!1}),this._webglOptions=y,this._use2D)for(let C=0;C<this.network.positions.length;C++)this.network.positions[C*3+2]=0;this._edgeIndicesUpdate=!0,si(this.rotationMatrix),this.gl=th(this.canvasElement,this._webglOptions),r&&(this.densityMap=new Uf(this.gl,this.canvasElement.clientWidth,this.canvasElement.clientHeight),this.densityMap.setBandwidth(10),this.densityMap.setKernelWeightScale(.01),this.densityPlot=!0),this._centerNodes=[],this._centerNodesTransition=null,this.onNodeClickCallback=null,this.onNodeDoubleClickCallback=null,this.onNodeHoverStartCallback=null,this.onNodeHoverMoveCallback=null,this.onNodeHoverEndCallback=null,this.onEdgeClickCallback=null,this.onEdgeDoubleClickCallback=null,this.onEdgeHoverStartCallback=null,this.onEdgeHoverMoveCallback=null,this.onEdgeHoverEndCallback=null,this.onZoomCallback=null,this.onRotationCallback=null,this.onResizeCallback=null,this.onLayoutStartCallback=null,this.onLayoutStopCallback=null,this.onDrawCallback=null,this.onReadyCallback=null,this.onCleanupCallback=null,this._isReady=!1,this._onresizeEvent=C=>{if(this.canvasElement)for(let k of C)this._willResizeEvent(k)},this.resizeObserver=new ResizeObserver(this._onresizeEvent),this.resizeObserver.observe(this.canvasElement),this._initialize()}_initialize(){this._setupDensity(),this._setupShaders(),this._buildNodesGeometry(),this._buildPickingBuffers(),this._buildTrackingBuffers(),this._buildEdgesGeometry(),this._willResizeEvent(0),this._setupCamera(),this._setupEvents(),this._setupLayout(),this.scheduler.start(),this.onReadyCallback?.(this),this.onReadyCallback=null,this._isReady=!0}_setupLayout(){this._layoutLastUpdate=null,this._alpha=.001,this.newPositions=this.network.positions.slice(0);let e=a=>{this.newPositions=a.positions,this._layoutLastUpdate||(this._layoutLastUpdate=performance.now());let o=performance.now()-this._layoutLastUpdate;o<200?o=200:o>2500&&(o=2500),this._alpha=1/o;let l={name:"1.1.positionInterpolator",callback:(s,d)=>{let u=0;const h=this._alpha,p=this.network.positions.length,v=this.newPositions,m=this.network.positions;for(let _=0;_<p;_++){const b=v[_]-m[_];m[_]+=h*b*s,u=Math.max(Math.abs(b),u)}this._updateCenterNodesPosition(),this._updateCameraInterpolation(!0),u<1&&this.scheduler.unschedule("1.1.positionInterpolator")},delay:0,repeat:!0,synchronized:!0,immediateUpdates:!1,redraw:!0,updateNodesGeometry:!0,updateEdgesGeometry:!0};this.scheduler.schedule({name:"1.0.positionChange",callback:(s,d)=>{this.scheduler.schedule(l)},delay:0,repeat:!1,synchronized:!0,immediateUpdates:!1,redraw:!1,updateNodesGeometry:!1,updateEdgesGeometry:!1})},t=()=>{this.onLayoutStopCallback?.()},r=()=>{this._layoutLastUpdate=null,this.onLayoutStartCallback?.()};this.layoutWorker=new yh({network:this.network,onUpdate:e,onStop:t,onStart:r,use2D:this._use2D}),console.log("Set layout worker",this.layoutWorker),this._autoStartLayout&&(this.layoutWorker.start(),console.log("Start",this.layoutWorker))}_setupDensity(){if(this.densityMap){this.densityWeights=new Float32Array(this.network.nodeCount);let e=1;for(let t=0;t<this.network.nodeCount;t++){let r=this.network.nodes[t].edges.length;this.densityWeights[t]=r,e=Math.max(e,r)}for(let t=0;t<this.network.nodeCount;t++)this.densityWeights[t]/=e}}pauseLayout(){return this.layoutWorker.pause(),console.log("Pause",this.layoutWorker),this}resumeLayout(){return this.layoutWorker.resume(),console.log("Resume",this.layoutWorker),this}_callEventFromPickID(e,t,r){let a=null,o=!0;if(e>=0){if(e<this.network.nodeCount)o=!0,a=this.network.index2Node[e];else if(e>=this.network.nodeCount){let l=e-this.network.nodeCount;if(l<this.network.indexedEdges.length/2){let s={source:this.network.index2Node[this.network.indexedEdges[2*l]],target:this.network.index2Node[this.network.indexedEdges[2*l+1]],index:l};o=!1,a=s}}}if(a)switch(t){case"click":{o?this.onNodeClickCallback?.(a,r):this.onEdgeClickCallback?.(a,r);break}case"doubleClick":{o?this.onNodeDoubleClickCallback?.(a,r):this.onEdgeDoubleClickCallback?.(a,r);break}case"hoverStart":{o?this.onNodeHoverStartCallback?.(a,r):this.onEdgeHoverStartCallback?.(a,r);break}case"hoverMove":{o?this.onNodeHoverMoveCallback?.(a,r):this.onEdgeHoverMoveCallback?.(a,r);break}case"hoverEnd":{o?this.onNodeHoverEndCallback?.(a,r):this.onEdgeHoverEndCallback?.(a,r);break}}}_setupEvents(){this.lastMouseX=-1,this.lastMouseY=-1,this.currentHoverIndex=-1,this._autoCleanup&&(this._mutationObserver=new MutationObserver(e=>{for(let t=0;t<e.length;t++){let r=e[t];if(r.type=="childList"&&r.removedNodes.length>0)for(let a=0;a<r.removedNodes.length;a++){let o=r.removedNodes[a];if(o==this.canvasElement||o==this.element){this._mutationObserver.disconnect(),this.cleanup();return}}}}),this._mutationObserver.observe(this.element,{childList:!0}),this._mutationObserver.observe(this.element.parentNode,{childList:!0})),this._clickEventListener=e=>{const t=this.canvasElement.getBoundingClientRect();this.lastMouseX=e.clientX,this.lastMouseY=e.clientY;const r=this.pickPoint(this.lastMouseX-t.left,this.lastMouseY-t.top);r>=0?this._callEventFromPickID(r,"click",e):(this.onNodeClickCallback?.(null,e),this.onEdgeClickCallback?.(null,e))},this._doubleClickEventListener=e=>{const t=this.canvasElement.getBoundingClientRect();this.lastMouseX=e.clientX,this.lastMouseY=e.clientY;const r=this.pickPoint(this.lastMouseX-t.left,this.lastMouseY-t.top);r>=0?this._callEventFromPickID(r,"doubleClick",e):(this.onNodeDoubleClickCallback?.(null,e),this.onEdgeDoubleClickCallback?.(null,e))},this._hoverMoveEventListener=e=>{this.lastMouseX=e.clientX,this.lastMouseY=e.clientY,this.triggerHoverEvents(e)},this._hoverLeaveEventListener=e=>{this.currentHoverIndex>=0&&(this._callEventFromPickID(this.currentHoverIndex,"hoverEnd",e),this.currentHoverIndex=-1,this.lastMouseX=-1,this.lastMouseY=-1)},this._hoverLeaveWindowEventListener=e=>{!e.relatedTarget&&!e.toElement&&this.currentHoverIndex>=0&&(this._callEventFromPickID(this.currentHoverIndex,"hoverEnd",e),this.currentHoverIndex=-1,this.lastMouseX=-1,this.lastMouseY=-1)},this.canvasElement.addEventListener("click",this._clickEventListener),this.canvasElement.addEventListener("dblclick",this._doubleClickEventListener),this.canvasElement.addEventListener("mousemove",this._hoverMoveEventListener),this.canvasElement.addEventListener("mouseleave",this._hoverLeaveEventListener),document.body.addEventListener("mouseout",this._hoverLeaveWindowEventListener)}async _downloadImageData(e,t,r,a=1){let o=new gh({}),l=document.createElement("canvas"),s=document.createElement("canvas"),d=l.getContext("2d"),u=s.getContext("2d");s.width=e.width,s.height=e.height,console.log(e.width,e.height,r,a),l.width=e.width/r,l.height=e.height/r,d.imageSmoothingEnabled=!0,u.imageSmoothingEnabled=!0,typeof d.imageSmoothingQuality<"u"&&(d.imageSmoothingQuality="high"),typeof u.imageSmoothingQuality<"u"&&(u.imageSmoothingQuality="high"),u.putImageData(e,0,0),u.transform(1,0,0,-1,0,s.height),u.globalCompositeOperation="copy",u.drawImage(u.canvas,0,0),u.globalCompositeOperation="source-over",await o.resize(s,l,{alpha:!0});let h=document.createElement("a");jf&&l.toDataURL(),h.setAttribute("download",t);let p=await o.toBlob(l,"image/png");if(p)if(t.endsWith("svg")){let v=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  width="${l.width/a}" height="${l.height/a}" viewBox="0 0 ${l.width/a} ${l.height/a}" ><image width="${l.width/a}" height="${l.height/a}" xlink:href="${l.toDataURL()}" />`,m=this.svgLayer.innerHTML;v+=m,v+="</svg>",h.setAttribute("download",t);let _=new Blob([v],{type:"image/svg+xml"}),b=URL.createObjectURL(_);h.setAttribute("href",b),h.click()}else{let v=URL.createObjectURL(p);h.setAttribute("href",v),h.click()}else window.alert("An error occured while trying to download the image. Please try again. (Error: blob is null.)")}_framebufferImage(e){const t=e.size.width,r=e.size.height,a=new Uint8ClampedArray(4*t*r),o=this.gl;return o.bindFramebuffer(o.FRAMEBUFFER,e),o.readPixels(0,0,t,r,o.RGBA,o.UNSIGNED_BYTE,a),new ImageData(a,t,r)}exportFigure(e,{scale:t,supersampleFactor:r,width:a=null,height:o=null,backgroundColor:l=null}){typeof t>"u"&&(t=1),typeof r>"u"&&(r=2);let s=this._createOffscreenFramebuffer();a==null&&o==null?(a=this.canvasElement.clientWidth,o=this.canvasElement.clientHeight):a?o||(o=Math.round(a*this.canvasElement.height/this.canvasElement.width)):a=Math.round(o*this.canvasElement.width/this.canvasElement.height),l||(l=this.backgroundColor),s.setSize(a*t*r,o*t*r),s.backgroundColor=l,this._redrawAll(s);let d=this._framebufferImage(s);this._downloadImageData(d,e,r,t),s.discard()}triggerHoverEvents(e,t){if(!this._isReady||this.lastMouseX==-1||this.lastMouseY==-1)return;let r=-1;if(!this.interacting){const a=this.canvasElement.getBoundingClientRect();r=this.pickPoint(this.lastMouseX-a.left,this.lastMouseY-a.top)}r>=0&&this.currentHoverIndex==-1?(this.currentHoverIndex=r,this._callEventFromPickID(r,"hoverStart",e)):r>=0&&this.currentHoverIndex==r?this._callEventFromPickID(r,"hoverMove",e):r>=0&&this.currentHoverIndex!=r?(this._callEventFromPickID(this.currentHoverIndex,"hoverEnd",e),this.currentHoverIndex=r,this._callEventFromPickID(r,"hoverStart",e)):r==-1&&this.currentHoverIndex!=r&&(this._callEventFromPickID(this.currentHoverIndex,"hoverEnd",e),this.currentHoverIndex=-1)}_setupShaders(){const e=this.gl;this.edgesShaderProgram=new z1(Zn(e,this._hyperbolic?Ss:ks,e.VERTEX_SHADER),Zn(e,xh,e.FRAGMENT_SHADER),["viewMatrix","projectionMatrix","nearFar","globalOpacityScale","globalWidthScale","globalSizeScale","globalOpacityBase","globalWidthBase","globalSizeBase"],["fromVertex","toVertex","vertexType","fromColor","toColor","fromSize","toSize","encodedIndex"],this.gl),this.edgesFastShaderProgram=new z1(Zn(e,this._hyperbolic?Ch:Eh,e.VERTEX_SHADER),Zn(e,kh,e.FRAGMENT_SHADER),["projectionViewMatrix","nearFar","globalOpacityScale","globalOpacityBase"],["vertex","color"],this.gl),this.edgesPickingShaderProgram=new z1(Zn(e,this._hyperbolic?Ss:ks,e.VERTEX_SHADER),Zn(e,Ah,e.FRAGMENT_SHADER),["viewMatrix","projectionMatrix","nearFar","globalOpacityScale","globalWidthScale","globalSizeScale","globalOpacityBase","globalWidthBase","globalSizeBase"],["fromVertex","toVertex","vertexType","fromColor","toColor","fromSize","toSize","encodedIndex"],this.gl),this.nodesShaderProgram=new z1(Zn(e,this._hyperbolic?ui:ci,e.VERTEX_SHADER),Zn(e,Sh,e.FRAGMENT_SHADER),["viewMatrix","projectionMatrix","normalMatrix","globalOpacityScale","globalSizeScale","globalOutlineWidthScale","globalOpacityBase","globalSizeBase","globalOutlineWidthBase"],["vertex","position","color","size","outlineWidth","outlineColor","encodedIndex"],this.gl),this.nodesFastShaderProgram=new z1(Zn(e,this._hyperbolic?ui:ci,e.VERTEX_SHADER),Zn(e,Mh,e.FRAGMENT_SHADER),["viewMatrix","projectionMatrix","normalMatrix","globalOpacityScale","globalSizeScale","globalOutlineWidthScale","globalOpacityBase","globalSizeBase","globalOutlineWidthBase"],["vertex","position","color","size","outlineWidth","outlineColor","encodedIndex"],this.gl),this.nodesPickingShaderProgram=new z1(Zn(e,this._hyperbolic?ui:ci,e.VERTEX_SHADER),Zn(e,Ph,e.FRAGMENT_SHADER),["viewMatrix","projectionMatrix","normalMatrix","globalOpacityScale","globalSizeScale","globalOutlineWidthScale","globalOpacityBase","globalSizeBase","globalOutlineWidthBase"],["vertex","position","color","size","outlineWidth","outlineColor","encodedIndex"],this.gl)}_buildPickingBuffers(){this.gl,this.pickingFramebuffer=this._createOffscreenFramebuffer()}_buildTrackingBuffers(){this.gl,this._trackingBufferEnabled&&(this._trackingFramebuffer=this._createOffscreenFramebuffer())}_createOffscreenFramebuffer(){const e=this.gl;let t=e.createFramebuffer();t.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,t.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t.depthBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,t.depthBuffer),e.bindFramebuffer(e.FRAMEBUFFER,t),t.size={width:0,height:0},t.setSize=(o,l)=>{e.bindTexture(e.TEXTURE_2D,t.texture);const s=0,d=e.RGBA,u=0,h=e.RGBA,p=e.UNSIGNED_BYTE,v=null,m=o,_=l;e.texImage2D(e.TEXTURE_2D,s,d,m,_,u,h,p,v),e.bindRenderbuffer(e.RENDERBUFFER,t.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,m,_),t.size.width=o,t.size.height=l},t.discard=()=>{e.deleteRenderbuffer(t.depthBuffer),e.deleteTexture(t.texture),e.deleteFramebuffer(t)};const r=e.COLOR_ATTACHMENT0,a=0;return e.framebufferTexture2D(e.FRAMEBUFFER,r,e.TEXTURE_2D,t.texture,a),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t.depthBuffer),t}_buildNodesGeometry(){const e=this.gl;this.nodesGeometry=yl(e,!1,!1),this.nodesPositionBuffer=e.createBuffer(),this.nodesColorBuffer=e.createBuffer(),this.nodesSizeBuffer=e.createBuffer(),this.nodesOutlineWidthBuffer=e.createBuffer(),this.nodesOutlineColorBuffer=e.createBuffer(),this.nodesIndexBuffer=e.createBuffer(),this.nodesIndexArray=new Float32Array(this.network.index2Node.length*4);for(let t=0;t<this.network.index2Node.length;t++)this.nodesIndexArray[4*t]=(t+1>>0&255)/255,this.nodesIndexArray[4*t+1]=(t+1>>8&255)/255,this.nodesIndexArray[4*t+2]=(t+1>>16&255)/255,this.nodesIndexArray[4*t+3]=(t+1>>24&255)/255;e.bindBuffer(e.ARRAY_BUFFER,this.nodesIndexBuffer),e.bufferData(e.ARRAY_BUFFER,this.nodesIndexArray,e.STATIC_DRAW),this.updateNodesGeometry()}updateDensityMap(){let e=this.network.positions;return this.densityMap?.setData(e),this.densityMap?.setWeights(this.densityWeights),this}updateNodesGeometry(){const e=this.gl;let t=this.network.positions;this.updateDensityMap(),e.bindBuffer(e.ARRAY_BUFFER,this.nodesPositionBuffer),e.bufferData(e.ARRAY_BUFFER,t,e.DYNAMIC_DRAW);let r=this.network.colors;e.bindBuffer(e.ARRAY_BUFFER,this.nodesColorBuffer),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW);let a=this.network.sizes;e.bindBuffer(e.ARRAY_BUFFER,this.nodesSizeBuffer),e.bufferData(e.ARRAY_BUFFER,a,e.STATIC_DRAW);let o=this.network.outlineWidths;e.bindBuffer(e.ARRAY_BUFFER,this.nodesOutlineWidthBuffer),e.bufferData(e.ARRAY_BUFFER,o,e.STATIC_DRAW);let l=this.network.outlineColors;return e.bindBuffer(e.ARRAY_BUFFER,this.nodesOutlineColorBuffer),e.bufferData(e.ARRAY_BUFFER,l,e.STATIC_DRAW),this}_buildFastEdgesGeometry(){const e=this.gl;let t=this.network.indexedEdges,r=this.network.positions;this.network.colors;let a;this.fastEdgesGeometry=null,this.fastEdgesIndicesArray=null;let o=new Object;if(r.length<65535)a=new Uint16Array(t),o.indexType=e.UNSIGNED_SHORT;else{var l=e.getExtension("OES_element_index_uint");l==null?(a=new Uint16Array(t),o.indexType=e.UNSIGNED_SHORT):(a=new Uint32Array(t),o.indexType=e.UNSIGNED_INT)}o.vertexObject=e.createBuffer(),o.colorObject=e.createBuffer(),o.numIndices=a.length,o.indexObject=e.createBuffer(),this.fastEdgesGeometry=o,this.fastEdgesIndicesArray=a}_buildAdvancedEdgesGeometry(){const e=this.gl;let t=[0,1,0,0,1,1,1,0],r=new Object;r.edgeVertexTypeBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r.edgeVertexTypeBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),r.verticesBuffer=e.createBuffer(),r.colorBuffer=e.createBuffer(),r.sizeBuffer=e.createBuffer(),r.indexBuffer=e.createBuffer(),this.edgesGeometry=r,this.edgesGeometry.count=this.network.indexedEdges.length/2,this.edgesGeometry.edgesIndexArray=new Float32Array(this.network.indexedEdges.length*4/2),this._edgeIndicesUpdate=!0}_buildEdgesGeometry(){this.fastEdges?this._buildFastEdgesGeometry():this._buildAdvancedEdgesGeometry(),this.updateEdgesGeometry()}_updateEdgeIndices(){if(this._edgeIndicesUpdate){const e=this.gl;for(let t=0;t<this.network.indexedEdges.length/2;t++){let r=this.network.index2Node.length+t;this._pickeableEdges.has(t)?(this.edgesGeometry.edgesIndexArray[4*t]=(r+1>>0&255)/255,this.edgesGeometry.edgesIndexArray[4*t+1]=(r+1>>8&255)/255,this.edgesGeometry.edgesIndexArray[4*t+2]=(r+1>>16&255)/255,this.edgesGeometry.edgesIndexArray[4*t+3]=(r+1>>24&255)/255):(this.edgesGeometry.edgesIndexArray[4*t]=0,this.edgesGeometry.edgesIndexArray[4*t+1]=0,this.edgesGeometry.edgesIndexArray[4*t+2]=0,this.edgesGeometry.edgesIndexArray[4*t+3]=0)}e.bindBuffer(e.ARRAY_BUFFER,this.edgesGeometry.indexBuffer),e.bufferData(e.ARRAY_BUFFER,this.edgesGeometry.edgesIndexArray,e.DYNAMIC_DRAW),this._edgeIndicesUpdate=!1}}updateEdgesGeometry(){const e=this.gl;this.network.indexedEdges;let t=this.network.positions,r=this.network.colors;if(this.fastEdges)this.fastEdgesGeometry||this._buildEdgesGeometry(),e.bindBuffer(e.ARRAY_BUFFER,this.fastEdgesGeometry.vertexObject),e.bufferData(e.ARRAY_BUFFER,t,e.STREAM_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.fastEdgesGeometry.colorObject),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.fastEdgesGeometry.indexObject),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.fastEdgesIndicesArray,e.STREAM_DRAW);else{const a=this.gl;this.network.updateEdgePositions(),this._edgesColorsFromNodes&&this.network.updateEdgeColors(),this._edgesWidthFromNodes&&this.network.updateEdgeSizes(),this._updateEdgeIndices(),this.network.positions,a.bindBuffer(a.ARRAY_BUFFER,this.edgesGeometry.verticesBuffer),a.bufferData(a.ARRAY_BUFFER,this.network.edgePositions,a.DYNAMIC_DRAW),a.bindBuffer(a.ARRAY_BUFFER,this.edgesGeometry.colorBuffer),a.bufferData(a.ARRAY_BUFFER,this.network.edgeColors,a.DYNAMIC_DRAW),a.bindBuffer(a.ARRAY_BUFFER,this.edgesGeometry.sizeBuffer),a.bufferData(a.ARRAY_BUFFER,this.network.edgeSizes,a.DYNAMIC_DRAW)}return this}_resizeGL(e,t){this.canvasElement.width=e,this.canvasElement.height=t,this.pickingFramebuffer.setSize(Math.round(e*this.pickingResolutionRatio),Math.round(t*this.pickingResolutionRatio)),this._lastCanvasDimensions=[this.canvasElement.clientWidth,this.canvasElement.clientHeight];let r=e/t;if(this._trackingBufferEnabled){let a,o;r>1?(a=Math.sqrt(this._trackingMaxPixels*r),o=this._trackingMaxPixels/a):(o=Math.sqrt(this._trackingMaxPixels/r),a=this._trackingMaxPixels/o),this._trackingFramebuffer.setSize(Math.round(a),Math.round(o));let l=this._trackingFramebuffer.size.width*this._trackingFramebuffer.size.height;this._pixelXYOnScreen=Array(l),this._trackingBufferPixels=new Uint8Array(4*l),this._nodesOnScreen=Array(l),this._nodesOnScreen.fill(-1);for(let s=0;s<this._pixelXYOnScreen.length;s++){let d=s%this._trackingFramebuffer.size.width/this._trackingFramebuffer.size.width*this.canvasElement.clientWidth,u=Math.floor(s/this._trackingFramebuffer.size.width)/this._trackingFramebuffer.size.height*this.canvasElement.clientHeight;this._pixelXYOnScreen[s]=[d,u]}}return this.densityPlot&&this.densityMap.resize(e,t),this.render(!0),this}_setupCamera(){this.zoom=W9().on("zoom",e=>{this.interacting=!0,this._zoomFactor=e.transform.k,this.triggerHoverEvents(e),this.prevK===void 0&&(this.prevK=e.transform.k);let t=0,r=0;(this.prevK==e.transform.k||this._use2D)&&(this.prevX===void 0||this._use2D?this._use2D?(t=e.transform.x-this.canvasElement.clientWidth/2,r=e.transform.y-this.canvasElement.clientHeight/2):(t=e.transform.x,r=e.transform.y):(t=e.transform.x-this.prevX*this._zoomFactor,r=e.transform.y-this.prevY*this._zoomFactor)),this._use2D||(this.prevX=e.transform.x/this._zoomFactor,this.prevY=e.transform.y/this._zoomFactor),this.prevK=e.transform.k;let a=St();if(this._use2D||e.sourceEvent?.shiftKey){const o=this.canvasElement.clientHeight,l=Math.PI*2/360*this._fieldOfView,d=2*(this.cameraDistance/this._zoomFactor)*Math.tan(l/2)/o;this._centerNodes.length==0&&(this._use2D?(this.panX=t*d,this.panY=-r*d):(this.panX=this.panX+t*d,this.panY=this.panY-r*d))}else si(a),xs(a,a,As(t/2),[0,1,0]),xs(a,a,As(r/2),[1,0,0]),li(this.rotationMatrix,a,this.rotationMatrix);this.update(),this.render(),e?.sourceEvent?.preventDefault(),e?.sourceEvent?.stopPropagation()}).on("end",e=>{this.interacting=!1,e?.sourceEvent?.preventDefault(),e?.sourceEvent?.stopPropagation()}),tn(this.canvasElement).call(this.zoom).on("dblclick.zoom",null)}zoomFactor(e,t){return e!==void 0?(t===void 0?this._use2D?tn(this.canvasElement).call(this.zoom.transform,u1.translate(this.canvasElement.clientWidth/2,this.canvasElement.clientHeight/2).scale(e)):tn(this.canvasElement).call(this.zoom.transform,u1.translate(0,0).scale(e)):this._use2D?tn(this.canvasElement).transition().ease(ns).duration(t).call(this.zoom.transform,u1.translate(this.canvasElement.clientWidth/2,this.canvasElement.clientHeight/2).scale(e)):tn(this.canvasElement).transition().ease(ns).duration(t).call(this.zoom.transform,u1.translate(0,0).scale(e)),this):this._zoomFactor}semanticZoomExponent(e){return e!==void 0?(this._semanticZoomExponent=e,this):this._semanticZoomExponent}_willResizeEvent(e){let t=window.devicePixelRatio||1;(t<2||this.forceSupersample)&&(t=t*2);let r=t*this.canvasElement.clientWidth,a=t*this.canvasElement.clientHeight;console.log(r,a),requestAnimationFrame(()=>{this._resizeGL(r,a)}),this._updateCameraInteraction(),this.onResizeCallback?.(e)}_updateCameraInteraction(){if(this.zoom&&this._use2D){const e=this.canvasElement.clientHeight,t=Math.PI*2/360*this._fieldOfView,a=2*(this.cameraDistance/this._zoomFactor)*Math.tan(t/2)/e;tn(this.canvasElement).property("__zoom",u1.translate(this.panX/a+this._lastCanvasDimensions[0]/2,-this.panY/a+this._lastCanvasDimensions[1]/2).scale(this._zoomFactor))}}redraw(){return this._redrawAll(null,"normal"),this._redrawAll(this.pickingFramebuffer,"picking"),this._trackingBufferEnabled&&this._redrawAll(this._trackingFramebuffer,"tracking"),this.triggerHoverEvents(null),this._updateTrackerNodesDataThrottle(),this.onDrawCallback?.(),this}update(e=!1,t=!0,r=!0){return this.scheduler.schedule({name:"9.0.update",callback:null,delay:0,repeat:!1,synchronized:!0,immediateUpdates:e,updateNodesGeometry:t,updateEdgesGeometry:r}),this}render(e=!1){return this.scheduler.schedule({name:"9.1.render",callback:null,delay:0,repeat:!1,synchronized:!0,immediateUpdates:e,redraw:!0}),this}_redrawPrepare(e,t,r){typeof t>"u"&&(t="normal");const a=this.gl,o=e?.size.width||this.canvasElement.width,l=e?.size.height||this.canvasElement.height;e==null?(a.bindFramebuffer(a.FRAMEBUFFER,null),a.clearColor(...this._backgroundColor)):t!="normal"?(a.bindFramebuffer(a.FRAMEBUFFER,e),a.clearColor(0,0,0,0)):(a.bindFramebuffer(a.FRAMEBUFFER,e),typeof e.backgroundColor>"u"?a.clearColor(...this._backgroundColor):a.clearColor(...e.backgroundColor)),typeof r>"u"?a.viewport(0,0,o,l):a.viewport(...r),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.depthFunc(a.LEQUAL),this.projectionMatrix=St(),this.viewMatrix=St(),this.projectionViewMatrix=St();let s=Math.PI*2/360*this._fieldOfView,d=o/l;if(this._use2D||this._orthographic){const u=this.cameraDistance/this._zoomFactor,h=2*u*Math.tan(s/2),p=h*d,v=-p/2,m=p/2,_=-h/2,b=h/2;nh(this.projectionMatrix,v,m,_,b,-100+u,1e4+u)}else Z9(this.projectionMatrix,s,d,1,null);si(this.viewMatrix),ys(this.viewMatrix,this.viewMatrix,[this.panX,this.panY,-this.cameraDistance/this._zoomFactor]),li(this.viewMatrix,this.viewMatrix,this.rotationMatrix),ys(this.viewMatrix,this.viewMatrix,this.translatePosition),li(this.projectionViewMatrix,this.projectionMatrix,this.viewMatrix)}_redrawNodes(e,t){typeof t>"u"&&(t="normal");const r=this.gl;let a=r.getExtension("ANGLE_instanced_arrays"),o=1/Math.pow(this._zoomFactor,this._semanticZoomExponent);t!="normal"&&(o=1/Math.pow(this._zoomFactor,.75*this._semanticZoomExponent));let l;t=="normal"?(r.enable(r.BLEND),r.blendFunc(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA),this.useShadedNodes?l=this.nodesShaderProgram:l=this.nodesFastShaderProgram):(r.disable(r.BLEND),l=this.nodesPickingShaderProgram),l.use(r),l.attributes.enable("vertex"),l.attributes.enable("position"),l.attributes.enable("size"),l.attributes.enable("outlineWidth"),l.attributes.enable("outlineColor"),l.attributes.enable("encodedIndex"),r.bindBuffer(r.ARRAY_BUFFER,this.nodesGeometry.vertexObject),r.vertexAttribPointer(l.attributes.vertex,3,r.FLOAT,!1,0,0),a.vertexAttribDivisorANGLE(l.attributes.vertex,0),this.nodesGeometry.indexObject&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this.nodesGeometry.indexObject),r.uniformMatrix4fv(l.uniforms.projectionMatrix,!1,this.projectionMatrix),r.uniformMatrix4fv(l.uniforms.viewMatrix,!1,this.viewMatrix),r.uniform1f(l.uniforms.globalOpacityScale,this._nodesGlobalOpacityScale),r.uniform1f(l.uniforms.globalOpacityBase,this._nodesGlobalOpacityBase),r.uniform1f(l.uniforms.globalSizeScale,this._nodesGlobalSizeScale*o),r.uniform1f(l.uniforms.globalSizeBase,this._nodesGlobalSizeBase*o),r.uniform1f(l.uniforms.globalOutlineWidthScale,this._nodesGlobalOutlineWidthScale*o),r.uniform1f(l.uniforms.globalOutlineWidthBase,this._nodesGlobalOutlineWidthBase*o);let s=q9();X9(s,this.viewMatrix),r.uniformMatrix3fv(l.uniforms.normalMatrix,!1,s),this.network.colors,this.network.positions,this.network.sizes,this.network.outlineWidths,r.bindBuffer(r.ARRAY_BUFFER,this.nodesPositionBuffer),r.enableVertexAttribArray(l.attributes.position),r.vertexAttribPointer(l.attributes.position,3,r.FLOAT,!1,0,0),a.vertexAttribDivisorANGLE(l.attributes.position,1),r.bindBuffer(r.ARRAY_BUFFER,this.nodesColorBuffer),r.enableVertexAttribArray(l.attributes.color),r.vertexAttribPointer(l.attributes.color,4,r.FLOAT,!1,0,0),a.vertexAttribDivisorANGLE(l.attributes.color,1),r.bindBuffer(r.ARRAY_BUFFER,this.nodesSizeBuffer),r.enableVertexAttribArray(l.attributes.size),r.vertexAttribPointer(l.attributes.size,1,r.FLOAT,!1,0,0),a.vertexAttribDivisorANGLE(l.attributes.size,1),r.bindBuffer(r.ARRAY_BUFFER,this.nodesOutlineColorBuffer),r.enableVertexAttribArray(l.attributes.outlineColor),r.vertexAttribPointer(l.attributes.outlineColor,4,r.FLOAT,!1,0,0),a.vertexAttribDivisorANGLE(l.attributes.outlineColor,1),r.bindBuffer(r.ARRAY_BUFFER,this.nodesOutlineWidthBuffer),r.enableVertexAttribArray(l.attributes.outlineWidth),r.vertexAttribPointer(l.attributes.outlineWidth,1,r.FLOAT,!1,0,0),a.vertexAttribDivisorANGLE(l.attributes.outlineWidth,1),r.bindBuffer(r.ARRAY_BUFFER,this.nodesIndexBuffer),r.enableVertexAttribArray(l.attributes.encodedIndex),r.vertexAttribPointer(l.attributes.encodedIndex,4,r.FLOAT,!1,0,0),a.vertexAttribDivisorANGLE(l.attributes.encodedIndex,1),this.nodesGeometry.indexObject?a.drawElementsInstancedANGLE(r.TRIANGLES,this.nodesGeometry.numIndices,this.nodesGeometry.indexType,0,this.network.positions.length/3):a.drawArraysInstancedANGLE(r.TRIANGLE_STRIP,0,this.nodesGeometry.numIndices,this.network.positions.length/3),l.attributes.disable("vertex"),l.attributes.disable("position"),l.attributes.disable("size"),l.attributes.disable("outlineWidth"),l.attributes.disable("outlineColor"),l.attributes.disable("encodedIndex")}_redrawEdges(e,t){typeof t>"u"&&(t="normal");let r=this.onEdgeClickCallback||this.onEdgeHoverMoveCallback||this.onEdgeHoverStartCallback||this.onEdgeHoverEndCallback||this.onEdgeDoubleClickCallback||this.onEdgeClickCallback;if(t!="normal"&&(this.fastEdges||!r))return;let a=1/Math.pow(this._zoomFactor,this._semanticZoomExponent);t!="normal"&&(a=1/Math.pow(this._zoomFactor,.5*this._semanticZoomExponent));const o=this.gl;let l=o.getExtension("ANGLE_instanced_arrays"),s;t=="normal"?(o.enable(o.BLEND),this.useAdditiveBlending?o.blendFunc(o.SRC_ALPHA,o.ONE):o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE),this.fastEdges?s=this.edgesFastShaderProgram:s=this.edgesShaderProgram):(o.disable(o.BLEND),s=this.edgesPickingShaderProgram),this.fastEdges?(s.use(o),s.attributes.enable("vertex"),s.attributes.enable("color"),o.bindBuffer(o.ARRAY_BUFFER,this.fastEdgesGeometry.vertexObject),o.vertexAttribPointer(s.attributes.vertex,3,o.FLOAT,!1,0,0),l.vertexAttribDivisorANGLE(s.attributes.vertex,0),o.bindBuffer(o.ARRAY_BUFFER,this.fastEdgesGeometry.colorObject),o.vertexAttribPointer(s.attributes.color,4,o.FLOAT,!1,0,0),l.vertexAttribDivisorANGLE(s.attributes.color,0),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,this.fastEdgesGeometry.indexObject),o.uniformMatrix4fv(s.uniforms.projectionViewMatrix,!1,this.projectionViewMatrix),o.uniform1f(s.uniforms.globalOpacityScale,this._edgesGlobalOpacityScale),o.uniform1f(s.uniforms.globalOpacityBase,this._edgesGlobalOpacityBase),o.drawElements(o.LINES,this.fastEdgesGeometry.numIndices,this.fastEdgesGeometry.indexType,0),s.attributes.disable("vertex"),s.attributes.disable("color")):(s.use(o),s.attributes.enable("fromVertex"),s.attributes.enable("toVertex"),s.attributes.enable("vertexType"),s.attributes.enable("fromColor"),s.attributes.enable("toColor"),s.attributes.enable("fromSize"),s.attributes.enable("toSize"),s.attributes.enable("encodedIndex"),o.bindBuffer(o.ARRAY_BUFFER,this.edgesGeometry.edgeVertexTypeBuffer),o.vertexAttribPointer(s.attributes.vertexType,2,o.FLOAT,!1,0,0),l.vertexAttribDivisorANGLE(s.attributes.vertexType,0),o.bindBuffer(o.ARRAY_BUFFER,this.edgesGeometry.verticesBuffer),o.vertexAttribPointer(s.attributes.fromVertex,3,o.FLOAT,!1,4*3*2,0),l.vertexAttribDivisorANGLE(s.attributes.fromVertex,1),o.bindBuffer(o.ARRAY_BUFFER,this.edgesGeometry.verticesBuffer),o.vertexAttribPointer(s.attributes.toVertex,3,o.FLOAT,!1,4*3*2,4*3),l.vertexAttribDivisorANGLE(s.attributes.toVertex,1),o.bindBuffer(o.ARRAY_BUFFER,this.edgesGeometry.colorBuffer),o.vertexAttribPointer(s.attributes.fromColor,4,o.FLOAT,!1,4*4*2,0),l.vertexAttribDivisorANGLE(s.attributes.fromColor,1),o.vertexAttribPointer(s.attributes.toColor,4,o.FLOAT,!1,4*4*2,4*4),l.vertexAttribDivisorANGLE(s.attributes.toColor,1),o.bindBuffer(o.ARRAY_BUFFER,this.edgesGeometry.sizeBuffer),o.vertexAttribPointer(s.attributes.fromSize,1,o.FLOAT,!1,4*2,0),l.vertexAttribDivisorANGLE(s.attributes.fromSize,1),o.vertexAttribPointer(s.attributes.toSize,1,o.FLOAT,!1,4*2,4),l.vertexAttribDivisorANGLE(s.attributes.toSize,1),o.bindBuffer(o.ARRAY_BUFFER,this.edgesGeometry.indexBuffer),o.enableVertexAttribArray(s.attributes.encodedIndex),o.vertexAttribPointer(s.attributes.encodedIndex,4,o.FLOAT,!1,0,0),l.vertexAttribDivisorANGLE(s.attributes.encodedIndex,1),o.uniformMatrix4fv(s.uniforms.projectionMatrix,!1,this.projectionMatrix),o.uniformMatrix4fv(s.uniforms.viewMatrix,!1,this.viewMatrix),o.uniform1f(s.uniforms.globalOpacityScale,this._edgesGlobalOpacityScale),o.uniform1f(s.uniforms.globalOpacityBase,this._edgesGlobalOpacityBase),o.uniform1f(s.uniforms.globalWidthScale,this._edgesGlobalWidthScale),o.uniform1f(s.uniforms.globalWidthBase,this._edgesGlobalWidthBase),o.uniform1f(s.uniforms.globalSizeScale,this._nodesGlobalSizeScale*a),o.uniform1f(s.uniforms.globalSizeBase,this._nodesGlobalSizeBase*a),l.drawArraysInstancedANGLE(o.TRIANGLE_STRIP,0,4,this.edgesGeometry.count),s.attributes.disable("fromVertex"),s.attributes.disable("toVertex"),s.attributes.disable("vertexType"),s.attributes.disable("fromColor"),s.attributes.disable("toColor"),s.attributes.disable("fromSize"),s.attributes.disable("toSize"),s.attributes.disable("encodedIndex"))}_redrawAll(e,t){typeof t>"u"&&(t="normal");const r=this.gl;this._redrawPrepare(e,t),t=="normal"&&this.densityPlot&&(r.disable(this.gl.DEPTH_TEST),e?.size.width||this.canvasElement.width,e?.size.height||this.canvasElement.height,this.densityMap.drawScene(this.projectionMatrix,this.viewMatrix)),r.depthMask(!0),this._use2D?(r.disable(r.DEPTH_TEST),r.depthMask(!1),t!="tracking"&&this._edgesGlobalOpacityScale>0&&this._redrawEdges(e,t),this._redrawNodes(e,t)):(r.enable(r.DEPTH_TEST),this._redrawNodes(e,t),r.depthMask(!1),t!="tracking"&&this._edgesGlobalOpacityScale>0&&this._redrawEdges(e,t),r.depthMask(!0))}_updateCenterNodesPosition(){if(this.targetTranslatePosition[0]=0,this.targetTranslatePosition[1]=0,this.targetTranslatePosition[2]=0,this._centerNodes&&this._centerNodes.length>0){for(let t=0;t<this._centerNodes.length;t++){let a=this._centerNodes[t].position;this.targetTranslatePosition[0]-=a[0],this.targetTranslatePosition[1]-=a[1],this.targetTranslatePosition[2]-=a[2]}let e=this._centerNodes.length;this.targetTranslatePosition[0]/=e,this.targetTranslatePosition[1]/=e,this.targetTranslatePosition[2]/=e}}centerOnNodes(e,t){this._centerNodes=[];for(let r=0;r<e.length;r++){let a=e[r];a.ID===void 0&&(a=this.network.nodes[a]),this._centerNodes.push(a)}return this._updateCameraInteraction(),this.lastTranslatePosition[0]=this.translatePosition[0],this.lastTranslatePosition[1]=this.translatePosition[1],this.lastTranslatePosition[2]=this.translatePosition[2],this.lastPanX=this.panX,this.lastPanY=this.panY,t===void 0||t<=0?(this.translateDuration=0,this.translateStartTime=null):(this.translateDuration=t,this.translateStartTime=performance.now()),this._scheduleCameraInterpolation(),this}centeredNodes(){return this._centerNodes}_updateCameraInterpolation(e=!1){if(this.translateDuration==0)return e||(this.translatePosition[0]=this.targetTranslatePosition[0],this.translatePosition[1]=this.targetTranslatePosition[1],this.translatePosition[2]=this.targetTranslatePosition[2],this.panX=0,this.panY=0,this._use2D),!1;{let r=(performance.now()-this.translateStartTime)/this.translateDuration;return r>1&&(r=1),this.translatePosition[0]=(1-r)*this.lastTranslatePosition[0],this.translatePosition[1]=(1-r)*this.lastTranslatePosition[1],this.translatePosition[2]=(1-r)*this.lastTranslatePosition[2],this.translatePosition[0]+=r*this.targetTranslatePosition[0],this.translatePosition[1]+=r*this.targetTranslatePosition[1],this.translatePosition[2]+=r*this.targetTranslatePosition[2],this.panX=(1-r)*this.lastPanX,this.panY=(1-r)*this.lastPanY,this.panX+=r*this.targetPanX,this.panY+=r*this.targetPanY,this._use2D,!(r>=1)}}_scheduleCameraInterpolation(){let e={name:"1.1.cameraInterpolator",callback:(t,r)=>{this._updateCenterNodesPosition(),this._updateCameraInterpolation()||this.scheduler.unschedule("1.1.cameraInterpolator")},delay:0,repeat:!0,synchronized:!0,immediateUpdates:!1,redraw:!0,updateNodesGeometry:!1,updateEdgesGeometry:!1};this.scheduler.schedule({name:"1.0.cameraInterpolator",callback:(t,r)=>{this.scheduler.schedule(e)},delay:0,repeat:!1,synchronized:!0,immediateUpdates:!1,redraw:!1,updateNodesGeometry:!1,updateEdgesGeometry:!1})}onResize(e){return this.onResizeCallback=e,this}onNodeClick(e){return this.onNodeClickCallback=e,this}onNodeDoubleClick(e){return this.onNodeDoubleClickCallback=e,this}onNodeHoverStart(e){return this.onNodeHoverStartCallback=e,this}onNodeHoverEnd(e){return this.onNodeHoverEndCallback=e,this}onNodeHoverMove(e){return this.onNodeHoverMoveCallback=e,this}onEdgeClick(e){return this.onEdgeClickCallback=e,this}onEdgeDoubleClick(e){return this.onEdgeDoubleClickCallback=e,this}onEdgeHoverStart(e){return this.onEdgeHoverStartCallback=e,this}onEdgeHoverEnd(e){return this.onEdgeHoverEndCallback=e,this}onEdgeHoverMove(e){return this.onEdgeHoverMoveCallback=e,this}onZoom(e){return this.onZoomCallback=e,this}onRotation(e){return this.onRotationCallback=e,this}onLayoutStart(e){return console.log("On start",this.layoutWorker),this.onLayoutStartCallback=e,this?.layoutWorker.onStart(()=>{this.onLayoutStartCallback?.()}),this}onLayoutStop(e){return console.log("Stop",this.layoutWorker),this.onLayoutStopCallback=e,this?.layoutWorker.onStop(()=>{this.onLayoutStopCallback?.()}),this}onDraw(e){return this.onDrawCallback=e,this}onReady(e){this._isReady?e?.(this):this.onReadyCallback=e}onCleanup(e){this.isCleanedUp?e?.(this):this.onCleanupCallback=e}backgroundColor(e){return typeof e>"u"?this._backgroundColor:(this._backgroundColor=e,this)}nodeColor(e,t){if(typeof t>"u"){if(typeof e>"u")return this.network.colors;if(typeof e=="function"){let r=this.network.index2Node;for(let a=0;a<r.length;a++){let o=r[a],l=e(o,a,this.network);this.network.colors[a*4+0]=l[0],this.network.colors[a*4+1]=l[1],this.network.colors[a*4+2]=l[2],l.length>3&&(this.network.colors[a*4+3]=l[3])}}else{if(typeof e=="number")return this.network.colors[this.network.ID2index[e]];{let r=this.network.index2Node;for(let a=0;a<r.length;a++)this.network.colors[a*4+0]=e[0],this.network.colors[a*4+1]=e[1],this.network.colors[a*4+2]=e[2],e.length>3&&(this.network.colors[a*4+3]=e[3])}}}else if(typeof e=="function"){let r=this.network.ID2index[t],a=e(t,r,this.network);this.network.colors[r*4+0]=a[0],this.network.colors[r*4+1]=a[1],this.network.colors[r*4+2]=a[2],a.length>3&&(this.network.colors[r*4+3]=a[3])}else{let r=this.network.ID2index[t];this.network.colors[r*4+0]=e[0],this.network.colors[r*4+1]=e[1],this.network.colors[r*4+2]=e[2],e.length>3&&(this.network.colors[r*4+3]=e[3])}return this}nodeSize(e,t){if(typeof t>"u"){if(typeof e>"u")return this.network.sizes;if(typeof e=="function"){let r=this.network.index2Node;for(let a=0;a<r.length;a++){let o=r[a],l=e(o,this.network);this.network.sizes[a]=l}}else{let r=this.network.index2Node;for(let a=0;a<r.length;a++)this.network.sizes[a]=e}}else if(typeof e=="function"){let r=e(t,this.network),a=this.network.ID2index[t];this.network.sizes[a]=r}else{let r=this.network.ID2index[t];this.network.sizes[r]=e}return this}nodeOutlineColor(e,t){if(typeof t>"u"){if(typeof e>"u")return this.network.outlineColors;if(typeof e=="function"){let r=this.network.index2Node;for(let a=0;a<r.length;a++){let o=r[a],l=e(o,a,this.network);this.network.outlineColors[a*4+0]=l[0],this.network.outlineColors[a*4+1]=l[1],this.network.outlineColors[a*4+2]=l[2],l.length>3&&(this.network.outlineColors[a*4+3]=l[3])}}else{if(typeof e=="number")return this.network.outlineColors[this.network.ID2index[e]];{let r=this.network.index2Node;for(let a=0;a<r.length;a++)this.network.outlineColors[a*4+0]=e[0],this.network.outlineColors[a*4+1]=e[1],this.network.outlineColors[a*4+2]=e[2],e.length>3&&(this.network.outlineColors[a*4+3]=e[3])}}}else if(typeof e=="function"){let r=this.network.ID2index[t],a=e(t,r,this.network);this.network.outlineColors[r*4+0]=a[0],this.network.outlineColors[r*4+1]=a[1],this.network.outlineColors[r*4+2]=a[2],a.length>3&&(this.network.outlineColors[r*4+3]=a[3])}else{let r=this.network.ID2index[t];this.network.outlineColors[r*4+0]=e[0],this.network.outlineColors[r*4+1]=e[1],this.network.outlineColors[r*4+2]=e[2],e.length>3&&(this.network.outlineColors[r*4+3]=e[3])}return this}nodeOutlineWidth(e,t){if(typeof t>"u"){if(typeof e>"u")return this.network.outlineWidths;if(typeof e=="function"){let r=this.network.index2Node;for(let a=0;a<r.length;a++){let o=r[a],l=e(o,this.network);this.network.outlineWidths[o.index]=l}}else{let r=this.network.index2Node;for(let a=0;a<r.length;a++)this.network.outlineWidths[a]=e}}else if(typeof e=="function"){let r=e(t,this.network),a=this.network.ID2index[t];this.network.outlineWidths[a]=r}else{let r=this.network.ID2index[t];this.network.outlineWidths[r]=e}return this}edgeColor(e,t){if(typeof t>"u"){if(typeof e>"u")return this.network.edgeColors;if(typeof e=="function"){let r=this.network.index2Node,a=this.network.indexedEdges;for(let o=0;o<a.length/2;o++){let l=r[a[o*2]],s=r[a[o*2+1]],d=e(o,l,s,this.network);d.length==2?(this.network.edgeColors[o*2*4+0]=d[0][0],this.network.edgeColors[o*2*4+1]=d[0][1],this.network.edgeColors[o*2*4+2]=d[0][2],this.network.edgeColors[(o*2+1)*4+0]=d[1][0],this.network.edgeColors[(o*2+1)*4+1]=d[1][1],this.network.edgeColors[(o*2+1)*4+2]=d[1][2],d[0].length>3&&(this.network.edgeColors[(o*2+1)*4+3]=d[0][3]),d[1].length>3&&(this.network.edgeColors[(o*2+1)*4+3]=d[1][3])):(this.network.edgeColors[o*2*4+0]=d[0],this.network.edgeColors[o*2*4+1]=d[1],this.network.edgeColors[o*2*4+2]=d[2],this.network.edgeColors[(o*2+1)*4+0]=d[0],this.network.edgeColors[(o*2+1)*4+1]=d[1],this.network.edgeColors[(o*2+1)*4+2]=d[2],d.length>3&&(this.network.edgeColors[(o*2+1)*4+3]=d[3],this.network.edgeColors[(o*2+1)*4+3]=d[3]))}}else{if(typeof e=="number")return[this.network.edgeColors[e*2+0],this.network.edgeColors[e*2+1]];{let r=this.network.index2Node,a=this.network.indexedEdges;for(let o=0;o<a.length/2;o++)r[a[o*2]],r[a[o*2+1]],e.length==2?(this.network.edgeColors[o*2*4+0]=e[0][0],this.network.edgeColors[o*2*4+1]=e[0][1],this.network.edgeColors[o*2*4+2]=e[0][2],this.network.edgeColors[(o*2+1)*4+0]=e[1][0],this.network.edgeColors[(o*2+1)*4+1]=e[1][1],this.network.edgeColors[(o*2+1)*4+2]=e[1][2],e[0].length>3&&(this.network.edgeColors[(o*2+1)*4+3]=e[0][3]),e[1].length>3&&(this.network.edgeColors[(o*2+1)*4+3]=e[1][3])):(this.network.edgeColors[o*2*4+0]=e[0],this.network.edgeColors[o*2*4+1]=e[1],this.network.edgeColors[o*2*4+2]=e[2],this.network.edgeColors[(o*2+1)*4+0]=e[0],this.network.edgeColors[(o*2+1)*4+1]=e[1],this.network.edgeColors[(o*2+1)*4+2]=e[2],e.length>3&&(this.network.edgeColors[(o*2+1)*4+3]=e[3],this.network.edgeColors[(o*2+1)*4+3]=e[3]))}}}else{typeof e=="function"&&e(nodeID,r,this.network);let r=this.network.ID2index[nodeID];e.length==2?(this.network.edgeColors[edgeIndex*2*4+0]=e[0][0],this.network.edgeColors[edgeIndex*2*4+1]=e[0][1],this.network.edgeColors[edgeIndex*2*4+2]=e[0][2],this.network.edgeColors[(edgeIndex*2+1)*4+0]=e[1][0],this.network.edgeColors[(edgeIndex*2+1)*4+1]=e[1][1],this.network.edgeColors[(edgeIndex*2+1)*4+2]=e[1][2],e[0].length>3&&(this.network.edgeColors[(edgeIndex*2+1)*4+3]=e[0][3]),e[1].length>3&&(this.network.edgeColors[(edgeIndex*2+1)*4+3]=e[1][3])):(this.network.edgeColors[edgeIndex*2*4+0]=e[0],this.network.edgeColors[edgeIndex*2*4+1]=e[1],this.network.edgeColors[edgeIndex*2*4+2]=e[2],this.network.edgeColors[(edgeIndex*2+1)*4+0]=e[0],this.network.edgeColors[(edgeIndex*2+1)*4+1]=e[1],this.network.edgeColors[(edgeIndex*2+1)*4+2]=e[2],e.length>3&&(this.network.edgeColors[(edgeIndex*2+1)*4+3]=e[3],this.network.edgeColors[(edgeIndex*2+1)*4+3]=e[3]))}return this}edgeWidth(e,t){if(typeof t>"u"){if(typeof e>"u")return this.network.edgeColors;if(typeof e=="function"){let r=this.network.index2Node,a=this.network.indexedEdges;for(let o=0;o<a.length/2;o++){let l=r[a[o*2]],s=r[a[o*2+1]],d=e(l,s,o,this.network);typeof d=="number"?(this.network.edgeSizes[o*2]=d,this.network.edgeSizes[o*2+1]=d):(this.network.edgeSizes[o*2]=d[0],this.network.edgeSizes[o*2+1]=d[1])}}else{let r=this.network.indexedEdges;for(let a=0;a<r.length/2;a++)typeof e=="number"?(this.network.edgeSizes[a*2]=e,this.network.edgeSizes[a*2+1]=e):(this.network.edgeSizes[a*2]=e[0],this.network.edgeSizes[a*2+1]=e[1])}}else if(typeof e=="function"){let r=this.network.index2Node,a=this.network.indexedEdges,o=r[a[t*2]],l=r[a[t*2+1]],s=e(o,l,t,this.network);typeof s=="number"?(this.network.edgeSizes[t*2]=s,this.network.edgeSizes[t*2+1]=s):(this.network.edgeSizes[t*2]=s[0],this.network.edgeSizes[t*2+1]=s[1])}else typeof e=="number"?(this.network.edgeSizes[t*2]=e,this.network.edgeSizes[t*2+1]=e):(this.network.edgeSizes[t*2]=e[0],this.network.edgeSizes[t*2+1]=e[1]);return this}getProjectedPositions(e){if(e===void 0&&(e=this.network.nodes),e.length>0){this.gl;let t=new Uint32Array(e.length);if(typeof e[0]=="number")for(let s=0;s<e.length;s++)t[s]=e[s];else{t=new Uint32Array(e.length);for(let s=0;s<e.length;s++)t[s]=e[s].index}let r=this.network.positions,a=new Float32Array(e.length*4),[o,l]=this._lastCanvasDimensions;for(let s=0;s<e.length;s++){let d=t[s],u=[r[d*3],r[d*3+1],r[d*3+2],1],h=wl();eh(h,u,this.projectionViewMatrix);let p=1/h[3],v=o/2+h[0]*o*.5*p,m=l/2-h[1]*l*.5*p;a[s*4]=v,a[s*4+1]=m,a[s*4+2]=h[2],a[s*4+3]=h[3]}return a}else return Float32Array(0)}pickPoint(e,t){const r=this.canvasElement.width*this.pickingResolutionRatio,a=this.canvasElement.height*this.pickingResolutionRatio,o=Math.round(e*r/this.canvasElement.clientWidth-.5),l=Math.round(a-t*a/this.canvasElement.clientHeight-.5),s=new Uint8Array(4),d=this.gl;return d.bindFramebuffer(d.FRAMEBUFFER,this.pickingFramebuffer),d.readPixels(o,l,1,1,d.RGBA,d.UNSIGNED_BYTE,s),s[0]+(s[1]<<8)+(s[2]<<16)+(s[3]<<24)-1}_consolidateCentroids(e,t){for(const[r,a]of e){const o=t.get(r);a[0]/=o,a[1]/=o}}_calculateCentroidForAttribute(e,t,r,a){r.has(e)||(r.set(e,[0,0]),a.set(e,0));const o=r.get(e);o[0]+=t[0],o[1]+=t[1];const l=a.get(e);a.set(e,l+1)}_updateTrackerNodesData(){const e=this.gl,t=this._trackingBufferPixels,r=this._nodesOnScreen;e.bindFramebuffer(e.FRAMEBUFFER,this._trackingFramebuffer),e.readPixels(0,0,this._trackingFramebuffer.size.width,this._trackingFramebuffer.size.height,e.RGBA,e.UNSIGNED_BYTE,t);for(let a=0;a<t.length;a+=4){const o=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+(t[a+3]<<24)-1;r[a/4]=o}}updateAttributeTrackers(e=!1){if(!this._trackingBufferEnabled||Object.keys(this._attributeTrackers).length===0)return this;const t=this._attributeTrackers,r=this._trackingFramebuffer.size.width*this._trackingFramebuffer.size.height,a=this._nodesOnScreen,o=this._pixelXYOnScreen;e||this._updateTrackerNodesData();const l=performance.now();let s=l-this._trackingLastTime||l;s>1e3&&(s=1e3),this._trackingLastTime=l;for(let d in t){const u=t[d],h=u.pixelCounter,p=h.getSortedKeys(),v=u.smoothness,m=u.minProportion,_=u.calculateCentroid,b=u.centroidPositions,y=u.attribute,E=u.maxLabels,C=new Map,k=new Map,w=Math.exp(-s/(100*v));for(let x=0;x<p.length;x++){p[x];const A=h.get(p[x])*w;if(A>m){if(h.set(p[x],A),_&&b.has(p[x])){const P=b.get(p[x]);P&&(P[0]*=w,P[1]*=w)}}else h.delete(p[x]),_&&b.delete(p[x])}if(y=="index")for(let x=0;x<a.length;x++){const A=a[x];if(A>=0){const P=(h.get(A)||0)+1/r*(1-w);h.set(A,P),_&&this._calculateCentroidForAttribute(A,o[x],C,k)}}else if(y=="node")for(let x=0;x<a.length;x++){const A=this.network.index2Node;if(nodeIndex>=0){const P=A[nodeIndex],M=(h.get(P)||0)+1/r*(1-w);h.set(P,M),_&&this._calculateCentroidForAttribute(P,o[x],C,k)}}else if(typeof y=="function"){const x=this.network.index2Node;for(let A=0;A<a.length;A++){const P=a[A];if(P>=0){const M=x[P],N=y(M,P),F=(h.get(N)||0)+1/r*(1-w);h.set(N,F),_&&this._calculateCentroidForAttribute(N,o[A],C,k)}}}else{const x=this.network.index2Node;for(let A=0;A<a.length;A++){const P=a[A];if(P>=0){const N=x[P][y],F=(h.get(N)||0)+1/r*(1-w);h.set(N,F),_&&this._calculateCentroidForAttribute(N,o[A],C,k)}}}if(_){this._consolidateCentroids(C,k);for(let[x,A]of C){const P=b.get(x),M=A;P?(P[0]+=M[0]*(1-w),P[1]+=M[1]*(1-w)):b.set(x,M)}}if(E>=0){let x=h.getSortedKeys(),A=x.slice(E,x.length);for(let P=0;P<A.length;P++)h.delete(A[P]),b.delete(A[P])}}return this}trackedAttributesOnScreen(e){if(this._trackingBufferEnabled&&this._attributeTrackers[e]){const t=this._attributeTrackers[e],r=t.pixelCounter;if(t.calculateCentroid){const a=t.centroidPositions,o=r.getSortedPairs();for(let l=0;l<o.length;l++){const s=o[l][0],d=o[l][1],u=a.get(s);o[l]=[s,d,u[0],u[1]]}return o}else return r.getSortedPairs()}}trackedAttributesCentroids(e){if(this._trackingBufferEnabled&&this._attributeTrackers[e])return this._attributeTrackers[e].centroidPositions}_updateTrackerScheduleTask(){const e="9.5.tracker_update";!this._trackingBufferEnabled||Object.keys(this._attributeTrackers).length===0?this.scheduler.hasTask(e)&&this.scheduler.unschedule(e):this.scheduler.hasTask(e)||this.scheduler.schedule({name:e,callback:(t,r)=>{this.updateAttributeTrackers(!0);for(let a in this._attributeTrackers){const o=this._attributeTrackers[a];o.onTrack&&o.onTrack(this.trackedAttributesOnScreen(a),o)}},delay:0,repeatInterval:this._trackingNodeMinimumUpdateInterval,repeat:!0,synchronized:!0,afterRedraw:!0,immediateUpdates:!1,redraw:!1,updateNodesGeometry:!1,updateEdgesGeometry:!1})}trackAttribute(e,t,{minProportion:r=.001,smoothness:a=.8,maxLabels:o=20,calculateCentroid:l=!1,onTrack:s=null}={}){return e in this._attributeTrackers&&this.untrackAttribute(e),this._attributeTrackers[e]={attribute:t,pixelCounter:new Qf(!1),minProportion:r,smoothness:a,maxLabels:o,calculateCentroid:l,centroidPositions:new Map,onTrack:s},this._updateTrackerScheduleTask(),this}untrackAttribute(e){return this._attributeTrackers=this._attributeTrackers.filter(t=>t.attribute!==e),this._updateTrackerScheduleTask(),this}attributesTrackers(){return Object.assign({},this._attributeTrackers)}trackingBufferUpdateInterval(e){return typeof e>"u"?this._trackingBufferUpdateInterval:(this._trackingBufferUpdateInterval=e,this._updateTrackerScheduleTask(),this)}trackingUpdateInterval(e){return typeof e>"u"?this._trackingUpdateInterval:(this._trackingUpdateInterval=e,this._updateTrackerScheduleTask(),this)}edgesGlobalOpacityScale(e){return typeof e>"u"?this._edgesGlobalOpacityScale:(this._edgesGlobalOpacityScale=e,this)}edgesGlobalOpacityBase(e){return typeof e>"u"?this._edgesGlobalOpacityBase:(this._edgesGlobalOpacityBase=e,this)}edgesGlobalWidthScale(e){return typeof e>"u"?this._edgesGlobalWidthScale:(this._edgesGlobalWidthScale=e,this)}edgesGlobalWidthBase(e){return typeof e>"u"?this._edgesGlobalWidthBase:(this._edgesGlobalWidthBase=e,this)}nodesGlobalOpacityScale(e){return typeof e>"u"?this._nodesGlobalOpacityScale:(this._nodesGlobalOpacityScale=e,this)}nodesGlobalOpacityBase(e){return typeof e>"u"?this._nodesGlobalOpacityBase:(this._nodesGlobalOpacityBase=e,this)}nodesGlobalSizeScale(e){return typeof e>"u"?this._nodesGlobalSizeScale:(this._nodesGlobalSizeScale=e,this)}nodesGlobalSizeBase(e){return typeof e>"u"?this._nodesGlobalSizeBase:(this._nodesGlobalSizeBase=e,this)}nodesGlobalOutlineWidthScale(e){return typeof e>"u"?this._nodesGlobalOutlineWidthScale:(this._nodesGlobalOutlineWidthScale=e,this)}nodesGlobalOutlineWidthBase(e){return typeof e>"u"?this._nodesGlobalOutlineWidthBase:(this._nodesGlobalOutlineWidthBase=e,this)}nodeOpacity(e){if(typeof e>"u")return this.network.colors.map(t=>t[3]);if(typeof e=="function"){let t=this.network.index2Node;for(let r=0;r<t.length;r++){let a=t[r],o=e(a,r,this.network);this.network.colors[r*4+3]=o}}else for(let t=0;t<allNodes.length;t++)this.network.colors[t*4+3]=e;return this}edgesColorsFromNodes(e){return typeof e>"u"?this._edgesColorsFromNodes:(this._edgesColorsFromNodes=e,this)}edgesWidthFromNodes(e){return typeof e>"u"?this._edgesWidthFromNodes:(this._edgesWidthFromNodes=e,this)}additiveBlending(e){return typeof e>"u"?this.useAdditiveBlending:(this.useAdditiveBlending=e,this)}shadedNodes(e){return typeof e>"u"?this.useShadedNodes:(this.useShadedNodes=e,this)}pickeableEdges(e){if(typeof e>"u")return this._pickeableEdges;if(this._pickeableEdges=new Set(e),e=="all"){for(let t=0;t<this.network.edges.length;t++)this._pickeableEdges.add(t);this._edgeIndicesUpdate=!0,this.update()}else this._edgeIndicesUpdate=!0,this.update();return this}labelsMaxPixels(e){return typeof e>"u"?this._trackingMaxPixels:(this._trackingMaxPixels=e,_willResizeEvent(0),this)}cleanup(e){this._isReady=!1,console.log("Cleanup",this.layoutWorker),this.layoutWorker?.cleanup(),this.scheduler?.stop(),console.log("Null",this.layoutWorker),this.layoutWorker=null;const t=this.gl;if(this.onReadyCallback=null,this.onNodeClickCallback=null,this.onNodeDoubleClickCallback=null,this.onNodeHoverStartCallback=null,this.onNodeHoverMoveCallback=null,this.onNodeHoverEndCallback=null,this.onEdgeClickCallback=null,this.onEdgeDoubleClickCallback=null,this.onEdgeHoverStartCallback=null,this.onEdgeHoverMoveCallback=null,this.onEdgeHoverEndCallback=null,this.onZoomCallback=null,this.onRotationCallback=null,this.onResizeCallback=null,this.onLayoutStartCallback=null,this.onLayoutStopCallback=null,this.onDrawCallback=null,this.onReadyCallback=null,this._isReady=!1,this._resizeObserver&&(console.log("disconnecting resize observer"),this._resizeObserver.disconnect(),this._resizeObserver=null,delete this._resizeObserver),this.canvasElement&&(this.canvasElement.removeEventListener("click",this._clickEventListener),this.canvasElement.removeEventListener("dblclick",this._doubleClickEventListener),this.canvasElement.removeEventListener("mousemove",this._hoverMoveEventListener),this.canvasElement.removeEventListener("mouseleave",this._hoverLeaveEventListener),document.body.removeEventListener("mouseout",this._hoverLeaveWindowEventListener)),!e&&t){let r=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.pickingFramebuffer?.discard(),this._trackingFramebuffer?.discard();for(let a=0;a<r;++a)t.activeTexture(t.TEXTURE0+a),t.bindTexture(t.TEXTURE_2D,null),t.bindTexture(t.TEXTURE_CUBE_MAP,null);t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteBuffer(this.nodesPositionBuffer),t.deleteBuffer(this.nodesColorBuffer),t.deleteBuffer(this.nodesSizeBuffer),t.deleteBuffer(this.nodesSizeBuffer),t.deleteBuffer(this.nodesOutlineWidthBuffer),t.deleteBuffer(this.nodesOutlineColorBuffer),t.deleteBuffer(this.nodesIndexBuffer),this.edgesGeometry&&(t.deleteBuffer(this.edgesGeometry.edgeVertexTypeBuffer),t.deleteBuffer(this.edgesGeometry.verticesBuffer),t.deleteBuffer(this.edgesGeometry.colorBuffer),t.deleteBuffer(this.edgesGeometry.sizeBuffer)),this.fastEdgesGeometry&&(t.deleteBuffer(this.fastEdgesGeometry.indexBuffer),t.deleteBuffer(this.fastEdgesGeometry.vertexObject),t.deleteBuffer(this.fastEdgesGeometry.colorObject),t.deleteBuffer(this.fastEdgesGeometry.indexObject))}this.densityMap&&this.densityMap.cleanup(),this._autoCleanup&&(this._mutationObserver.disconnect(),this._mutationObserver=null),this.canvasElement&&(this.canvasElement.remove(),this.canvasElement=null),this.svgLayer&&(this.svgLayer.remove(),this.svgLayer=null),this.overlay&&(this.overlay.remove(),this.overlay=null),this.onCleanupCallback?.(),this._hasCleanup=!0}isReady(){return this._isReady}destroy(){this._hasCleanup||this.cleanup()}}let Yf=n=>{let e=n.split(/\s/);return e.length<2?null:[+e[0],+e[1]]},qf=n=>{let e=n.split(/\s/);return e.length<3?null:[+e[0],+e[1],+e[2]]},Xf=n=>isNaN(n)?0:+n,Kf=/#([ve]) \"(.+)\" ([sn]|v2|v3)/,Zf={s:String,n:Xf,v2:Yf,v3:qf},Jf=n=>{for(;n.lineIndex+1<n.lines.length&&n.lines[n.lineIndex].length==0;)n.lineIndex++;let t=n.lines[n.lineIndex].split(/\s/),r=0;if(t.length==0||t[0].toLowerCase()!="#vertices"||isNaN(t[1])||!Number.isInteger(+t[1]))throw`Malformed xnet data (Reading Vertices Header)[line: ${n.lineIndex}]
	> ${n.lines[n.lineIndex]}`;return r=+t[1],n.lineIndex++,r},nd=n=>{let e=[];for(;n.lineIndex<n.lines.length;){let r=n.lines[n.lineIndex],a=r.length;if(a==0){n.lineIndex++;continue}if(r[0]=="#")break;var t=r;r[0]=='"'&&r[a-1]=='"'&&(t=r.slice(1,-1)),e.push(t),n.lineIndex++}return e},ed=n=>{for(;n.lineIndex+1<n.lines.length&&n.lines[n.lineIndex].length==0;)n.lineIndex++;let t=n.lines[n.lineIndex].split(/\s/),r=!1,a=!1;if(t.length==0||t[0].toLowerCase()!="#edges")throw`Malformed xnet data (Reading Edges Header)[line: ${n.lineIndex}]
	> ${n.lines[n.lineIndex]}`;return t.forEach(o=>{o.toLowerCase()=="weighted"&&(r=!0),o.toLowerCase()=="nonweighted"&&(r=!1),o.toLowerCase()=="directed"&&(a=!0),o.toLowerCase()=="undirected"&&(a=!1)}),n.lineIndex++,{weighted:r,directed:a}},td=n=>{let e=[],t=[];for(;n.lineIndex<n.lines.length;){let r=n.lines[n.lineIndex];if(r.length==0){n.lineIndex++;continue}if(r[0]=="#")break;let o=r.split(/\s/),l=1;if(o.length<2)throw`Malformed xnet data (Reading Edges)[line: ${n.lineIndex}]
	> ${n.lines[n.lineIndex]}`;o.length>2&&(l=+o[2]),e.push([+o[0],+o[1]]),t.push(l),n.lineIndex++}return{edges:e,weights:t}},rd=n=>{for(;n.lineIndex+1<n.lines.length&&n.lines[n.lineIndex].length==0;)n.lineIndex++;let e=Kf.exec(n.lines[n.lineIndex]);if(e.length!=4)throw`Malformed xnet data [line: ${n.lineIndex}]
	> ${n.lines[n.lineIndex]}`;let t=e[1],r=e[2],a=e[3];return n.lineIndex++,{type:t,key:r,format:a}},id=(n,e)=>{let t=[],r=Zf[e.format];for(;n.lineIndex<n.lines.length;){let a=n.lines[n.lineIndex],o=a.length;if(o==0){n.lineIndex++;continue}if(a[0]=="#")break;let l=a;l[0]=='"'&&l[o-1]=='"'&&(l=l.slice(1,-1)),t.push(r(l)),n.lineIndex++}return t},l4=n=>{let e={lineIndex:0,lines:n.split(`
`)},t=Jf(e),r=nd(e),a={nodesCount:t,verticesProperties:{},edgesProperties:{}};if(r.length>0){if(r.length<t)throw`Malformed xnet data [line: ${e.lineIndex}]
	> ${e.lines[e.lineIndex]}`;a.labels=r}let o=ed(e);a.directed=o.directed,a.weighted=o.weighted;let l=td(e);a.edges=l.edges,a.weighted&&(a.weights=l.weights);do{for(;e.lineIndex<e.lines.length&&e.lines[e.lineIndex].length==0;)e.lineIndex++;if(!(e.lineIndex<e.lines.length))break;let s=rd(e),d=id(e,s);s.type=="e"?a.edgesProperties[s.key]=d:s.type=="v"&&(a.verticesProperties[s.key]=d)}while(e.lineIndex<e.lines.length);return a};async function ad(n){let e=await fetch(n).then(t=>t.text());return l4(e)}function c4(n){let e=n.nodesCount,t={},r=[];for(let a=0;a<e;a++)t[""+a]={ID:""+a},n.labels&&(t[""+a].Label=n.labels[a]);for(const[a,o]of Object.entries(n.verticesProperties))for(let l=0;l<e;l++)t[""+l][a]=o[l];for(let a=0;a<n.edges.length;a++)r.push({source:""+n.edges[a][0],target:""+n.edges[a][1]});return{nodes:t,edges:r}}let Sn={getModelTags:function(n){let e=n.getElementsByTagName("attributes"),t={},r=e.length,a;for(a=0;a<r;a++)t[e[a].getAttribute("class")]=e[a].childNodes;return t},nodeListToArray:function(n){let e=[];for(let t=0,r=n.length;t<r;++t)n[t].nodeName!=="#text"&&e.push(n[t]);return e},nodeListEach:function(n,e){for(let t=0,r=n.length;t<r;++t)n[t].nodeName!=="#text"&&e(n[t])},nodeListToHash:function(n,e){let t={};for(let r=0;r<n.length;r++)if(n[r].nodeName!=="#text"){let a=e(n[r]);t[a.key]=a.value}return t},namedNodeMapToObject:function(n){let e={};for(let t=0;t<n.length;t++)e[n[t].name]=n[t].value;return e},getFirstElementByTagNS:function(n,e,t){let r=n.getElementsByTagName(e+":"+t)[0];return r||(r=n.getElementsByTagNameNS(e,t)[0]),r||(r=n.getElementsByTagName(t)[0]),r},getAttributeNS:function(n,e,t){let r=n.getAttribute(e+":"+t);return r===void 0&&(r=n.getAttributeNS(e,t)),r===void 0&&(r=n.getAttribute(t)),r},enforceType:function(n,e){switch(n){case"boolean":e=e==="true";break;case"integer":case"long":case"float":case"double":e=+e;break;case"liststring":e=e?e.split("|"):[];break}return e},getRGB:function(n){return n[3]?"rgba("+n.join(",")+")":"rgb("+n.slice(0,-1).join(",")+")"}};function od(n){let e={id:n.id,label:n.label};return n.viz&&(e.viz=n.viz),n.attributes&&(e.attributes=n.attributes),e}function sd(n){let e={id:n.id,type:n.type||"undirected",label:n.label||"",source:n.source,target:n.target,weight:+n.weight||1};return n.viz&&(e.viz=n.viz),n.attributes&&(e.attributes=n.attributes),e}function ld(n){let t=new DOMParser().parseFromString(n,"text/xml"),r={};console.log(t),r.els={root:t.getElementsByTagName("gexf")[0],graph:t.getElementsByTagName("graph")[0],meta:t.getElementsByTagName("meta")[0],nodes:t.getElementsByTagName("node"),edges:t.getElementsByTagName("edge"),model:Sn.getModelTags(t)},r.hasViz=!!Sn.getAttributeNS(r.els.root,"xmlns","viz"),r.version=r.els.root.getAttribute("version")||"1.0",r.mode=r.els.graph.getAttribute("mode")||"static";let a=r.els.graph.getAttribute("defaultedgetype");r.defaultEdgetype=a||"undirected";function o(){let b={};return r.els.meta&&(b.lastmodifieddate=r.els.meta.getAttribute("lastmodifieddate"),Sn.nodeListEach(r.els.meta.childNodes,function(y){b[y.tagName.toLowerCase()]=y.textContent})),b}function l(b){let y=[];return r.els.model[b]&&Sn.nodeListEach(r.els.model[b],function(E){let C={id:E.getAttribute("id")||E.getAttribute("for"),type:E.getAttribute("type")||"string",title:E.getAttribute("title")||""},k=Sn.nodeListToArray(E.childNodes);k.length>0&&(C.defaultValue=k[0].textContent),y.push(C)}),y.length>0?y:!1}function s(b,y){let E={},C=y.getElementsByTagName("attvalue"),k=Sn.nodeListToHash(C,function(w){let x=Sn.namedNodeMapToObject(w.attributes);return{key:x.id||x.for,value:x.value}});return b.map(function(w){E[w.id]=!(w.id in k)&&"defaultValue"in w?Sn.enforceType(w.type,w.defaultValue):Sn.enforceType(w.type,k[w.id])}),E}function d(b){let y=[];return Sn.nodeListEach(r.els.nodes,function(E){let C={id:E.getAttribute("id"),label:E.getAttribute("label")||""};b&&(C.attributes=s(b,E)),r.hasViz&&(C.viz=u(E)),y.push(od(C))}),y}function u(b){let y={},E=Sn.getFirstElementByTagNS(b,"viz","color");if(E){let x=["r","g","b","a"].map(function(A){return E.getAttribute(A)});y.color=Sn.getRGB(x)}let C=Sn.getFirstElementByTagNS(b,"viz","position");C&&(y.position={},["x","y","z"].map(function(x){y.position[x]=+C.getAttribute(x)}));let k=Sn.getFirstElementByTagNS(b,"viz","size");k&&(y.size=+k.getAttribute("value"));let w=Sn.getFirstElementByTagNS(b,"viz","shape");return w&&(y.shape=w.getAttribute("value")),y}function h(b,y){let E=[];return Sn.nodeListEach(r.els.edges,function(C){let k=Sn.namedNodeMapToObject(C.attributes);"type"in k||(k.type=y),b&&(k.attributes=s(b,C)),r.hasViz&&(k.viz=p(C)),E.push(sd(k))}),E}function p(b){let y={},E=Sn.getFirstElementByTagNS(b,"viz","color");if(E){let w=["r","g","b","a"].map(function(x){return E.getAttribute(x)});y.color=Sn.getRGB(w)}let C=Sn.getFirstElementByTagNS(b,"viz","shape");C&&(y.shape=C.getAttribute("value"));let k=Sn.getFirstElementByTagNS(b,"viz","thickness");return k&&(y.thickness=+k.getAttribute("value")),y}let v=l("node"),m=l("edge"),_={version:r.version,mode:r.mode,defaultEdgeType:r.defaultEdgetype,meta:o(),model:{},nodes:d(v),edges:h(m,r.defaultEdgetype)};return v&&(_.model.node=v),m&&(_.model.edge=m),_}function cd(n){return ld(n)}let u4={parse:cd,version:"0.2.5"};function ud(n){return u4.parse(n)}async function hd(n){let e=await fetch(n).then(t=>t.text());return u4.parse(e)}function h4(n){let e={},t=[];for(let r of n.nodes){let a=r.id;if(e[a]={},r.attributes)for(const[o,l]of Object.entries(r.attributes||{}))e[a][o]=l;if(r.label?e[a].Label=r.label:r?.attributes.name?e[a].Label=r.attributes.name:e[a].Label=a,r.viz?.position){let o=r.viz?.position;e[a].Position=[o?.x||0,o?.y||0,o?.z||0]}if(r.viz?.color){let o=se(r.viz?.color);e[a].Color=[o.r/255,o.g/255,o.b/255]}}for(let r of n.edges||[]){let a={};a.source=r.source,a.target=r.target;for(const[o,l]of Object.entries(r.attributes||{}))a[o]=l;t.push(a)}return{nodes:e,edges:t}}function fd(n){var e=(`{
`+n+`
}`).replace(/^(\s*)(\w+)\s*\[/gm,'$1"$2": {').replace(/^(\s*)\]/gm,"$1},").replace(/^(\s*)(\w+)\s+(.+)$/gm,'$1"$2": $3,').replace(/,(\s*)\}/g,"$1}"),t={},r=[],a=[],o=0,l;e=e.replace(/^(\s*)"node"/gm,function(d,u){return u+'"node['+o+++']"'}),o=0,e=e.replace(/^(\s*)"edge"/gm,function(d,u){return u+'"edge['+o+++']"'}),e=e.replace(/: NaN/g,": null");try{l=JSON.parse(e)}catch{throw new SyntaxError("bad format")}if(!f4(l.graph))throw new SyntaxError("no graph tag");Q2(l.graph,function(d,u){var h=d.match(/^(\w+)\[(\d+)\]$/),p,v;h?(p=h[1],v=parseInt(h[2],10),p==="node"?r[v]=u:p==="edge"?a[v]=u:t[d]=u):t[d]=u});let s={};return r.forEach(function(d){s[d.id]=d}),t.nodes=s,t.edges=a,t}function dd(n,e){typeof n.toJSON=="function"&&(n=n.toJSON()),e=e||{};var t=n.nodes||[],r=n.edges||[],a=typeof e.indent=="string"?e.indent:"  ",o=a+a,l=e.graphAttributes||null,s=e.nodeAttributes||null,d=e.edgeAttributes||null,u=["graph ["];function h(p,v,m){f4(v)?(u.push(m+p+" ["),Q2(v,function(_,b){h(_,b,m+a)}),u.push(m+"]")):u.push(m+pd(p,v))}return Q2(n,function(p,v){p!=="nodes"&&p!=="edges"&&h(p,v,a)}),l&&Q2(l(n),function(p,v){h(p,v,a)}),t.forEach(function(p){u.push(a+"node ["),s&&s.forEach(function(v){h(v,p[v],o)}),u.push(a+"]")}),r.forEach(function(p){u.push(a+"edge ["),h("source",p.source,o),h("target",p.target,o),d&&d.forEach(function(v){h(v,p[v],o)}),u.push(a+"]")}),u.push("]"),u.join(`
`)}function f4(n){return n&&Object.prototype.toString.call(n)==="[object Object]"}function Q2(n,e){Object.keys(n).forEach(function(t){e(t,n[t])})}function pd(n,e){return typeof e=="boolean"?e=Number(e):e=JSON.stringify(e),n+" "+e}function d4(n){return fd(n)}async function vd(n){let e=await fetch(n).then(t=>t.text());return d4(e)}class md{constructor(e){this._filters={},this._updatedNodes=new Set,this._helios=e}get filters(){return this._filters}setFilter(e,t){this._filters[e]=t}removeFilter(e){delete this._filters[e]}applyFilters(){for(let e of this._helios.network.index2Node){let t=!1;for(let r in this._filters)t=t||this._filters[r](e);t!=e._filtered&&this._updatedNodes.add(e),e._filtered=t}}updatedNodes(e=!0){let t=new Set(this._updatedNodes);return e&&this._updatedNodes.clear(),t}}function di(n,e,t,r){return new(t||(t=Promise))(function(a,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function s(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){var h;u.done?a(u.value):(h=u.value,h instanceof t?h:new t(function(p){p(h)})).then(l,s)}d((r=r.apply(n,e||[])).next())})}const gd=["geforce 320m","geforce 8600","geforce 8600m gt","geforce 8800 gs","geforce 8800 gt","geforce 9400","geforce 9400m g","geforce 9400m","geforce 9600m gt","geforce 9600m","geforce fx go5200","geforce gt 120","geforce gt 130","geforce gt 330m","geforce gtx 285","google swiftshader","intel g41","intel g45","intel gma 4500mhd","intel gma x3100","intel hd 3000","intel q45","legacy","mali-2","mali-3","mali-4","quadro fx 1500","quadro fx 4","quadro fx 5","radeon hd 2400","radeon hd 2600","radeon hd 4670","radeon hd 4850","radeon hd 4870","radeon hd 5670","radeon hd 5750","radeon hd 6290","radeon hd 6300","radeon hd 6310","radeon hd 6320","radeon hd 6490m","radeon hd 6630m","radeon hd 6750m","radeon hd 6770m","radeon hd 6970m","sgx 543","sgx543"];function qs(n){return n=n.toLowerCase().replace(/.*angle ?\((.+)\)(?: on vulkan [0-9.]+)?$/i,"$1").replace(/\s(\d{1,2}gb|direct3d.+$)|\(r\)| \([^)]+\)$/g,"").replace(/(?:vulkan|opengl) \d+\.\d+(?:\.\d+)?(?: \((.*)\))?/,"$1")}const p4=typeof window>"u",Qe=(()=>{if(p4)return;const{userAgent:n,platform:e,maxTouchPoints:t}=window.navigator,r=/(iphone|ipod|ipad)/i.test(n),a=e==="iPad"||e==="MacIntel"&&t>0&&!window.MSStream;return{isIpad:a,isMobile:/android/i.test(n)||r||a,isSafari12:/Version\/12.+Safari/.test(n)}})();function bd(n,e,t){if(!t)return[e];const r=function(u){const h=`
    precision highp float;
    attribute vec3 aPosition;
    varying float vvv;
    void main() {
      vvv = 0.31622776601683794;
      gl_Position = vec4(aPosition, 1.0);
    }
  `,p=`
    precision highp float;
    varying float vvv;
    void main() {
      vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;
      enc = fract(enc);
      enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);
      gl_FragColor = enc;
    }
  `,v=u.createShader(35633),m=u.createShader(35632),_=u.createProgram();if(!(m&&v&&_))return;u.shaderSource(v,h),u.shaderSource(m,p),u.compileShader(v),u.compileShader(m),u.attachShader(_,v),u.attachShader(_,m),u.linkProgram(_),u.detachShader(_,v),u.detachShader(_,m),u.deleteShader(v),u.deleteShader(m),u.useProgram(_);const b=u.createBuffer();u.bindBuffer(34962,b),u.bufferData(34962,new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),35044);const y=u.getAttribLocation(_,"aPosition");u.vertexAttribPointer(y,3,5126,!1,0,0),u.enableVertexAttribArray(y),u.clearColor(1,1,1,1),u.clear(16384),u.viewport(0,0,1,1),u.drawArrays(4,0,3);const E=new Uint8Array(4);return u.readPixels(0,0,1,1,6408,5121,E),u.deleteProgram(_),u.deleteBuffer(b),E.join("")}(n),a="801621810",o="8016218135",l="80162181161",s=Qe?.isIpad?[["a7",l,12],["a8",o,15],["a8x",o,15],["a9",o,15],["a9x",o,15],["a10",o,15],["a10x",o,15],["a12",a,15],["a12x",a,15],["a12z",a,15],["a14",a,15],["m1",a,15]]:[["a7",l,12],["a8",o,12],["a9",o,15],["a10",o,15],["a11",a,15],["a12",a,15],["a13",a,15],["a14",a,15]];let d;return r==="80162181255"?d=s.filter(([,,u])=>u>=14):(d=s.filter(([,u])=>u===r),d.length||(d=s)),d.map(([u])=>`apple ${u} gpu`)}class Xs extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}const pi=[],Ks=[];function _d(n,e){if(n===e)return 0;const t=n;n.length>e.length&&(n=e,e=t);let r=n.length,a=e.length;for(;r>0&&n.charCodeAt(~-r)===e.charCodeAt(~-a);)r--,a--;let o,l=0;for(;l<r&&n.charCodeAt(l)===e.charCodeAt(l);)l++;if(r-=l,a-=l,r===0)return a;let s,d,u=0,h=0,p=0;for(;h<r;)Ks[h]=n.charCodeAt(l+h),pi[h]=++h;for(;p<a;)for(o=e.charCodeAt(l+p),s=p++,u=p,h=0;h<r;h++)d=o===Ks[h]?s:s+1,s=pi[h],u=pi[h]=s>u?d>u?u+1:d:d>s?s+1:d;return u}function wd(n){return n!=null}const yd=({mobileTiers:n=[0,15,30,60],desktopTiers:e=[0,15,30,60],override:t={},glContext:r,failIfMajorPerformanceCaveat:a=!1,benchmarksURL:o="https://unpkg.com/detect-gpu@5.0.37/dist/benchmarks"}={})=>di(void 0,void 0,void 0,function*(){const l={};if(p4)return{tier:0,type:"SSR"};const{isIpad:s=!!Qe?.isIpad,isMobile:d=!!Qe?.isMobile,screenSize:u=window.screen,loadBenchmarks:h=x=>di(void 0,void 0,void 0,function*(){const A=yield fetch(`${o}/${x}`).then(P=>P.json());if(parseInt(A.shift().split(".")[0],10)<4)throw new Xs("Detect GPU benchmark data is out of date. Please update to version 4x");return A})}=t;let{renderer:p}=t;const v=(x,A,P,M,N)=>({device:N,fps:M,gpu:P,isMobile:d,tier:x,type:A});let m,_="";if(p)p=qs(p),m=[p];else{const x=r||function(P,M=!1){const N={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:M,powerPreference:"high-performance",stencil:!1};P&&delete N.powerPreference;const F=window.document.createElement("canvas"),R=F.getContext("webgl",N)||F.getContext("experimental-webgl",N);return R??void 0}(Qe?.isSafari12,a);if(!x)return v(0,"WEBGL_UNSUPPORTED");const A=x.getExtension("WEBGL_debug_renderer_info");if(A&&(p=x.getParameter(A.UNMASKED_RENDERER_WEBGL)),!p)return v(1,"FALLBACK");_=p,p=qs(p),m=function(P,M,N){return M==="apple gpu"?bd(P,M,N):[M]}(x,p,d)}const b=(yield Promise.all(m.map(function(x){var A;return di(this,void 0,void 0,function*(){const P=(Y=>{const q=d?["adreno","apple","mali-t","mali","nvidia","powervr","samsung"]:["intel","apple","amd","radeon","nvidia","geforce"];for(const D of q)if(Y.includes(D))return D})(x);if(!P)return;const M=`${d?"m":"d"}-${P}${s?"-ipad":""}.json`,N=l[M]=(A=l[M])!==null&&A!==void 0?A:h(M);let F;try{F=yield N}catch(Y){if(Y instanceof Xs)throw Y;return}const R=function(Y){var q;const D=(Y=Y.replace(/\([^)]+\)/,"")).match(/\d+/)||Y.match(/(\W|^)([A-Za-z]{1,3})(\W|$)/g);return(q=D?.join("").replace(/\W|amd/g,""))!==null&&q!==void 0?q:""}(x);let z=F.filter(([,Y])=>Y===R);z.length||(z=F.filter(([Y])=>Y.includes(x)));const Q=z.length;if(Q===0)return;const I=x.split(/[.,()\[\]/\s]/g).sort().filter((Y,q,D)=>q===0||Y!==D[q-1]).join(" ");let O,[B,,,,L]=Q>1?z.map(Y=>[Y,_d(I,Y[2])]).sort(([,Y],[,q])=>Y-q)[0][0]:z[0],T=Number.MAX_VALUE;const{devicePixelRatio:U}=window,G=u.width*U*u.height*U;for(const Y of L){const[q,D]=Y,nn=q*D,rn=Math.abs(G-nn);rn<T&&(T=rn,O=Y)}if(!O)return;const[,,j,X]=O;return[T,j,B,X]})}))).filter(wd).sort(([x=Number.MAX_VALUE,A],[P=Number.MAX_VALUE,M])=>x===P?A-M:x-P);if(!b.length){const x=gd.find(A=>p.includes(A));return x?v(0,"BLOCKLISTED",x):v(1,"FALLBACK",`${p} (${_})`)}const[,y,E,C]=b[0];if(y===-1)return v(0,"BLOCKLISTED",E,y,C);const k=d?n:e;let w=0;for(let x=0;x<k.length;x++)y>=k[x]&&(w=x);return v(w,"BENCHMARK",E,y,C)});function xd(n){return n}var vi=1,j2=2,ta=3,B2=4,Zs=1e-6;function Ad(n){return"translate("+n+",0)"}function Ed(n){return"translate(0,"+n+")"}function Cd(n){return e=>+n(e)}function kd(n,e){return e=Math.max(0,n.bandwidth()-e*2)/2,n.round()&&(e=Math.round(e)),t=>+n(t)+e}function Sd(){return!this.__axis}function v4(n,e){var t=[],r=null,a=null,o=6,l=6,s=3,d=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=n===vi||n===B2?-1:1,h=n===B2||n===j2?"x":"y",p=n===vi||n===ta?Ad:Ed;function v(m){var _=r??(e.ticks?e.ticks.apply(e,t):e.domain()),b=a??(e.tickFormat?e.tickFormat.apply(e,t):xd),y=Math.max(o,0)+s,E=e.range(),C=+E[0]+d,k=+E[E.length-1]+d,w=(e.bandwidth?kd:Cd)(e.copy(),d),x=m.selection?m.selection():m,A=x.selectAll(".domain").data([null]),P=x.selectAll(".tick").data(_,e).order(),M=P.exit(),N=P.enter().append("g").attr("class","tick"),F=P.select("line"),R=P.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(N),F=F.merge(N.append("line").attr("stroke","currentColor").attr(h+"2",u*o)),R=R.merge(N.append("text").attr("fill","currentColor").attr(h,u*y).attr("dy",n===vi?"0em":n===ta?"0.71em":"0.32em")),m!==x&&(A=A.transition(m),P=P.transition(m),F=F.transition(m),R=R.transition(m),M=M.transition(m).attr("opacity",Zs).attr("transform",function(z){return isFinite(z=w(z))?p(z+d):this.getAttribute("transform")}),N.attr("opacity",Zs).attr("transform",function(z){var Q=this.parentNode.__axis;return p((Q&&isFinite(Q=Q(z))?Q:w(z))+d)})),M.remove(),A.attr("d",n===B2||n===j2?l?"M"+u*l+","+C+"H"+d+"V"+k+"H"+u*l:"M"+d+","+C+"V"+k:l?"M"+C+","+u*l+"V"+d+"H"+k+"V"+u*l:"M"+C+","+d+"H"+k),P.attr("opacity",1).attr("transform",function(z){return p(w(z)+d)}),F.attr(h+"2",u*o),R.attr(h,u*y).text(b),x.filter(Sd).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===j2?"start":n===B2?"end":"middle"),x.each(function(){this.__axis=w})}return v.scale=function(m){return arguments.length?(e=m,v):e},v.ticks=function(){return t=Array.from(arguments),v},v.tickArguments=function(m){return arguments.length?(t=m==null?[]:Array.from(m),v):t.slice()},v.tickValues=function(m){return arguments.length?(r=m==null?null:Array.from(m),v):r&&r.slice()},v.tickFormat=function(m){return arguments.length?(a=m,v):a},v.tickSize=function(m){return arguments.length?(o=l=+m,v):o},v.tickSizeInner=function(m){return arguments.length?(o=+m,v):o},v.tickSizeOuter=function(m){return arguments.length?(l=+m,v):l},v.tickPadding=function(m){return arguments.length?(s=+m,v):s},v.offset=function(m){return arguments.length?(d=+m,v):d},v}function Pd(n){return v4(j2,n)}function Md(n){return v4(ta,n)}var Js={},mi={},gi=34,Ft=10,bi=13;function m4(n){return new Function("d","return {"+n.map(function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function Id(n,e){var t=m4(n);return function(r,a){return e(t(r),a,n)}}function n0(n){var e=Object.create(null),t=[];return n.forEach(function(r){for(var a in r)a in e||t.push(e[a]=a)}),t}function Hn(n,e){var t=n+"",r=t.length;return r<e?new Array(e-r+1).join(0)+t:t}function Rd(n){return n<0?"-"+Hn(-n,6):n>9999?"+"+Hn(n,6):Hn(n,4)}function Bd(n){var e=n.getUTCHours(),t=n.getUTCMinutes(),r=n.getUTCSeconds(),a=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":Rd(n.getUTCFullYear())+"-"+Hn(n.getUTCMonth()+1,2)+"-"+Hn(n.getUTCDate(),2)+(a?"T"+Hn(e,2)+":"+Hn(t,2)+":"+Hn(r,2)+"."+Hn(a,3)+"Z":r?"T"+Hn(e,2)+":"+Hn(t,2)+":"+Hn(r,2)+"Z":t||e?"T"+Hn(e,2)+":"+Hn(t,2)+"Z":"")}function Nd(n){var e=new RegExp('["'+n+`
\r]`),t=n.charCodeAt(0);function r(p,v){var m,_,b=a(p,function(y,E){if(m)return m(y,E-1);_=y,m=v?Id(y,v):m4(y)});return b.columns=_||[],b}function a(p,v){var m=[],_=p.length,b=0,y=0,E,C=_<=0,k=!1;p.charCodeAt(_-1)===Ft&&--_,p.charCodeAt(_-1)===bi&&--_;function w(){if(C)return mi;if(k)return k=!1,Js;var A,P=b,M;if(p.charCodeAt(P)===gi){for(;b++<_&&p.charCodeAt(b)!==gi||p.charCodeAt(++b)===gi;);return(A=b)>=_?C=!0:(M=p.charCodeAt(b++))===Ft?k=!0:M===bi&&(k=!0,p.charCodeAt(b)===Ft&&++b),p.slice(P+1,A-1).replace(/""/g,'"')}for(;b<_;){if((M=p.charCodeAt(A=b++))===Ft)k=!0;else if(M===bi)k=!0,p.charCodeAt(b)===Ft&&++b;else if(M!==t)continue;return p.slice(P,A)}return C=!0,p.slice(P,_)}for(;(E=w())!==mi;){for(var x=[];E!==Js&&E!==mi;)x.push(E),E=w();v&&(x=v(x,y++))==null||m.push(x)}return m}function o(p,v){return p.map(function(m){return v.map(function(_){return h(m[_])}).join(n)})}function l(p,v){return v==null&&(v=n0(p)),[v.map(h).join(n)].concat(o(p,v)).join(`
`)}function s(p,v){return v==null&&(v=n0(p)),o(p,v).join(`
`)}function d(p){return p.map(u).join(`
`)}function u(p){return p.map(h).join(n)}function h(p){return p==null?"":p instanceof Date?Bd(p):e.test(p+="")?'"'+p.replace(/"/g,'""')+'"':p}return{parse:r,parseRows:a,format:l,formatBody:s,formatRows:d,formatRow:u,formatValue:h}}const Td=`0 0 0
0 0 0
0 0 0
1 0 0
1 1 1
1 1 1
2 1 1
3 2 2
3 2 2
4 2 3
5 3 3
6 3 4
7 4 4
9 4 5
10 5 6
12 6 7
13 6 7
14 7 8
16 8 9
17 8 10
19 9 11
20 10 12
21 11 13
23 11 14
24 12 15
26 13 15
27 14 16
28 14 17
30 15 18
31 16 19
32 17 19
34 17 20
35 18 21
37 19 22
38 19 23
39 20 23
41 21 24
42 21 25
43 22 25
45 23 26
46 23 27
48 24 27
49 24 28
50 25 29
52 26 29
53 26 30
55 27 31
56 27 31
57 28 32
59 29 32
60 29 33
61 30 34
63 30 34
64 31 35
66 31 35
67 32 36
68 33 36
70 33 37
71 34 37
73 34 38
74 35 38
76 35 39
77 36 39
78 36 39
80 37 40
81 37 40
83 38 41
84 38 41
85 39 41
87 39 42
88 40 42
90 40 42
91 41 43
93 41 43
94 42 43
95 42 44
97 43 44
98 43 44
100 44 44
101 44 44
103 45 45
104 45 45
105 46 45
107 46 45
108 47 45
110 47 45
111 48 45
112 48 46
114 49 46
115 50 46
117 50 46
118 51 46
119 51 46
121 52 46
122 52 46
124 53 46
125 53 46
126 54 46
128 55 46
129 55 45
131 56 45
132 56 45
133 57 45
135 58 45
136 58 45
137 59 45
139 59 44
140 60 44
141 61 44
143 61 44
144 62 44
145 63 43
146 64 43
148 64 43
149 65 43
150 66 42
151 66 42
153 67 42
154 68 42
155 69 41
156 70 41
158 70 41
159 71 41
160 72 40
161 73 40
162 74 40
163 75 39
165 75 39
166 76 39
167 77 38
168 78 38
169 79 38
170 80 37
171 81 37
172 82 37
173 83 36
174 84 36
175 85 36
177 86 35
178 87 35
179 88 35
180 89 35
181 90 34
182 91 34
183 92 34
184 93 33
184 94 33
185 95 33
186 96 33
187 97 32
188 98 32
189 100 32
190 101 32
191 102 31
192 103 31
193 104 31
194 105 31
195 106 31
195 107 30
196 109 30
197 110 30
198 111 30
199 112 30
200 113 30
200 114 30
201 116 29
202 117 29
203 118 29
204 119 29
204 121 29
205 122 29
206 123 29
207 124 29
207 125 29
208 127 29
209 128 29
210 129 30
210 131 30
211 132 30
212 133 30
213 134 30
213 136 30
214 137 30
215 138 31
215 140 31
216 141 31
217 142 32
217 143 32
218 145 32
219 146 33
219 147 33
220 149 33
221 150 34
221 151 34
222 153 35
223 154 35
223 155 35
224 157 36
224 158 36
225 160 37
226 161 38
226 162 38
227 164 39
227 165 39
228 166 40
228 168 40
229 169 41
230 171 42
230 172 42
231 174 43
231 175 44
232 176 45
232 178 45
233 179 46
233 181 47
234 182 48
234 184 48
235 185 49
235 186 50
236 188 51
236 189 52
237 191 52
237 192 53
238 194 54
238 195 55
239 197 56
239 198 57
240 200 58
240 201 59
241 203 60
241 204 61
242 206 61
242 207 62
242 209 63
243 210 64
243 212 65
244 213 66
244 215 67
245 216 68
245 218 69
245 219 70
246 221 71
246 223 73
247 224 74
247 226 75
247 227 76
248 229 77
248 230 78
248 232 79
249 234 80
249 235 81
249 237 82
250 238 83
250 240 85
251 242 86
251 243 87
`,Fd=`0 0 0
0 0 0
0 0 0
0 0 1
1 1 1
1 1 1
2 1 2
2 2 3
3 2 4
4 3 5
5 3 6
6 4 7
7 4 8
8 5 10
9 6 11
10 7 13
12 7 15
13 8 16
14 9 18
15 10 19
17 11 21
18 12 22
19 12 24
20 13 26
22 14 27
23 15 29
24 16 30
25 16 32
27 17 34
28 18 35
29 19 37
30 20 39
32 20 40
33 21 42
34 22 44
35 22 45
36 23 47
38 24 49
39 24 50
40 25 52
41 26 54
43 26 56
44 27 57
45 28 59
46 28 61
47 29 63
49 29 65
50 30 66
51 31 68
52 31 70
54 32 72
55 32 74
56 33 76
57 33 78
58 34 80
60 34 82
61 35 84
62 35 86
63 36 88
65 36 90
66 37 92
67 37 94
68 37 96
70 38 99
71 38 101
72 38 103
73 39 105
75 39 107
76 40 110
77 40 112
78 40 114
80 40 117
81 41 119
82 41 121
84 41 124
85 41 126
86 42 129
87 42 131
89 42 134
90 42 136
91 42 139
92 42 141
94 42 144
95 43 147
96 43 149
97 43 152
99 43 155
100 43 158
101 43 161
102 43 163
103 43 166
105 43 169
106 43 172
107 42 175
108 42 178
109 42 181
110 42 184
111 42 187
113 42 190
113 42 193
114 43 196
115 43 199
116 43 202
117 43 205
118 44 208
118 45 211
119 46 213
119 47 215
119 49 217
119 50 219
119 52 221
119 54 222
119 56 223
119 59 224
119 61 225
119 63 225
118 66 226
118 68 226
118 70 226
118 73 226
117 75 226
117 77 226
117 79 226
117 82 226
116 84 226
116 86 225
116 88 225
116 90 225
116 92 225
116 94 224
116 96 224
116 98 223
116 99 223
116 101 223
116 103 222
116 105 222
116 107 221
116 108 221
116 110 221
116 112 220
116 113 220
116 115 219
117 116 219
117 118 219
117 120 218
117 121 218
118 123 218
118 124 217
118 126 217
119 127 217
119 129 216
120 130 216
120 131 216
121 133 216
121 134 215
122 136 215
122 137 215
123 138 215
123 140 214
124 141 214
125 142 214
125 144 214
126 145 214
127 146 213
127 148 213
128 149 213
129 150 213
129 152 213
130 153 213
131 154 213
132 156 212
133 157 212
134 158 212
134 159 212
135 161 212
136 162 212
137 163 212
138 164 212
139 166 212
140 167 212
141 168 212
142 169 212
143 171 212
144 172 212
145 173 212
146 174 212
147 175 212
148 177 213
149 178 213
151 179 213
152 180 213
153 181 213
154 183 213
155 184 213
156 185 213
157 186 214
159 187 214
160 189 214
161 190 214
162 191 214
164 192 215
165 193 215
166 195 215
167 196 215
169 197 216
170 198 216
171 199 216
173 201 217
174 202 217
175 203 217
177 204 217
178 205 218
179 207 218
181 208 219
182 209 219
183 210 219
185 211 220
186 213 220
188 214 220
189 215 221
191 216 221
192 217 222
194 219 222
195 220 223
197 221 223
198 222 223
200 223 224
202 224 224
203 226 225
205 227 225
207 228 226
208 229 226
210 230 227
212 231 228
214 233 228
215 234 229
217 235 229
219 236 230
221 237 231
223 238 232
225 239 232
227 240 233
230 241 235
232 242 236
234 243 237
236 244 238
238 245 240
240 246 241
242 247 243
244 248 245
246 249 246
248 250 248
250 252 250
252 253 251
253 254 253
255 255 255
`,Od=`0 0 0
0 0 0
0 0 0
1 0 0
1 1 1
2 1 1
3 1 1
4 1 2
5 2 2
6 2 3
7 2 3
9 3 4
11 3 5
13 4 5
14 4 6
16 5 7
18 5 8
20 5 9
21 6 9
23 6 10
25 7 11
27 7 12
28 8 13
30 8 14
32 9 15
34 9 15
35 9 16
37 10 17
39 10 18
41 11 18
42 11 19
44 11 20
46 11 20
48 12 21
50 12 22
51 12 22
53 12 23
55 13 24
57 13 24
59 13 25
60 13 25
62 13 26
64 13 26
66 13 27
68 13 27
70 13 27
71 13 28
73 13 28
75 13 29
77 12 29
79 12 29
81 12 29
83 12 30
84 11 30
86 11 30
88 11 30
90 10 30
92 10 30
94 9 30
96 9 30
98 8 30
99 7 30
101 7 30
103 6 30
105 5 29
107 5 29
109 4 29
111 4 28
112 3 28
114 3 27
116 2 26
118 2 26
119 2 25
121 2 24
123 3 23
124 3 22
126 4 21
127 6 21
128 7 20
130 9 19
131 11 18
132 13 17
133 15 16
134 17 15
135 19 14
136 21 13
137 23 12
138 25 11
139 27 11
140 29 10
141 31 9
141 33 8
142 35 7
143 37 7
144 39 6
145 41 6
145 42 5
146 44 5
147 46 4
147 48 4
148 49 3
148 51 3
149 53 2
150 54 2
150 56 2
151 58 2
151 60 1
152 61 1
152 63 1
153 65 1
153 66 1
154 68 1
154 69 0
155 71 0
155 73 0
155 74 1
156 76 1
156 78 1
157 79 1
157 81 1
157 82 1
158 84 2
158 86 2
158 87 3
158 89 3
159 90 4
159 92 4
159 94 5
159 95 6
160 97 7
160 98 7
160 100 8
160 101 9
160 103 11
160 105 12
160 106 13
160 108 14
160 109 15
161 111 16
161 113 18
161 114 19
161 116 20
161 117 21
161 119 23
160 120 24
160 122 25
160 124 26
160 125 28
160 127 29
160 128 30
160 130 32
160 132 33
159 133 35
159 135 36
159 136 37
159 138 39
158 140 40
158 141 42
158 143 43
158 144 45
157 146 46
157 148 48
157 149 49
156 151 51
156 152 52
155 154 54
155 156 56
154 157 57
154 159 59
153 160 61
153 162 62
152 163 64
152 165 66
151 167 68
151 168 69
150 170 71
149 171 73
149 173 75
148 175 77
147 176 79
147 178 81
146 179 83
145 181 85
144 183 87
144 184 89
143 186 92
142 187 94
141 189 96
141 190 98
140 192 101
139 193 103
139 195 106
138 196 109
137 198 111
137 199 114
137 201 117
136 202 120
136 203 122
136 205 125
136 206 128
137 207 131
137 208 134
138 209 138
139 210 141
140 211 144
141 212 147
142 213 150
144 214 153
146 215 155
147 216 158
149 217 161
151 218 164
153 219 167
156 220 169
158 220 172
160 221 175
162 222 177
165 223 180
167 224 182
170 224 185
172 225 187
175 226 189
177 227 192
179 227 194
182 228 196
184 229 198
187 230 201
189 230 203
192 231 205
194 232 207
197 233 209
199 234 211
202 234 213
204 235 215
207 236 217
209 237 219
211 238 221
214 238 223
216 239 225
219 240 227
221 241 229
223 242 231
226 243 233
228 244 234
230 244 236
233 245 238
235 246 240
237 247 242
240 248 243
242 249 245
244 250 247
246 251 248
249 252 250
251 253 252
253 254 253
255 255 255
`,Dd=`0 0 0
0 0 0
0 0 0
0 0 1
1 1 1
1 1 1
1 1 2
2 2 3
2 2 3
3 3 4
4 4 5
4 4 6
5 5 8
6 6 9
7 7 10
7 8 12
8 9 13
9 10 15
10 11 16
11 12 18
12 13 19
13 14 21
14 15 22
15 16 24
16 17 25
17 18 27
18 19 28
19 20 29
20 21 31
21 22 32
21 23 34
22 24 35
23 25 37
24 26 38
25 27 40
26 28 41
27 28 43
27 29 44
28 30 46
29 31 47
30 32 49
31 33 50
31 34 52
32 35 53
33 36 55
34 37 56
34 38 58
35 38 60
36 39 61
37 40 63
37 41 64
38 42 66
39 43 67
39 44 69
40 45 71
41 46 72
42 47 74
42 47 76
43 48 77
44 49 79
44 50 81
45 51 82
45 52 84
46 53 86
47 54 87
47 54 89
48 55 91
48 56 92
49 57 94
50 58 96
50 59 98
51 60 99
51 61 101
52 61 103
52 62 105
53 63 107
53 64 108
54 65 110
54 66 112
55 67 114
55 68 116
56 69 118
56 69 119
57 70 121
57 71 123
57 72 125
58 73 127
58 74 129
59 75 131
59 76 133
59 77 135
59 78 137
60 79 139
60 80 141
60 80 143
60 81 144
61 82 146
61 83 148
61 84 150
61 85 152
61 86 154
61 87 156
61 88 158
61 89 160
61 90 162
61 91 164
61 92 166
61 93 168
61 94 170
60 95 172
60 96 174
60 97 176
59 98 178
59 100 179
58 101 181
58 102 183
57 103 185
56 104 186
56 105 188
55 107 189
54 108 190
53 109 192
53 110 193
52 112 194
51 113 195
51 114 196
50 115 196
49 117 197
49 118 198
49 119 198
49 121 198
49 122 199
49 123 199
49 124 199
49 126 200
50 127 200
50 128 200
51 129 200
52 130 200
53 132 200
54 133 200
55 134 200
56 135 200
57 136 200
58 137 200
60 139 200
61 140 200
62 141 201
64 142 201
65 143 201
67 144 201
68 145 201
70 146 201
71 147 201
73 149 201
75 150 201
76 151 201
78 152 201
79 153 201
81 154 201
83 155 201
84 156 201
86 157 201
88 158 201
90 159 201
91 160 201
93 161 202
95 162 202
96 163 202
98 164 202
100 165 202
102 166 202
103 167 202
105 168 203
107 169 203
109 171 203
110 172 203
112 173 203
114 174 204
116 175 204
117 176 204
119 177 204
121 178 205
123 179 205
125 180 205
126 181 206
128 182 206
130 183 206
132 184 206
133 185 207
135 186 207
137 187 207
139 188 208
141 189 208
142 190 209
144 191 209
146 192 209
148 193 210
150 194 210
151 195 211
153 196 211
155 197 212
157 198 212
159 199 213
160 200 213
162 201 214
164 202 214
166 203 215
168 204 215
170 205 216
171 206 216
173 207 217
175 208 217
177 209 218
179 210 219
180 211 219
182 212 220
184 213 220
186 214 221
188 215 222
190 216 223
192 217 223
193 218 224
195 220 225
197 221 225
199 222 226
201 223 227
203 224 228
204 225 228
206 226 229
208 227 230
210 228 231
212 229 232
214 230 233
216 231 233
218 232 234
219 233 235
221 235 236
223 236 237
225 237 238
227 238 239
229 239 240
231 240 241
233 241 242
234 242 243
236 243 244
238 245 245
240 246 246
242 247 247
244 248 248
246 249 249
248 250 250
249 251 252
251 253 253
253 254 254
255 255 255
`,Ld=`7 34 56
7 35 58
8 35 59
9 36 60
10 36 62
11 37 63
12 37 65
13 38 66
14 38 68
15 39 69
16 39 71
17 40 72
18 40 74
19 41 76
20 41 77
21 41 79
22 42 80
23 42 82
24 43 84
25 43 85
26 43 87
28 44 88
29 44 90
30 45 92
31 45 93
32 45 95
33 46 97
34 46 99
35 46 100
36 46 102
37 47 104
38 47 105
40 47 107
41 47 109
42 48 111
43 48 112
44 48 114
46 48 116
47 48 118
48 48 119
49 49 121
51 49 123
52 49 125
53 49 126
54 49 128
56 49 130
57 49 132
58 49 134
60 49 135
61 49 137
63 49 139
64 49 141
65 49 142
67 49 144
68 49 146
70 49 147
71 49 149
72 48 151
74 48 152
75 48 154
77 48 156
78 48 157
80 47 159
81 47 161
83 47 162
84 47 164
86 46 165
87 46 167
89 46 168
90 46 169
92 45 171
93 45 172
95 45 174
96 44 175
98 44 176
99 44 177
101 43 179
102 43 180
104 43 181
105 42 182
107 42 183
109 42 184
110 41 185
112 41 186
113 41 187
115 40 188
116 40 189
118 40 190
119 39 191
121 39 191
122 39 192
124 39 193
125 38 194
126 38 194
128 38 195
129 38 195
131 37 196
132 37 196
134 37 197
135 37 197
137 37 198
138 37 198
139 37 199
141 37 199
142 37 199
144 37 199
145 37 200
146 37 200
148 37 200
149 37 200
151 37 200
152 38 200
153 38 200
155 38 201
156 38 201
157 39 201
159 39 201
160 39 200
161 40 200
163 40 200
164 41 200
165 41 200
166 41 200
168 42 200
169 42 199
170 43 199
172 43 199
173 44 199
174 45 198
175 45 198
177 46 198
178 46 198
179 47 197
180 48 197
181 48 196
183 49 196
184 50 196
185 51 195
186 51 195
187 52 194
188 53 194
190 54 193
191 55 193
192 55 192
193 56 192
194 57 191
195 58 191
196 59 190
197 60 189
198 61 189
199 62 188
200 63 188
201 64 187
202 65 186
203 66 186
204 67 185
205 68 184
206 69 184
207 70 183
208 71 183
209 72 182
210 73 181
211 74 181
212 75 180
213 76 179
214 77 179
215 78 178
215 79 177
216 81 177
217 82 176
218 83 175
219 84 175
219 85 174
220 86 174
221 88 173
222 89 172
222 90 172
223 91 171
224 92 171
224 94 170
225 95 170
226 96 169
226 97 169
227 99 168
227 100 168
228 101 167
229 102 167
229 103 166
230 105 166
230 106 165
231 107 165
231 108 165
232 110 164
232 111 164
233 112 163
233 114 163
234 115 163
234 116 163
235 117 162
235 119 162
236 120 162
236 121 161
236 122 161
237 124 161
237 125 161
238 126 161
238 127 161
238 129 160
239 130 160
239 131 160
240 132 160
240 134 160
240 135 160
241 136 160
241 137 160
241 139 160
242 140 160
242 141 160
242 143 160
243 144 160
243 145 160
243 146 160
244 148 160
244 149 160
244 150 160
245 151 160
245 153 160
245 154 160
245 155 160
246 156 160
246 158 161
246 159 161
246 160 161
247 161 161
247 163 161
247 164 161
248 165 161
248 166 162
248 168 162
248 169 162
249 170 162
249 171 162
249 172 163
249 174 163
250 175 163
250 176 163
250 177 164
250 179 164
250 180 164
251 181 164
251 182 165
251 184 165
251 185 165
251 186 166
252 187 166
252 189 166
`,zd=`0 0 0
0 0 0
0 0 0
0 0 1
0 1 1
1 1 2
1 2 4
1 2 5
1 3 7
1 3 9
1 4 11
1 5 14
1 6 16
1 7 19
1 7 22
1 8 24
1 9 27
1 10 30
1 11 33
1 12 36
1 13 39
1 14 42
2 14 46
2 15 49
2 16 53
2 16 57
3 16 60
4 17 64
5 17 68
6 17 72
8 16 76
11 16 80
13 15 84
16 15 88
19 14 91
22 12 95
25 11 98
28 10 101
31 8 103
34 7 106
36 6 108
39 5 109
41 4 111
44 3 112
46 2 113
49 2 114
51 2 115
53 1 116
56 1 116
58 1 117
60 1 117
62 1 117
64 1 117
66 1 118
69 1 118
71 1 118
73 1 118
75 1 118
77 2 118
79 2 117
81 2 117
83 2 117
85 2 117
87 2 117
89 2 116
91 2 116
93 2 116
95 2 115
97 2 115
99 2 114
101 2 114
103 2 113
105 2 113
107 2 112
109 2 112
111 2 111
113 2 110
116 1 109
118 1 108
120 1 108
122 1 107
124 1 106
126 1 105
128 1 104
130 0 103
131 0 101
133 0 100
135 0 99
137 1 98
139 1 96
141 1 95
143 1 93
145 2 92
147 2 90
149 3 89
150 3 87
152 4 86
154 5 84
156 6 82
157 8 80
159 9 79
160 11 77
162 13 75
164 15 73
165 17 71
166 19 69
168 21 68
169 23 66
170 25 64
172 27 62
173 29 60
174 31 58
175 33 56
176 35 55
177 38 53
178 40 51
179 42 49
180 44 48
181 46 46
181 49 44
182 51 43
183 53 41
183 55 39
184 57 38
185 60 36
185 62 35
186 64 33
186 66 32
186 68 30
187 71 29
187 73 28
187 75 26
187 77 25
188 79 23
188 81 22
188 83 20
188 86 19
188 88 18
188 90 16
188 92 15
188 94 13
188 96 12
188 98 10
188 100 9
188 102 7
188 105 6
187 107 5
187 109 4
187 111 3
186 113 2
186 115 2
186 117 1
185 119 1
185 121 0
184 123 0
184 125 0
183 127 0
183 129 1
182 131 1
181 133 1
180 136 2
180 138 3
179 140 4
178 142 5
177 144 6
176 146 8
175 148 9
174 150 11
173 152 13
172 154 15
171 156 17
170 158 18
168 160 20
167 162 22
166 164 24
164 166 26
163 168 27
161 170 29
159 172 31
157 174 33
156 176 35
154 179 37
152 181 39
150 183 41
147 185 43
145 187 45
142 189 47
140 191 49
137 193 51
134 195 53
131 197 55
128 199 58
124 201 60
121 204 62
117 206 65
113 208 68
108 210 70
103 212 73
98 214 76
93 216 80
87 218 83
80 220 86
74 222 90
66 224 94
59 226 99
51 227 103
44 229 108
37 231 113
34 232 118
34 233 123
37 234 128
44 235 133
51 236 137
59 236 142
68 237 147
76 237 151
83 238 155
91 238 159
98 238 163
105 239 167
112 239 170
118 239 174
124 240 177
130 240 180
136 240 183
141 241 186
146 241 189
152 241 192
157 241 195
161 242 198
166 242 201
171 242 203
175 243 206
179 243 209
184 243 211
188 244 214
192 244 216
196 245 218
200 245 221
204 245 223
207 246 225
211 246 228
214 247 230
218 247 232
221 248 234
225 248 236
228 249 238
231 249 240
234 250 242
238 251 244
241 251 246
244 252 248
247 253 250
250 253 252
252 254 253
255 255 255
`,Vd=`0 0 0
0 0 0
0 0 0
0 0 0
1 1 1
1 1 1
1 1 2
2 2 2
2 2 3
3 3 4
3 3 4
4 4 5
5 5 6
5 6 7
6 6 9
7 7 10
7 8 11
8 9 12
9 10 14
10 11 15
11 12 16
12 13 17
13 14 19
14 15 20
15 16 21
15 17 23
16 18 24
17 19 25
18 20 26
19 21 28
19 22 29
20 23 30
21 24 31
22 25 32
23 26 34
23 27 35
24 28 36
25 29 37
25 30 39
26 30 40
27 31 41
28 32 42
28 33 44
29 34 45
30 35 46
30 36 47
31 37 49
32 38 50
32 39 51
33 40 52
33 41 54
34 42 55
35 42 56
35 43 57
36 44 59
36 45 60
37 46 61
37 47 62
38 48 64
38 49 65
39 50 66
40 51 67
40 52 69
41 53 70
41 54 71
41 54 72
42 55 74
42 56 75
43 57 76
43 58 77
44 59 79
44 60 80
44 61 81
45 62 82
45 63 84
46 64 85
46 65 86
46 66 87
47 67 89
47 68 90
47 69 91
48 70 92
48 71 94
48 72 95
48 73 96
49 74 97
49 74 98
49 75 100
49 76 101
49 77 102
50 78 103
50 79 104
50 80 105
50 81 106
50 82 108
50 83 109
51 85 110
51 86 111
51 87 112
51 88 113
51 89 114
51 90 115
51 91 115
52 92 116
52 93 117
52 94 118
52 95 119
53 96 119
53 97 120
53 98 121
54 99 122
54 100 122
55 101 123
55 102 123
56 103 124
57 104 125
57 105 125
58 106 126
59 107 126
60 108 127
60 109 127
61 110 128
62 111 128
63 112 129
64 112 129
65 113 130
66 114 130
67 115 131
68 116 131
69 117 132
70 118 132
71 119 133
72 120 133
73 121 133
74 122 134
75 123 134
76 124 135
77 125 135
78 126 136
79 127 136
80 127 137
81 128 137
82 129 138
84 130 138
85 131 139
86 132 139
87 133 140
88 134 140
89 135 141
90 136 141
92 137 142
93 138 142
94 139 143
95 140 143
96 140 144
97 141 144
99 142 145
100 143 145
101 144 146
102 145 146
103 146 147
105 147 147
106 148 148
107 149 148
108 150 149
109 151 149
111 152 150
112 153 150
113 154 151
114 154 151
115 155 152
117 156 152
118 157 153
119 158 154
120 159 154
122 160 155
123 161 155
124 162 156
125 163 156
127 164 157
128 165 157
129 166 158
130 167 159
132 168 159
133 169 160
134 170 160
135 171 161
137 172 161
138 173 162
139 174 163
140 175 163
142 176 164
143 177 164
144 178 165
146 179 165
147 180 166
148 181 167
149 181 167
151 182 168
152 183 168
153 184 169
155 185 170
156 186 170
157 187 171
159 188 171
160 189 172
161 190 173
163 191 173
164 193 174
166 194 174
167 195 175
168 196 176
170 197 176
171 198 177
172 199 177
174 200 178
175 201 179
177 202 179
178 203 180
180 204 180
181 205 181
183 206 182
184 207 182
185 208 183
187 209 183
188 210 184
190 211 185
191 212 185
193 213 186
195 214 187
196 215 187
198 216 188
199 217 189
201 218 189
202 219 190
204 220 191
206 221 191
207 222 192
209 223 193
210 224 193
212 225 194
214 226 195
215 227 195
217 229 196
219 230 197
221 231 198
222 232 198
224 233 199
226 234 200
228 235 201
229 236 202
231 237 203
233 238 203
235 239 204
236 240 205
238 241 206
238 240 205
237 238 203
236 237 201
235 235 200
235 234 198
234 233 196
233 231 195
233 230 193
232 228 191
231 227 190
231 226 188
230 224 187
230 223 185
229 222 183
228 220 182
228 219 180
227 217 179
227 216 177
226 215 176
225 213 174
225 212 173
224 211 171
224 209 170
223 208 168
222 207 167
222 205 166
221 204 164
221 202 163
220 201 161
220 200 160
219 198 159
219 197 157
218 196 156
217 194 155
217 193 154
216 192 152
216 190 151
215 189 150
215 188 149
214 186 147
213 185 146
213 184 145
212 182 144
212 181 143
211 180 142
211 179 140
210 177 139
209 176 138
209 175 137
208 173 136
208 172 135
207 171 134
207 169 133
206 168 132
205 167 131
205 166 130
204 164 129
203 163 128
203 162 128
202 161 127
202 159 126
201 158 125
200 157 124
200 156 123
199 154 123
198 153 122
198 152 121
197 151 120
196 149 120
196 148 119
195 147 118
194 146 117
193 145 117
193 143 116
192 142 116
191 141 115
190 140 114
190 139 114
189 138 113
188 136 113
187 135 112
187 134 112
186 133 111
185 132 111
184 131 110
183 130 110
183 129 109
182 127 109
181 126 108
180 125 108
179 124 107
178 123 107
177 122 107
176 121 106
176 120 106
175 119 105
174 118 105
173 117 105
172 116 104
171 115 104
170 114 104
169 113 103
168 112 103
167 111 103
166 110 102
165 109 102
164 108 102
163 107 101
162 106 101
161 105 101
160 104 100
159 103 100
158 102 100
157 101 100
156 100 99
155 99 99
154 98 99
153 97 98
152 96 98
151 96 98
150 95 97
149 94 97
148 93 97
147 92 97
146 91 96
145 90 96
144 89 96
143 88 95
142 88 95
140 87 95
139 86 95
138 85 94
137 84 94
136 83 94
135 83 93
134 82 93
133 81 93
132 80 92
130 79 92
129 78 92
128 78 91
127 77 91
126 76 91
125 75 90
124 74 90
122 74 90
121 73 89
120 72 89
119 71 89
118 71 88
117 70 88
115 69 87
114 68 87
113 68 87
112 67 86
111 66 86
110 65 85
108 65 85
107 64 85
106 63 84
105 63 84
103 62 83
102 61 83
101 60 82
100 60 82
99 59 81
97 58 81
96 58 80
95 57 80
94 56 79
92 56 78
91 55 78
90 54 77
88 54 77
87 53 76
86 53 75
85 52 75
83 51 74
82 51 73
81 50 73
80 49 72
78 49 71
77 48 70
76 48 69
74 47 69
73 46 68
72 46 67
71 45 66
69 44 65
68 44 64
67 43 63
66 43 62
64 42 61
63 41 60
62 41 59
61 40 59
59 39 58
58 39 57
57 38 55
56 37 54
54 37 53
53 36 52
52 35 51
51 35 50
50 34 49
48 33 48
47 33 47
46 32 46
45 31 45
44 31 44
43 30 43
41 29 42
40 28 41
39 28 39
38 27 38
37 26 37
36 25 36
34 25 35
33 24 34
32 23 33
31 22 32
30 22 30
29 21 29
28 20 28
26 19 27
25 18 26
24 18 25
23 17 24
22 16 22
21 15 21
19 14 20
18 13 19
17 12 18
16 12 16
15 11 15
14 10 14
12 9 13
11 8 12
10 7 10
9 6 9
8 6 8
7 5 7
6 4 6
5 4 5
4 3 4
3 3 3
3 2 3
2 2 2
2 1 2
1 1 1
1 1 1
0 0 0
0 0 0
0 0 0
`,Ud=`0 0 0
0 0 0
0 0 0
0 0 0
1 1 1
1 1 1
2 1 2
2 1 3
3 2 3
3 2 4
4 3 5
5 3 6
6 4 8
7 4 9
8 5 11
9 5 12
10 6 14
11 6 15
12 7 17
14 8 19
15 8 20
16 9 22
17 10 23
18 10 25
19 11 27
21 12 28
22 12 30
23 13 32
24 14 33
25 14 35
26 15 37
28 16 39
29 16 40
30 17 42
31 17 44
32 18 46
33 18 48
35 19 49
36 19 51
37 20 53
38 20 55
39 21 57
40 21 59
41 22 61
43 22 63
44 22 65
45 23 67
46 23 69
47 23 71
48 24 73
50 24 75
51 24 78
52 25 80
53 25 82
54 25 84
55 25 86
56 25 89
58 26 91
59 26 93
60 26 96
61 26 98
62 26 101
63 26 103
65 26 106
66 26 108
67 26 111
68 26 114
69 25 116
70 25 119
72 25 122
73 25 125
74 24 127
75 24 130
76 24 133
77 23 136
78 23 139
80 22 142
81 21 145
82 21 148
83 20 151
84 19 155
85 18 158
86 17 161
87 16 164
88 15 167
89 13 171
90 12 174
91 10 177
92 9 181
92 7 184
93 6 187
94 5 190
94 4 194
95 4 197
96 3 200
96 4 203
96 4 205
97 5 208
97 7 211
97 10 213
97 13 215
97 16 218
96 19 219
96 22 221
96 25 223
95 28 224
95 31 225
94 34 227
94 38 227
93 40 228
92 43 229
92 46 230
91 49 230
90 52 230
89 54 231
88 57 231
87 60 231
86 62 231
85 65 231
84 67 231
83 69 231
82 72 231
81 74 231
80 76 231
79 78 230
78 80 230
77 82 230
76 84 230
75 86 229
74 88 229
73 90 229
72 92 228
71 94 228
70 95 228
69 97 227
68 99 227
67 101 226
66 102 226
65 104 226
64 106 225
63 107 225
62 109 225
61 110 224
60 112 224
59 114 223
58 115 223
57 117 223
56 118 222
55 120 222
54 121 222
53 122 221
52 124 221
51 125 221
50 127 221
49 128 220
48 129 220
48 131 220
47 132 219
46 134 219
45 135 219
44 136 219
44 138 218
43 139 218
42 140 218
41 142 218
40 143 218
40 144 217
39 145 217
38 147 217
38 148 217
37 149 217
36 151 217
36 152 216
35 153 216
34 154 216
34 156 216
33 157 216
32 158 216
32 159 216
31 161 216
31 162 216
30 163 215
29 164 215
29 166 215
28 167 215
27 168 215
27 169 215
26 170 215
26 172 215
25 173 215
24 174 215
24 175 215
23 177 215
23 178 215
22 179 215
21 180 215
21 182 215
20 183 215
19 184 215
19 185 215
18 187 215
17 188 215
16 189 215
16 190 215
15 191 215
14 193 215
13 194 215
12 195 215
11 196 215
10 198 215
10 199 215
9 200 215
8 202 215
7 203 215
6 204 215
5 205 215
5 207 215
4 208 215
4 209 215
3 210 215
3 212 214
3 213 214
3 214 214
3 215 214
3 217 214
3 218 214
4 219 214
4 221 214
5 222 214
7 223 214
8 224 213
10 226 213
12 227 213
14 228 213
17 229 213
19 231 213
21 232 212
24 233 212
27 235 212
29 236 212
32 237 212
35 238 211
38 239 211
41 241 211
45 242 210
48 243 210
52 244 210
56 245 210
60 246 209
64 248 209
68 249 209
73 250 208
78 251 208
83 251 208
89 252 208
95 253 208
`,Gd=`0 0 0
0 0 0
0 0 0
0 0 0
0 1 1
1 1 1
1 1 2
1 1 2
2 2 3
2 2 4
2 3 5
3 3 6
3 4 8
3 5 9
4 5 10
4 6 12
5 7 14
5 7 15
6 8 17
6 9 18
6 10 20
7 11 21
7 12 23
7 13 24
8 14 26
8 15 27
8 16 29
8 17 31
8 18 32
8 19 33
8 20 35
8 21 36
8 22 38
7 23 39
7 24 40
7 25 41
6 26 42
6 27 43
5 29 44
4 30 45
4 31 46
4 32 47
3 33 47
3 34 48
3 35 48
2 36 48
2 37 49
2 38 49
3 39 49
3 40 50
3 41 50
4 42 50
4 43 50
5 44 51
6 44 51
7 45 51
7 46 51
9 47 51
10 48 51
11 49 51
12 50 52
13 51 52
14 51 52
16 52 52
17 53 52
18 54 52
19 55 52
21 55 52
22 56 52
23 57 52
24 58 53
25 59 53
27 59 53
28 60 53
29 61 53
30 62 53
31 63 53
32 63 53
34 64 53
35 65 53
36 66 53
37 66 53
39 67 53
40 68 53
41 69 53
42 69 52
43 70 52
45 71 52
46 72 52
47 72 52
49 73 52
50 74 52
51 74 51
53 75 51
54 76 51
55 76 51
57 77 51
58 78 50
59 78 50
61 79 50
62 80 49
64 80 49
65 81 49
67 82 49
68 82 48
70 83 48
71 83 48
73 84 47
74 85 47
76 85 46
78 86 46
79 86 46
81 87 45
82 87 45
84 88 44
86 88 44
87 89 44
89 89 43
91 90 43
92 90 42
94 91 42
96 91 42
97 92 41
99 92 41
101 93 40
103 93 40
104 94 40
106 94 39
108 94 39
110 95 39
111 95 38
113 96 38
115 96 38
117 96 37
118 97 37
120 97 37
122 97 37
124 98 36
126 98 36
127 98 36
129 99 36
131 99 36
133 99 35
135 100 35
137 100 35
138 100 35
140 100 35
142 101 35
144 101 35
146 101 35
148 101 35
149 102 35
151 102 35
153 102 35
155 102 36
157 102 36
159 103 36
160 103 36
162 103 36
164 103 37
166 103 37
168 104 37
170 104 38
171 104 38
173 104 39
175 104 39
177 104 40
179 105 40
181 105 41
182 105 41
184 105 42
186 105 43
188 105 43
190 105 44
192 106 45
194 106 46
195 106 46
197 106 47
199 106 48
201 106 49
203 106 50
205 106 51
206 106 52
208 106 53
210 107 54
212 107 55
214 107 56
215 107 58
217 107 59
219 107 60
221 107 62
222 107 63
224 108 65
226 108 66
227 108 68
229 108 70
230 109 72
232 109 74
233 110 76
234 110 78
235 111 81
236 112 83
237 113 86
238 114 89
238 115 91
239 116 94
239 117 97
240 119 99
240 120 102
240 121 104
241 123 107
241 124 109
241 126 112
241 127 114
241 129 116
242 130 119
242 132 121
242 133 123
242 135 126
242 136 128
242 138 130
242 140 133
242 141 135
242 143 137
242 144 139
242 146 141
242 147 144
242 149 146
242 150 148
242 152 150
242 153 152
242 155 154
242 156 156
242 158 158
242 160 160
242 161 163
242 163 165
242 164 167
242 166 169
242 167 171
242 169 173
242 170 175
242 172 177
241 173 179
241 175 181
241 176 183
241 178 185
241 179 186
241 181 188
241 182 190
241 184 192
241 185 194
241 187 196
241 188 198
241 190 200
241 191 202
`,Hd=`0 0 0
0 0 0
0 0 0
0 0 1
1 1 1
1 1 1
1 1 2
2 2 3
2 2 3
3 3 4
3 3 5
4 4 7
4 5 8
5 6 9
5 6 11
6 7 12
7 8 14
8 9 15
8 10 17
9 11 18
10 12 20
11 13 21
11 14 23
12 15 24
13 16 26
13 17 28
14 18 29
15 19 31
15 20 32
16 21 34
17 22 35
17 23 37
18 24 38
18 25 40
19 26 41
19 27 43
20 28 45
20 29 46
20 30 48
21 31 49
21 32 51
21 33 53
22 34 54
22 35 56
22 36 57
22 37 59
22 38 60
22 39 62
22 40 63
22 41 65
22 42 67
22 43 68
22 44 70
22 45 71
22 46 73
21 47 74
21 48 75
20 49 77
20 50 78
19 51 80
18 52 81
17 53 82
17 55 83
16 56 84
15 57 86
13 58 87
12 59 87
11 60 88
10 61 89
9 62 90
8 63 91
7 65 91
6 66 92
5 67 92
5 68 93
5 69 93
5 70 93
6 71 94
7 72 94
7 73 94
9 74 94
10 75 95
12 76 95
13 77 95
15 78 95
17 79 95
19 80 95
21 81 96
22 82 96
24 82 96
26 83 96
28 84 96
30 85 96
31 86 96
33 87 97
35 88 97
37 89 97
38 89 97
40 90 97
42 91 97
44 92 98
45 93 98
47 94 98
49 94 98
50 95 98
52 96 99
53 97 99
55 98 99
57 98 99
58 99 99
60 100 100
61 101 100
63 102 100
64 102 100
66 103 101
67 104 101
69 105 101
70 106 101
72 106 102
73 107 102
75 108 102
76 109 102
78 110 103
79 110 103
81 111 103
82 112 104
84 113 104
85 114 104
86 114 105
88 115 105
89 116 105
91 117 105
92 118 106
93 119 106
95 119 106
96 120 107
98 121 107
99 122 107
100 123 107
102 123 108
103 124 108
105 125 108
106 126 108
108 127 108
109 127 109
110 128 109
112 129 109
113 130 109
115 131 109
116 131 110
118 132 110
119 133 110
121 134 110
122 135 110
124 135 110
125 136 110
127 137 110
128 138 110
130 139 110
132 139 110
133 140 110
135 141 110
136 142 110
138 142 110
140 143 110
141 144 110
143 145 110
145 145 110
146 146 110
148 147 110
150 148 110
152 148 110
153 149 110
155 150 110
157 151 110
159 151 110
160 152 110
162 153 109
164 153 109
166 154 109
168 155 109
170 156 109
171 156 109
173 157 109
175 158 108
177 158 108
179 159 108
181 160 108
183 161 108
184 161 107
186 162 107
188 163 107
190 163 106
192 164 106
194 165 106
196 165 105
198 166 105
200 167 105
201 168 104
203 168 104
205 169 103
207 170 103
209 171 102
211 171 101
212 172 101
214 173 100
216 174 99
218 175 99
219 176 98
221 177 97
222 178 96
224 179 95
225 180 95
226 181 94
227 182 93
229 183 93
230 184 92
231 185 91
232 187 91
233 188 90
233 189 90
234 191 89
235 192 89
236 193 89
237 195 88
237 196 88
238 198 88
239 199 88
239 200 87
240 202 87
241 203 87
241 205 87
242 206 87
243 208 87
243 209 87
244 211 86
244 212 86
245 214 86
245 215 86
246 217 86
247 218 86
247 220 86
248 221 86
248 223 86
249 225 86
249 226 86
250 228 86
250 229 86
251 231 85
251 233 85
252 234 85
252 236 85
252 237 85
253 239 85
253 241 85
254 242 85
`,Qd=`0 0 0
0 0 0
0 0 0
0 0 1
1 1 1
1 1 1
1 1 2
1 2 3
2 2 4
2 3 5
3 3 6
3 4 7
4 4 8
5 5 10
6 5 11
6 6 13
7 7 14
9 7 16
10 8 17
11 9 19
13 9 20
14 10 22
15 11 23
17 11 24
18 12 26
19 13 27
21 13 28
22 14 29
24 14 31
25 15 32
27 16 33
28 16 34
30 17 35
31 17 36
33 18 37
34 18 38
36 19 40
37 19 41
39 19 42
40 20 43
42 20 44
43 21 44
45 21 45
46 21 46
48 22 47
49 22 48
51 22 49
52 23 50
54 23 51
55 23 52
57 24 52
59 24 53
60 24 54
62 24 55
63 25 55
65 25 56
67 25 57
68 25 58
70 25 58
71 25 59
73 26 59
75 26 60
76 26 61
78 26 61
80 26 62
81 26 62
83 26 63
85 26 63
86 26 64
88 26 64
90 26 65
91 26 65
93 26 66
95 26 66
96 26 66
98 26 67
100 26 67
101 26 67
103 26 68
105 26 68
106 26 68
108 25 69
110 25 69
112 25 69
113 25 69
115 25 69
117 24 69
118 24 70
120 24 70
122 24 70
124 23 70
125 23 70
127 23 70
129 22 70
130 22 70
132 21 70
134 21 69
136 21 69
137 20 69
139 20 69
141 19 69
143 19 69
144 18 68
146 18 68
148 17 68
149 16 67
151 16 67
153 15 67
155 15 66
156 14 66
158 13 65
160 13 65
161 12 64
163 12 64
165 11 63
166 11 63
168 10 62
170 10 61
171 10 61
173 10 60
174 9 59
176 9 58
177 10 58
179 10 57
181 10 56
182 11 55
183 12 54
185 12 53
186 13 52
188 14 51
189 16 51
191 17 50
192 18 49
193 20 48
194 21 47
196 23 46
197 24 45
198 26 44
199 27 43
200 29 42
202 31 41
203 33 40
204 34 39
205 36 38
206 38 37
207 40 36
208 41 35
209 43 34
210 45 33
211 47 32
211 48 31
212 50 31
213 52 30
214 54 29
215 56 28
216 57 27
216 59 26
217 61 25
218 63 24
219 64 24
219 66 23
220 68 22
221 70 21
221 71 20
222 73 19
223 75 18
223 76 18
224 78 17
225 80 16
225 81 15
226 83 14
226 85 13
227 87 12
228 88 12
228 90 11
229 92 10
229 93 9
230 95 8
230 97 7
231 98 7
231 100 6
232 102 5
232 103 5
233 105 4
233 107 4
234 108 3
234 110 3
234 111 2
235 113 2
235 115 2
236 116 2
236 118 1
236 120 1
237 121 1
237 123 1
237 125 1
238 126 1
238 128 1
238 129 1
239 131 1
239 133 2
239 134 2
240 136 2
240 138 3
240 139 3
240 141 4
241 143 5
241 144 5
241 146 6
241 147 7
242 149 8
242 151 9
242 152 10
242 154 11
242 156 12
243 157 13
243 159 14
243 161 15
243 162 17
243 164 18
243 166 19
243 167 20
243 169 21
243 171 22
244 172 23
244 174 25
244 175 26
244 177 27
244 179 28
244 180 29
244 182 31
244 184 32
244 185 33
244 187 34
244 189 35
244 191 37
244 192 38
244 194 39
244 196 40
243 197 41
243 199 43
243 201 44
243 202 45
243 204 46
243 206 48
243 207 49
243 209 50
242 211 51
242 213 53
242 214 54
242 216 55
242 218 57
241 219 58
241 221 59
241 223 60
241 225 62
`,jd=`0 0 0
0 0 0
0 0 0
0 0 0
1 1 0
1 1 1
1 1 1
1 2 1
2 2 2
2 3 2
3 3 2
3 4 3
4 5 3
4 6 4
5 6 4
5 7 5
6 8 5
6 9 6
7 10 6
8 11 7
8 12 7
9 14 8
10 15 8
11 16 9
11 17 10
12 18 10
13 19 11
14 20 12
14 21 12
15 22 13
16 23 13
16 24 14
17 25 15
18 26 15
18 27 16
19 28 16
20 29 17
20 30 17
21 30 18
21 31 18
22 32 19
23 33 19
23 34 20
24 35 20
24 36 21
25 37 21
26 38 22
26 39 22
27 40 23
27 41 23
28 42 24
28 43 24
29 44 24
29 45 25
30 46 25
30 47 26
31 48 26
31 49 27
32 50 27
32 50 27
33 51 28
33 52 28
34 53 28
34 54 29
35 55 29
35 56 30
36 57 30
36 58 30
37 59 31
37 60 31
38 61 31
38 62 32
38 63 32
39 64 32
39 65 33
40 66 33
40 67 33
41 68 34
41 68 34
41 69 34
42 70 34
42 71 35
42 72 35
43 73 35
43 74 36
43 75 36
44 76 36
44 77 36
44 78 37
45 79 37
45 80 37
45 81 38
46 82 38
46 83 38
46 84 38
46 85 39
47 86 39
47 87 39
47 88 39
47 89 40
48 90 40
48 91 40
48 92 40
48 93 41
48 94 41
48 95 41
49 96 41
49 97 41
49 98 42
49 99 42
49 100 42
49 101 42
49 102 43
49 103 43
49 104 43
49 105 43
49 106 44
49 107 44
49 108 44
49 109 44
49 110 45
48 111 45
48 112 45
48 113 46
48 114 46
47 115 46
47 116 47
47 118 47
46 119 47
46 120 48
45 121 48
45 122 49
44 123 49
43 124 50
43 125 50
42 126 51
41 127 52
40 128 52
39 130 53
38 131 54
36 132 55
35 133 56
34 134 57
32 135 58
31 136 59
29 137 60
28 138 61
26 139 62
25 141 64
23 142 65
22 143 66
21 144 68
19 145 69
18 146 71
17 147 72
16 148 74
14 149 75
14 150 77
13 151 78
12 152 80
11 153 81
11 154 83
11 155 84
11 156 86
11 157 88
11 158 89
11 159 91
12 160 92
12 161 94
13 162 96
14 163 97
15 164 99
16 165 100
17 165 102
18 166 103
19 167 105
20 168 107
22 169 108
23 170 110
24 171 112
25 172 113
27 173 115
28 174 116
29 175 118
31 176 120
32 177 121
33 178 123
34 179 124
36 180 126
37 181 128
38 182 129
40 183 131
41 184 132
42 185 134
44 186 136
45 186 137
46 187 139
48 188 141
49 189 142
50 190 144
51 191 145
53 192 147
54 193 149
55 194 150
57 195 152
58 196 154
59 197 155
61 198 157
62 199 158
63 200 160
64 201 162
66 202 163
67 203 165
68 204 167
69 205 168
71 206 170
72 207 172
73 208 173
74 209 175
76 210 177
77 211 178
78 212 180
79 213 182
81 214 183
82 215 185
83 216 187
84 217 188
86 218 190
87 219 192
88 220 193
89 221 195
90 222 197
92 223 198
93 224 200
94 225 202
95 226 203
97 227 205
98 228 207
99 229 208
100 230 210
101 231 212
102 232 213
104 233 215
105 234 217
106 235 219
107 236 220
108 237 222
110 239 224
111 240 226
112 241 227
113 242 229
114 243 231
115 244 233
117 245 234
118 246 236
119 247 238
`,$d=`0 0 0
0 0 0
0 0 0
0 0 0
1 1 1
1 1 1
1 2 2
1 2 2
2 3 3
2 4 4
2 4 5
3 5 6
3 6 7
3 7 8
4 8 10
4 9 11
4 10 13
5 12 14
5 13 15
5 14 17
5 15 18
6 16 20
6 18 21
6 19 23
7 20 24
7 21 25
7 22 27
7 23 28
7 24 30
7 25 31
8 27 33
8 28 34
8 29 36
8 30 37
8 31 39
8 32 41
8 33 42
8 34 44
8 35 45
8 36 47
7 37 48
7 38 50
7 39 52
7 40 53
7 41 55
7 43 57
6 44 58
6 45 60
6 46 62
6 47 64
5 48 65
5 49 67
5 50 69
4 50 71
4 51 73
4 52 74
4 53 76
3 54 78
3 55 80
3 56 82
3 57 84
3 58 86
3 59 88
3 60 90
3 61 92
3 62 93
3 63 95
3 63 97
4 64 99
4 65 102
5 66 104
5 67 106
6 68 108
7 68 110
8 69 112
9 70 114
10 71 116
11 72 118
13 72 120
14 73 122
16 74 124
17 75 126
19 75 129
20 76 131
22 77 133
23 77 135
25 78 137
27 79 139
28 79 141
30 80 143
32 81 146
33 81 148
35 82 150
37 82 152
39 83 154
41 84 156
42 84 158
44 85 160
46 85 162
48 86 164
50 86 166
52 87 168
53 88 170
55 88 172
57 89 174
59 89 176
61 90 178
63 90 180
65 91 182
67 91 184
69 92 186
71 92 188
73 92 190
75 93 191
77 93 193
79 94 195
81 94 197
83 95 199
85 95 200
87 96 202
88 96 203
90 97 205
92 97 207
94 97 208
96 98 210
98 98 211
100 99 213
102 99 214
104 100 215
106 100 217
108 101 218
110 101 219
112 102 220
114 102 221
116 103 223
118 103 224
120 104 225
122 104 226
124 105 226
126 105 227
128 106 228
130 107 229
132 107 230
134 108 230
136 108 231
137 109 231
139 110 232
141 111 232
143 111 233
145 112 233
146 113 233
148 114 233
150 115 233
152 115 233
153 116 234
155 117 233
156 118 233
158 119 233
160 120 233
161 121 233
162 122 233
164 123 233
165 125 232
167 126 232
168 127 232
169 128 231
171 129 231
172 130 231
173 132 230
174 133 230
176 134 230
177 135 229
178 137 229
179 138 228
180 139 228
181 141 228
182 142 227
183 143 227
184 144 227
185 146 227
186 147 226
187 149 226
188 150 226
189 151 226
190 153 225
191 154 225
192 155 225
193 157 225
194 158 225
195 159 225
196 161 225
197 162 225
197 164 225
198 165 225
199 166 225
200 168 225
201 169 225
202 171 225
203 172 225
203 173 225
204 175 225
205 176 225
206 178 225
207 179 225
208 181 226
208 182 226
209 183 226
210 185 226
211 186 226
212 188 227
213 189 227
214 190 227
214 192 227
215 193 228
216 195 228
217 196 228
218 198 229
219 199 229
219 201 230
220 202 230
221 203 230
222 205 231
223 206 231
224 208 232
225 209 232
225 211 233
226 212 233
227 214 234
228 215 234
229 216 235
230 218 235
231 219 236
232 221 237
233 222 237
234 224 238
235 225 238
235 227 239
236 228 240
237 230 240
238 231 241
239 233 242
240 234 243
241 236 243
242 237 244
243 239 245
244 240 246
245 242 246
246 243 247
248 245 248
249 246 249
250 247 250
251 249 251
252 250 252
253 252 253
254 253 254
255 255 255
254 253 254
253 252 253
252 250 251
251 249 250
250 247 249
249 246 248
248 244 247
248 243 246
247 241 245
246 240 244
245 238 243
244 237 242
243 235 241
243 234 240
242 232 239
241 230 238
240 229 237
240 227 236
239 226 235
238 224 234
238 223 233
237 221 232
237 219 231
236 218 230
236 216 229
235 215 228
234 213 227
234 212 226
233 210 225
233 208 224
232 207 223
232 205 222
232 204 221
231 202 220
231 200 219
230 199 218
230 197 218
229 196 217
229 194 216
229 192 215
228 191 214
228 189 213
228 188 212
227 186 210
227 184 209
227 183 208
226 181 207
226 179 206
226 178 205
225 176 204
225 175 203
225 173 202
225 171 201
224 170 200
224 168 199
224 166 198
224 165 197
223 163 195
223 161 194
223 160 193
223 158 192
222 156 191
222 155 189
222 153 188
222 152 187
222 150 186
221 148 184
221 147 183
221 145 182
221 143 180
221 141 179
220 140 178
220 138 176
220 136 175
220 135 173
219 133 172
219 131 170
219 130 169
219 128 167
218 126 166
218 125 164
218 123 163
218 121 161
217 120 159
217 118 158
217 117 156
216 115 154
216 113 152
216 112 150
215 110 149
215 109 147
215 107 145
214 105 143
214 104 141
213 102 139
213 101 137
212 99 135
212 98 133
211 97 131
210 95 129
210 94 127
209 92 125
209 91 122
208 90 120
207 88 118
206 87 116
206 86 114
205 85 112
204 83 109
203 82 107
202 81 105
201 80 103
200 79 101
199 78 99
198 77 96
197 76 94
196 75 92
195 74 90
194 73 88
193 72 86
192 71 84
191 70 82
190 69 80
189 69 77
187 68 75
186 67 73
185 66 71
184 66 69
182 65 67
181 64 66
180 64 64
178 63 62
177 62 60
176 62 58
174 61 56
173 61 54
172 60 53
170 60 51
169 59 49
167 59 47
166 58 46
164 58 44
163 57 42
161 57 41
160 57 39
158 56 37
157 56 36
155 55 34
154 55 33
152 55 31
150 54 30
149 54 29
147 54 27
146 53 26
144 53 24
143 53 23
141 53 22
139 52 20
138 52 19
136 52 18
134 51 17
133 51 16
131 51 14
129 51 13
128 50 12
126 50 11
124 50 10
123 49 9
121 49 8
119 49 7
118 49 7
116 48 6
114 48 5
113 48 5
111 47 4
109 47 4
108 47 4
106 46 3
104 46 3
103 46 3
101 45 2
99 45 2
98 45 2
96 44 2
94 44 2
93 43 2
91 43 2
90 43 2
88 42 2
86 42 2
85 41 2
83 41 2
81 40 2
80 40 2
78 39 2
77 39 2
75 38 2
73 38 3
72 37 3
70 37 3
69 36 3
67 36 3
66 35 3
64 35 3
63 34 3
61 33 3
59 33 4
58 32 4
56 32 4
55 31 4
53 30 4
52 30 4
50 29 4
49 28 4
48 28 4
46 27 4
45 26 4
43 26 4
42 25 4
40 24 4
39 23 4
37 23 4
36 22 4
34 21 4
33 20 4
32 19 4
30 19 4
29 18 4
27 17 4
26 16 4
25 15 4
23 14 4
22 13 4
20 13 3
19 12 3
17 11 3
16 10 3
15 9 3
13 8 3
12 7 2
10 6 2
9 5 2
8 5 2
6 4 2
5 3 1
4 3 1
3 2 1
3 2 1
2 1 1
1 1 1
1 1 0
1 0 0
0 0 0
0 0 0
`,Wd=`36 5 29
37 6 30
39 6 32
40 6 34
41 6 35
43 7 37
44 7 38
46 7 40
47 7 42
48 7 43
50 7 45
51 7 46
53 7 48
55 7 49
56 7 50
58 6 52
59 6 53
61 6 54
62 5 55
64 5 57
66 5 58
67 4 59
69 4 60
71 4 61
72 3 61
74 3 62
76 2 63
77 2 64
79 2 64
81 1 65
82 1 65
84 1 65
85 1 66
87 1 66
88 1 66
90 1 66
91 1 66
93 1 66
94 1 66
96 2 66
97 2 66
99 2 66
100 3 66
102 4 66
103 4 66
104 5 65
106 6 65
107 7 65
108 8 65
109 9 64
111 10 64
112 11 64
113 12 63
115 13 63
116 15 63
117 16 62
118 17 62
119 18 62
121 19 61
122 20 61
123 22 60
124 23 60
125 24 59
126 25 59
127 26 59
129 27 58
130 28 58
131 29 57
132 31 57
133 32 56
134 33 56
135 34 56
136 35 55
137 36 55
138 37 54
139 38 54
140 39 53
141 40 53
142 42 52
143 43 52
144 44 51
145 45 51
146 46 50
147 47 50
148 48 49
149 49 49
150 50 48
151 51 48
152 53 47
153 54 47
154 55 46
155 56 46
156 57 45
157 58 45
158 59 44
158 60 44
159 61 43
160 63 43
161 64 42
162 65 42
163 66 41
164 67 40
165 68 40
165 69 39
166 70 39
167 72 38
168 73 37
169 74 37
169 75 36
170 76 36
171 77 35
172 79 34
173 80 34
173 81 33
174 82 32
175 83 32
176 84 31
176 86 30
177 87 29
178 88 29
178 89 28
179 91 27
180 92 26
180 93 26
181 94 25
182 95 24
182 97 23
183 98 22
184 99 21
184 100 20
185 102 19
185 103 19
186 104 18
187 106 17
187 107 16
188 108 15
188 109 13
189 111 12
189 112 11
190 113 10
190 115 9
191 116 8
191 117 7
191 119 6
192 120 5
192 121 4
193 123 3
193 124 2
193 126 2
194 127 1
194 128 1
194 130 0
194 131 0
195 133 0
195 134 0
195 136 1
195 137 1
195 138 1
195 140 2
195 141 3
196 143 5
196 144 6
196 146 8
196 147 10
196 149 13
195 150 15
195 152 17
195 153 20
195 155 22
195 157 25
195 158 28
195 160 30
194 161 33
194 163 36
194 164 39
194 166 42
194 167 45
193 169 48
193 170 51
193 172 54
193 173 57
193 174 60
193 176 63
193 177 66
193 178 69
193 180 73
193 181 76
193 182 79
193 184 82
193 185 85
193 186 88
193 188 91
194 189 94
194 190 97
194 191 100
194 192 103
195 194 106
195 195 109
196 196 112
196 197 115
197 198 118
197 199 121
198 200 124
198 201 127
199 203 130
199 204 132
200 205 135
201 206 138
202 207 141
202 208 144
203 209 146
204 210 149
205 211 152
205 212 155
206 213 157
207 214 160
208 215 163
209 216 165
210 217 168
211 218 171
212 219 173
213 220 176
214 221 179
215 222 181
216 223 184
217 224 186
218 225 189
219 226 192
220 227 194
221 228 197
222 229 199
223 230 202
225 231 204
226 232 207
227 233 209
228 234 212
229 235 214
231 236 216
232 237 219
233 238 221
234 239 223
236 240 226
237 241 228
238 242 230
240 243 233
241 245 235
242 246 237
244 247 239
245 248 241
247 249 244
248 250 246
249 251 248
251 252 249
252 253 251
254 254 253
255 255 255
`,Yd=`0 0 0
0 0 0
0 0 0
1 0 0
1 1 0
2 1 1
2 1 1
3 2 1
4 2 1
5 2 1
7 3 2
8 3 2
9 4 2
11 5 2
13 5 3
14 6 3
16 6 3
18 7 3
19 8 4
21 9 4
22 9 4
24 10 5
26 11 5
27 12 5
29 12 5
30 13 6
32 14 6
34 14 6
35 15 6
37 16 7
38 16 7
40 17 7
42 17 7
43 18 8
45 19 8
46 19 8
48 20 8
50 20 9
51 21 9
53 21 9
54 22 9
56 22 10
58 23 10
59 23 10
61 24 10
63 24 11
64 25 11
66 25 11
68 25 11
69 26 12
71 26 12
73 26 12
74 27 12
76 27 12
78 27 13
79 28 13
81 28 13
83 28 13
85 28 14
86 29 14
88 29 14
90 29 15
91 29 15
93 29 15
95 30 15
97 30 16
98 30 16
100 30 16
102 30 17
104 30 17
106 30 17
107 30 18
109 30 18
111 30 19
113 30 19
114 30 19
116 30 20
118 30 20
120 30 21
122 30 21
124 29 22
125 29 22
127 29 23
129 29 24
131 29 24
133 28 25
135 28 25
136 28 26
138 27 27
140 27 28
142 26 28
144 26 29
146 25 30
148 25 31
149 24 32
151 23 33
153 23 34
155 22 35
157 21 36
159 20 37
161 19 38
162 19 39
164 18 41
166 16 42
168 15 43
170 14 45
171 13 46
173 12 47
175 10 49
177 9 51
179 8 52
180 6 54
182 5 56
184 4 57
185 3 59
187 2 61
189 1 63
190 1 65
192 1 67
193 1 69
195 1 71
196 1 73
198 2 76
199 2 78
200 4 80
201 5 82
203 7 85
204 9 87
205 12 90
206 14 92
207 17 94
208 19 97
209 22 99
210 24 101
211 27 104
212 29 106
213 32 109
214 34 111
214 37 113
215 39 116
216 41 118
216 44 120
217 46 122
218 49 125
218 51 127
219 53 129
219 56 131
220 58 133
220 60 135
221 63 137
221 65 139
221 67 141
222 70 143
222 72 145
222 74 147
223 76 149
223 78 151
223 81 152
223 83 154
224 85 156
224 87 158
224 89 159
224 92 161
224 94 163
225 96 164
225 98 166
225 100 167
225 102 169
225 104 170
225 106 172
225 108 173
225 110 174
225 112 176
226 114 177
226 116 178
226 118 180
226 120 181
226 122 182
226 124 184
226 126 185
226 128 186
226 130 187
226 132 188
226 134 189
226 136 191
226 138 192
226 139 193
227 141 194
227 143 195
227 145 196
227 147 197
227 149 198
227 151 199
227 152 200
227 154 201
227 156 202
227 158 203
227 160 204
227 161 205
228 163 206
228 165 207
228 167 208
228 168 209
228 170 210
228 172 211
228 174 211
229 175 212
229 177 213
229 179 214
229 181 215
229 182 216
230 184 217
230 186 218
230 187 218
230 189 219
231 191 220
231 192 221
231 194 222
232 196 223
232 197 223
232 199 224
232 201 225
233 202 226
233 204 227
234 206 228
234 207 228
234 209 229
235 211 230
235 212 231
236 214 232
236 216 233
237 217 233
237 219 234
238 220 235
238 222 236
239 224 237
239 225 238
240 227 238
241 228 239
241 230 240
242 232 241
243 233 242
243 235 243
244 236 243
245 238 244
246 240 245
247 241 246
248 243 247
248 244 248
249 246 249
250 247 250
251 249 251
252 250 252
253 252 253
254 253 254
255 255 255
`,qd=`0 0 0
0 0 0
0 0 0
0 0 1
1 1 1
1 1 2
2 1 2
2 2 3
3 2 4
3 3 5
4 3 6
5 4 7
6 5 9
7 5 10
8 6 12
9 7 13
10 8 15
11 9 17
12 10 18
13 11 20
15 12 22
16 13 23
17 13 25
18 14 27
19 15 28
20 16 30
21 17 31
22 18 33
23 19 35
24 20 37
25 21 38
26 21 40
27 22 42
28 23 43
29 24 45
30 25 47
31 26 49
32 26 51
33 27 52
34 28 54
35 29 56
36 30 58
37 30 60
38 31 62
39 32 63
40 33 65
41 33 67
41 34 69
42 35 71
43 36 73
44 36 75
45 37 77
46 38 79
47 39 81
48 39 83
48 40 85
49 41 87
50 41 90
51 42 92
52 43 94
53 44 96
53 44 98
54 45 100
55 46 103
56 46 105
56 47 107
57 48 109
58 48 112
59 49 114
59 50 116
60 50 119
61 51 121
61 52 124
62 52 126
63 53 128
63 54 131
64 55 133
65 55 136
65 56 138
66 57 141
66 57 143
67 58 146
67 59 149
68 59 151
68 60 154
69 61 156
69 62 159
69 62 162
70 63 164
70 64 167
70 65 170
70 65 172
70 66 175
71 67 177
71 68 180
71 69 183
71 70 185
70 71 188
70 72 190
70 73 192
70 74 195
69 75 197
69 76 199
68 77 202
68 78 204
67 79 206
66 81 208
65 82 209
65 83 211
64 85 213
63 86 214
61 88 215
60 89 217
59 91 218
58 92 219
56 94 220
55 95 220
53 97 221
52 99 222
51 100 222
49 102 223
48 103 223
46 105 223
44 107 224
43 108 224
41 110 224
40 111 224
39 113 224
37 114 224
36 116 224
34 117 224
33 119 224
32 120 224
31 122 224
30 123 224
29 125 223
28 126 223
27 128 223
26 129 223
26 130 223
25 132 222
25 133 222
25 135 222
25 136 222
26 137 221
26 139 221
27 140 221
27 141 221
28 143 220
29 144 220
30 145 220
31 147 220
33 148 219
34 149 219
35 150 219
37 152 219
38 153 218
40 154 218
42 155 218
43 157 218
45 158 217
47 159 217
49 160 217
50 161 217
52 163 217
54 164 216
56 165 216
58 166 216
60 167 216
62 168 216
64 170 216
66 171 215
68 172 215
70 173 215
72 174 215
74 175 215
76 176 215
78 178 215
80 179 215
82 180 214
84 181 214
86 182 214
88 183 214
91 184 214
93 185 214
95 186 214
97 187 214
99 188 214
101 189 214
104 190 214
106 192 214
108 193 214
111 194 214
113 195 214
115 196 214
117 197 214
120 198 214
122 199 214
125 200 214
127 201 214
129 202 215
132 203 215
134 203 215
137 204 215
139 205 215
141 206 216
144 207 216
146 208 216
149 209 216
151 210 217
154 211 217
156 212 218
159 213 218
161 214 218
163 215 219
166 216 219
168 216 220
171 217 220
173 218 221
175 219 222
178 220 222
180 221 223
183 222 223
185 223 224
187 224 225
190 225 226
192 226 226
194 227 227
197 227 228
199 228 229
201 229 230
203 230 230
206 231 231
208 232 232
210 233 233
212 234 234
215 235 235
217 236 236
219 237 237
221 238 238
223 239 239
226 240 240
228 241 241
230 242 242
232 243 243
234 244 244
236 245 245
238 246 246
241 247 247
243 248 248
245 249 249
247 251 250
249 252 252
251 253 253
253 254 254
255 255 255
`,Xd=`39 4 18
40 4 19
42 5 20
43 5 21
45 5 22
46 5 24
47 6 25
49 6 26
50 6 27
52 6 28
53 6 29
55 7 30
56 7 31
58 7 32
59 7 33
61 7 34
62 7 35
64 7 36
65 7 37
67 7 38
68 7 39
70 7 40
71 7 41
73 7 42
74 7 42
76 7 43
77 7 44
79 7 45
80 6 45
82 6 46
83 6 47
85 6 47
87 6 48
88 6 48
90 5 49
91 5 49
93 5 50
94 5 50
96 5 50
97 5 51
99 5 51
100 4 51
102 4 51
103 4 51
105 4 51
106 5 51
108 5 52
109 5 52
111 5 52
112 5 52
114 6 51
115 6 51
116 7 51
118 7 51
119 8 51
120 8 51
122 9 51
123 10 50
124 11 50
126 12 50
127 12 50
128 13 50
130 14 49
131 15 49
132 16 49
133 17 49
135 18 48
136 19 48
137 20 48
138 21 47
140 22 47
141 23 47
142 24 46
143 25 46
144 26 46
145 28 46
146 29 45
148 30 45
149 31 45
150 32 44
151 33 44
152 34 43
153 35 43
154 36 43
155 37 42
156 38 42
157 40 42
158 41 41
159 42 41
160 43 41
161 44 40
162 45 40
163 46 40
164 48 39
165 49 39
166 50 39
167 51 38
168 52 38
169 53 38
170 54 37
171 56 37
172 57 37
173 58 36
174 59 36
175 60 36
175 62 35
176 63 35
177 64 35
178 65 34
179 67 34
180 68 34
181 69 34
181 70 33
182 71 33
183 73 33
184 74 33
184 75 33
185 76 32
186 78 32
187 79 32
187 80 32
188 82 32
189 83 32
189 84 32
190 86 32
191 87 32
191 88 32
192 89 32
193 91 32
193 92 32
194 93 32
194 95 33
195 96 33
195 98 33
196 99 34
196 100 34
197 102 34
197 103 35
198 104 35
198 106 36
199 107 36
199 109 37
200 110 38
200 111 38
200 113 39
201 114 40
201 116 41
202 117 42
202 118 43
202 120 44
203 121 45
203 123 46
203 124 47
203 125 48
204 127 50
204 128 51
204 130 52
205 131 54
205 133 55
205 134 56
205 135 58
205 137 59
206 138 61
206 140 62
206 141 64
206 143 66
206 144 67
207 145 69
207 147 71
207 148 73
207 150 74
207 151 76
207 152 78
208 154 80
208 155 82
208 157 84
208 158 86
208 159 88
208 161 90
209 162 92
209 163 94
209 165 96
209 166 98
209 167 100
210 169 102
210 170 104
210 171 106
210 173 108
211 174 111
211 175 113
211 177 115
211 178 117
212 179 119
212 181 121
212 182 124
212 183 126
213 184 128
213 186 130
213 187 132
214 188 135
214 189 137
214 191 139
215 192 141
215 193 144
216 194 146
216 196 148
216 197 150
217 198 153
217 199 155
218 201 157
218 202 159
219 203 162
219 204 164
220 205 166
220 207 168
221 208 171
221 209 173
222 210 175
222 212 177
223 213 180
224 214 182
224 215 184
225 216 186
225 217 189
226 219 191
227 220 193
227 221 195
228 222 198
229 223 200
230 225 202
230 226 204
231 227 206
232 228 209
233 229 211
233 230 213
234 232 215
235 233 217
236 234 220
237 235 222
238 236 224
239 238 226
240 239 228
241 240 230
242 241 232
243 242 235
244 243 237
245 244 239
246 246 241
247 247 243
248 248 244
249 249 246
250 250 248
252 251 250
253 253 252
254 254 253
255 255 255
253 254 254
251 253 253
250 252 252
248 251 251
246 250 250
244 249 249
242 248 248
240 247 247
238 246 247
236 245 246
235 244 245
233 243 244
231 242 243
229 241 242
227 240 241
225 239 241
223 239 240
221 238 239
219 237 238
217 236 238
215 235 237
214 234 236
212 233 235
210 232 235
208 231 234
206 230 233
204 229 233
202 229 232
200 228 231
198 227 231
196 226 230
194 225 230
192 224 229
190 223 229
188 222 228
186 222 227
184 221 227
182 220 226
179 219 226
177 218 226
175 217 225
173 216 225
171 216 224
169 215 224
167 214 224
165 213 223
163 212 223
161 211 223
159 211 222
157 210 222
155 209 222
152 208 221
150 207 221
148 206 221
146 205 221
144 205 221
142 204 220
140 203 220
138 202 220
136 201 220
134 200 220
131 199 220
129 198 220
127 197 220
125 197 220
123 196 220
121 195 220
119 194 220
117 193 220
115 192 220
113 191 220
112 190 220
110 189 220
108 188 220
106 187 220
104 186 220
102 185 220
101 184 220
99 183 220
97 182 220
96 181 220
94 180 220
93 179 221
91 178 221
90 177 221
88 176 221
87 175 221
86 174 221
84 173 221
83 172 221
82 171 221
81 169 221
80 168 221
79 167 221
78 166 221
77 165 222
76 164 222
75 163 222
75 162 222
74 160 222
73 159 222
73 158 222
72 157 222
72 156 222
71 155 222
71 153 222
71 152 222
70 151 222
70 150 222
70 149 222
70 147 222
70 146 222
69 145 222
69 144 221
69 143 221
69 141 221
70 140 221
70 139 221
70 138 221
70 136 221
70 135 221
70 134 221
71 133 221
71 131 221
71 130 220
71 129 220
72 127 220
72 126 220
72 125 220
73 123 220
73 122 219
73 121 219
74 119 219
74 118 219
75 117 219
75 115 218
76 114 218
76 113 218
76 111 218
77 110 217
77 109 217
78 107 217
78 106 217
79 104 216
79 103 216
80 102 216
80 100 215
81 99 215
81 97 215
82 96 214
82 94 214
83 93 214
83 91 213
83 90 213
84 88 212
84 87 212
85 85 211
85 84 211
86 82 211
86 81 210
86 79 210
87 78 209
87 76 208
88 74 208
88 73 207
88 71 207
89 70 206
89 68 205
89 66 205
90 65 204
90 63 203
90 61 202
91 60 202
91 58 201
91 56 200
91 54 199
91 53 198
92 51 197
92 49 196
92 47 195
92 46 194
92 44 193
92 42 192
92 40 191
92 38 190
92 36 188
92 35 187
92 33 186
92 31 184
92 29 183
92 27 181
92 26 179
91 24 178
91 22 176
91 21 174
91 19 172
90 18 170
90 16 168
89 15 166
89 14 164
88 13 161
87 13 159
87 12 157
86 12 154
85 11 152
84 11 150
83 11 147
82 12 145
82 12 142
81 12 140
79 13 137
78 13 135
77 13 132
76 14 130
75 14 127
74 15 125
73 15 122
71 15 120
70 16 118
69 16 115
68 16 113
67 17 111
65 17 108
64 17 106
63 17 104
62 17 102
60 17 100
59 17 98
58 17 96
56 17 94
55 17 92
54 17 90
53 17 88
51 17 86
50 17 84
49 17 82
47 16 80
46 16 78
45 16 77
44 16 75
42 15 73
41 15 71
40 15 69
38 15 68
37 14 66
36 14 64
35 13 63
33 13 61
32 13 59
31 12 58
29 12 56
28 11 54
27 11 53
26 10 51
24 10 50
`,Kd=`65 2 6
66 2 7
67 2 8
68 2 8
70 1 10
71 1 11
72 1 12
73 1 13
74 1 14
76 1 16
77 0 17
78 0 18
79 0 20
80 0 21
81 0 23
82 0 24
83 0 26
84 0 27
85 0 29
86 0 30
87 0 32
88 0 33
89 0 35
90 1 37
91 1 38
92 1 40
93 1 42
94 1 43
94 1 45
95 2 47
96 2 48
97 2 50
98 3 52
99 3 53
100 3 55
100 4 57
101 4 59
102 4 61
103 5 62
104 5 64
104 6 66
105 6 68
106 6 70
107 7 71
107 7 73
108 8 75
109 9 77
110 9 79
110 10 81
111 10 82
112 11 84
113 12 86
113 12 88
114 13 90
115 13 92
115 14 94
116 15 96
117 15 98
117 16 100
118 16 102
118 17 103
119 18 105
120 18 107
120 19 109
121 19 111
122 20 113
122 21 115
123 21 117
123 22 119
124 23 121
124 23 123
125 24 125
126 24 127
126 25 129
127 26 131
127 26 133
128 27 135
128 28 137
129 28 139
129 29 141
130 30 143
130 30 145
131 31 147
131 32 149
131 32 151
132 33 153
132 34 155
133 34 157
133 35 159
133 36 161
134 37 163
134 37 165
135 38 167
135 39 170
135 40 172
136 41 174
136 41 176
136 42 178
136 43 180
137 44 182
137 45 183
137 46 185
137 47 187
138 48 189
138 49 191
138 50 193
138 51 195
138 51 197
138 53 199
138 54 201
138 55 203
138 56 204
138 57 206
138 58 208
138 59 210
138 60 212
138 61 213
138 62 215
138 64 217
138 65 218
138 66 220
138 67 221
137 68 223
137 70 225
137 71 226
137 72 227
136 74 229
136 75 230
136 76 232
135 78 233
135 79 234
135 80 235
134 82 237
134 83 238
133 85 239
133 86 240
132 88 241
132 89 242
131 90 243
131 92 244
130 93 245
129 95 245
129 96 246
128 98 247
127 99 248
127 101 248
126 102 249
125 104 250
124 105 250
124 107 251
123 108 251
122 110 252
121 111 252
121 113 252
120 114 253
119 115 253
118 117 253
117 118 254
116 120 254
115 121 254
115 123 254
114 124 254
113 126 255
112 127 255
111 128 255
110 130 255
109 131 255
108 133 255
107 134 255
106 135 255
106 137 255
105 138 255
104 139 255
103 141 255
102 142 255
101 143 255
100 145 255
99 146 254
98 147 254
97 149 254
96 150 254
95 151 254
95 152 254
94 154 254
93 155 254
92 156 253
91 157 253
90 159 253
89 160 253
88 161 253
87 162 253
87 163 252
86 165 252
85 166 252
84 167 252
83 168 252
82 169 252
81 171 251
80 172 251
80 173 251
79 174 251
78 175 251
77 176 251
76 178 250
75 179 250
75 180 250
74 181 250
73 182 250
72 183 249
71 184 249
70 186 249
70 187 249
69 188 249
68 189 249
67 190 248
66 191 248
65 192 248
65 193 248
64 195 248
63 196 248
62 197 247
61 198 247
60 199 247
60 200 247
59 201 247
58 202 246
57 203 246
56 205 246
56 206 246
55 207 246
54 208 246
53 209 245
53 210 245
52 211 245
51 212 245
51 213 244
50 214 244
50 215 244
49 217 244
49 218 244
48 219 243
48 220 243
48 221 243
48 222 242
48 223 242
49 224 242
49 225 241
50 226 241
51 227 241
52 228 240
53 229 240
55 230 240
58 231 239
60 232 239
64 233 238
68 233 238
`,Zd=`0 0 0
0 0 0
0 0 0
0 0 1
1 1 1
1 1 1
1 1 2
2 2 3
2 2 4
3 3 5
3 3 6
4 4 7
4 5 8
5 5 10
6 6 12
7 7 13
8 8 15
8 9 16
9 9 18
10 10 20
11 11 21
13 12 23
14 13 24
15 14 26
16 15 28
17 16 29
18 17 31
19 17 33
20 18 34
21 19 36
22 20 38
23 20 39
24 21 41
25 22 43
26 23 45
27 23 46
28 24 48
30 25 50
31 25 51
32 26 53
33 27 55
34 27 57
35 28 58
37 28 60
38 29 62
39 30 64
41 30 65
42 31 67
43 31 69
45 32 70
46 32 72
47 32 74
49 33 75
50 33 77
52 34 79
53 34 80
55 35 82
56 35 83
58 35 84
59 36 86
61 36 87
62 36 88
64 37 89
65 37 91
67 38 92
68 38 92
70 38 93
71 39 94
73 39 95
74 40 95
76 41 95
77 41 96
78 42 96
80 43 96
81 44 96
82 44 96
83 45 97
84 46 97
86 47 96
87 48 96
88 49 96
89 50 96
90 51 96
91 52 96
91 53 96
92 54 96
93 55 96
94 56 96
95 58 96
96 59 96
97 60 96
97 61 96
98 62 96
99 63 96
100 64 96
100 65 96
101 66 96
102 67 96
103 68 96
103 70 96
104 71 96
105 72 96
106 73 97
106 74 97
107 75 97
108 76 97
108 77 97
109 78 97
110 79 98
110 80 98
111 81 98
112 83 98
112 84 98
113 85 99
114 86 99
114 87 99
115 88 99
116 89 99
116 90 100
117 91 100
118 92 100
118 93 100
119 94 101
120 96 101
120 97 101
121 98 102
121 99 102
122 100 102
123 101 102
123 102 103
124 103 103
125 104 103
125 105 103
126 106 103
127 107 104
127 108 104
128 110 104
129 111 104
129 112 104
130 113 105
130 114 105
131 115 105
132 116 105
132 117 105
133 119 106
133 120 106
134 121 106
134 122 106
135 123 106
135 124 107
136 126 107
136 127 107
137 128 107
137 129 108
138 130 108
138 131 108
139 133 108
139 134 109
139 135 109
140 136 109
140 137 109
141 139 110
141 140 110
142 141 110
142 142 110
142 144 110
143 145 111
143 146 111
144 147 111
144 148 111
144 150 111
145 151 111
145 152 112
146 153 112
146 155 112
146 156 112
147 157 112
147 158 112
147 160 112
148 161 112
148 162 113
148 164 113
149 165 113
149 166 113
149 167 113
150 169 113
150 170 113
150 171 113
150 173 113
151 174 113
151 175 113
151 177 113
152 178 112
152 179 112
152 181 112
152 182 112
153 183 112
153 185 112
153 186 112
153 188 111
153 189 111
154 190 111
154 192 110
154 193 110
155 194 110
155 196 109
155 197 109
155 198 108
156 200 108
156 201 107
157 203 107
157 204 106
158 205 105
158 207 104
159 208 104
160 209 103
161 210 102
162 212 100
163 213 99
164 214 98
166 215 97
168 216 96
169 217 95
172 218 94
174 219 93
176 220 92
178 221 91
181 222 90
183 222 89
186 223 89
188 224 88
191 225 88
193 225 87
196 226 87
198 227 87
201 228 86
204 228 86
206 229 86
209 230 86
212 231 86
214 231 85
217 232 85
219 233 85
222 234 85
225 234 85
227 235 85
230 236 85
233 237 85
235 237 85
238 238 85
240 239 85
243 239 85
246 240 85
248 241 85
251 242 85
254 242 85
`,Jd=`0 0 0
0 0 0
0 0 0
0 0 1
1 1 1
1 1 2
1 1 2
2 2 3
2 2 4
3 3 6
3 4 7
4 4 8
5 5 10
5 6 12
6 7 14
7 7 16
8 8 18
9 9 19
10 10 21
11 11 23
12 12 25
13 13 27
14 14 29
15 15 31
16 16 33
17 17 35
18 18 36
19 19 38
19 19 40
20 20 43
21 21 45
22 22 47
23 23 49
24 23 51
25 24 53
26 25 55
27 26 57
28 26 60
29 27 62
30 28 64
31 28 66
32 29 69
33 30 71
34 30 73
35 31 76
36 31 78
37 32 81
38 32 83
39 33 86
40 33 88
42 34 91
43 34 93
44 35 96
45 35 99
46 35 101
47 36 104
49 36 107
50 36 110
51 36 113
53 36 115
54 36 118
55 36 121
57 36 124
58 36 127
60 36 130
61 36 133
63 36 136
64 36 139
66 35 142
68 35 145
69 34 148
71 33 151
73 33 155
75 32 158
77 31 161
79 30 164
81 29 166
83 28 169
85 26 172
87 25 175
89 23 177
91 22 180
93 20 182
95 18 185
97 17 187
99 15 189
101 13 191
103 11 192
105 9 194
107 8 195
109 7 196
111 6 197
113 5 198
115 5 199
117 5 200
118 5 201
120 5 201
122 6 202
124 7 202
126 8 202
127 9 203
129 11 203
131 12 203
133 14 203
134 15 203
136 17 203
138 19 203
139 20 203
141 22 203
143 23 203
144 25 203
146 26 202
147 28 202
149 29 202
151 31 202
152 32 201
154 33 201
155 35 201
157 36 201
159 37 200
160 39 200
162 40 199
163 41 199
165 42 199
167 44 198
168 45 198
170 46 197
171 47 197
173 49 197
174 50 196
176 51 196
177 52 195
179 54 195
180 55 194
182 56 194
183 57 193
185 59 192
186 60 192
188 61 191
189 63 191
191 64 190
192 65 189
193 67 189
195 68 188
196 70 187
197 72 186
198 73 186
199 75 185
200 77 184
201 79 183
201 81 183
202 84 182
202 86 182
202 89 181
202 91 181
202 93 182
202 96 182
202 98 182
202 100 183
202 103 183
202 105 184
202 107 185
201 109 186
201 111 187
201 113 188
201 115 189
201 117 190
201 119 191
201 121 192
201 123 193
201 125 194
200 127 195
200 129 196
200 131 197
200 132 198
200 134 200
200 136 201
200 138 202
200 139 203
200 141 204
200 143 205
200 145 207
200 146 208
200 148 209
200 150 210
200 152 211
200 153 213
200 155 214
200 157 215
200 158 216
200 160 217
200 162 219
200 163 220
200 165 221
200 166 222
200 168 223
200 170 224
200 171 226
200 173 227
200 175 228
200 176 229
201 178 230
201 179 231
201 181 233
201 183 234
201 184 235
201 186 236
201 187 237
201 189 238
202 191 239
202 192 240
202 194 241
202 195 242
202 197 242
203 199 243
203 200 244
203 202 244
204 203 245
204 205 246
205 207 246
205 208 246
206 210 247
207 211 247
207 213 247
208 214 247
209 216 247
210 217 247
211 218 247
213 220 247
214 221 247
215 222 247
216 224 247
218 225 248
219 226 248
221 228 248
222 229 248
224 230 248
225 232 248
227 233 248
228 234 249
230 236 249
232 237 249
233 238 249
235 239 250
237 241 250
238 242 250
240 243 251
242 245 251
243 246 251
245 247 252
247 248 252
248 250 253
250 251 253
252 252 254
253 254 254
255 255 255
`,np=`250 145 79
250 144 78
251 143 77
251 141 76
251 140 75
251 139 74
251 138 73
251 137 71
251 136 70
252 135 69
252 133 68
252 132 67
252 131 66
252 130 65
252 129 64
252 128 62
252 126 61
253 125 60
253 124 59
253 123 58
253 122 57
253 120 56
253 119 55
253 118 54
253 117 53
253 115 51
253 114 50
253 113 49
254 112 48
254 110 47
254 109 46
254 108 45
254 107 44
254 105 43
254 104 42
254 103 41
254 101 40
254 100 39
254 98 38
254 97 37
254 96 36
254 94 35
254 93 34
254 91 33
254 90 32
254 89 31
254 87 30
254 86 29
254 84 28
254 83 27
254 81 26
254 80 25
254 78 25
254 76 24
254 75 23
254 73 22
254 71 22
254 70 21
254 68 21
254 66 20
254 65 20
254 63 19
253 61 19
253 59 19
253 57 19
253 55 19
253 53 19
253 51 19
253 49 19
252 47 19
252 45 20
252 43 20
252 41 21
251 39 22
251 37 22
251 35 23
250 32 24
250 30 25
249 28 26
249 26 27
248 24 28
248 22 29
247 20 30
246 18 32
246 16 33
245 14 34
244 12 35
244 10 36
243 8 37
242 7 39
241 5 40
240 4 41
240 4 42
239 3 43
238 2 44
237 2 45
236 2 46
235 1 47
234 1 48
233 1 49
232 2 50
231 2 51
231 2 52
230 2 53
229 3 54
228 3 55
227 4 56
226 4 57
225 5 58
224 6 59
223 6 59
222 7 60
221 8 61
220 9 62
219 9 63
218 10 64
217 11 64
216 12 65
215 12 66
214 13 67
213 14 67
211 14 68
210 15 69
209 16 70
208 16 70
207 17 71
206 18 72
205 18 72
204 19 73
203 19 74
202 20 74
201 20 75
200 21 76
199 21 76
198 22 77
197 22 78
196 23 78
195 23 79
194 23 79
193 24 80
192 24 80
191 25 81
190 25 82
189 25 82
188 26 83
187 26 83
186 26 84
185 27 84
184 27 85
183 27 85
182 27 86
181 28 86
180 28 87
179 28 87
178 28 88
177 29 88
176 29 89
175 29 89
174 29 90
173 29 90
172 30 90
171 30 91
170 30 91
169 30 92
168 30 92
167 30 93
166 31 93
165 31 93
164 31 94
163 31 94
162 31 95
161 31 95
160 31 95
159 31 96
158 31 96
157 31 96
156 31 97
155 31 97
154 31 97
153 32 98
152 32 98
151 32 98
150 32 99
149 32 99
148 32 99
147 32 99
146 32 100
145 32 100
144 32 100
143 31 101
142 31 101
141 31 101
140 31 101
139 31 102
138 31 102
138 31 102
137 31 102
136 31 103
135 31 103
134 31 103
133 31 103
132 30 104
131 30 104
130 30 104
129 30 104
128 30 104
127 30 105
127 30 105
126 29 105
125 29 105
124 29 105
123 29 106
122 29 106
121 28 106
120 28 106
120 28 106
119 28 107
118 28 107
117 27 107
116 27 107
115 27 107
114 27 107
114 26 108
113 26 108
112 26 108
111 25 108
110 25 108
109 25 109
108 24 109
108 24 109
107 24 109
106 23 109
105 23 109
104 22 110
104 22 110
103 21 110
102 21 110
101 21 110
100 20 111
100 20 111
99 19 111
98 18 111
97 18 111
97 17 112
96 17 112
95 16 112
94 15 112
93 15 112
93 14 113
92 13 113
91 12 113
90 11 113
90 10 114
89 9 114
88 8 114
88 7 114
88 8 116
88 8 117
89 9 119
89 9 120
89 10 121
90 10 123
90 11 124
90 11 126
91 12 127
91 13 128
91 13 130
92 13 131
92 14 133
92 14 134
92 15 135
93 15 137
93 16 138
93 16 140
94 17 141
94 17 143
94 18 144
94 18 146
95 18 147
95 19 149
95 19 150
96 20 152
96 20 153
96 20 155
96 21 156
97 21 158
97 22 159
97 22 161
97 22 162
97 23 164
98 23 166
98 24 167
98 24 169
98 24 170
98 25 172
99 25 173
99 26 175
99 26 177
99 27 178
99 27 180
99 27 181
99 28 183
100 28 184
100 29 186
100 29 188
100 30 189
100 30 191
100 31 192
100 31 194
100 32 195
100 32 197
100 33 199
100 34 200
100 34 202
100 35 203
100 35 205
100 36 206
100 37 208
100 37 209
100 38 211
100 39 212
100 40 214
99 40 215
99 41 216
99 42 218
99 43 219
99 44 220
98 44 222
98 45 223
98 46 224
97 47 225
97 48 227
97 49 228
96 50 229
96 51 230
95 52 231
95 53 232
94 54 233
94 56 234
93 57 235
93 58 236
92 59 236
92 60 237
91 62 238
90 63 238
89 64 239
89 65 239
88 67 240
87 68 240
86 69 241
86 70 241
85 72 241
84 73 241
83 74 242
82 76 242
81 77 242
80 78 242
79 80 242
78 81 242
77 82 242
76 84 241
75 85 241
74 86 241
73 87 241
72 89 241
71 90 240
70 91 240
69 92 240
68 93 239
67 95 239
66 96 238
65 97 238
64 98 237
63 99 237
62 100 237
61 102 236
60 103 236
59 104 235
58 105 234
57 106 234
56 107 233
55 108 233
54 109 232
53 110 232
53 111 231
52 112 231
51 113 230
50 114 229
49 115 229
48 116 228
47 117 228
47 118 227
46 119 227
45 119 226
44 120 225
44 121 225
43 122 224
42 123 224
42 124 223
41 125 223
41 126 222
40 126 222
39 127 221
39 128 220
38 129 220
38 130 219
37 131 219
37 131 218
37 132 218
36 133 217
36 134 217
36 134 216
35 135 216
35 136 215
35 137 215
35 138 215
34 138 214
34 139 214
34 140 213
34 141 213
34 141 212
34 142 212
34 143 211
34 143 211
34 144 211
34 145 210
34 146 210
34 146 209
34 147 209
34 148 209
34 148 208
34 149 208
34 150 208
34 150 207
35 151 207
35 152 207
35 153 206
35 153 206
35 154 206
35 155 205
36 155 205
36 156 205
36 157 204
36 157 204
37 158 204
37 159 204
37 159 203
37 160 203
37 161 203
38 161 203
38 162 202
38 163 202
38 163 202
39 164 202
39 165 201
39 165 201
39 166 201
39 167 201
40 167 200
40 168 200
40 169 200
40 169 200
40 170 200
41 171 199
41 171 199
41 172 199
41 173 199
41 174 199
41 174 198
41 175 198
41 176 198
42 176 198
42 177 198
42 178 198
42 178 197
42 179 197
42 180 197
42 180 197
42 181 197
42 182 197
42 182 196
42 183 196
42 184 196
42 184 196
41 185 196
41 186 196
41 187 195
41 187 195
41 188 195
41 189 195
40 189 195
40 190 195
40 191 195
40 191 194
39 192 194
39 193 194
39 194 194
38 194 194
38 195 194
37 196 193
37 196 193
36 197 193
36 198 193
35 199 193
35 199 193
34 200 192
33 201 192
33 202 192
32 202 192
31 203 192
30 204 191
`,ep=`20 20 1
20 21 1
21 22 1
22 23 1
23 24 1
23 25 1
24 26 2
25 27 2
25 28 2
26 29 2
27 30 2
27 31 2
28 32 3
28 33 3
29 34 3
30 35 3
30 36 3
31 37 4
31 38 4
32 39 4
33 40 4
33 41 5
34 42 5
34 42 5
35 43 5
35 44 6
36 45 6
36 46 6
37 47 6
37 48 7
38 49 7
38 50 7
39 51 8
39 52 8
40 53 8
40 54 8
41 55 9
41 56 9
42 57 9
42 58 10
42 59 10
43 60 10
43 61 11
44 62 11
44 63 11
44 64 11
45 65 12
45 66 12
46 66 12
46 67 13
46 68 13
47 69 13
47 70 14
47 71 14
47 72 14
48 73 14
48 74 15
48 75 15
49 76 15
49 77 16
49 78 16
49 79 16
50 80 17
50 81 17
50 82 17
50 83 17
50 84 18
50 85 18
51 86 18
51 87 19
51 88 19
51 89 19
51 90 20
51 91 20
51 92 20
51 93 21
51 94 21
51 95 21
51 96 22
51 97 22
51 98 22
51 99 23
51 100 23
51 101 24
51 103 24
51 104 24
51 105 25
50 106 25
50 107 26
50 108 26
50 109 27
49 110 27
49 111 28
49 112 28
48 113 29
48 114 29
47 115 30
47 116 31
46 117 31
46 119 32
45 120 33
44 121 34
44 122 35
43 123 36
42 124 37
42 125 39
41 126 40
41 127 42
42 128 44
42 129 45
43 130 47
45 130 49
46 131 50
47 132 52
49 133 54
51 134 55
52 134 57
54 135 58
56 136 60
57 137 62
59 138 63
61 138 65
62 139 66
64 140 67
66 141 69
67 141 70
69 142 72
71 143 73
72 144 75
74 144 76
76 145 77
77 146 79
79 147 80
81 147 82
82 148 83
84 149 84
86 150 86
87 150 87
89 151 88
90 152 90
92 153 91
93 153 92
95 154 94
97 155 95
98 155 96
100 156 98
101 157 99
103 158 100
104 158 102
106 159 103
107 160 104
109 161 106
110 162 107
112 162 108
114 163 110
115 164 111
117 165 112
118 165 114
120 166 115
121 167 116
123 168 118
124 168 119
126 169 120
127 170 122
128 171 123
130 171 124
131 172 126
133 173 127
134 174 128
136 175 130
137 175 131
139 176 132
140 177 134
142 178 135
143 178 136
145 179 138
146 180 139
148 181 140
149 182 141
150 182 143
152 183 144
153 184 146
155 185 147
156 186 148
158 187 150
159 187 151
161 188 152
162 189 154
163 190 155
165 191 156
166 191 158
168 192 159
169 193 160
171 194 162
172 195 163
173 196 165
175 197 166
176 197 167
178 198 169
179 199 170
181 200 171
182 201 173
183 202 174
185 203 176
186 203 177
188 204 178
189 205 180
191 206 181
192 207 183
193 208 184
195 209 186
196 210 187
198 211 188
199 211 190
200 212 191
202 213 193
203 214 194
205 215 196
206 216 197
208 217 199
209 218 200
210 219 202
212 220 203
213 221 205
214 222 206
216 223 208
217 224 209
219 225 211
220 226 212
221 227 214
223 228 215
224 229 217
225 230 219
227 231 220
228 232 222
230 233 223
231 234 225
232 235 226
234 236 228
235 237 230
236 238 231
238 239 233
239 240 235
240 241 236
241 242 238
243 243 239
244 244 241
245 246 243
247 247 244
248 248 246
249 249 247
250 250 249
252 251 250
253 253 252
254 254 253
255 255 255
254 254 254
253 252 252
252 251 251
251 250 249
251 248 248
250 247 247
249 246 245
248 244 244
247 243 243
246 242 241
245 241 240
244 239 239
243 238 238
242 237 236
242 235 235
241 234 234
240 233 232
240 231 231
239 230 229
238 229 228
237 227 227
237 226 225
236 225 224
235 224 223
235 222 221
234 221 220
234 220 219
233 218 217
232 217 216
232 216 215
231 214 213
230 213 212
230 212 211
229 210 209
229 209 208
228 208 207
228 207 205
227 205 204
226 204 203
226 203 201
225 201 200
225 200 199
224 199 197
224 198 196
223 196 195
223 195 193
222 194 192
221 193 191
221 191 190
220 190 188
220 189 187
219 187 186
219 186 184
218 185 183
218 184 182
217 182 181
217 181 179
216 180 178
216 179 177
215 177 175
215 176 174
214 175 173
214 174 172
213 172 170
213 171 169
212 170 168
212 169 167
211 167 165
211 166 164
210 165 163
210 164 162
209 162 161
209 161 159
208 160 158
208 159 157
207 158 156
207 156 154
206 155 153
206 154 152
205 153 151
205 151 150
204 150 148
204 149 147
203 148 146
203 146 145
202 145 144
202 144 143
201 143 141
201 142 140
200 140 139
200 139 138
199 138 137
199 137 136
198 136 135
198 134 133
197 133 132
197 132 131
196 131 130
196 129 129
195 128 128
195 127 127
194 126 126
194 125 125
193 123 123
193 122 122
192 121 121
192 120 120
191 118 119
191 117 118
190 116 117
190 115 116
189 114 115
189 112 114
188 111 113
188 110 112
187 109 111
187 107 110
186 106 109
186 105 108
185 104 107
185 103 106
184 101 105
184 100 104
183 99 103
183 98 102
182 96 101
181 95 100
181 94 100
180 93 99
180 92 98
179 90 97
179 89 96
178 88 95
177 87 95
177 85 94
176 84 93
176 83 93
175 82 92
174 80 91
174 79 91
173 78 90
172 77 90
171 76 89
171 75 89
170 73 88
169 72 88
168 71 88
167 70 88
166 69 87
165 69 87
164 68 87
163 67 87
162 66 87
160 65 87
159 65 87
158 64 87
157 63 86
156 63 86
154 62 86
153 61 86
152 61 86
150 60 86
149 60 85
148 59 85
147 58 85
145 58 85
144 57 84
143 57 84
141 56 84
140 56 84
139 55 83
137 55 83
136 54 83
135 54 82
133 53 82
132 53 82
131 52 81
129 52 81
128 51 81
127 51 80
126 50 80
124 49 80
123 49 79
122 48 79
120 48 79
119 47 78
118 47 78
116 46 77
115 46 77
114 45 77
112 45 76
111 44 76
110 44 75
108 43 75
107 43 74
106 42 74
105 42 73
103 41 73
102 41 72
101 40 72
99 40 71
98 39 71
97 39 70
96 38 70
94 38 69
93 37 69
92 37 68
90 36 68
89 36 67
88 35 67
87 35 66
85 34 65
84 34 65
83 33 64
81 33 64
80 32 63
79 32 62
78 31 62
76 31 61
75 30 61
74 29 60
73 29 59
71 28 59
70 28 58
69 27 57
68 27 57
66 26 56
65 26 55
64 25 55
63 24 54
61 24 53
60 23 52
59 23 52
58 22 51
56 21 50
55 21 50
54 20 49
53 20 48
51 19 47
50 18 46
49 18 46
48 17 45
46 17 44
45 16 43
44 15 42
43 15 42
41 14 41
40 13 40
39 13 39
38 12 38
36 11 37
35 11 36
34 10 36
33 9 35
31 9 34
`,tp=`13 52 11
13 53 12
12 54 14
12 55 16
11 56 17
11 57 19
10 58 20
10 58 22
9 59 23
9 60 25
8 61 26
8 62 28
8 63 29
7 63 31
7 64 32
6 65 34
6 66 35
6 67 37
5 68 38
5 68 40
5 69 41
5 70 42
5 71 44
4 72 45
4 72 47
4 73 48
4 74 50
4 75 51
4 76 53
4 76 54
4 77 55
4 78 57
5 79 58
5 79 60
5 80 61
5 81 63
6 82 64
6 82 65
6 83 67
7 84 68
7 85 70
8 85 71
8 86 73
9 87 74
9 88 75
10 88 77
10 89 78
11 90 80
12 91 81
13 91 82
13 92 84
14 93 85
15 94 87
15 94 88
16 95 90
17 96 91
17 96 93
18 97 94
19 98 95
20 99 97
20 99 98
21 100 100
22 101 101
23 101 103
23 102 104
24 103 106
25 104 107
26 104 109
26 105 110
27 106 112
28 106 113
29 107 115
29 108 116
30 109 118
31 109 119
32 110 121
33 111 122
33 111 124
34 112 125
35 113 127
36 113 128
37 114 130
38 115 131
38 115 133
39 116 135
40 117 136
41 118 138
42 118 139
43 119 141
44 120 143
45 120 144
45 121 146
46 122 147
47 122 149
48 123 151
49 124 152
50 124 154
51 125 156
52 126 157
53 126 159
54 127 161
55 127 162
56 128 164
57 129 166
58 129 167
60 130 169
61 131 171
62 131 172
63 132 174
64 133 176
65 133 178
67 134 179
68 134 181
69 135 183
70 136 184
71 136 186
73 137 188
74 137 190
75 138 191
77 138 193
78 139 195
79 140 197
81 140 198
82 141 200
84 141 202
85 142 203
87 142 205
88 143 207
90 143 209
91 144 210
93 144 212
94 145 214
96 145 215
98 146 217
99 146 218
101 147 220
103 147 222
104 148 223
106 148 225
108 149 226
110 149 228
111 150 229
113 150 231
115 151 232
117 151 233
119 152 235
121 152 236
122 152 237
124 153 238
126 153 240
128 154 241
130 154 242
132 155 243
134 155 243
136 156 244
138 156 245
140 157 246
142 157 246
144 158 247
146 158 248
148 159 248
149 159 248
151 160 249
153 161 249
155 161 249
157 162 249
159 162 249
160 163 249
162 164 249
164 165 249
165 165 249
167 166 249
169 167 249
170 168 249
172 168 249
173 169 248
175 170 248
176 171 248
178 172 248
179 172 247
180 173 247
182 174 247
183 175 247
185 176 246
186 177 246
187 178 246
188 179 245
190 180 245
191 181 245
192 182 245
193 183 244
194 184 244
195 185 244
197 186 244
198 187 243
199 188 243
200 189 243
201 190 243
202 191 243
203 192 242
204 193 242
205 194 242
206 195 242
207 196 242
208 197 242
209 198 242
210 199 242
211 200 241
212 201 241
213 202 241
214 203 241
215 204 241
216 205 241
217 207 241
218 208 241
219 209 241
220 210 241
221 211 241
222 212 242
222 213 242
223 214 242
224 215 242
225 217 242
226 218 242
227 219 242
228 220 243
229 221 243
230 222 243
231 223 243
231 224 243
232 226 244
233 227 244
234 228 244
235 229 244
236 230 245
237 231 245
238 233 245
239 234 246
240 235 246
240 236 246
241 237 247
242 238 247
243 240 248
244 241 248
245 242 249
246 243 249
247 244 250
248 245 250
249 247 251
250 248 251
251 249 252
251 250 252
252 251 253
253 253 254
254 254 254
255 255 255
`,rp=`148 241 243
146 240 243
145 239 242
143 238 242
142 237 242
141 236 241
139 235 241
138 233 240
137 232 240
135 231 240
134 230 239
132 229 239
131 228 238
130 227 238
128 226 238
127 224 237
125 223 237
124 222 237
123 221 236
121 220 236
120 219 236
118 218 235
117 217 235
116 216 235
114 214 234
113 213 234
111 212 234
110 211 233
108 210 233
107 209 233
106 208 232
104 207 232
103 206 232
101 205 232
100 204 231
98 203 231
97 202 231
95 200 231
94 199 230
92 198 230
91 197 230
90 196 230
88 195 229
87 194 229
85 193 229
84 192 229
82 191 229
81 190 228
79 189 228
78 188 228
76 187 228
75 186 228
73 185 227
72 183 227
70 182 227
69 181 227
67 180 227
66 179 227
64 178 227
63 177 226
61 176 226
60 175 226
58 174 226
56 173 226
55 172 226
53 171 226
52 170 226
50 169 225
49 168 225
47 166 225
46 165 225
44 164 225
43 163 225
42 162 225
40 161 225
39 160 225
37 159 225
36 158 224
35 157 224
33 156 224
32 154 224
31 153 224
30 152 224
29 151 224
28 150 224
27 149 224
26 148 224
25 147 223
25 145 223
24 144 223
24 143 223
24 142 223
24 141 223
24 140 222
24 139 222
24 137 222
25 136 222
25 135 221
26 134 221
27 133 221
28 131 220
29 130 220
30 129 220
31 128 219
33 127 219
34 125 218
35 124 217
37 123 217
38 122 216
39 121 215
41 119 214
42 118 213
43 117 212
45 116 211
46 115 210
47 113 209
48 112 207
50 111 206
51 110 205
52 109 203
53 108 202
54 107 200
54 106 199
55 105 197
56 104 195
57 103 194
57 102 192
58 101 190
58 100 188
59 99 186
59 98 185
60 97 183
60 96 181
60 95 179
60 94 177
61 93 175
61 92 173
61 91 172
61 90 170
61 90 168
61 89 166
61 88 164
61 87 162
61 86 160
61 85 158
61 84 156
61 84 155
61 83 153
61 82 151
60 81 149
60 80 147
60 79 145
60 79 143
60 78 142
59 77 140
59 76 138
59 75 136
59 75 134
58 74 132
58 73 131
58 72 129
57 71 127
57 71 125
56 70 124
56 69 122
56 68 120
55 67 118
55 67 117
54 66 115
54 65 113
54 64 112
53 63 110
53 63 108
52 62 106
52 61 105
51 60 103
51 60 102
50 59 100
50 58 98
49 57 97
49 56 95
48 56 93
48 55 92
47 54 90
47 53 89
46 52 87
45 52 86
45 51 84
44 50 82
44 49 81
43 49 79
42 48 78
42 47 76
41 46 75
41 45 73
40 45 72
39 44 70
39 43 69
38 42 67
38 41 66
37 41 64
36 40 63
36 39 62
35 38 60
34 37 59
34 37 57
33 36 56
32 35 54
31 34 53
31 33 52
30 33 50
29 32 49
29 31 47
28 30 46
27 29 45
26 28 43
26 28 42
25 27 41
24 26 39
23 25 38
23 24 37
22 23 35
21 22 34
20 22 32
20 21 31
19 20 30
18 19 28
17 18 27
16 17 26
15 16 24
15 15 23
14 15 22
13 14 21
12 13 19
11 12 18
10 11 17
9 10 15
9 9 14
8 8 13
7 7 11
6 6 10
5 6 9
5 5 7
4 4 6
4 4 5
3 3 4
2 3 4
2 2 3
2 2 2
1 1 2
1 1 1
1 1 1
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
1 1 1
1 1 1
2 1 1
2 1 2
3 2 2
4 2 2
5 3 3
6 3 3
7 3 4
8 4 5
9 5 5
11 5 6
12 6 7
13 6 7
15 7 8
16 8 9
17 8 10
19 9 11
20 10 12
21 10 13
23 11 13
24 12 14
25 13 15
27 13 16
28 14 17
29 15 17
31 15 18
32 16 19
33 17 20
34 17 20
36 18 21
37 19 22
38 19 22
40 20 23
41 20 24
42 21 24
44 22 25
45 22 26
46 23 26
48 23 27
49 24 28
50 25 28
52 25 29
53 26 29
54 26 30
56 27 31
57 27 31
58 28 32
60 28 32
61 29 33
62 29 33
64 30 34
65 31 34
66 31 35
68 32 35
69 32 36
70 33 36
72 33 37
73 34 37
74 34 37
76 35 38
77 35 38
78 35 39
80 36 39
81 36 39
82 37 40
84 37 40
85 38 40
86 38 41
88 39 41
89 39 41
90 40 42
92 40 42
93 41 42
95 41 42
96 42 43
97 42 43
99 43 43
100 43 43
101 44 43
103 44 43
104 44 44
105 45 44
107 45 44
108 46 44
109 46 44
111 47 44
112 47 44
114 48 44
115 48 44
116 49 44
118 49 44
119 50 44
120 50 44
122 51 44
123 51 44
124 52 44
126 52 44
127 53 44
128 53 44
129 54 44
131 55 44
132 55 43
133 56 43
135 56 43
136 57 43
137 57 43
138 58 43
140 59 42
141 59 42
142 60 42
143 61 42
145 61 41
146 62 41
147 63 41
148 63 41
150 64 40
151 65 40
152 65 40
153 66 39
154 67 39
156 67 39
157 68 38
158 69 38
159 70 38
160 70 37
161 71 37
162 72 37
163 73 36
165 74 36
166 75 36
167 75 35
168 76 35
169 77 35
170 78 34
171 79 34
172 80 33
173 81 33
174 82 33
175 82 32
176 83 32
177 84 31
178 85 31
179 86 31
180 87 30
181 88 30
182 89 30
183 90 29
184 91 29
185 92 28
186 93 28
187 94 28
187 95 27
188 96 27
189 97 27
190 98 26
191 99 26
192 100 26
193 101 25
193 103 25
194 104 25
195 105 24
196 106 24
197 107 24
198 108 23
198 109 23
199 110 23
200 111 23
201 113 22
202 114 22
202 115 22
203 116 22
204 117 22
205 118 21
205 119 21
206 121 21
207 122 21
207 123 21
208 124 21
209 125 21
210 127 21
210 128 21
211 129 21
212 130 21
212 131 21
213 133 21
214 134 21
214 135 21
215 136 22
216 138 22
216 139 22
217 140 22
217 141 22
218 143 23
219 144 23
219 145 23
220 146 24
220 148 24
221 149 25
222 150 25
222 152 25
223 153 26
223 154 26
224 155 27
224 157 28
225 158 28
226 159 29
226 161 29
227 162 30
227 163 31
228 165 31
228 166 32
229 167 33
229 169 33
230 170 34
230 171 35
231 173 35
231 174 36
232 175 37
232 177 38
233 178 39
233 180 39
234 181 40
234 182 41
234 184 42
235 185 43
235 186 44
236 188 45
236 189 46
237 191 46
237 192 47
238 193 48
238 195 49
238 196 50
239 198 51
239 199 52
240 201 53
240 202 54
240 203 55
241 205 56
241 206 57
241 208 58
242 209 59
242 211 60
243 212 61
243 214 62
243 215 63
244 217 64
244 218 65
244 220 67
245 221 68
245 222 69
`,ip=`88 7 113
88 7 115
89 8 116
89 9 118
89 10 119
89 10 121
90 11 122
90 12 124
90 13 125
90 14 126
90 15 128
90 16 129
90 16 131
91 17 132
91 18 133
91 19 135
91 20 136
91 21 138
91 22 139
91 23 140
91 24 142
91 24 143
91 25 144
91 26 145
91 27 147
91 28 148
91 29 149
91 30 150
91 31 151
91 32 153
90 33 154
90 34 155
90 35 156
90 36 157
90 37 158
89 38 159
89 39 160
89 40 161
89 41 162
88 42 163
88 43 164
88 44 165
87 45 166
87 47 167
87 48 167
86 49 168
86 50 169
85 51 170
85 52 170
84 53 171
84 54 172
83 55 172
83 56 173
82 57 174
82 58 174
81 60 175
81 61 175
80 62 176
79 63 176
79 64 176
78 65 177
77 66 177
77 67 178
76 68 178
75 69 178
75 70 178
74 71 179
73 72 179
72 74 179
71 75 179
71 76 179
70 77 180
69 78 180
68 79 180
67 80 180
66 81 180
66 82 180
65 83 180
64 84 180
63 85 180
62 86 180
61 87 180
60 88 180
59 89 180
58 90 179
57 91 179
56 92 179
55 93 179
54 94 179
53 94 179
52 95 179
51 96 178
50 97 178
49 98 178
48 99 178
47 100 177
46 101 177
45 102 177
44 102 177
43 103 176
42 104 176
41 105 176
40 106 176
39 107 175
38 108 175
36 108 175
35 109 174
34 110 174
33 111 174
32 112 173
31 112 173
30 113 173
29 114 172
28 115 172
27 115 172
26 116 171
25 117 171
24 118 171
23 118 170
22 119 170
21 120 170
19 121 169
18 121 169
17 122 169
16 123 168
16 124 168
15 124 167
14 125 167
13 126 167
12 126 166
11 127 166
10 128 166
10 128 165
9 129 165
8 130 165
8 130 164
7 131 164
7 132 164
7 132 163
7 133 163
7 134 162
7 134 162
7 135 162
7 136 161
7 136 161
8 137 161
8 138 160
9 138 160
9 139 160
10 140 159
11 140 159
11 141 158
12 142 158
13 142 158
14 143 157
15 143 157
16 144 157
17 145 156
18 145 156
19 146 156
20 146 155
21 147 155
22 148 154
23 148 154
24 149 154
25 149 153
26 150 153
27 151 152
28 151 152
29 152 152
30 152 151
31 153 151
32 154 151
34 154 150
35 155 150
36 155 149
37 156 149
38 157 148
39 157 148
40 158 148
41 158 147
43 159 147
44 159 146
45 160 146
46 161 146
47 161 145
48 162 145
50 162 144
51 163 144
52 163 143
53 164 143
55 164 142
56 165 142
57 166 141
58 166 141
60 167 140
61 167 140
62 168 139
63 168 139
65 169 138
66 169 138
67 170 137
69 170 137
70 171 136
71 171 136
73 172 135
74 172 135
75 173 134
77 173 134
78 174 133
79 174 133
81 175 132
82 175 131
84 176 131
85 176 130
87 177 130
88 177 129
90 178 129
91 178 128
93 179 127
94 179 127
96 179 126
97 180 126
99 180 125
100 181 124
102 181 124
103 182 123
105 182 123
106 182 122
108 183 121
110 183 121
111 184 120
113 184 119
114 184 119
116 185 118
118 185 118
119 186 117
121 186 116
123 186 116
124 187 115
126 187 115
128 187 114
129 188 113
131 188 113
133 188 112
134 189 112
136 189 111
138 189 110
140 190 110
141 190 109
143 190 109
145 190 108
147 191 108
148 191 107
150 191 106
152 192 106
152 191 104
153 190 102
153 189 101
154 188 99
155 187 97
155 187 96
156 186 94
156 185 92
157 184 90
158 183 89
158 182 87
159 181 85
160 181 84
160 180 82
161 179 81
161 178 79
162 177 77
163 176 76
163 175 74
164 174 73
165 173 71
165 172 69
166 171 68
166 171 66
167 170 65
168 169 63
168 168 62
169 167 60
170 166 59
170 165 57
171 164 56
171 163 55
172 162 53
172 161 52
173 160 50
174 159 49
174 158 47
175 157 46
175 156 45
176 155 43
176 154 42
177 153 41
177 152 39
178 151 38
178 150 37
179 149 35
179 148 34
179 147 33
180 146 31
180 145 30
181 144 29
181 143 28
182 142 26
182 141 25
182 140 24
183 139 23
183 138 21
184 137 20
184 136 19
184 135 18
185 134 17
185 133 15
185 132 14
185 131 13
186 130 12
186 129 11
186 128 10
187 127 9
187 126 8
187 125 7
187 124 6
188 123 5
188 122 4
188 121 4
188 120 3
188 119 3
189 118 2
189 117 2
189 116 2
189 115 2
189 114 2
189 113 2
189 112 2
189 111 2
190 110 2
190 109 2
190 108 2
190 107 2
190 106 3
190 105 3
190 104 3
190 103 4
190 102 4
190 101 5
190 100 6
190 99 6
190 98 7
190 97 8
190 96 9
190 95 9
190 94 10
190 93 11
190 92 12
189 91 13
189 90 14
189 89 15
189 89 16
189 88 17
189 87 18
189 86 18
188 85 19
188 84 20
188 83 21
188 82 22
188 81 23
187 80 24
187 79 25
187 78 25
187 77 26
186 77 27
186 76 28
186 75 29
185 74 30
185 73 31
185 72 31
184 71 32
184 70 33
184 70 34
183 69 35
183 68 36
182 67 37
182 66 38
182 66 38
181 65 39
181 64 40
180 63 41
180 62 42
179 62 43
179 61 44
178 60 44
178 60 45
177 59 46
177 58 47
176 57 48
176 57 49
175 56 50
175 55 50
174 55 51
173 54 52
173 54 53
172 53 54
172 52 55
171 52 55
170 51 56
170 51 57
169 50 58
168 49 59
168 49 60
167 48 60
166 48 61
166 47 62
165 47 63
164 46 64
163 46 64
163 45 65
162 45 66
161 44 67
160 44 68
160 44 68
159 43 69
158 43 70
157 42 71
157 42 71
156 41 72
155 41 73
154 41 74
154 40 74
153 40 75
152 40 76
151 39 76
150 39 77
149 39 78
149 38 78
148 38 79
147 38 80
146 37 81
145 37 81
145 37 82
144 36 82
143 36 83
142 36 84
141 35 84
140 35 85
139 35 86
139 34 86
138 34 87
137 34 87
136 34 88
135 33 88
134 33 89
133 33 90
133 32 90
132 32 91
131 32 91
130 31 92
129 31 92
128 31 93
127 31 93
127 30 94
126 30 94
125 30 95
124 29 95
123 29 96
122 29 96
121 28 97
121 28 97
120 28 98
119 27 98
118 27 99
117 27 99
116 26 99
115 26 100
115 26 100
114 25 101
113 25 101
112 25 102
111 24 102
110 24 102
109 23 103
109 23 103
108 23 104
107 22 104
106 22 104
105 21 105
104 21 105
104 20 106
103 20 106
102 19 106
101 19 107
100 18 107
99 18 108
99 17 108
98 17 108
97 16 109
96 15 109
95 15 110
94 14 110
94 13 110
93 12 111
92 11 111
91 11 112
90 10 112
90 9 113
89 8 113
`,ap=`0 0 0
0 0 0
0 0 0
0 0 0
1 1 1
1 1 1
1 2 1
1 2 2
2 3 2
2 4 3
2 4 4
3 5 4
3 6 5
3 7 6
4 8 6
4 10 7
5 11 8
5 12 9
5 13 10
6 14 11
6 16 12
7 17 12
7 18 13
7 19 14
8 20 15
8 22 16
9 23 17
9 24 17
9 25 18
10 26 19
10 27 19
10 29 20
11 30 21
11 31 22
11 32 22
12 33 23
12 34 23
12 35 24
12 37 25
13 38 25
13 39 26
13 40 26
13 41 27
13 42 27
13 43 28
14 44 28
14 46 29
14 47 29
14 48 30
14 49 30
14 50 31
14 51 31
14 52 32
14 53 32
14 54 32
14 56 33
14 57 33
14 58 33
14 59 34
14 60 34
14 61 34
13 62 35
13 63 35
13 64 35
13 66 36
13 67 36
13 68 36
12 69 36
12 70 36
12 71 37
12 72 37
12 73 37
11 74 37
11 76 37
11 77 37
10 78 38
10 79 38
10 80 38
9 81 38
9 82 38
9 83 38
8 84 38
8 86 38
8 87 38
7 88 38
7 89 38
6 90 38
6 91 38
6 92 38
6 93 37
5 94 37
5 96 37
5 97 37
5 98 37
4 99 37
4 100 36
4 101 36
4 102 36
4 103 35
4 104 35
4 105 35
4 107 34
5 108 34
5 109 34
5 110 33
6 111 33
6 112 32
7 113 31
8 114 31
9 115 30
10 116 30
11 117 29
13 118 28
14 120 27
15 121 26
17 122 26
18 123 25
20 124 24
22 125 22
24 126 21
25 127 20
27 128 19
29 129 17
32 130 16
34 131 14
36 132 12
39 133 10
41 134 8
44 135 6
47 135 4
50 136 3
53 137 2
56 138 1
59 138 2
63 139 2
66 140 4
68 141 6
71 141 8
74 142 11
76 143 14
79 144 17
81 144 20
83 145 22
85 146 25
87 147 27
89 147 30
91 148 32
93 149 35
95 150 37
97 150 39
99 151 41
101 152 44
103 153 46
104 154 48
106 154 50
108 155 52
110 156 54
111 157 57
113 158 59
114 159 61
116 159 63
118 160 65
119 161 67
121 162 69
122 163 71
124 164 73
126 164 75
127 165 77
129 166 79
130 167 81
132 168 83
133 169 85
135 170 87
136 170 89
138 171 91
139 172 93
141 173 95
142 174 97
144 175 99
145 176 101
147 177 104
148 177 106
149 178 108
151 179 110
152 180 112
154 181 114
155 182 116
157 183 118
158 184 120
160 185 122
161 186 124
162 187 126
164 188 128
165 188 130
167 189 132
168 190 134
170 191 136
171 192 138
172 193 140
174 194 142
175 195 144
177 196 146
178 197 148
179 198 150
181 199 152
182 200 154
184 201 156
185 202 159
187 203 161
188 204 163
189 205 165
191 206 167
192 207 169
194 208 171
195 209 173
196 210 175
198 211 177
199 212 179
201 213 181
202 214 183
204 215 185
205 216 187
206 217 189
208 218 192
209 219 194
211 220 196
212 222 198
214 223 200
215 224 202
216 225 204
218 226 206
219 227 208
221 228 210
222 229 212
224 230 214
225 231 216
227 232 218
228 234 220
229 235 222
231 236 224
232 237 226
234 238 228
235 239 230
237 240 232
238 242 234
240 243 236
241 244 238
243 245 240
244 246 242
246 248 244
248 249 246
249 250 248
251 251 250
252 252 251
254 254 253
255 255 255
`,op=`0 0 0
0 0 0
0 0 0
0 0 0
1 0 1
1 1 1
2 1 1
2 1 2
3 1 2
4 1 3
5 2 3
6 2 4
7 2 5
8 2 6
9 3 7
10 3 8
12 3 9
13 4 10
15 4 12
16 4 13
17 4 14
19 5 16
20 5 17
21 5 18
23 6 20
24 6 21
26 6 22
27 6 24
28 7 25
30 7 27
31 7 28
32 7 30
34 7 31
35 8 33
36 8 34
38 8 36
39 8 38
40 8 39
41 8 41
43 8 43
44 8 44
45 8 46
47 8 48
48 8 50
49 8 52
50 8 53
52 7 55
53 7 57
54 7 59
55 7 61
57 6 63
58 6 66
59 6 68
60 5 70
61 5 72
62 5 74
63 4 77
64 4 79
66 4 81
67 3 84
68 3 86
68 3 88
69 2 91
70 2 93
71 2 95
72 2 98
73 2 100
73 2 103
74 3 105
75 3 107
75 4 109
76 4 111
76 5 114
77 6 116
77 8 118
77 9 120
77 11 121
78 13 123
78 15 125
78 16 127
78 18 128
78 20 130
78 22 131
78 24 132
78 26 134
78 28 135
78 29 136
77 31 137
77 33 138
77 35 139
77 37 140
76 39 140
76 40 141
75 42 142
75 44 142
75 46 143
74 47 143
74 49 144
73 51 144
73 52 145
72 54 145
72 55 145
71 57 145
71 58 146
70 60 146
70 62 146
69 63 146
69 64 146
68 66 146
68 67 146
67 69 147
66 70 147
66 72 147
65 73 147
65 74 147
64 76 147
64 77 146
63 78 146
63 79 146
62 81 146
62 82 146
62 83 146
61 84 146
61 86 146
60 87 146
60 88 146
59 89 146
59 90 146
59 92 146
58 93 146
58 94 145
58 95 145
57 96 145
57 97 145
57 98 145
56 99 145
56 101 145
56 102 145
55 103 145
55 104 145
55 105 145
55 106 145
54 107 145
54 108 144
54 109 144
54 110 144
53 111 144
53 112 144
53 113 144
53 114 144
52 115 144
52 116 144
52 118 144
52 119 144
52 120 144
51 121 144
51 122 144
51 123 144
51 124 144
50 125 144
50 126 144
50 127 144
49 128 144
49 129 144
49 130 144
49 131 144
48 132 143
48 133 143
47 134 143
47 135 143
47 136 143
46 137 143
46 138 143
45 139 143
45 140 143
44 141 143
44 142 142
43 143 142
43 145 142
42 146 142
42 147 142
41 148 142
40 149 141
40 150 141
39 151 141
38 152 141
38 153 140
37 154 140
36 155 140
35 156 140
34 157 139
34 158 139
33 159 139
32 161 138
31 162 138
30 163 137
29 164 137
29 165 136
28 166 136
27 167 136
26 168 135
25 169 134
24 170 134
24 171 133
23 172 133
22 173 132
22 175 131
21 176 131
21 177 130
20 178 129
20 179 129
20 180 128
20 181 127
20 182 126
20 183 125
21 184 125
22 185 124
22 186 123
23 187 122
24 188 121
26 189 120
27 190 119
28 191 118
30 192 117
32 193 116
33 194 114
35 195 113
37 196 112
39 197 111
42 198 110
44 199 108
46 200 107
48 201 106
51 202 104
53 203 103
56 204 101
58 205 100
61 206 98
64 207 97
66 208 95
69 209 94
72 210 92
75 210 91
78 211 89
81 212 87
84 213 86
87 214 84
91 214 82
94 215 81
97 216 79
101 216 77
104 217 76
108 218 74
111 218 73
115 219 72
119 219 70
`,sp=`0 0 0
0 0 0
0 0 0
0 0 0
0 1 1
0 1 1
1 1 2
1 2 2
1 3 3
1 3 4
1 4 4
1 5 5
1 5 7
1 6 8
1 7 9
1 8 11
1 9 12
1 10 14
1 11 16
1 13 17
1 14 19
1 15 21
1 16 22
1 17 24
1 18 26
1 19 27
1 20 29
1 21 31
1 22 33
1 23 35
1 24 36
1 25 38
0 25 40
0 26 42
0 27 44
0 28 46
0 29 48
0 30 50
0 31 52
0 31 54
0 32 56
1 33 58
1 34 60
1 35 62
1 35 64
2 36 67
2 37 69
3 37 71
4 38 73
5 39 75
6 39 78
7 40 80
8 40 82
10 41 84
12 41 87
13 42 89
15 42 91
17 43 93
19 43 95
21 44 98
22 44 100
24 44 102
26 45 104
28 45 106
30 45 108
32 46 110
34 46 112
36 46 113
38 46 115
40 47 117
42 47 118
45 47 120
47 48 121
49 48 122
51 48 123
53 48 124
55 49 125
56 49 126
58 49 127
60 50 128
62 50 128
64 51 129
66 51 130
68 51 130
69 52 130
71 52 131
73 53 131
74 53 131
76 54 131
78 55 132
79 55 132
81 56 132
83 56 132
84 57 132
86 58 132
87 58 132
89 59 132
90 60 132
92 60 132
93 61 131
95 62 131
96 62 131
97 63 131
99 64 131
100 64 131
102 65 130
103 66 130
104 67 130
106 67 130
107 68 130
108 69 129
110 70 129
111 70 129
112 71 129
114 72 128
115 73 128
116 73 128
117 74 127
119 75 127
120 76 127
121 77 127
122 77 126
123 78 126
125 79 126
126 80 125
127 81 125
128 82 125
129 82 124
130 83 124
132 84 124
133 85 124
134 86 123
135 87 123
136 88 123
137 89 122
138 89 122
139 90 122
140 91 121
141 92 121
142 93 121
143 94 121
144 95 120
145 96 120
146 97 120
147 98 119
148 99 119
149 100 119
150 101 118
151 102 118
152 103 118
153 104 117
154 105 117
155 106 117
156 107 117
157 108 116
157 109 116
158 110 116
159 111 115
160 112 115
161 113 115
162 114 114
162 115 114
163 116 114
164 117 114
165 118 113
165 119 113
166 121 113
167 122 112
167 123 112
168 124 112
169 125 112
169 126 111
170 128 111
171 129 111
171 130 110
172 131 110
172 132 110
173 134 110
173 135 110
174 136 109
174 137 109
175 139 109
175 140 109
175 141 109
176 143 109
176 144 109
176 145 109
177 146 109
177 148 109
177 149 109
177 150 109
178 152 109
178 153 109
178 155 109
178 156 109
179 157 109
179 159 109
179 160 109
179 161 109
179 163 109
179 164 109
179 166 109
179 167 110
179 168 110
179 170 110
180 171 110
180 173 110
180 174 110
180 175 111
179 177 111
179 178 111
179 180 111
179 181 111
179 183 112
179 184 112
179 186 112
179 187 112
179 189 113
178 190 113
178 192 113
178 193 113
178 195 114
177 196 114
177 198 114
177 199 114
176 201 115
176 202 115
176 204 115
175 205 115
175 207 116
174 208 116
174 210 116
173 212 116
172 213 117
172 215 117
171 216 117
170 218 117
170 220 118
169 221 118
168 223 118
167 225 118
166 226 119
165 228 119
164 230 119
163 231 119
162 233 120
161 235 120
159 237 120
158 238 120
157 240 121
155 242 121
153 244 121
152 245 121
150 247 122
148 249 122
146 251 122
`,lp=`167 12 3
168 12 6
168 13 11
169 13 15
170 13 18
170 14 22
171 14 25
172 14 28
172 14 31
173 15 34
173 15 37
174 15 39
175 15 42
175 16 45
176 16 48
176 16 50
177 16 53
178 16 56
178 16 58
179 16 61
180 16 64
180 16 66
181 16 69
181 16 72
182 16 74
182 16 77
183 16 80
184 16 82
184 16 85
185 15 88
185 15 91
186 15 93
187 15 96
187 14 99
188 14 102
188 13 104
189 13 107
189 13 110
190 12 113
190 12 116
191 11 119
191 11 122
192 10 124
192 9 127
193 9 130
193 8 133
194 8 136
194 7 139
195 6 142
195 6 145
195 6 148
196 5 151
196 5 154
196 5 157
197 5 160
197 5 163
197 5 166
198 6 169
198 6 172
198 7 175
198 8 178
198 9 181
198 11 184
198 12 187
198 14 190
198 16 193
198 18 195
198 20 198
198 22 201
198 25 203
197 27 206
197 29 209
197 31 211
196 34 213
196 36 216
195 39 218
195 41 220
194 43 222
193 46 224
193 48 226
192 51 228
191 53 230
191 56 231
190 58 233
189 60 235
188 63 236
187 65 237
186 67 239
185 70 240
184 72 241
183 74 242
182 77 243
181 79 244
180 81 245
179 83 246
177 85 247
176 87 247
175 90 248
174 92 249
173 94 249
171 96 250
170 98 250
169 100 251
167 102 251
166 104 251
165 105 252
163 107 252
162 109 252
161 111 253
159 113 253
158 114 253
157 116 253
155 118 253
154 120 253
152 121 253
151 123 253
149 125 254
148 126 254
146 128 254
145 129 254
143 131 253
142 133 253
140 134 253
139 136 253
137 137 253
136 139 253
134 140 253
132 141 253
131 143 253
129 144 252
127 146 252
126 147 252
124 148 252
122 150 252
120 151 251
119 153 251
117 154 251
115 155 250
113 157 250
111 158 250
110 159 249
108 160 249
106 162 249
104 163 248
102 164 248
100 165 247
98 167 247
96 168 246
94 169 246
91 170 245
89 172 245
87 173 244
85 174 243
83 175 243
81 176 242
78 177 241
76 179 241
74 180 240
72 181 239
69 182 238
67 183 237
65 184 237
62 185 236
60 186 235
57 187 234
55 188 233
53 189 232
50 190 231
48 191 230
46 192 229
43 193 228
41 194 227
38 195 226
36 196 225
34 197 224
32 198 223
29 199 222
27 200 221
25 201 219
23 202 218
21 203 217
19 203 216
18 204 215
16 205 214
14 206 212
13 207 211
12 208 210
12 209 209
11 209 207
11 210 206
11 211 205
12 212 204
12 213 202
13 213 201
14 214 200
15 215 198
17 216 197
18 217 196
20 217 194
21 218 193
23 219 191
25 220 190
26 221 188
28 221 187
30 222 185
32 223 184
34 224 182
35 224 181
37 225 179
39 226 177
41 227 176
43 227 174
45 228 172
47 229 170
48 230 168
50 230 167
52 231 165
54 232 163
56 232 161
58 233 159
60 234 157
62 235 155
64 235 153
66 236 150
68 237 148
71 237 146
73 238 144
75 239 141
77 239 139
79 240 136
81 241 134
84 241 131
86 242 128
88 243 126
91 243 123
93 244 120
95 244 117
98 245 114
100 246 111
102 246 108
105 247 104
107 247 101
109 248 97
112 248 94
114 249 90
117 249 86
119 250 82
122 250 77
124 251 73
127 251 68
129 252 62
132 252 56
135 253 50
137 253 42
140 254 33
142 254 21
`,cp=`0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
1 1 0
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
1 1 1
2 1 1
2 2 2
2 2 2
2 2 2
2 2 2
2 2 2
2 2 2
2 2 2
2 2 2
2 2 2
2 2 2
2 2 2
2 2 2
2 2 2
2 2 2
2 2 2
2 2 2
2 2 2
2 2 2
3 2 2
3 2 2
3 3 3
3 3 3
3 3 3
3 3 3
3 3 3
3 3 3
3 3 3
3 3 3
3 3 3
3 3 3
3 3 3
3 3 3
3 3 3
3 3 3
4 3 3
4 3 3
4 4 4
4 4 4
4 4 4
4 4 4
4 4 4
4 4 4
4 4 4
4 4 4
4 4 4
4 4 4
4 4 4
4 4 4
5 4 4
5 4 4
5 5 4
5 5 5
5 5 5
5 5 5
5 5 5
5 5 5
5 5 5
5 5 5
5 5 5
5 5 5
5 5 5
6 5 5
6 5 5
6 6 6
6 6 6
6 6 6
6 6 6
6 6 6
6 6 6
6 6 6
6 6 6
6 6 6
6 6 6
7 6 6
7 6 6
7 7 7
7 7 7
7 7 7
7 7 7
7 7 7
7 7 7
7 7 7
7 7 7
8 7 7
8 7 7
8 7 7
8 8 8
8 8 8
8 8 8
8 8 8
8 8 8
8 8 8
8 8 8
8 8 8
9 8 8
9 8 8
9 9 8
9 9 9
9 9 9
9 9 9
9 9 9
9 9 9
9 9 9
10 9 9
10 9 9
10 9 9
10 10 10
10 10 10
10 10 10
10 10 10
10 10 10
10 10 10
11 10 10
11 10 10
11 10 10
11 11 10
11 11 11
11 11 11
11 11 11
11 11 11
11 11 11
11 11 11
12 11 11
12 11 11
12 12 11
12 12 12
12 12 12
12 12 12
12 12 12
12 12 12
12 12 12
13 12 12
13 12 12
13 12 12
13 13 13
13 13 13
13 13 13
13 13 13
13 13 13
13 13 13
14 13 13
14 13 13
14 13 13
14 14 13
14 14 14
14 14 14
14 14 14
14 14 14
14 14 14
14 14 14
15 14 14
15 14 14
15 14 14
15 15 14
15 15 15
15 15 15
15 15 15
15 15 15
15 15 15
15 15 15
16 15 15
16 15 15
16 15 15
16 16 16
16 16 16
16 16 16
16 16 16
16 16 16
16 16 16
17 16 16
17 16 16
17 16 16
17 16 16
17 17 17
17 17 17
17 17 17
17 17 17
17 17 17
17 17 17
18 17 17
18 17 17
18 17 17
18 18 17
18 18 18
18 18 18
18 18 18
18 18 18
18 18 18
18 18 18
19 18 18
19 18 18
19 18 18
19 19 18
19 19 19
19 19 19
19 19 19
19 19 19
19 19 19
19 19 19
20 19 19
20 19 19
20 19 19
20 20 19
20 20 20
20 20 20
20 20 20
20 20 20
20 20 20
20 20 20
21 20 20
21 20 20
21 20 20
21 21 20
21 21 21
21 21 21
21 21 21
21 21 21
21 21 21
21 21 21
22 21 21
22 21 21
22 21 21
22 21 21
22 22 22
22 22 22
22 22 22
22 22 22
22 22 22
22 22 22
23 22 22
23 22 22
23 22 22
23 22 22
23 23 23
23 23 23
23 23 23
23 23 23
23 23 23
23 23 23
24 23 23
24 23 23
24 23 23
24 23 23
24 24 23
24 24 24
24 24 24
24 24 24
24 24 24
24 24 24
25 24 24
25 24 24
25 24 24
25 24 24
25 25 24
25 25 25
25 25 25
25 25 25
25 25 25
25 25 25
26 25 25
26 25 25
26 25 25
26 25 25
26 25 25
26 26 26
26 26 26
26 26 26
26 26 26
26 26 26
26 26 26
27 26 26
27 26 26
27 26 26
27 26 26
27 27 26
27 27 27
27 27 27
27 27 27
27 27 27
27 27 27
28 27 27
28 27 27
28 27 27
28 27 27
28 28 27
28 28 28
28 28 28
28 28 28
28 28 28
28 28 28
28 28 28
29 28 28
29 28 28
29 28 28
29 28 28
29 29 28
29 29 29
29 29 29
29 29 29
29 29 29
29 29 29
30 29 29
30 29 29
30 29 29
30 29 29
30 30 29
30 30 30
30 30 30
30 30 30
30 30 30
30 30 30
30 30 30
31 30 30
31 30 30
31 30 30
31 30 30
31 31 30
31 31 31
31 31 31
31 31 31
31 31 31
31 31 31
32 31 31
32 31 31
32 31 31
32 31 31
32 31 31
32 32 31
32 32 32
32 32 32
32 32 32
32 32 32
32 32 32
33 32 32
33 32 32
33 32 32
33 32 32
33 33 32
33 33 33
33 33 33
33 33 33
33 33 33
33 33 33
34 33 33
34 33 33
34 33 33
34 33 33
34 33 33
34 34 33
34 34 34
34 34 34
34 34 34
34 34 34
34 34 34
35 34 34
35 34 34
35 34 34
35 34 34
35 34 34
35 35 34
35 35 35
35 35 35
35 35 35
35 35 35
35 35 35
36 35 35
36 35 35
36 35 35
36 35 35
36 35 35
36 36 36
36 36 36
36 36 36
36 36 36
36 36 36
37 36 36
37 36 36
37 36 36
37 36 36
37 36 36
37 37 36
37 37 37
37 37 37
37 37 37
37 37 37
37 37 37
38 37 37
38 37 37
38 37 37
38 37 37
38 37 37
38 38 37
38 38 38
38 38 38
38 38 38
38 38 38
38 38 38
39 38 38
39 38 38
39 38 38
39 38 38
39 38 38
39 39 38
39 39 39
39 39 39
39 39 39
39 39 39
39 39 39
40 39 39
40 39 39
40 39 39
40 39 39
40 39 39
40 40 39
40 40 40
40 40 40
40 40 40
40 40 40
40 40 40
41 40 40
41 40 40
41 40 40
41 40 40
41 40 40
41 41 40
41 41 41
41 41 41
41 41 41
41 41 41
41 41 41
42 41 41
42 41 41
42 41 41
42 41 41
42 41 41
42 42 41
42 42 42
42 42 42
42 42 42
42 42 42
43 42 42
43 42 42
43 42 42
43 42 42
43 42 42
43 42 42
43 43 42
43 43 43
43 43 43
43 43 43
43 43 43
44 43 43
44 43 43
44 43 43
44 43 43
44 43 43
44 43 43
44 44 43
44 44 44
44 44 44
44 44 44
44 44 44
45 44 44
45 44 44
45 44 44
45 44 44
45 44 44
45 44 44
45 45 44
45 45 45
45 45 45
45 45 45
45 45 45
46 45 45
46 45 45
46 45 45
46 45 45
46 45 45
46 45 45
46 46 45
46 46 46
46 46 46
46 46 46
46 46 46
47 46 46
47 46 46
47 46 46
47 46 46
47 46 46
47 46 46
47 47 46
47 47 47
47 47 47
47 47 47
47 47 47
48 47 47
48 47 47
48 47 47
48 47 47
48 47 47
48 47 47
48 48 47
48 48 48
48 48 48
48 48 48
48 48 48
49 48 48
49 48 48
49 48 48
49 48 48
49 48 48
49 48 48
49 49 48
49 49 49
49 49 49
49 49 49
49 49 49
50 49 49
50 49 49
50 49 49
50 49 49
50 49 49
50 49 49
50 50 49
50 50 50
50 50 50
50 50 50
50 50 50
51 50 50
51 50 50
51 50 50
51 50 50
51 50 50
51 50 50
51 51 50
51 51 51
51 51 51
51 51 51
51 51 51
51 51 51
52 51 51
52 51 51
52 51 51
52 51 51
52 51 51
52 52 51
52 52 52
52 52 52
52 52 52
52 52 52
52 52 52
53 52 52
53 52 52
53 52 52
53 52 52
53 52 52
53 53 52
53 53 53
53 53 53
53 53 53
53 53 53
53 53 53
54 53 53
54 53 53
54 53 53
54 53 53
54 53 53
54 54 53
54 54 54
54 54 54
54 54 54
54 54 54
54 54 54
55 54 54
55 54 54
55 54 54
55 54 54
55 54 54
55 55 54
55 55 55
55 55 55
55 55 55
55 55 55
55 55 55
56 55 55
56 55 55
56 55 55
56 55 55
56 55 55
56 55 55
56 56 55
56 56 56
56 56 56
56 56 56
56 56 56
57 56 56
57 56 56
57 56 56
57 56 56
57 56 56
57 56 56
57 57 56
57 57 57
57 57 57
57 57 57
57 57 57
58 57 57
58 57 57
58 57 57
58 57 57
58 57 57
58 57 57
58 58 57
58 58 58
58 58 58
58 58 58
58 58 58
59 58 58
59 58 58
59 58 58
59 58 58
59 58 58
59 58 58
59 59 58
59 59 59
59 59 59
59 59 59
59 59 59
60 59 59
60 59 59
60 59 59
60 59 59
60 59 59
60 59 59
60 60 59
60 60 60
60 60 60
60 60 60
60 60 60
60 60 60
61 60 60
61 60 60
61 60 60
61 60 60
61 60 60
61 61 60
61 61 61
61 61 61
61 61 61
61 61 61
61 61 61
62 61 61
62 61 61
62 61 61
62 61 61
62 61 61
62 61 61
62 62 61
62 62 62
62 62 62
62 62 62
62 62 62
63 62 62
63 62 62
63 62 62
63 62 62
63 62 62
63 62 62
63 63 62
63 63 63
63 63 63
63 63 63
63 63 63
64 63 63
64 63 63
64 63 63
64 63 63
64 63 63
64 63 63
64 64 63
64 64 64
64 64 64
64 64 64
64 64 64
65 64 64
65 64 64
65 64 64
65 64 64
65 64 64
65 64 64
65 65 64
65 65 65
65 65 65
65 65 65
65 65 65
66 65 65
66 65 65
66 65 65
66 65 65
66 65 65
66 65 65
66 66 65
66 66 66
66 66 66
66 66 66
66 66 66
66 66 66
67 66 66
67 66 66
67 66 66
67 66 66
67 66 66
67 67 66
67 67 67
67 67 67
67 67 67
67 67 67
67 67 67
68 67 67
68 67 67
68 67 67
68 67 67
68 67 67
68 67 67
68 68 67
68 68 68
68 68 68
68 68 68
68 68 68
69 68 68
69 68 68
69 68 68
69 68 68
69 68 68
69 68 68
69 69 68
69 69 69
69 69 69
69 69 69
69 69 69
70 69 69
70 69 69
70 69 69
70 69 69
70 69 69
70 69 69
70 70 69
70 70 70
70 70 70
70 70 70
70 70 70
71 70 70
71 70 70
71 70 70
71 70 70
71 70 70
71 70 70
71 71 70
71 71 71
71 71 71
71 71 71
71 71 71
72 71 71
72 71 71
72 71 71
72 71 71
72 71 71
72 71 71
72 72 71
72 72 72
72 72 72
72 72 72
72 72 72
72 72 72
73 72 72
73 72 72
73 72 72
73 72 72
73 72 72
73 73 72
73 73 72
73 73 73
73 73 73
73 73 73
73 73 73
74 73 73
74 73 73
74 73 73
74 73 73
74 73 73
74 73 73
74 74 73
74 74 74
74 74 74
74 74 74
74 74 74
75 74 74
75 74 74
75 74 74
75 74 74
75 74 74
75 74 74
75 75 74
75 75 75
75 75 75
75 75 75
75 75 75
76 75 75
76 75 75
76 75 75
76 75 75
76 75 75
76 75 75
76 76 75
76 76 76
76 76 76
76 76 76
76 76 76
77 76 76
77 76 76
77 76 76
77 76 76
77 76 76
77 76 76
77 77 76
77 77 77
77 77 77
77 77 77
77 77 77
78 77 77
78 77 77
78 77 77
78 77 77
78 77 77
78 77 77
78 78 77
78 78 78
78 78 78
78 78 78
78 78 78
78 78 78
79 78 78
79 78 78
79 78 78
79 78 78
79 78 78
79 79 78
79 79 79
79 79 79
79 79 79
79 79 79
79 79 79
80 79 79
80 79 79
80 79 79
80 79 79
80 79 79
80 80 79
80 80 80
80 80 80
80 80 80
80 80 80
80 80 80
81 80 80
81 80 80
81 80 80
81 80 80
81 80 80
81 80 80
81 81 80
81 81 81
81 81 81
81 81 81
81 81 81
82 81 81
82 81 81
82 81 81
82 81 81
82 81 81
82 81 81
82 82 81
82 82 82
82 82 82
82 82 82
82 82 82
83 82 82
83 82 82
83 82 82
83 82 82
83 82 82
83 82 82
83 83 82
83 83 83
83 83 83
83 83 83
83 83 83
84 83 83
84 83 83
84 83 83
84 83 83
84 83 83
84 83 83
84 84 83
84 84 84
84 84 84
84 84 84
84 84 84
85 84 84
85 84 84
85 84 84
85 84 84
85 84 84
85 84 84
85 85 84
85 85 85
85 85 85
85 85 85
85 85 85
86 85 85
86 85 85
86 85 85
86 85 85
86 85 85
86 85 85
86 86 85
86 86 86
86 86 86
86 86 86
86 86 86
87 86 86
87 86 86
87 86 86
87 86 86
87 86 86
87 86 86
87 87 86
87 87 87
87 87 87
87 87 87
87 87 87
88 87 87
88 87 87
88 87 87
88 87 87
88 87 87
88 87 87
88 88 87
88 88 88
88 88 88
88 88 88
88 88 88
89 88 88
89 88 88
89 88 88
89 88 88
89 88 88
89 88 88
89 89 88
89 89 89
89 89 89
89 89 89
89 89 89
90 89 89
90 89 89
90 89 89
90 89 89
90 89 89
90 89 89
90 90 89
90 90 90
90 90 90
90 90 90
90 90 90
91 90 90
91 90 90
91 90 90
91 90 90
91 90 90
91 90 90
91 91 90
91 91 91
91 91 91
91 91 91
91 91 91
91 91 91
92 91 91
92 91 91
92 91 91
92 91 91
92 91 91
92 92 91
92 92 92
92 92 92
92 92 92
92 92 92
93 92 92
93 92 92
93 92 92
93 92 92
93 92 92
93 92 92
93 93 92
93 93 93
93 93 93
93 93 93
93 93 93
94 93 93
94 93 93
94 93 93
94 93 93
94 93 93
94 93 93
94 94 93
94 94 94
94 94 94
94 94 94
94 94 94
95 94 94
95 94 94
95 94 94
95 94 94
95 94 94
95 94 94
95 95 94
95 95 95
95 95 95
95 95 95
95 95 95
96 95 95
96 95 95
96 95 95
96 95 95
96 95 95
96 95 95
96 96 95
96 96 96
96 96 96
96 96 96
96 96 96
97 96 96
97 96 96
97 96 96
97 96 96
97 96 96
97 96 96
97 97 96
97 97 97
97 97 97
97 97 97
97 97 97
98 97 97
98 97 97
98 97 97
98 97 97
98 97 97
98 97 97
98 98 97
98 98 98
98 98 98
98 98 98
98 98 98
99 98 98
99 98 98
99 98 98
99 98 98
99 98 98
99 98 98
99 99 98
99 99 99
99 99 99
99 99 99
99 99 99
100 99 99
100 99 99
100 99 99
100 99 99
100 99 99
100 100 99
100 100 100
100 100 100
100 100 100
100 100 100
100 100 100
101 100 100
101 100 100
101 100 100
101 100 100
101 100 100
101 101 100
101 101 101
101 101 101
101 101 101
101 101 101
101 101 101
102 101 101
102 101 101
102 101 101
102 101 101
102 101 101
102 102 101
102 102 102
102 102 102
102 102 102
102 102 102
102 102 102
103 102 102
103 102 102
103 102 102
103 102 102
103 102 102
103 103 102
103 103 103
103 103 103
103 103 103
103 103 103
103 103 103
104 103 103
104 103 103
104 103 103
104 103 103
104 103 103
104 104 103
104 104 104
104 104 104
104 104 104
104 104 104
105 104 104
105 104 104
105 104 104
105 104 104
105 104 104
105 104 104
105 105 105
105 105 105
105 105 105
105 105 105
105 105 105
106 105 105
106 105 105
106 105 105
106 105 105
106 105 105
106 106 105
106 106 106
106 106 106
106 106 106
106 106 106
106 106 106
107 106 106
107 106 106
107 106 106
107 106 106
107 106 106
107 107 106
107 107 107
107 107 107
107 107 107
107 107 107
107 107 107
108 107 107
108 107 107
108 107 107
108 107 107
108 107 107
108 108 107
108 108 108
108 108 108
108 108 108
108 108 108
109 108 108
109 108 108
109 108 108
109 108 108
109 108 108
109 109 108
109 109 109
109 109 109
109 109 109
109 109 109
109 109 109
110 109 109
110 109 109
110 109 109
110 109 109
110 109 109
110 110 109
110 110 110
110 110 110
110 110 110
110 110 110
110 110 110
111 110 110
111 110 110
111 110 110
111 110 110
111 110 110
111 111 110
111 111 111
111 111 111
111 111 111
111 111 111
111 111 111
112 111 111
112 111 111
112 111 111
112 111 111
112 111 111
112 112 112
112 112 112
112 112 112
112 112 112
112 112 112
113 112 112
113 112 112
113 112 112
113 112 112
113 112 112
113 113 112
113 113 113
113 113 113
113 113 113
113 113 113
113 113 113
114 113 113
114 113 113
114 113 113
114 113 113
114 113 113
114 114 113
114 114 114
114 114 114
114 114 114
114 114 114
114 114 114
115 114 114
115 114 114
115 114 114
115 114 114
115 115 114
115 115 115
115 115 115
115 115 115
115 115 115
115 115 115
116 115 115
116 115 115
116 115 115
116 115 115
116 115 115
116 116 115
116 116 116
116 116 116
116 116 116
116 116 116
116 116 116
117 116 116
117 116 116
117 116 116
117 116 116
117 116 116
117 117 117
117 117 117
117 117 117
117 117 117
117 117 117
118 117 117
118 117 117
118 117 117
118 117 117
118 117 117
118 118 117
118 118 118
118 118 118
118 118 118
118 118 118
118 118 118
119 118 118
119 118 118
119 118 118
119 118 118
119 118 118
119 119 119
119 119 119
119 119 119
119 119 119
119 119 119
120 119 119
120 119 119
120 119 119
120 119 119
120 119 119
120 120 119
120 120 120
120 120 120
120 120 120
120 120 120
120 120 120
121 120 120
121 120 120
121 120 120
121 120 120
121 120 120
121 121 121
121 121 121
121 121 121
121 121 121
121 121 121
122 121 121
122 121 121
122 121 121
122 121 121
122 121 121
122 122 121
122 122 122
122 122 122
122 122 122
122 122 122
122 122 122
123 122 122
123 122 122
123 122 122
123 122 122
123 123 122
123 123 123
123 123 123
123 123 123
123 123 123
123 123 123
124 123 123
124 123 123
124 123 123
124 123 123
124 123 123
124 124 123
124 124 124
124 124 124
124 124 124
124 124 124
124 124 124
125 124 124
125 124 124
125 124 124
125 124 124
125 125 124
125 125 125
125 125 125
125 125 125
125 125 125
125 125 125
126 125 125
126 125 125
126 125 125
126 125 125
126 125 125
126 126 126
126 126 126
126 126 126
126 126 126
126 126 126
126 126 126
127 126 126
127 126 126
127 126 126
127 126 126
127 127 126
127 127 127
127 127 127
127 127 127
127 127 127
127 127 127
128 127 127
128 127 127
128 127 127
128 127 127
128 128 127
128 128 128
128 128 128
128 128 128
128 128 128
128 128 128
129 128 128
129 128 128
129 128 128
129 128 128
129 128 128
129 129 129
129 129 129
129 129 129
129 129 129
129 129 129
129 129 129
130 129 129
130 129 129
130 129 129
130 129 129
130 130 129
130 130 130
130 130 130
130 130 130
130 130 130
130 130 130
131 130 130
131 130 130
131 130 130
131 130 130
131 131 130
131 131 131
131 131 131
131 131 131
131 131 131
131 131 131
132 131 131
132 131 131
132 131 131
132 131 131
132 132 131
132 132 132
132 132 132
132 132 132
132 132 132
132 132 132
132 132 132
133 132 132
133 132 132
133 132 132
133 132 132
133 133 133
133 133 133
133 133 133
133 133 133
133 133 133
133 133 133
134 133 133
134 133 133
134 133 133
134 133 133
134 134 133
134 134 134
134 134 134
134 134 134
134 134 134
134 134 134
135 134 134
135 134 134
135 134 134
135 134 134
135 135 134
135 135 135
135 135 135
135 135 135
135 135 135
135 135 135
136 135 135
136 135 135
136 135 135
136 135 135
136 136 135
136 136 136
136 136 136
136 136 136
136 136 136
136 136 136
137 136 136
137 136 136
137 136 136
137 136 136
137 137 136
137 137 137
137 137 137
137 137 137
137 137 137
137 137 137
138 137 137
138 137 137
138 137 137
138 137 137
138 138 137
138 138 138
138 138 138
138 138 138
138 138 138
138 138 138
138 138 138
139 138 138
139 138 138
139 138 138
139 138 138
139 139 139
139 139 139
139 139 139
139 139 139
139 139 139
139 139 139
140 139 139
140 139 139
140 139 139
140 139 139
140 140 140
140 140 140
140 140 140
140 140 140
140 140 140
140 140 140
141 140 140
141 140 140
141 140 140
141 140 140
141 141 141
141 141 141
141 141 141
141 141 141
141 141 141
141 141 141
142 141 141
142 141 141
142 141 141
142 141 141
142 142 142
142 142 142
142 142 142
142 142 142
142 142 142
142 142 142
143 142 142
143 142 142
143 142 142
143 142 142
143 143 143
143 143 143
143 143 143
143 143 143
143 143 143
143 143 143
144 143 143
144 143 143
144 143 143
144 143 143
144 144 144
144 144 144
144 144 144
144 144 144
144 144 144
144 144 144
145 144 144
145 144 144
145 144 144
145 144 144
145 145 145
145 145 145
145 145 145
145 145 145
145 145 145
145 145 145
146 145 145
146 145 145
146 145 145
146 146 145
146 146 146
146 146 146
146 146 146
146 146 146
146 146 146
146 146 146
147 146 146
147 146 146
147 146 146
147 147 146
147 147 147
147 147 147
147 147 147
147 147 147
147 147 147
147 147 147
148 147 147
148 147 147
148 147 147
148 148 147
148 148 148
148 148 148
148 148 148
148 148 148
148 148 148
148 148 148
149 148 148
149 148 148
149 148 148
149 149 148
149 149 149
149 149 149
149 149 149
149 149 149
149 149 149
150 149 149
150 149 149
150 149 149
150 149 149
150 150 149
150 150 150
150 150 150
150 150 150
150 150 150
150 150 150
151 150 150
151 150 150
151 150 150
151 150 150
151 151 151
151 151 151
151 151 151
151 151 151
151 151 151
151 151 151
152 151 151
152 151 151
152 151 151
152 151 151
152 152 152
152 152 152
152 152 152
152 152 152
152 152 152
152 152 152
153 152 152
153 152 152
153 152 152
153 153 152
153 153 153
153 153 153
153 153 153
153 153 153
153 153 153
153 153 153
154 153 153
154 153 153
154 153 153
154 154 153
154 154 154
154 154 154
154 154 154
154 154 154
154 154 154
155 154 154
155 154 154
155 154 154
155 154 154
155 155 155
155 155 155
155 155 155
155 155 155
155 155 155
155 155 155
156 155 155
156 155 155
156 155 155
156 156 155
156 156 156
156 156 156
156 156 156
156 156 156
156 156 156
156 156 156
157 156 156
157 156 156
157 156 156
157 157 156
157 157 157
157 157 157
157 157 157
157 157 157
157 157 157
157 157 157
158 157 157
158 157 157
158 157 157
158 158 158
158 158 158
158 158 158
158 158 158
158 158 158
158 158 158
159 158 158
159 158 158
159 158 158
159 159 158
159 159 159
159 159 159
159 159 159
159 159 159
159 159 159
159 159 159
160 159 159
160 159 159
160 159 159
160 160 159
160 160 160
160 160 160
160 160 160
160 160 160
160 160 160
161 160 160
161 160 160
161 160 160
161 160 160
161 161 161
161 161 161
161 161 161
161 161 161
161 161 161
161 161 161
162 161 161
162 161 161
162 161 161
162 162 161
162 162 162
162 162 162
162 162 162
162 162 162
162 162 162
162 162 162
163 162 162
163 162 162
163 162 162
163 163 163
163 163 163
163 163 163
163 163 163
163 163 163
163 163 163
164 163 163
164 163 163
164 163 163
164 164 163
164 164 164
164 164 164
164 164 164
164 164 164
164 164 164
164 164 164
165 164 164
165 164 164
165 164 164
165 165 165
165 165 165
165 165 165
165 165 165
165 165 165
165 165 165
166 165 165
166 165 165
166 165 165
166 166 165
166 166 166
166 166 166
166 166 166
166 166 166
166 166 166
166 166 166
167 166 166
167 166 166
167 167 166
167 167 167
167 167 167
167 167 167
167 167 167
167 167 167
167 167 167
168 167 167
168 167 167
168 167 167
168 168 168
168 168 168
168 168 168
168 168 168
168 168 168
168 168 168
169 168 168
169 168 168
169 168 168
169 169 168
169 169 169
169 169 169
169 169 169
169 169 169
169 169 169
169 169 169
170 169 169
170 169 169
170 169 169
170 170 170
170 170 170
170 170 170
170 170 170
170 170 170
170 170 170
171 170 170
171 170 170
171 170 170
171 171 171
171 171 171
171 171 171
171 171 171
171 171 171
171 171 171
171 171 171
172 171 171
172 171 171
172 172 171
172 172 172
172 172 172
172 172 172
172 172 172
172 172 172
172 172 172
173 172 172
173 172 172
173 173 172
173 173 173
173 173 173
173 173 173
173 173 173
173 173 173
173 173 173
174 173 173
174 173 173
174 173 173
174 174 174
174 174 174
174 174 174
174 174 174
174 174 174
174 174 174
175 174 174
175 174 174
175 174 174
175 175 175
175 175 175
175 175 175
175 175 175
175 175 175
175 175 175
175 175 175
176 175 175
176 175 175
176 176 175
176 176 176
176 176 176
176 176 176
176 176 176
176 176 176
176 176 176
177 176 176
177 176 176
177 177 176
177 177 177
177 177 177
177 177 177
177 177 177
177 177 177
177 177 177
178 177 177
178 177 177
178 178 177
178 178 178
178 178 178
178 178 178
178 178 178
178 178 178
178 178 178
179 178 178
179 178 178
179 178 178
179 179 179
179 179 179
179 179 179
179 179 179
179 179 179
179 179 179
180 179 179
180 179 179
180 179 179
180 180 180
180 180 180
180 180 180
180 180 180
180 180 180
180 180 180
180 180 180
181 180 180
181 180 180
181 181 181
181 181 181
181 181 181
181 181 181
181 181 181
181 181 181
181 181 181
182 181 181
182 181 181
182 182 182
182 182 182
182 182 182
182 182 182
182 182 182
182 182 182
182 182 182
183 182 182
183 182 182
183 183 183
183 183 183
183 183 183
183 183 183
183 183 183
183 183 183
183 183 183
184 183 183
184 183 183
184 184 184
184 184 184
184 184 184
184 184 184
184 184 184
184 184 184
184 184 184
185 184 184
185 184 184
185 185 185
185 185 185
185 185 185
185 185 185
185 185 185
185 185 185
185 185 185
186 185 185
186 185 185
186 186 186
186 186 186
186 186 186
186 186 186
186 186 186
186 186 186
186 186 186
187 186 186
187 186 186
187 187 187
187 187 187
187 187 187
187 187 187
187 187 187
187 187 187
187 187 187
188 187 187
188 187 187
188 188 188
188 188 188
188 188 188
188 188 188
188 188 188
188 188 188
188 188 188
189 188 188
189 188 188
189 189 189
189 189 189
189 189 189
189 189 189
189 189 189
189 189 189
190 189 189
190 189 189
190 190 189
190 190 190
190 190 190
190 190 190
190 190 190
190 190 190
190 190 190
191 190 190
191 190 190
191 191 190
191 191 191
191 191 191
191 191 191
191 191 191
191 191 191
191 191 191
192 191 191
192 191 191
192 192 192
192 192 192
192 192 192
192 192 192
192 192 192
192 192 192
192 192 192
193 192 192
193 192 192
193 193 193
193 193 193
193 193 193
193 193 193
193 193 193
193 193 193
193 193 193
194 193 193
194 193 193
194 194 194
194 194 194
194 194 194
194 194 194
194 194 194
194 194 194
194 194 194
195 194 194
195 195 194
195 195 195
195 195 195
195 195 195
195 195 195
195 195 195
195 195 195
196 195 195
196 195 195
196 196 196
196 196 196
196 196 196
196 196 196
196 196 196
196 196 196
196 196 196
197 196 196
197 196 196
197 197 197
197 197 197
197 197 197
197 197 197
197 197 197
197 197 197
197 197 197
198 197 197
198 198 197
198 198 198
198 198 198
198 198 198
198 198 198
198 198 198
198 198 198
199 198 198
199 198 198
199 199 199
199 199 199
199 199 199
199 199 199
199 199 199
199 199 199
199 199 199
200 199 199
200 199 199
200 200 200
200 200 200
200 200 200
200 200 200
200 200 200
200 200 200
200 200 200
201 200 200
201 201 200
201 201 201
201 201 201
201 201 201
201 201 201
201 201 201
201 201 201
202 201 201
202 201 201
202 202 202
202 202 202
202 202 202
202 202 202
202 202 202
202 202 202
202 202 202
203 202 202
203 203 202
203 203 203
203 203 203
203 203 203
203 203 203
203 203 203
203 203 203
204 203 203
204 203 203
204 204 204
204 204 204
204 204 204
204 204 204
204 204 204
204 204 204
204 204 204
205 204 204
205 205 204
205 205 205
205 205 205
205 205 205
205 205 205
205 205 205
205 205 205
205 205 205
206 205 205
206 206 206
206 206 206
206 206 206
206 206 206
206 206 206
206 206 206
206 206 206
207 206 206
207 207 206
207 207 207
207 207 207
207 207 207
207 207 207
207 207 207
207 207 207
208 207 207
208 207 207
208 208 208
208 208 208
208 208 208
208 208 208
208 208 208
208 208 208
208 208 208
209 208 208
209 209 209
209 209 209
209 209 209
209 209 209
209 209 209
209 209 209
209 209 209
210 209 209
210 209 209
210 210 210
210 210 210
210 210 210
210 210 210
210 210 210
210 210 210
210 210 210
211 210 210
211 211 211
211 211 211
211 211 211
211 211 211
211 211 211
211 211 211
211 211 211
212 211 211
212 212 212
212 212 212
212 212 212
212 212 212
212 212 212
212 212 212
212 212 212
213 212 212
213 212 212
213 213 213
213 213 213
213 213 213
213 213 213
213 213 213
213 213 213
213 213 213
214 213 213
214 214 214
214 214 214
214 214 214
214 214 214
214 214 214
214 214 214
214 214 214
215 214 214
215 215 215
215 215 215
215 215 215
215 215 215
215 215 215
215 215 215
215 215 215
216 215 215
216 216 215
216 216 216
216 216 216
216 216 216
216 216 216
216 216 216
216 216 216
216 216 216
217 216 216
217 217 217
217 217 217
217 217 217
217 217 217
217 217 217
217 217 217
217 217 217
218 217 217
218 218 218
218 218 218
218 218 218
218 218 218
218 218 218
218 218 218
218 218 218
219 218 218
219 219 219
219 219 219
219 219 219
219 219 219
219 219 219
219 219 219
219 219 219
220 219 219
220 220 220
220 220 220
220 220 220
220 220 220
220 220 220
220 220 220
220 220 220
221 220 220
221 221 221
221 221 221
221 221 221
221 221 221
221 221 221
221 221 221
221 221 221
222 221 221
222 222 222
222 222 222
222 222 222
222 222 222
222 222 222
222 222 222
222 222 222
222 222 222
223 223 222
223 223 223
223 223 223
223 223 223
223 223 223
223 223 223
223 223 223
223 223 223
224 224 223
224 224 224
224 224 224
224 224 224
224 224 224
224 224 224
224 224 224
224 224 224
225 225 224
225 225 225
225 225 225
225 225 225
225 225 225
225 225 225
225 225 225
225 225 225
226 226 225
226 226 226
226 226 226
226 226 226
226 226 226
226 226 226
226 226 226
226 226 226
227 227 226
227 227 227
227 227 227
227 227 227
227 227 227
227 227 227
227 227 227
227 227 227
228 228 227
228 228 228
228 228 228
228 228 228
228 228 228
228 228 228
228 228 228
228 228 228
229 229 229
229 229 229
229 229 229
229 229 229
229 229 229
229 229 229
229 229 229
229 229 229
230 230 230
230 230 230
230 230 230
230 230 230
230 230 230
230 230 230
230 230 230
230 230 230
231 231 231
231 231 231
231 231 231
231 231 231
231 231 231
231 231 231
231 231 231
232 231 231
232 232 232
232 232 232
232 232 232
232 232 232
232 232 232
232 232 232
232 232 232
233 232 232
233 233 233
233 233 233
233 233 233
233 233 233
233 233 233
233 233 233
233 233 233
234 233 233
234 234 234
234 234 234
234 234 234
234 234 234
234 234 234
234 234 234
234 234 234
235 235 234
235 235 235
235 235 235
235 235 235
235 235 235
235 235 235
235 235 235
235 235 235
236 236 236
236 236 236
236 236 236
236 236 236
236 236 236
236 236 236
236 236 236
236 236 236
237 237 237
237 237 237
237 237 237
237 237 237
237 237 237
237 237 237
237 237 237
238 237 237
238 238 238
238 238 238
238 238 238
238 238 238
238 238 238
238 238 238
238 238 238
239 239 238
239 239 239
239 239 239
239 239 239
239 239 239
239 239 239
239 239 239
239 239 239
240 240 240
240 240 240
240 240 240
240 240 240
240 240 240
240 240 240
240 240 240
241 240 240
241 241 241
241 241 241
241 241 241
241 241 241
241 241 241
241 241 241
241 241 241
242 242 241
242 242 242
242 242 242
242 242 242
242 242 242
242 242 242
242 242 242
242 242 242
243 243 243
243 243 243
243 243 243
243 243 243
243 243 243
243 243 243
243 243 243
244 243 243
244 244 244
244 244 244
244 244 244
244 244 244
244 244 244
244 244 244
244 244 244
245 245 245
245 245 245
245 245 245
245 245 245
245 245 245
245 245 245
245 245 245
245 245 245
246 246 246
246 246 246
246 246 246
246 246 246
246 246 246
246 246 246
246 246 246
247 247 247
247 247 247
247 247 247
247 247 247
247 247 247
247 247 247
247 247 247
247 247 247
248 248 248
248 248 248
248 248 248
248 248 248
248 248 248
248 248 248
248 248 248
249 249 249
249 249 249
249 249 249
249 249 249
249 249 249
249 249 249
249 249 249
249 249 249
250 250 250
250 250 250
250 250 250
250 250 250
250 250 250
250 250 250
250 250 250
251 251 251
251 251 251
251 251 251
251 251 251
251 251 251
251 251 251
251 251 251
251 251 251
252 252 252
252 252 252
252 252 252
252 252 252
252 252 252
252 252 252
252 252 252
253 253 253
253 253 253
253 253 253
253 253 253
253 253 253
253 253 253
253 253 253
254 254 254
254 254 254
254 254 254
254 254 254
254 254 254
254 254 254
254 254 254
254 254 254
255 255 255
255 255 255
255 255 255
255 255 255
`,up=`0 0 0
0 0 0
0 0 0
0 0 0
1 1 0
1 1 1
1 1 1
2 2 1
2 2 1
3 3 2
3 3 2
4 4 2
4 5 3
5 5 3
6 6 3
7 7 4
7 8 4
8 9 5
9 10 5
10 11 6
11 12 6
12 13 7
12 14 7
13 15 8
14 16 8
15 17 9
16 18 10
16 19 10
17 20 11
18 21 12
19 22 12
19 23 13
20 24 13
21 25 14
22 26 15
22 27 15
23 28 16
24 29 16
24 29 17
25 30 18
26 31 18
26 32 19
27 33 19
27 34 20
28 35 20
29 36 21
29 37 22
30 38 22
30 39 23
31 40 23
32 41 24
32 42 24
33 43 25
33 44 25
34 45 26
34 46 27
35 47 27
35 48 28
36 48 28
36 49 29
37 50 29
37 51 30
38 52 30
38 53 31
39 54 31
39 55 32
40 56 32
40 57 33
40 58 33
41 59 34
41 60 34
42 61 35
42 62 35
43 63 36
43 64 36
43 65 37
44 65 37
44 66 38
44 67 38
45 68 39
45 69 39
46 70 40
46 71 40
46 72 41
47 73 41
47 74 42
47 75 42
48 76 43
48 77 43
48 78 44
48 79 44
49 80 44
49 81 45
49 82 45
50 83 46
50 84 46
50 85 47
50 86 47
51 87 48
51 88 48
51 89 48
51 90 49
51 91 49
52 92 50
52 93 50
52 94 51
52 95 51
52 96 51
53 97 52
53 98 52
53 99 53
53 100 53
53 101 53
53 102 54
53 103 54
54 104 55
54 105 55
54 106 55
54 107 56
54 108 56
54 109 57
54 110 57
54 111 57
54 112 58
54 113 58
54 114 58
54 115 59
54 116 59
54 117 59
54 118 60
54 119 60
54 120 60
54 121 61
54 122 61
54 123 61
54 124 62
54 125 62
54 126 62
54 127 63
54 128 63
54 129 63
54 130 64
54 132 64
53 133 64
53 134 64
53 135 65
53 136 65
53 137 65
53 138 65
53 139 66
52 140 66
52 141 66
52 142 66
52 143 67
52 144 67
51 145 67
51 147 67
51 148 67
51 149 67
50 150 68
50 151 68
50 152 68
50 153 68
49 154 68
49 155 68
49 156 68
49 158 69
48 159 69
48 160 69
48 161 69
48 162 69
47 163 69
47 164 69
47 165 69
47 166 69
46 168 69
46 169 69
46 170 69
46 171 69
46 172 69
46 173 69
45 174 69
45 175 69
45 177 69
45 178 68
45 179 68
45 180 68
46 181 68
46 182 68
46 183 68
46 184 67
46 186 67
47 187 67
47 188 67
48 189 66
48 190 66
49 191 66
50 192 66
50 193 65
51 194 65
52 196 65
53 197 64
54 198 64
55 199 63
56 200 63
57 201 62
59 202 62
60 203 62
61 204 61
63 205 61
64 206 60
66 207 60
67 208 59
69 210 58
70 211 58
72 212 57
74 213 57
76 214 56
77 215 56
79 216 55
81 217 54
83 218 54
85 219 53
87 220 53
88 221 52
90 222 51
92 223 51
94 224 50
96 225 49
98 226 49
100 227 48
102 228 47
104 229 46
106 230 46
108 231 45
110 232 44
112 233 44
114 234 43
116 235 42
118 236 41
120 237 40
122 238 40
125 239 39
127 240 38
129 241 37
131 242 36
133 243 35
135 244 34
137 245 34
139 246 33
141 247 32
143 248 31
145 249 30
147 250 29
149 251 27
151 252 26
`,hp=`28 0 65
29 2 66
29 3 67
30 4 68
30 5 69
30 7 70
31 8 71
31 9 73
32 11 74
32 12 75
33 14 76
33 15 77
33 17 78
34 18 79
34 19 80
34 20 82
35 22 83
35 23 84
35 24 85
35 25 86
36 26 87
36 28 88
36 29 89
36 30 90
37 31 91
37 32 92
37 33 93
37 34 94
37 36 95
38 37 97
38 38 98
38 39 99
38 40 100
38 41 100
38 42 101
38 43 102
38 44 103
38 46 104
39 47 105
39 48 106
39 49 107
39 50 108
39 51 109
39 52 110
39 53 111
39 54 112
39 55 112
39 56 113
39 57 114
39 58 115
38 60 116
38 61 117
38 62 117
38 63 118
38 64 119
38 65 120
38 66 120
38 67 121
38 68 122
38 69 123
38 70 123
38 71 124
38 72 125
37 73 125
37 74 126
37 75 127
37 77 127
37 78 128
37 79 129
37 80 129
37 81 130
37 82 130
37 83 131
37 84 132
37 85 132
37 86 133
37 87 133
37 88 134
37 89 134
37 90 135
37 91 136
37 92 136
37 93 137
37 94 137
37 95 138
37 96 138
37 97 139
37 98 139
37 99 140
37 100 140
37 101 141
38 102 141
38 103 142
38 104 142
38 105 142
38 106 143
39 107 143
39 108 144
39 109 144
40 110 145
40 111 145
40 112 146
41 113 146
41 114 146
41 115 147
42 116 147
42 118 148
43 119 148
43 120 149
44 121 149
44 122 149
45 123 150
45 123 150
46 124 151
46 125 151
47 126 151
48 127 152
48 128 152
49 129 153
49 130 153
50 131 153
51 132 154
51 133 154
52 134 155
53 135 155
54 136 155
54 137 156
55 138 156
56 139 156
57 140 157
57 141 157
58 142 157
59 143 158
60 144 158
61 145 159
62 146 159
63 147 159
64 148 160
64 149 160
65 150 160
66 151 161
67 152 161
68 153 161
69 154 162
70 155 162
71 156 162
72 157 163
73 158 163
75 159 163
76 160 164
77 161 164
78 162 164
79 163 165
80 164 165
81 165 165
83 166 166
84 167 166
85 168 166
86 169 167
88 170 167
89 171 167
90 172 168
92 173 168
93 174 168
95 175 169
96 175 169
97 176 169
99 177 170
100 178 170
102 179 170
104 180 171
105 181 171
107 182 172
108 183 172
110 184 172
112 185 173
114 185 173
115 186 174
117 187 174
119 188 174
121 189 175
123 190 175
125 191 176
126 191 176
128 192 177
130 193 178
132 194 178
134 195 179
136 195 179
138 196 180
140 197 181
142 198 182
144 199 182
146 199 183
148 200 184
150 201 185
152 202 185
154 203 186
156 203 187
158 204 188
159 205 189
161 206 190
163 207 191
165 207 192
167 208 193
169 209 194
171 210 195
173 211 196
174 211 197
176 212 198
178 213 199
180 214 200
182 215 201
183 216 202
185 216 203
187 217 205
189 218 206
191 219 207
192 220 208
194 221 209
196 222 210
198 222 211
199 223 213
201 224 214
203 225 215
205 226 216
206 227 218
208 228 219
210 229 220
212 230 221
213 230 222
215 231 224
217 232 225
218 233 226
220 234 228
222 235 229
223 236 230
225 237 231
227 238 233
229 239 234
230 240 235
232 241 237
234 242 238
235 243 239
237 244 240
239 245 242
240 246 243
242 247 244
244 248 246
245 249 247
247 250 248
248 251 250
250 252 251
252 253 252
253 254 254
255 255 255
`,fp=`62 5 23
63 5 23
65 5 23
66 4 24
67 4 24
68 4 24
70 4 24
71 4 25
72 4 25
73 4 25
75 3 25
76 3 25
77 3 25
78 3 26
80 3 26
81 2 26
82 2 26
84 2 26
85 2 26
86 2 26
87 1 26
89 1 26
90 1 25
91 1 25
92 1 25
93 0 25
95 0 25
96 0 24
97 0 24
98 0 24
99 0 24
100 0 23
102 1 23
103 1 22
104 1 22
105 2 22
106 2 21
107 3 21
108 3 20
109 4 20
110 5 19
111 6 19
111 7 18
112 8 18
113 9 17
114 10 17
115 12 16
116 13 16
116 14 16
117 15 15
118 17 15
119 18 14
119 19 14
120 20 13
121 22 13
122 23 12
122 24 12
123 25 12
124 26 11
124 28 11
125 29 10
126 30 10
126 31 9
127 32 9
127 33 9
128 35 8
128 36 8
129 37 8
130 38 7
130 39 7
131 40 7
131 41 6
132 42 6
132 43 6
133 45 5
133 46 5
134 47 5
134 48 4
135 49 4
135 50 4
136 51 4
136 52 4
137 53 3
137 54 3
137 55 3
138 56 3
138 57 3
139 58 2
139 60 2
140 61 2
140 62 2
140 63 2
141 64 2
141 65 2
141 66 1
142 67 1
142 68 1
142 69 1
143 70 1
143 71 1
143 72 1
144 73 1
144 74 1
144 75 1
145 76 1
145 77 1
145 78 1
146 79 1
146 80 1
146 81 1
146 83 2
147 84 2
147 85 2
147 86 2
147 87 2
148 88 2
148 89 3
148 90 3
148 91 3
148 92 3
149 93 4
149 94 4
149 95 4
149 96 5
149 97 5
149 98 5
150 99 6
150 100 6
150 101 7
150 102 7
150 103 8
150 104 8
150 105 9
150 106 9
151 107 10
151 109 10
151 110 11
151 111 12
151 112 12
151 113 13
151 114 14
151 115 14
151 116 15
151 117 15
151 118 16
151 119 17
151 120 17
151 121 18
151 122 18
151 123 19
151 124 20
151 125 20
151 126 21
151 127 22
151 128 22
151 129 23
151 131 23
151 132 24
151 133 25
151 134 25
151 135 26
151 136 26
151 137 27
151 138 27
151 139 28
150 140 29
150 141 29
150 142 30
150 143 30
150 144 31
150 145 31
150 147 32
149 148 33
149 149 33
149 150 34
149 151 34
149 152 35
149 153 35
148 154 36
148 155 36
148 156 37
148 157 37
147 158 38
147 159 38
147 161 39
146 162 39
146 163 39
146 164 40
146 165 40
145 166 41
145 167 41
144 168 42
144 169 42
144 171 42
143 172 43
143 173 43
142 174 43
142 175 44
142 176 44
141 177 44
141 178 45
140 180 45
139 181 45
139 182 46
138 183 46
138 184 46
137 185 46
137 186 46
136 188 47
135 189 47
135 190 47
134 191 47
133 192 47
132 193 47
132 195 48
131 196 48
130 197 48
129 198 48
128 199 48
127 201 48
126 202 48
125 203 48
124 204 48
123 205 48
122 207 47
121 208 47
120 209 47
118 210 47
117 211 47
116 213 47
114 214 46
113 215 46
112 216 46
110 218 45
108 219 45
107 220 45
105 221 44
103 223 44
101 224 43
99 225 42
97 227 42
95 228 41
93 229 40
91 230 40
88 232 39
86 233 38
83 234 37
80 236 36
77 237 35
73 238 33
70 240 32
66 241 31
62 242 29
57 244 27
52 245 25
45 246 23
`,dp=`22 14 40
23 14 41
25 15 43
26 15 44
27 16 46
28 16 47
29 17 49
30 17 51
31 18 52
32 18 54
33 19 56
34 19 58
35 19 59
36 20 61
37 20 63
37 21 65
38 22 67
39 22 68
40 23 70
40 23 72
41 24 74
41 24 76
42 25 77
42 26 79
43 27 81
43 27 83
44 28 84
44 29 86
44 30 88
44 30 89
45 31 91
45 32 92
45 33 94
45 34 95
45 35 97
45 36 98
45 37 99
45 38 101
45 39 102
45 40 103
45 41 104
45 42 105
45 43 107
45 44 108
44 45 109
44 46 110
44 47 111
44 48 112
43 50 112
43 51 113
42 52 114
42 53 115
42 54 116
41 55 116
41 56 117
40 57 118
40 58 118
39 59 119
39 61 119
38 62 120
38 63 120
37 64 121
37 65 121
36 66 122
36 67 122
35 68 122
35 69 123
34 70 123
34 71 123
33 72 124
33 74 124
33 75 124
32 76 124
32 77 125
31 78 125
31 79 125
31 80 125
30 81 125
30 82 125
30 83 125
30 84 126
29 85 126
29 86 126
29 87 126
29 88 126
29 89 126
29 90 126
29 91 126
30 91 126
30 92 126
30 93 126
30 94 126
31 95 126
31 96 126
32 97 126
32 98 126
33 99 126
33 100 126
34 101 126
34 101 126
35 102 126
36 103 126
36 104 126
37 105 126
38 106 126
39 107 126
40 108 126
40 108 126
41 109 126
42 110 126
43 111 126
44 112 126
45 113 126
46 114 126
47 114 126
48 115 126
49 116 126
50 117 126
51 118 126
52 119 126
53 119 126
54 120 126
55 121 126
56 122 126
57 123 126
58 123 126
59 124 126
60 125 126
61 126 126
62 127 126
63 128 126
64 128 126
65 129 126
66 130 126
67 131 126
68 132 126
69 132 126
70 133 126
71 134 126
72 135 126
73 136 126
74 137 126
75 137 126
77 138 126
78 139 126
79 140 126
80 141 126
81 141 126
82 142 126
83 143 126
84 144 126
85 145 126
86 145 126
87 146 126
88 147 125
90 148 125
91 149 125
92 150 125
93 150 125
94 151 125
95 152 125
96 153 125
97 154 124
99 154 124
100 155 124
101 156 124
102 157 124
103 158 123
104 159 123
106 159 123
107 160 123
108 161 122
109 162 122
110 163 122
112 163 122
113 164 121
114 165 121
115 166 121
117 167 120
118 167 120
119 168 120
121 169 119
122 170 119
123 171 118
125 171 118
126 172 118
127 173 117
129 174 117
130 175 116
132 175 116
133 176 115
134 177 115
136 178 114
137 179 114
139 179 113
140 180 113
142 181 112
143 182 112
145 182 111
146 183 110
148 184 110
149 185 109
151 185 108
153 186 108
154 187 107
156 188 106
157 188 106
159 189 105
161 190 104
162 191 103
164 191 103
166 192 102
167 193 101
169 194 100
171 194 99
172 195 99
174 196 98
176 196 97
178 197 96
179 198 95
181 199 94
183 199 93
185 200 92
186 201 91
188 201 90
190 202 89
192 203 88
194 203 87
196 204 86
197 205 85
199 205 84
201 206 82
203 207 81
205 208 80
207 208 79
209 209 77
211 209 76
213 210 75
215 211 73
216 211 72
218 212 70
220 213 69
222 213 67
224 214 66
226 215 64
228 215 62
230 216 61
232 217 59
234 217 57
237 218 55
239 218 53
241 219 51
243 220 48
245 220 46
247 221 43
249 221 41
249 220 40
249 218 39
249 217 37
249 215 36
249 214 35
249 212 34
249 211 33
249 209 32
249 208 32
249 206 31
249 205 30
249 203 29
249 202 28
249 201 27
249 199 26
249 198 25
249 196 24
249 195 23
249 193 22
249 192 22
249 190 21
249 189 20
249 187 19
248 186 18
248 185 18
248 183 17
248 182 16
248 180 16
248 179 15
248 177 15
247 176 14
247 175 14
247 173 13
247 172 13
247 170 12
246 169 12
246 167 12
246 166 12
246 165 11
245 163 11
245 162 11
245 161 11
244 159 11
244 158 11
244 156 12
244 155 12
243 154 12
243 152 12
243 151 12
242 150 13
242 148 13
242 147 14
241 145 14
241 144 14
240 143 15
240 141 15
240 140 16
239 139 16
239 137 17
238 136 18
238 135 18
238 133 19
237 132 19
237 131 20
236 130 20
236 128 21
235 127 22
235 126 22
234 124 23
234 123 23
233 122 24
233 120 25
232 119 25
232 118 26
231 117 27
231 115 27
230 114 28
230 113 28
229 112 29
228 110 30
228 109 30
227 108 31
227 107 32
226 105 32
225 104 33
225 103 33
224 102 34
224 100 35
223 99 35
222 98 36
222 97 36
221 96 37
220 94 38
220 93 38
219 92 39
218 91 40
217 90 40
217 88 41
216 87 41
215 86 42
215 85 43
214 84 43
213 82 44
212 81 44
212 80 45
211 79 45
210 78 46
209 77 47
208 76 47
208 74 48
207 73 48
206 72 49
205 71 50
204 70 50
204 69 51
203 68 51
202 66 52
201 65 52
200 64 53
199 63 54
198 62 54
198 61 55
197 60 55
196 59 56
195 58 56
194 57 57
193 55 58
192 54 58
191 53 59
190 52 59
189 51 60
188 50 60
187 49 61
187 48 61
186 47 62
185 46 63
184 45 63
183 44 64
182 43 64
181 42 65
180 41 65
179 39 66
178 38 66
177 37 67
176 36 67
175 35 68
173 34 68
172 33 69
171 32 70
170 31 70
169 30 71
168 29 71
167 28 72
166 27 72
165 26 73
164 25 73
163 24 74
162 23 74
160 22 74
159 21 75
158 20 75
157 19 76
156 17 76
155 16 77
154 15 77
152 14 78
151 13 78
150 12 78
149 11 79
148 10 79
146 9 80
145 8 80
144 7 80
143 6 81
142 6 81
140 5 81
139 4 82
138 4 82
136 3 82
135 3 83
134 2 83
133 2 83
131 2 83
130 1 83
129 1 84
127 1 84
126 1 84
124 1 84
123 1 84
122 1 84
120 1 84
119 2 84
117 2 84
116 2 84
115 2 84
113 3 83
112 3 83
110 4 83
109 4 83
107 5 82
106 5 82
104 6 82
103 6 81
101 7 81
100 8 80
98 8 80
97 9 79
95 9 78
94 10 78
92 11 77
91 11 76
89 12 75
88 12 75
86 13 74
85 13 73
83 14 72
82 14 71
81 14 70
79 15 69
78 15 68
76 15 67
75 15 66
73 16 65
72 16 64
70 16 63
69 16 62
68 16 60
66 16 59
65 16 58
63 16 57
62 16 56
61 16 55
59 16 53
58 16 52
57 16 51
55 16 50
54 16 49
53 16 47
51 15 46
50 15 45
49 15 44
48 15 43
46 15 41
45 14 40
44 14 39
42 14 38
41 13 36
40 13 35
39 13 34
38 12 33
36 12 31
35 12 30
34 11 29
33 11 28
31 10 26
`,pp=`170 82 69
171 82 69
172 83 68
172 83 68
173 83 67
174 84 67
175 84 66
176 84 66
176 85 65
177 85 65
178 85 64
179 86 64
179 86 63
180 86 63
181 87 62
182 87 61
182 88 61
183 88 60
184 88 60
185 89 59
185 89 58
186 90 58
187 90 57
188 90 57
188 91 56
189 91 55
190 92 55
190 92 54
191 93 53
192 93 53
192 94 52
193 94 51
194 94 51
194 95 50
195 95 49
196 96 49
196 96 48
197 97 47
198 97 47
198 98 46
199 98 45
200 99 44
200 99 44
201 100 43
201 101 42
202 101 41
203 102 41
203 102 40
204 103 39
204 103 38
205 104 38
205 104 37
206 105 36
206 106 35
207 106 34
207 107 34
208 108 33
208 108 32
209 109 31
209 109 30
210 110 29
210 111 28
211 111 28
211 112 27
212 113 26
212 113 25
213 114 24
213 115 23
213 116 22
214 116 21
214 117 20
214 118 19
215 118 18
215 119 17
216 120 16
216 121 15
216 121 14
216 122 13
217 123 12
217 124 11
217 125 11
218 125 10
218 126 9
218 127 8
218 128 7
218 129 7
219 130 7
219 130 6
219 131 6
219 132 6
219 133 6
219 134 6
219 135 6
220 136 6
220 136 7
220 137 8
220 138 8
220 139 9
220 140 10
220 141 12
220 142 13
220 143 14
220 144 16
220 145 17
220 146 19
220 146 20
220 147 22
220 148 23
220 149 25
220 150 26
220 151 28
219 152 30
219 153 31
219 154 33
219 155 35
219 156 36
219 157 38
219 158 40
219 158 42
219 159 43
219 160 45
219 161 47
218 162 49
218 163 50
218 164 52
218 165 54
218 166 56
218 166 57
218 167 59
218 168 61
218 169 63
218 170 64
218 171 66
218 172 68
218 172 70
218 173 71
218 174 73
218 175 75
218 176 77
217 176 78
217 177 80
217 178 82
217 179 83
217 180 85
217 180 87
217 181 89
217 182 90
217 183 92
218 184 94
218 184 95
218 185 97
218 186 99
218 187 101
218 187 102
218 188 104
218 189 106
218 190 107
218 190 109
218 191 111
218 192 112
218 193 114
218 193 116
218 194 117
219 195 119
219 196 121
219 196 122
219 197 124
219 198 126
219 198 127
219 199 129
220 200 131
220 201 132
220 201 134
220 202 136
220 203 137
220 203 139
221 204 141
221 205 142
221 205 144
221 206 145
221 207 147
222 207 149
222 208 150
222 209 152
222 209 154
223 210 155
223 211 157
223 211 158
223 212 160
224 213 162
224 213 163
224 214 165
224 215 166
225 215 168
225 216 169
225 217 171
226 217 173
226 218 174
226 219 176
227 219 177
227 220 179
227 221 180
228 221 182
228 222 183
228 223 185
229 223 187
229 224 188
229 225 190
230 225 191
230 226 193
231 227 194
231 227 196
231 228 197
232 229 199
232 229 200
233 230 202
233 230 203
233 231 205
234 232 206
234 232 208
235 233 209
235 234 211
236 234 212
236 235 214
237 236 215
237 236 217
238 237 218
238 237 219
239 238 221
239 239 222
240 239 224
240 240 225
241 241 227
241 241 228
242 242 229
242 242 231
243 243 232
243 244 233
244 244 235
245 245 236
245 246 237
246 246 239
246 247 240
247 247 241
248 248 243
248 249 244
249 249 245
250 250 246
250 250 247
251 251 249
252 252 250
252 252 251
253 253 252
254 254 253
254 254 254
255 255 255
254 254 254
253 254 254
252 253 253
250 253 252
249 252 252
248 252 251
247 251 251
246 251 250
245 251 249
243 250 249
242 250 248
241 249 248
240 249 247
239 248 246
237 248 246
236 247 245
235 247 245
234 246 244
232 246 243
231 245 243
230 245 242
229 244 242
227 244 241
226 244 241
225 243 240
224 243 240
222 242 239
221 242 239
220 241 238
218 241 238
217 241 237
216 240 237
215 240 236
213 239 236
212 239 235
211 238 235
209 238 234
208 238 234
206 237 233
205 237 233
204 236 233
202 236 232
201 236 232
200 235 231
198 235 231
197 234 231
195 234 230
194 233 230
192 233 230
191 233 229
190 232 229
188 232 229
187 231 228
185 231 228
184 231 228
182 230 228
181 230 227
179 229 227
178 229 227
177 229 227
175 228 226
174 228 226
172 227 226
171 227 226
169 226 226
168 226 226
166 226 226
165 225 225
163 225 225
162 224 225
160 224 225
159 223 225
157 223 225
156 223 225
154 222 225
153 222 225
152 221 225
150 221 225
149 220 225
147 220 225
146 219 225
145 219 225
143 218 225
142 218 225
141 217 225
139 217 226
138 216 226
137 216 226
135 215 226
134 215 226
133 214 226
132 214 226
131 213 226
129 213 226
128 212 226
127 211 227
126 211 227
125 210 227
124 210 227
123 209 227
122 209 227
121 208 227
120 208 228
119 207 228
118 206 228
117 206 228
116 205 228
115 205 228
114 204 228
113 203 229
112 203 229
111 202 229
110 202 229
109 201 229
109 200 229
108 200 229
107 199 230
106 198 230
106 198 230
105 197 230
104 197 230
103 196 230
103 195 231
102 195 231
101 194 231
101 193 231
100 193 231
100 192 231
99 191 231
98 191 232
98 190 232
97 189 232
97 189 232
96 188 232
96 187 232
95 187 233
95 186 233
95 185 233
94 185 233
94 184 233
93 183 233
93 183 233
93 182 234
92 181 234
92 181 234
92 180 234
91 179 234
91 179 234
91 178 234
91 177 234
90 176 235
90 176 235
90 175 235
90 174 235
90 174 235
90 173 235
90 172 235
89 171 235
89 171 236
89 170 236
89 169 236
89 169 236
89 168 236
89 167 236
89 166 236
89 166 236
89 165 236
90 164 236
90 163 237
90 163 237
90 162 237
90 161 237
90 160 237
90 160 237
91 159 237
91 158 237
91 157 237
91 156 237
92 156 237
92 155 237
92 154 237
93 153 237
93 153 237
93 152 237
94 151 236
94 150 236
94 149 236
95 149 236
95 148 236
96 147 236
96 146 235
97 145 235
97 145 235
98 144 235
98 143 234
99 142 234
99 141 233
100 141 233
100 140 232
101 139 232
101 138 231
102 137 231
102 137 230
103 136 229
104 135 229
104 134 228
105 134 227
105 133 226
106 132 225
106 131 224
107 131 223
107 130 222
107 129 221
108 129 220
108 128 218
109 127 217
109 127 216
109 126 215
109 126 213
110 125 212
110 124 211
110 124 209
110 123 208
110 123 206
111 122 205
111 122 203
111 121 202
111 121 201
111 120 199
111 120 198
111 119 196
111 119 195
111 118 193
111 118 192
111 117 190
111 117 189
111 116 187
111 116 186
110 115 185
110 115 183
110 114 182
110 114 180
110 114 179
110 113 177
110 113 176
109 112 175
109 112 173
109 111 172
109 111 170
109 110 169
108 110 168
108 110 166
108 109 165
108 109 164
108 108 162
`,vp=`0 0 0
0 0 0
0 0 0
1 0 1
1 0 1
2 1 2
3 1 2
4 1 3
5 1 4
6 2 5
8 2 6
9 2 8
11 3 9
13 3 11
15 3 13
16 3 15
18 4 17
20 4 19
21 4 21
23 4 23
25 5 25
26 5 27
28 5 30
30 5 32
31 5 34
33 5 37
34 5 39
36 5 42
38 5 44
39 5 47
41 5 50
42 5 53
43 4 55
45 4 58
46 4 61
48 4 64
49 3 68
50 3 71
51 3 74
52 2 77
54 2 80
55 2 84
56 1 87
57 1 90
58 1 94
58 1 97
59 1 100
60 1 103
60 1 107
61 1 110
61 2 113
62 3 116
62 4 119
62 5 122
62 7 124
62 9 127
62 12 129
62 14 132
62 16 134
61 19 136
61 22 138
60 24 140
59 27 141
59 29 142
58 32 144
57 34 145
55 37 145
54 39 146
53 42 147
52 44 147
50 47 147
49 49 147
47 51 147
45 53 147
44 56 147
42 58 147
40 60 146
38 62 146
37 64 145
35 66 145
33 67 144
31 69 144
29 71 143
27 73 142
25 75 142
23 76 141
22 78 140
20 79 140
18 81 139
16 82 138
14 84 138
12 85 137
11 87 136
9 88 136
7 90 135
6 91 134
5 92 134
4 94 133
3 95 132
2 96 132
2 98 131
1 99 131
1 100 130
1 101 130
1 103 129
1 104 128
1 105 128
1 106 127
2 108 127
2 109 126
2 110 126
3 111 126
3 112 125
4 114 125
4 115 124
5 116 124
5 117 123
6 118 123
7 120 122
7 121 122
8 122 121
9 123 121
9 124 120
10 126 120
11 127 119
12 128 118
12 129 118
13 130 117
14 132 116
15 133 116
16 134 115
17 135 114
18 136 114
19 138 113
20 139 112
21 140 111
22 141 110
24 142 109
25 143 108
26 145 107
28 146 106
30 147 105
31 148 104
33 149 103
35 150 101
37 152 100
39 153 99
41 154 97
43 155 96
45 156 94
47 157 93
50 158 91
52 159 90
54 160 88
57 161 86
59 163 84
62 164 82
65 165 80
67 166 78
70 167 76
73 167 74
76 168 72
79 169 70
82 170 67
85 171 65
88 172 63
92 173 60
95 174 57
98 174 55
102 175 52
105 176 49
108 176 46
112 177 43
116 178 39
119 178 36
123 179 33
127 179 29
131 180 25
134 180 21
138 181 17
142 181 13
146 181 9
150 182 5
153 182 3
157 182 2
161 183 1
164 183 2
168 183 5
171 183 8
175 184 12
178 184 17
181 184 21
184 185 26
187 185 30
190 185 34
193 186 38
195 186 42
198 187 46
200 187 51
203 188 54
205 188 58
207 189 62
210 189 66
212 190 70
214 191 74
216 191 78
218 192 82
220 193 86
222 193 90
224 194 94
225 195 97
227 195 101
229 196 105
231 197 109
232 198 113
234 199 117
235 200 121
237 200 125
238 201 129
239 202 132
241 203 136
242 204 140
243 205 144
244 206 148
246 207 152
247 208 156
248 210 160
249 211 164
249 212 168
250 213 172
251 214 176
252 216 180
252 217 184
253 218 188
253 220 192
254 221 196
254 223 199
255 224 203
255 226 207
255 227 211
255 229 214
255 230 218
255 232 221
255 234 225
255 236 228
255 237 231
254 239 234
254 241 237
254 243 240
254 245 242
254 246 245
254 248 247
254 250 249
254 252 251
255 253 253
255 255 255
`,mp=`148 241 243
146 240 243
145 239 242
143 238 242
142 237 242
141 236 241
139 235 241
138 233 240
137 232 240
135 231 240
134 230 239
132 229 239
131 228 238
130 227 238
128 226 238
127 224 237
125 223 237
124 222 237
123 221 236
121 220 236
120 219 236
118 218 235
117 217 235
116 216 235
114 214 234
113 213 234
111 212 234
110 211 233
108 210 233
107 209 233
106 208 232
104 207 232
103 206 232
101 205 232
100 204 231
98 203 231
97 202 231
95 200 231
94 199 230
92 198 230
91 197 230
90 196 230
88 195 229
87 194 229
85 193 229
84 192 229
82 191 229
81 190 228
79 189 228
78 188 228
76 187 228
75 186 228
73 185 227
72 183 227
70 182 227
69 181 227
67 180 227
66 179 227
64 178 227
63 177 226
61 176 226
60 175 226
58 174 226
56 173 226
55 172 226
53 171 226
52 170 226
50 169 225
49 168 225
47 166 225
46 165 225
44 164 225
43 163 225
42 162 225
40 161 225
39 160 225
37 159 225
36 158 224
35 157 224
33 156 224
32 154 224
31 153 224
30 152 224
29 151 224
28 150 224
27 149 224
26 148 224
25 147 223
25 145 223
24 144 223
24 143 223
24 142 223
24 141 223
24 140 222
24 139 222
24 137 222
25 136 222
25 135 221
26 134 221
27 133 221
28 131 220
29 130 220
30 129 220
31 128 219
33 127 219
34 125 218
35 124 217
37 123 217
38 122 216
39 121 215
41 119 214
42 118 213
43 117 212
45 116 211
46 115 210
47 113 209
48 112 207
50 111 206
51 110 205
52 109 203
53 108 202
54 107 200
54 106 199
55 105 197
56 104 195
57 103 194
57 102 192
58 101 190
58 100 188
59 99 186
59 98 185
60 97 183
60 96 181
60 95 179
60 94 177
61 93 175
61 92 173
61 91 172
61 90 170
61 90 168
61 89 166
61 88 164
61 87 162
61 86 160
61 85 158
61 84 156
61 84 155
61 83 153
61 82 151
60 81 149
60 80 147
60 79 145
60 79 143
60 78 142
59 77 140
59 76 138
59 75 136
59 75 134
58 74 132
58 73 131
58 72 129
57 71 127
57 71 125
56 70 124
56 69 122
56 68 120
55 67 118
55 67 117
54 66 115
54 65 113
54 64 112
53 63 110
53 63 108
52 62 106
52 61 105
51 60 103
51 60 102
50 59 100
50 58 98
49 57 97
49 56 95
48 56 93
48 55 92
47 54 90
47 53 89
46 52 87
45 52 86
45 51 84
44 50 82
44 49 81
43 49 79
42 48 78
42 47 76
41 46 75
41 45 73
40 45 72
39 44 70
39 43 69
38 42 67
38 41 66
37 41 64
36 40 63
36 39 62
35 38 60
34 37 59
34 37 57
33 36 56
32 35 54
31 34 53
31 33 52
30 33 50
29 32 49
29 31 47
28 30 46
27 29 45
26 28 43
26 28 42
25 27 41
24 26 39
23 25 38
23 24 37
22 23 35
21 22 34
20 22 32
20 21 31
19 20 30
18 19 28
17 18 27
16 17 26
15 16 24
15 15 23
14 15 22
13 14 21
12 13 19
11 12 18
10 11 17
9 10 15
9 9 14
8 8 13
7 7 11
6 6 10
5 6 9
5 5 7
4 4 6
4 4 5
3 3 4
2 3 4
2 2 3
2 2 2
1 1 2
1 1 1
1 1 1
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
1 1 0
1 1 1
2 1 1
2 1 1
3 2 2
4 2 2
5 3 2
6 3 3
7 4 3
8 4 3
9 5 4
11 5 4
12 6 5
13 6 5
15 7 6
16 8 6
18 8 7
19 9 8
20 10 8
22 11 9
23 11 9
24 12 10
25 13 11
27 14 11
28 14 12
29 15 13
31 16 13
32 16 14
33 17 14
35 18 15
36 18 15
37 19 16
39 20 17
40 20 17
41 21 18
43 22 18
44 22 19
45 23 19
46 23 20
48 24 20
49 25 21
50 25 21
52 26 22
53 26 22
54 27 23
56 27 23
57 28 24
58 29 24
60 29 25
61 30 25
62 30 26
64 31 26
65 31 27
66 32 27
68 32 28
69 33 28
70 33 28
72 34 29
73 34 29
74 35 30
76 35 30
77 36 31
78 36 31
80 37 32
81 37 32
83 38 32
84 38 33
85 38 33
87 39 34
88 39 34
89 40 35
91 40 35
92 41 35
94 41 36
95 41 36
96 42 37
98 42 37
99 43 38
101 43 38
102 43 38
103 44 39
105 44 39
106 44 40
108 45 40
109 45 40
111 46 41
112 46 41
113 46 42
115 47 42
116 47 43
118 47 43
119 48 43
121 48 44
122 48 44
124 48 45
125 49 45
127 49 46
128 49 46
130 50 47
131 50 47
133 50 48
134 50 48
136 51 49
137 51 49
139 51 50
140 51 50
142 52 51
143 52 51
145 52 52
146 52 52
148 52 53
149 53 53
151 53 54
152 53 55
154 53 55
155 53 56
157 53 56
158 54 57
160 54 58
162 54 58
163 54 59
165 54 60
166 54 61
168 54 62
169 55 62
171 55 63
172 55 64
174 55 65
175 55 66
177 55 67
178 56 68
180 56 70
181 56 71
182 56 72
184 57 74
185 57 75
186 58 77
188 58 78
189 59 80
190 60 81
191 60 83
192 61 85
193 62 86
194 63 88
195 64 90
196 65 91
197 66 93
198 67 95
198 68 97
199 69 98
200 70 100
201 71 102
202 73 104
202 74 105
203 75 107
204 76 109
204 77 110
205 79 112
206 80 114
206 81 115
207 82 117
208 84 119
208 85 120
209 86 122
210 87 124
210 89 125
211 90 127
211 91 129
212 93 130
213 94 132
213 95 133
214 97 135
214 98 137
215 99 138
215 101 140
216 102 141
216 103 143
217 104 145
218 106 146
218 107 148
219 108 149
219 110 151
220 111 153
220 112 154
221 114 156
221 115 157
222 116 159
222 118 160
223 119 162
223 120 163
224 122 165
224 123 166
224 124 168
225 126 169
225 127 171
226 128 172
226 130 174
227 131 175
227 132 177
228 134 178
228 135 180
229 136 181
229 138 183
229 139 184
230 140 186
230 142 187
231 143 189
231 145 190
232 146 192
232 147 193
233 149 195
233 150 196
233 151 197
234 153 199
234 154 200
235 155 202
235 157 203
236 158 205
236 159 206
236 161 207
237 162 209
237 164 210
238 165 212
238 166 213
239 168 215
239 169 216
240 170 217
240 172 219
240 173 220
241 174 222
241 176 223
242 177 224
242 179 226
243 180 227
243 181 229
244 183 230
244 184 231
245 185 233
245 187 234
246 188 235
246 190 237
247 191 238
247 192 240
248 194 241
248 195 242
249 197 244
249 198 245
250 199 247
250 201 248
251 202 249
251 203 251
252 205 252
`,gp=`0 0 0
0 0 0
0 0 0
0 0 0
1 1 1
1 1 1
1 1 2
2 2 2
2 2 3
2 3 3
3 3 4
4 4 5
4 4 6
5 5 7
5 6 8
6 6 9
7 7 11
8 8 12
9 9 13
9 10 15
10 11 16
11 12 17
12 13 18
13 14 20
14 15 21
15 16 22
16 16 24
16 17 25
17 18 26
18 19 27
19 20 29
20 21 30
21 22 31
21 23 32
22 23 34
23 24 35
24 25 36
25 26 38
25 27 39
26 28 40
27 29 41
28 29 43
28 30 44
29 31 45
30 32 47
31 33 48
31 33 49
32 34 51
33 35 52
34 36 53
34 37 55
35 37 56
36 38 57
37 39 59
37 40 60
38 41 61
39 41 63
39 42 64
40 43 66
41 44 67
42 45 68
42 45 70
43 46 71
44 47 72
44 48 74
45 49 75
46 49 77
46 50 78
47 51 80
48 52 81
48 52 83
49 53 84
50 54 85
50 55 87
51 55 88
52 56 90
52 57 91
53 58 93
54 58 94
54 59 96
55 60 97
56 61 99
56 62 100
57 62 102
58 63 104
58 64 105
59 65 107
59 65 108
60 66 110
61 67 111
61 68 113
62 68 115
63 69 116
63 70 118
64 71 120
64 71 121
65 72 123
66 73 124
66 74 126
67 74 128
67 75 130
68 76 131
68 77 133
69 77 135
69 78 136
70 79 138
71 80 140
71 80 142
72 81 143
72 82 145
73 83 147
73 84 149
74 84 150
74 85 152
74 86 154
75 87 156
75 87 158
76 88 159
76 89 161
76 90 163
77 91 165
77 92 167
77 92 168
78 93 170
78 94 172
78 95 173
78 96 175
78 97 176
78 98 178
78 99 179
78 100 180
78 101 181
78 102 182
78 104 182
78 105 183
78 106 183
79 107 184
79 108 184
79 109 184
80 110 185
80 111 185
80 112 185
81 114 185
81 115 185
82 116 186
82 117 186
83 118 186
83 119 186
84 120 186
85 121 187
85 122 187
86 123 187
86 124 187
87 125 187
88 126 188
88 127 188
89 128 188
90 130 188
90 131 189
91 132 189
92 133 189
93 134 189
93 135 189
94 136 190
95 137 190
96 138 190
96 139 190
97 140 191
98 141 191
99 142 191
99 143 192
100 144 192
101 145 192
102 146 192
103 147 193
104 148 193
104 149 193
105 150 194
106 151 194
107 152 194
108 153 195
109 154 195
109 155 195
110 156 196
111 157 196
112 158 196
113 159 197
114 160 197
114 161 197
115 162 198
116 164 198
117 165 199
118 166 199
119 167 199
120 168 200
121 169 200
121 170 201
122 171 201
123 172 201
124 173 202
125 174 202
126 175 203
127 176 203
128 177 204
129 178 204
129 179 204
130 180 205
131 181 205
132 182 206
133 184 206
134 185 207
135 186 207
136 187 208
137 188 208
137 189 209
138 190 209
139 191 210
140 192 210
141 193 211
142 194 211
143 195 212
144 197 212
145 198 213
145 199 214
146 200 214
147 201 215
148 202 215
149 203 216
150 204 216
151 206 217
152 207 217
152 208 218
153 209 219
154 210 219
155 211 220
156 212 220
157 214 221
158 215 222
159 216 222
159 217 223
160 218 223
161 219 224
162 221 224
163 222 225
164 223 226
165 224 226
165 225 227
166 227 228
167 228 228
168 229 229
169 230 229
170 232 230
171 233 231
171 234 231
172 235 232
173 237 232
`,bp=`0 0 0
0 0 0
0 0 0
0 0 1
1 1 1
1 1 2
1 2 2
2 2 3
2 3 4
2 3 5
3 4 6
3 5 8
4 6 9
4 6 11
5 7 13
5 8 14
5 10 16
6 11 18
6 12 19
7 13 21
7 14 23
7 15 24
8 16 26
8 18 27
8 19 29
8 20 31
8 21 32
8 22 34
8 23 35
8 25 37
8 26 38
7 27 39
7 28 41
7 30 42
6 31 43
6 32 44
5 33 45
5 34 46
4 36 47
4 37 47
3 38 48
3 39 49
3 40 49
3 41 50
2 43 50
2 44 51
2 45 51
2 46 52
2 47 52
2 48 53
2 49 53
2 50 54
3 52 54
3 53 54
3 54 55
4 55 55
4 56 55
5 57 55
5 58 56
6 59 56
7 60 56
8 61 56
9 62 57
9 63 57
11 64 57
12 65 57
13 66 57
14 67 57
15 68 57
16 69 58
17 70 58
18 71 58
19 72 58
21 73 58
22 74 58
23 75 58
24 76 58
25 77 58
27 78 58
28 79 57
29 80 57
31 81 57
32 82 57
33 83 57
35 84 57
36 85 57
37 86 56
39 87 56
40 88 56
42 89 56
43 90 55
45 91 55
46 92 55
48 92 55
49 93 54
51 94 54
52 95 53
54 96 53
55 97 53
57 98 52
59 99 52
60 99 51
62 100 51
64 101 50
65 102 50
67 103 49
69 104 49
70 104 48
72 105 48
74 106 47
76 107 46
77 108 46
79 108 45
81 109 45
83 110 44
85 111 43
87 111 42
89 112 42
90 113 41
92 114 40
94 114 40
96 115 39
98 116 38
100 116 37
102 117 36
104 118 35
106 118 35
108 119 34
110 120 33
112 120 32
114 121 31
116 122 30
118 122 29
120 123 28
122 123 27
124 124 26
127 125 25
129 125 24
131 126 23
133 126 22
135 127 21
137 127 20
139 128 19
141 129 18
144 129 17
146 130 16
148 130 15
150 131 14
152 131 13
154 132 12
157 132 11
159 132 10
161 133 9
163 133 9
165 134 8
168 134 8
170 135 8
172 135 8
174 136 9
176 136 9
178 137 10
181 137 11
183 137 12
185 138 14
187 138 15
189 139 17
191 139 19
193 140 21
195 140 23
197 141 26
199 141 28
201 142 31
203 142 33
205 143 36
206 144 39
208 144 42
210 145 45
211 146 48
213 146 51
214 147 54
215 148 57
217 149 60
218 150 63
219 151 66
220 152 69
221 153 73
222 154 76
223 155 79
224 157 82
224 158 85
225 159 88
226 160 91
227 161 94
227 163 97
228 164 100
229 165 103
229 167 106
230 168 109
230 169 112
231 171 115
231 172 118
232 173 121
232 175 124
233 176 127
233 178 129
233 179 132
234 181 135
234 182 138
235 183 141
235 185 143
235 186 146
236 188 149
236 189 152
237 191 154
237 192 157
237 194 160
238 195 162
238 197 165
238 198 168
238 200 170
239 201 173
239 203 176
239 204 178
240 206 181
240 207 183
240 209 186
241 210 189
241 212 191
241 214 194
242 215 196
242 217 199
242 218 201
243 220 204
243 221 206
243 223 208
244 224 211
244 226 213
244 227 216
245 229 218
245 231 221
245 232 223
246 234 225
246 235 228
247 237 230
247 238 232
248 240 235
248 242 237
249 243 239
249 245 241
250 246 244
251 248 246
252 249 248
253 250 249
253 252 251
254 253 253
255 255 255
`,_p=`0 0 0
0 0 0
0 0 0
0 0 1
1 1 1
1 1 2
2 1 2
2 2 3
3 2 4
4 3 5
4 3 6
5 4 8
6 5 9
7 5 11
8 6 13
9 7 14
10 8 16
11 9 18
12 9 20
14 10 21
15 11 23
16 12 25
17 13 27
18 14 28
19 15 30
20 16 32
21 17 34
22 18 36
23 18 37
24 19 39
25 20 41
26 21 43
27 22 45
28 23 47
29 24 49
29 24 51
30 25 53
31 26 55
32 27 57
33 28 59
33 29 61
34 29 63
35 30 65
36 31 67
36 32 69
37 33 71
37 34 73
38 35 75
38 36 77
39 36 79
39 37 81
39 38 83
40 39 85
40 40 87
40 41 89
40 42 90
40 44 92
40 45 94
40 46 95
40 47 97
40 48 99
39 49 100
39 51 101
39 52 103
38 53 104
38 54 105
38 56 106
37 57 107
37 58 108
36 60 108
36 61 109
35 62 110
35 63 111
34 65 111
34 66 112
34 67 112
33 68 113
33 70 113
32 71 114
32 72 114
32 73 115
31 75 115
31 76 115
31 77 116
30 78 116
30 80 116
30 81 117
30 82 117
29 83 117
29 84 118
29 86 118
29 87 118
29 88 119
29 89 119
29 90 119
29 91 119
29 93 120
29 94 120
29 95 120
29 96 120
29 97 121
30 98 121
30 99 121
30 101 121
30 102 122
30 103 122
30 104 122
31 105 122
31 106 122
31 107 123
32 109 123
32 110 123
32 111 123
32 112 124
33 113 124
33 114 124
33 115 124
34 116 124
34 118 124
35 119 125
35 120 125
35 121 125
36 122 125
36 123 125
37 124 125
37 126 126
37 127 126
38 128 126
38 129 126
39 130 126
39 131 126
40 132 126
40 134 126
41 135 126
41 136 126
42 137 126
42 138 127
43 139 127
44 141 127
44 142 127
45 143 127
45 144 127
46 145 127
47 146 126
47 147 126
48 149 126
49 150 126
50 151 126
51 152 126
51 153 126
52 154 126
53 156 126
54 157 126
55 158 125
56 159 125
57 160 125
58 161 125
59 162 124
61 164 124
62 165 124
63 166 124
64 167 123
66 168 123
67 169 123
68 170 122
70 172 122
71 173 122
73 174 121
75 175 121
76 176 120
78 177 120
80 178 120
82 179 119
84 180 119
86 181 118
88 182 118
90 183 117
92 184 117
94 185 116
97 186 116
99 187 116
102 188 115
105 189 115
107 190 115
110 191 115
113 192 115
116 192 115
119 193 115
122 194 116
125 194 116
128 195 117
131 196 118
134 197 119
137 197 121
140 198 122
143 199 124
145 199 125
148 200 127
150 201 129
153 201 131
155 202 133
157 203 135
159 204 137
162 205 139
164 205 141
166 206 143
168 207 145
170 208 148
172 209 150
174 209 152
176 210 154
178 211 157
180 212 159
182 213 161
184 214 163
186 214 166
188 215 168
189 216 170
191 217 173
193 218 175
195 219 177
197 220 180
198 221 182
200 222 184
202 223 186
204 224 189
205 224 191
207 225 193
209 226 196
211 227 198
212 228 200
214 229 203
216 230 205
218 231 207
219 232 210
221 233 212
223 234 214
224 235 217
226 236 219
228 237 221
230 238 223
231 239 226
233 240 228
235 242 230
236 243 232
238 244 235
240 245 237
241 246 239
243 247 241
245 248 243
247 249 245
248 250 247
250 251 249
252 253 251
253 254 253
255 255 255
254 254 253
252 253 251
251 251 249
249 250 247
247 249 245
246 248 243
244 247 240
243 245 238
241 244 236
240 243 234
239 242 231
237 241 229
236 240 226
234 238 224
233 237 221
232 236 219
230 235 216
229 234 214
228 233 211
227 231 209
226 230 206
224 229 203
223 228 201
222 227 198
221 226 196
220 224 193
219 223 190
218 222 187
217 221 185
216 220 182
215 218 179
214 217 177
213 216 174
212 215 171
211 214 168
210 212 166
210 211 163
209 210 160
208 209 157
208 207 154
207 206 152
206 205 149
206 204 146
205 202 143
205 201 140
204 200 137
204 198 135
203 197 132
203 196 129
202 194 126
202 193 123
202 192 120
202 190 118
201 189 115
201 187 112
201 186 109
201 184 107
201 183 104
201 181 101
201 180 99
201 178 96
201 177 94
201 175 91
201 174 89
201 172 87
201 171 84
201 169 82
201 167 80
201 166 78
201 164 76
201 163 74
201 161 72
201 159 70
201 158 69
201 156 67
201 154 66
201 153 64
201 151 63
201 149 62
201 148 60
201 146 59
200 145 58
200 143 57
200 141 56
200 140 55
200 138 54
199 137 54
199 135 53
199 134 52
199 132 52
198 130 51
198 129 51
198 127 50
197 126 50
197 124 50
196 123 49
196 121 49
195 120 49
195 118 49
194 117 48
194 115 48
193 114 48
193 112 48
192 111 48
192 109 48
191 108 48
191 106 48
190 105 48
189 104 48
189 102 48
188 101 49
187 99 49
187 98 49
186 97 49
185 95 49
184 94 49
184 92 50
183 91 50
182 90 50
181 88 50
181 87 51
180 86 51
179 84 51
178 83 51
177 82 52
177 80 52
176 79 52
175 78 53
174 76 53
173 75 53
172 74 54
171 72 54
170 71 54
169 70 55
168 69 55
167 67 55
166 66 56
166 65 56
165 64 56
164 62 57
163 61 57
161 60 58
160 59 58
159 58 58
158 56 59
157 55 59
156 54 60
155 53 60
154 52 60
153 50 61
152 49 61
151 48 62
149 47 62
148 46 62
147 45 63
146 44 63
145 43 64
143 42 64
142 41 64
141 40 65
140 38 65
138 38 66
137 37 66
136 36 66
134 35 67
133 34 67
132 33 67
130 32 68
129 31 68
127 30 68
126 30 69
124 29 69
123 28 69
121 28 69
120 27 70
118 27 70
117 26 70
115 26 70
114 25 70
112 25 70
110 25 70
109 24 70
107 24 70
105 24 70
103 24 70
102 24 69
100 24 69
98 23 69
97 23 68
95 23 68
93 23 67
91 23 67
90 23 66
88 23 66
86 23 65
84 23 64
82 23 64
81 23 63
79 23 62
77 23 61
75 23 60
74 22 59
72 22 58
70 22 57
68 22 56
67 22 55
65 22 54
63 21 53
62 21 52
60 21 51
58 21 50
57 20 49
55 20 48
53 20 46
52 19 45
50 19 44
48 19 43
47 18 42
45 18 40
44 18 39
42 17 38
40 17 36
39 16 35
37 16 34
36 15 33
34 15 31
33 14 30
31 13 29
29 13 27
28 12 26
26 12 25
25 11 23
23 10 22
22 10 20
20 9 19
19 8 18
17 8 16
16 7 15
14 6 13
13 6 12
11 5 10
10 4 9
8 4 8
7 3 6
6 3 5
5 2 4
4 2 3
3 2 3
2 1 2
1 1 1
1 1 1
1 0 1
0 0 0
0 0 0
`,wp=`145 241 251
144 240 251
142 239 250
141 238 249
140 237 249
139 235 248
137 234 248
136 233 247
135 232 247
134 231 246
132 230 245
131 228 245
130 227 244
129 226 244
127 225 243
126 224 243
125 223 242
124 222 242
123 221 241
121 219 241
120 218 240
119 217 239
118 216 239
117 215 238
116 214 238
115 213 237
113 212 237
112 210 236
111 209 236
110 208 235
109 207 235
108 206 234
107 205 234
106 204 233
105 203 233
104 202 232
103 200 232
102 199 231
101 198 231
100 197 230
99 196 230
98 195 229
97 194 229
96 193 228
95 192 228
94 191 227
93 190 227
92 188 226
91 187 226
90 186 225
89 185 225
89 184 224
88 183 224
87 182 223
86 181 223
86 180 222
85 179 222
84 177 221
83 176 221
83 175 220
82 174 219
81 173 219
81 172 218
80 171 218
80 170 217
79 169 217
78 168 216
78 167 216
77 165 215
77 164 215
77 163 214
76 162 213
76 161 213
75 160 212
75 159 212
75 158 211
74 157 210
74 156 210
74 154 209
74 153 208
73 152 208
73 151 207
73 150 206
73 149 206
73 148 205
73 147 204
73 146 203
72 145 203
72 143 202
72 142 201
72 141 200
72 140 199
72 139 199
72 138 198
72 137 197
73 136 196
73 135 195
73 134 194
73 133 193
73 131 192
73 130 191
73 129 190
73 128 189
73 127 188
73 126 187
73 125 186
74 124 185
74 123 183
74 122 182
74 121 181
74 120 180
74 119 179
74 118 177
74 117 176
74 116 175
74 115 174
74 114 172
74 113 171
74 112 170
74 111 168
74 110 167
74 109 166
74 108 164
74 107 163
74 106 161
74 105 160
73 104 159
73 103 157
73 102 156
73 101 154
73 100 153
73 99 152
72 98 150
72 97 149
72 97 147
72 96 146
71 95 144
71 94 143
71 93 141
71 92 140
70 91 139
70 90 137
70 89 136
69 88 134
69 88 133
69 87 131
68 86 130
68 85 129
67 84 127
67 83 126
67 82 124
66 82 123
66 81 121
65 80 120
65 79 119
64 78 117
64 77 116
64 76 114
63 76 113
63 75 112
62 74 110
62 73 109
61 72 107
61 71 106
60 71 105
60 70 103
59 69 102
58 68 100
58 67 99
57 67 98
57 66 96
56 65 95
56 64 94
55 63 92
55 62 91
54 62 90
53 61 88
53 60 87
52 59 86
52 58 84
51 58 83
50 57 82
50 56 80
49 55 79
49 54 78
48 53 77
47 53 75
47 52 74
46 51 73
45 50 71
45 49 70
44 49 69
43 48 68
43 47 66
42 46 65
41 45 64
41 45 63
40 44 61
39 43 60
39 42 59
38 41 58
37 40 56
37 40 55
36 39 54
35 38 53
35 37 51
34 36 50
33 35 49
32 35 48
32 34 46
31 33 45
30 32 44
29 31 43
29 30 42
28 30 40
27 29 39
26 28 38
26 27 37
25 26 36
24 25 34
23 24 33
22 24 32
22 23 31
21 22 30
20 21 28
19 20 27
18 19 26
18 18 25
17 17 23
16 16 22
15 16 21
14 15 20
13 14 19
12 13 17
11 12 16
11 11 15
10 10 14
9 9 13
8 8 11
7 7 10
6 6 9
6 6 8
5 5 7
4 4 6
4 4 5
3 3 4
3 3 3
2 2 3
2 2 2
1 1 2
1 1 1
1 1 1
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
1 1 0
1 1 1
1 1 1
2 2 1
2 2 1
3 3 2
3 3 2
4 4 2
4 5 3
5 5 3
6 6 3
7 7 4
7 8 4
8 9 5
9 10 5
10 11 6
11 12 6
12 13 7
12 14 7
13 15 8
14 16 8
15 17 9
16 18 10
16 19 10
17 20 11
18 21 12
19 22 12
19 23 13
20 24 13
21 25 14
22 26 15
22 27 15
23 28 16
24 29 16
24 29 17
25 30 18
26 31 18
26 32 19
27 33 19
27 34 20
28 35 20
29 36 21
29 37 22
30 38 22
30 39 23
31 40 23
32 41 24
32 42 24
33 43 25
33 44 25
34 45 26
34 46 27
35 47 27
35 48 28
36 48 28
36 49 29
37 50 29
37 51 30
38 52 30
38 53 31
39 54 31
39 55 32
40 56 32
40 57 33
40 58 33
41 59 34
41 60 34
42 61 35
42 62 35
43 63 36
43 64 36
43 65 37
44 65 37
44 66 38
44 67 38
45 68 39
45 69 39
46 70 40
46 71 40
46 72 41
47 73 41
47 74 42
47 75 42
48 76 43
48 77 43
48 78 44
48 79 44
49 80 44
49 81 45
49 82 45
50 83 46
50 84 46
50 85 47
50 86 47
51 87 48
51 88 48
51 89 48
51 90 49
51 91 49
52 92 50
52 93 50
52 94 51
52 95 51
52 96 51
53 97 52
53 98 52
53 99 53
53 100 53
53 101 53
53 102 54
53 103 54
54 104 55
54 105 55
54 106 55
54 107 56
54 108 56
54 109 57
54 110 57
54 111 57
54 112 58
54 113 58
54 114 58
54 115 59
54 116 59
54 117 59
54 118 60
54 119 60
54 120 60
54 121 61
54 122 61
54 123 61
54 124 62
54 125 62
54 126 62
54 127 63
54 128 63
54 129 63
54 130 64
54 132 64
53 133 64
53 134 64
53 135 65
53 136 65
53 137 65
53 138 65
53 139 66
52 140 66
52 141 66
52 142 66
52 143 67
52 144 67
51 145 67
51 147 67
51 148 67
51 149 67
50 150 68
50 151 68
50 152 68
50 153 68
49 154 68
49 155 68
49 156 68
49 158 69
48 159 69
48 160 69
48 161 69
48 162 69
47 163 69
47 164 69
47 165 69
47 166 69
46 168 69
46 169 69
46 170 69
46 171 69
46 172 69
46 173 69
45 174 69
45 175 69
45 177 69
45 178 68
45 179 68
45 180 68
46 181 68
46 182 68
46 183 68
46 184 67
46 186 67
47 187 67
47 188 67
48 189 66
48 190 66
49 191 66
50 192 66
50 193 65
51 194 65
52 196 65
53 197 64
54 198 64
55 199 63
56 200 63
57 201 62
59 202 62
60 203 62
61 204 61
63 205 61
64 206 60
66 207 60
67 208 59
69 210 58
70 211 58
72 212 57
74 213 57
76 214 56
77 215 56
79 216 55
81 217 54
83 218 54
85 219 53
87 220 53
88 221 52
90 222 51
92 223 51
94 224 50
96 225 49
98 226 49
100 227 48
102 228 47
104 229 46
106 230 46
108 231 45
110 232 44
112 233 44
114 234 43
116 235 42
118 236 41
120 237 40
122 238 40
125 239 39
127 240 38
129 241 37
131 242 36
133 243 35
135 244 34
137 245 34
139 246 33
141 247 32
143 248 31
145 249 30
147 250 29
149 251 27
151 252 26
`,yp=`0 0 0
0 0 0
0 0 0
0 0 0
1 1 1
1 1 1
2 1 2
2 2 2
3 2 3
3 3 3
4 3 4
5 4 5
6 4 6
7 5 7
8 6 8
9 6 9
10 7 11
11 8 12
13 9 13
14 10 14
15 11 15
16 11 17
17 12 18
19 13 19
20 14 20
21 15 22
22 16 23
23 17 24
24 17 25
26 18 26
27 19 27
28 20 29
29 21 30
30 21 31
31 22 32
33 23 33
34 24 34
35 24 35
36 25 37
37 26 38
38 27 39
40 27 40
41 28 41
42 29 42
43 29 43
44 30 44
46 31 45
47 32 47
48 32 48
49 33 49
51 34 50
52 34 51
53 35 52
54 36 53
55 36 54
57 37 55
58 37 56
59 38 57
60 39 58
62 39 59
63 40 60
64 41 61
66 41 62
67 42 62
68 42 63
69 43 64
71 44 65
72 44 66
73 45 67
75 45 67
76 46 68
77 47 69
79 47 70
80 48 70
81 48 71
82 49 72
84 50 72
85 50 73
86 51 74
88 52 74
89 52 75
90 53 75
91 54 76
93 54 76
94 55 77
95 56 77
96 56 78
98 57 78
99 58 79
100 58 79
101 59 80
102 60 80
104 60 80
105 61 81
106 62 81
107 63 82
108 63 82
110 64 82
111 65 83
112 66 83
113 66 83
114 67 84
115 68 84
117 69 84
118 69 85
119 70 85
120 71 85
121 72 86
122 73 86
123 73 86
124 74 87
126 75 87
127 76 87
128 77 87
129 78 88
130 78 88
131 79 88
132 80 88
133 81 89
134 82 89
135 83 89
136 84 90
137 84 90
139 85 90
140 86 90
141 87 91
142 88 91
143 89 91
144 90 91
145 91 92
146 92 92
147 93 92
148 94 93
149 94 93
150 95 93
151 96 93
152 97 94
152 98 94
153 99 94
154 100 95
155 101 95
156 102 95
157 103 95
158 104 96
159 105 96
160 106 96
161 107 97
161 108 97
162 109 98
163 110 98
164 112 98
165 113 99
166 114 99
167 115 100
167 116 100
168 117 100
169 118 101
170 119 101
170 120 102
171 121 102
172 122 103
173 124 103
173 125 104
174 126 104
175 127 105
175 128 106
176 129 106
177 130 107
178 132 108
178 133 108
179 134 109
179 135 110
180 136 110
181 138 111
181 139 112
182 140 112
183 141 113
183 142 114
184 144 115
184 145 116
185 146 116
186 147 117
186 149 118
187 150 119
187 151 120
188 152 121
188 153 122
189 155 123
189 156 124
190 157 125
190 158 126
191 160 127
191 161 128
192 162 129
193 164 130
193 165 131
194 166 132
194 167 133
195 169 135
195 170 136
196 171 137
196 172 138
197 174 139
197 175 140
198 176 142
198 178 143
199 179 144
199 180 145
200 182 147
200 183 148
200 184 149
201 185 151
201 187 152
202 188 153
202 189 155
203 191 156
204 192 157
204 193 159
205 195 160
205 196 162
206 197 163
206 198 165
207 200 166
207 201 167
208 202 169
208 204 170
209 205 172
209 206 173
210 208 175
210 209 176
211 210 178
212 212 179
212 213 181
213 214 182
213 216 184
214 217 186
215 218 187
215 220 189
216 221 190
216 222 192
217 224 193
218 225 195
218 226 197
219 228 198
220 229 200
220 230 201
221 232 203
222 233 205
222 234 206
223 236 208
224 237 209
225 238 211
225 240 213
226 241 214
227 243 216
228 244 218
`,xp=`0 0 0
0 0 0
0 0 0
1 0 1
1 1 1
1 1 1
2 1 2
3 2 3
4 2 4
5 2 4
6 3 5
7 3 7
8 4 8
10 4 9
11 5 10
13 5 12
15 6 13
16 7 14
18 7 16
19 8 17
21 8 18
23 9 20
24 10 21
26 10 22
27 11 23
29 12 24
31 12 26
32 13 27
34 13 28
36 14 29
37 14 30
39 15 31
41 15 32
42 16 33
44 16 34
46 16 35
47 17 36
49 17 37
51 18 38
52 18 38
54 18 39
56 19 40
57 19 41
59 19 42
61 19 42
63 20 43
64 20 44
66 20 44
68 20 45
70 21 45
71 21 46
73 21 47
75 21 47
77 21 48
78 22 48
80 22 49
82 22 49
84 22 49
85 22 50
87 22 50
89 22 50
91 22 51
92 22 51
94 22 51
96 22 52
98 22 52
100 22 52
101 22 52
103 22 52
105 22 52
107 22 53
109 22 53
110 22 53
112 22 53
114 22 53
116 22 53
118 22 53
119 22 53
121 21 53
123 21 52
125 21 52
127 21 52
129 21 52
130 20 52
132 20 52
134 20 51
136 20 51
138 19 51
139 19 50
141 19 50
143 18 50
145 18 49
147 18 49
149 17 48
150 17 48
152 17 47
154 16 47
156 16 46
158 16 46
159 15 45
161 15 44
163 15 44
165 14 43
167 14 42
168 14 41
170 14 41
172 14 40
173 14 39
175 14 38
177 14 37
179 14 36
180 15 35
182 15 34
183 16 33
185 17 32
187 17 30
188 18 29
190 20 28
191 21 27
193 22 25
194 24 24
195 25 23
197 27 21
198 29 20
199 31 18
200 33 17
201 35 16
202 37 14
203 39 13
204 42 12
205 44 10
206 46 9
207 48 8
207 51 8
208 53 7
209 55 7
210 57 6
210 60 6
211 62 6
211 64 6
212 66 7
213 68 7
213 70 8
214 72 9
214 75 10
215 77 11
215 79 12
215 81 13
216 83 15
216 85 16
217 87 18
217 89 19
217 91 21
218 93 22
218 95 24
218 97 25
219 99 27
219 100 29
219 102 30
220 104 32
220 106 34
220 108 35
220 110 37
221 112 39
221 114 41
221 115 42
221 117 44
221 119 46
222 121 48
222 123 50
222 125 52
222 126 53
222 128 55
222 130 57
223 132 59
223 134 61
223 135 63
223 137 65
223 139 67
223 141 69
223 142 71
223 144 73
223 146 75
223 148 77
223 149 79
223 151 81
223 153 83
224 155 86
224 156 88
224 158 90
224 160 92
224 161 94
224 163 96
224 165 99
224 166 101
224 168 103
224 170 105
224 171 108
224 173 110
224 175 112
224 176 115
224 178 117
224 180 120
224 181 122
224 183 124
224 185 127
224 186 129
224 188 132
224 189 134
224 191 137
224 193 139
224 194 142
224 196 144
224 197 147
224 199 150
225 200 152
225 202 155
225 204 157
225 205 160
225 207 163
226 208 165
226 210 168
226 211 171
226 213 173
227 214 176
227 215 179
227 217 182
228 218 184
228 220 187
229 221 190
229 223 193
230 224 195
230 225 198
231 227 201
232 228 203
232 229 206
233 231 209
234 232 212
235 233 214
236 235 217
237 236 220
237 237 222
238 239 225
240 240 227
241 241 230
242 242 233
243 244 235
244 245 238
245 246 240
247 247 242
248 249 245
249 250 247
251 251 249
252 252 251
254 254 253
255 255 255
`,Ap=`0 0 0
0 0 0
0 0 0
0 0 1
1 1 1
1 1 1
2 1 2
2 2 3
3 2 4
4 3 5
4 3 6
5 4 7
6 5 8
7 5 10
8 6 12
9 7 13
10 8 15
11 9 16
12 10 18
13 11 20
14 12 21
15 13 23
16 14 24
17 15 26
18 16 28
18 17 29
19 18 31
20 19 33
21 20 34
21 21 36
22 22 37
23 23 39
23 24 40
24 25 42
24 26 43
25 27 45
25 28 46
26 29 48
26 30 49
27 32 51
27 33 52
27 34 54
28 35 55
28 36 56
28 37 58
28 38 59
28 39 60
28 40 61
29 41 63
29 43 64
29 44 65
29 45 66
29 46 67
29 47 68
29 48 69
29 49 70
29 51 71
29 52 72
29 53 73
29 54 74
28 55 75
28 56 76
28 57 76
28 59 77
28 60 78
28 61 79
28 62 80
28 63 80
27 64 81
27 65 82
27 67 83
27 68 83
27 69 84
27 70 85
26 71 85
26 72 86
26 73 87
26 74 87
26 76 88
25 77 88
25 78 89
25 79 89
25 80 90
25 81 91
24 82 91
24 84 92
24 85 92
24 86 93
23 87 93
23 88 94
23 89 94
23 90 94
22 91 95
22 93 95
22 94 96
22 95 96
21 96 97
21 97 97
21 98 97
21 99 98
20 100 98
20 102 98
20 103 99
20 104 99
19 105 99
19 106 100
19 107 100
19 108 100
19 110 100
19 111 101
19 112 101
18 113 101
18 114 101
18 115 102
18 116 102
18 117 102
18 119 102
19 120 102
19 121 102
19 122 103
19 123 103
19 124 103
20 125 103
20 127 103
21 128 103
21 129 103
22 130 103
22 131 103
23 132 103
23 133 103
24 134 103
25 136 103
26 137 103
27 138 103
28 139 103
29 140 103
30 141 103
31 142 103
32 143 103
33 145 102
34 146 102
36 147 102
37 148 102
38 149 102
40 150 101
41 151 101
43 152 101
44 153 101
46 154 101
47 156 100
49 157 100
51 158 100
53 159 99
54 160 99
56 161 99
58 162 98
60 163 98
62 164 98
64 165 97
66 166 97
68 167 97
71 168 96
73 169 96
75 170 96
78 171 96
80 172 95
83 173 95
86 173 95
88 174 95
91 175 95
94 176 95
97 177 95
100 178 95
103 178 96
106 179 96
109 180 97
111 180 98
114 181 99
117 182 100
119 183 102
122 183 103
125 184 104
127 185 106
129 185 108
132 186 109
134 187 111
136 188 113
138 189 115
140 189 116
143 190 118
145 191 120
147 192 122
149 192 124
151 193 126
152 194 128
154 195 130
156 196 132
158 197 134
160 197 136
162 198 138
164 199 140
165 200 142
167 201 144
169 202 146
171 203 149
173 204 151
174 204 153
176 205 155
178 206 157
179 207 159
181 208 161
183 209 163
184 210 166
186 211 168
188 212 170
190 213 172
191 214 174
193 215 176
194 216 178
196 216 181
198 217 183
199 218 185
201 219 187
203 220 189
204 221 191
206 222 193
208 223 196
209 224 198
211 225 200
212 226 202
214 227 204
216 228 206
217 229 208
219 230 211
221 232 213
222 233 215
224 234 217
225 235 219
227 236 221
229 237 223
230 238 225
232 239 228
234 240 230
235 241 232
237 242 234
239 243 236
240 244 238
242 246 240
244 247 242
245 248 244
247 249 246
249 250 248
250 251 249
252 253 251
253 254 253
255 255 255
`,Ep=`0 0 0
0 0 0
0 0 0
0 0 1
0 1 1
1 1 2
1 2 3
1 2 4
1 3 5
2 3 6
2 4 8
2 5 10
3 6 12
3 7 14
3 8 16
3 9 18
4 10 20
4 11 22
4 12 24
4 13 26
4 14 28
4 15 30
4 16 33
4 17 35
4 18 37
4 20 39
4 21 42
4 22 44
4 23 47
4 23 49
4 24 52
4 25 54
3 26 57
3 27 59
3 28 62
3 29 65
2 30 68
2 31 71
1 31 74
1 32 77
1 33 80
1 33 83
0 34 86
0 35 89
0 35 92
0 36 96
0 36 99
1 37 103
1 37 106
2 37 110
3 38 113
5 38 117
7 38 121
10 38 124
13 38 128
16 37 131
19 37 135
23 37 138
26 37 141
29 36 143
32 36 146
36 36 147
39 36 149
42 36 150
44 36 151
47 37 152
49 37 152
52 38 152
54 39 152
57 39 153
59 40 152
61 41 152
63 42 152
65 42 152
67 43 152
69 44 151
71 45 151
73 46 151
75 47 150
77 47 150
79 48 150
81 49 149
82 50 149
84 51 149
86 52 148
88 52 148
90 53 148
91 54 147
93 55 147
95 55 147
97 56 146
98 57 146
100 58 146
102 58 145
103 59 145
105 60 145
107 61 144
109 61 144
110 62 144
112 63 144
114 63 143
115 64 143
117 65 143
119 65 143
121 66 142
122 67 142
124 67 142
126 68 142
128 69 141
129 69 141
131 70 141
133 70 141
135 71 140
136 72 140
138 72 140
140 73 140
142 73 139
143 74 139
145 74 139
147 75 138
149 75 138
151 76 138
153 76 137
154 77 137
156 78 137
158 78 136
160 79 136
162 79 135
164 80 135
165 80 134
167 81 134
169 81 133
171 81 133
173 82 132
175 82 132
177 83 131
179 83 130
181 84 130
182 84 129
184 85 128
186 85 127
188 86 127
190 86 126
192 87 125
194 87 124
196 88 123
198 88 122
199 89 121
201 89 120
203 90 119
205 91 118
207 91 117
209 92 116
211 92 115
212 93 114
214 93 113
216 94 111
218 95 110
220 95 109
221 96 108
223 97 106
225 98 105
227 98 104
228 99 102
230 100 101
232 101 100
233 102 98
235 103 97
236 104 95
238 105 94
239 106 92
241 107 91
242 108 90
243 109 88
244 110 87
246 112 85
247 113 84
248 115 83
249 116 82
250 118 81
251 119 80
251 121 79
252 123 78
253 125 77
253 126 77
254 128 76
254 130 76
254 132 76
254 134 76
255 136 77
255 139 77
255 141 78
255 143 79
255 145 80
254 147 81
254 149 82
254 152 84
254 154 86
254 156 87
253 158 89
253 160 91
253 162 94
252 165 96
252 167 98
252 169 101
251 171 103
251 173 106
250 175 109
250 177 111
250 179 114
249 181 117
249 183 120
248 185 123
248 187 126
248 189 129
247 191 132
247 193 135
247 195 138
246 196 141
246 198 144
246 200 147
245 202 151
245 204 154
245 205 157
245 207 160
244 209 164
244 211 167
244 212 170
244 214 173
244 216 177
244 217 180
244 219 183
244 221 186
244 222 190
244 224 193
244 226 196
244 227 199
244 229 203
244 230 206
244 232 209
245 233 212
245 235 215
245 237 219
246 238 222
246 240 225
247 241 228
247 242 231
248 244 234
248 245 237
249 247 240
250 248 243
251 249 246
252 251 248
253 252 250
254 254 253
255 255 255
`,Cp=`0 0 0
0 0 0
0 0 0
0 0 1
1 1 1
1 1 1
1 1 2
2 1 3
2 2 4
3 2 5
4 3 6
4 3 7
5 4 8
6 4 10
7 5 12
8 5 13
9 6 15
10 7 17
11 7 18
12 8 20
13 9 22
14 10 23
15 10 25
16 11 27
17 12 29
18 13 30
19 13 32
20 14 34
21 15 36
22 16 38
23 16 40
24 17 42
25 18 43
25 19 45
26 19 47
27 20 49
28 21 51
29 21 53
29 22 55
30 23 57
31 23 59
31 24 62
32 25 64
33 26 66
33 26 68
34 27 70
34 28 72
35 29 74
35 30 76
35 30 78
35 31 80
36 32 82
36 33 84
36 34 86
36 35 88
35 36 89
35 37 91
35 38 92
35 40 93
34 41 95
34 42 96
33 43 96
33 45 97
32 46 98
32 47 98
31 48 99
31 50 99
30 51 100
30 52 100
29 54 100
29 55 100
28 56 101
28 57 101
28 58 101
27 60 101
27 61 101
27 62 101
27 63 102
26 64 102
26 65 102
26 66 102
26 68 102
26 69 102
26 70 102
26 71 102
26 72 102
26 73 102
26 74 102
26 75 103
26 76 103
26 77 103
26 78 103
26 79 103
26 80 103
26 81 103
27 82 103
27 83 103
27 85 103
27 86 104
27 87 104
27 88 104
27 89 104
27 90 104
28 91 104
28 92 104
28 93 104
28 94 104
28 95 105
28 96 105
28 97 105
28 98 105
28 99 105
28 100 105
28 101 105
28 102 105
28 103 105
28 104 105
28 105 105
28 106 105
27 107 106
27 108 106
27 109 106
27 111 106
27 112 106
26 113 106
26 114 106
26 115 106
25 116 106
25 117 105
25 118 105
24 119 105
24 120 105
23 121 105
23 122 105
22 123 105
22 125 105
21 126 105
21 127 104
20 128 104
19 129 104
19 130 104
18 131 103
17 132 103
17 133 103
16 134 103
15 136 102
14 137 102
14 138 101
13 139 101
12 140 101
11 141 100
10 142 100
10 143 99
9 144 99
8 146 98
7 147 98
7 148 97
6 149 97
6 150 96
6 151 95
5 152 95
5 153 94
5 154 93
5 156 92
6 157 92
6 158 91
7 159 90
7 160 89
8 161 88
9 162 87
11 163 86
12 164 86
13 165 85
15 167 83
17 168 82
18 169 81
20 170 80
22 171 79
24 172 78
25 173 77
27 174 75
29 175 74
31 176 72
33 177 71
36 178 70
38 179 68
40 180 66
42 181 65
44 182 63
47 183 61
49 184 60
52 185 58
54 186 56
57 187 54
60 188 52
62 189 49
65 190 47
68 191 45
71 192 42
74 193 40
77 194 37
81 194 34
84 195 31
88 196 28
91 197 25
95 197 22
99 198 20
103 198 18
107 199 17
111 200 16
115 200 17
118 201 19
122 201 22
125 202 24
129 202 28
132 203 31
135 203 34
138 204 38
141 204 41
143 205 44
146 205 47
149 206 51
151 207 54
154 207 57
156 208 60
158 208 63
161 209 66
163 210 69
165 210 72
167 211 75
169 212 78
171 212 81
174 213 84
176 214 86
178 214 89
180 215 92
182 216 95
184 217 98
186 217 100
187 218 103
189 219 106
191 219 108
193 220 111
195 221 114
197 222 116
199 222 119
201 223 122
202 224 124
204 225 127
206 225 130
208 226 132
210 227 135
211 228 138
213 229 140
215 229 143
217 230 145
`,kp=`0 0 0
0 0 0
0 0 0
0 0 0
1 0 0
1 1 1
2 1 1
2 1 1
3 2 1
4 2 1
5 2 2
6 3 2
7 3 2
8 4 2
9 4 3
10 5 3
12 5 3
13 6 3
14 6 4
16 7 4
17 7 4
18 8 4
20 9 5
21 9 5
22 10 5
23 11 5
25 11 6
26 12 6
27 13 6
29 14 6
30 14 7
31 15 7
32 15 7
34 16 7
35 17 7
36 17 8
38 18 8
39 19 8
40 19 8
41 20 8
43 20 8
44 21 8
45 22 8
46 22 8
48 23 8
49 23 8
50 24 8
51 25 8
52 25 8
54 26 8
55 26 8
56 27 8
57 28 8
59 28 8
60 29 8
61 29 7
62 30 7
63 31 7
65 31 7
66 32 6
67 32 6
68 33 6
69 34 6
70 34 5
71 35 5
72 36 4
73 36 4
74 37 4
75 38 3
76 39 3
77 40 3
78 40 2
79 41 2
79 42 2
80 43 2
81 44 2
81 45 2
82 46 2
82 47 2
83 48 2
83 49 2
84 50 2
84 51 2
85 52 3
85 53 3
86 54 3
86 55 4
86 56 4
87 58 5
87 59 6
88 60 7
88 61 7
88 62 8
88 63 9
89 64 10
89 65 11
89 66 12
90 67 13
90 68 14
90 69 15
90 70 16
91 71 17
91 72 18
91 73 19
91 75 21
91 76 22
91 77 23
92 78 24
92 79 25
92 80 26
92 81 27
92 82 28
92 83 29
92 84 30
93 85 31
93 86 32
93 87 34
93 88 35
93 89 36
93 90 37
93 91 38
93 93 39
93 94 40
93 95 41
93 96 42
93 97 43
93 98 45
93 99 46
93 100 47
93 101 48
93 102 49
93 103 50
93 104 51
93 105 52
93 106 53
93 107 54
93 108 55
93 109 57
93 110 58
93 111 59
93 113 60
93 114 61
93 115 62
93 116 63
93 117 64
92 118 65
92 119 66
92 120 67
92 121 68
92 122 69
92 123 70
91 124 71
91 125 72
91 126 73
91 128 74
90 129 75
90 130 76
90 131 77
90 132 78
89 133 79
89 134 79
88 135 80
88 136 81
88 137 82
87 139 83
87 140 84
86 141 85
86 142 85
85 143 86
85 144 87
84 145 88
83 147 88
83 148 89
82 149 90
81 150 90
80 151 91
80 152 91
79 154 92
78 155 92
77 156 93
76 157 93
75 158 94
74 160 94
73 161 94
72 162 95
71 163 95
70 164 95
69 166 95
67 167 96
66 168 96
65 169 96
64 171 96
63 172 96
62 173 96
60 174 96
59 175 95
58 177 95
57 178 95
56 179 95
54 180 95
53 181 94
52 183 94
51 184 94
50 185 93
49 186 93
48 187 92
47 189 92
46 190 91
45 191 91
44 192 90
43 193 90
42 194 89
42 196 89
41 197 88
40 198 87
39 199 87
39 200 86
38 201 85
38 203 84
37 204 84
37 205 83
36 206 82
36 207 81
36 208 80
36 210 79
36 211 78
36 212 77
36 213 76
36 214 75
36 215 74
36 217 73
36 218 72
36 219 71
37 220 70
37 221 68
38 222 67
38 224 65
39 225 64
39 226 63
40 227 61
41 228 59
41 229 58
42 231 56
43 232 54
44 233 52
45 234 50
45 235 48
46 236 46
47 238 43
48 239 41
49 240 38
50 241 35
52 242 31
53 243 27
54 245 23
55 246 17
`,Sp=`144 14 165
145 14 164
146 14 163
148 13 162
149 13 161
150 13 160
151 13 159
153 12 158
154 12 157
155 12 156
156 12 155
158 11 154
159 11 153
160 11 152
161 10 151
163 10 150
164 9 149
165 9 148
166 9 147
168 8 146
169 8 145
170 8 143
171 7 142
172 7 141
174 7 140
175 6 138
176 6 137
177 6 136
178 6 135
179 6 133
181 6 132
182 6 131
183 6 129
184 6 128
185 6 126
186 6 125
187 6 123
188 7 122
189 7 120
190 8 119
191 8 117
192 9 116
193 10 114
194 11 113
195 12 111
196 13 110
197 14 108
198 15 106
199 16 105
200 18 103
201 19 102
202 20 100
202 21 98
203 23 97
204 24 95
205 25 93
205 27 92
206 28 90
207 30 89
207 31 87
208 32 85
209 34 84
209 35 82
210 37 81
210 38 79
211 40 78
211 41 76
212 43 74
212 44 73
213 46 71
213 47 70
214 49 69
214 50 67
214 52 66
215 53 64
215 55 63
215 56 61
215 58 60
216 59 59
216 61 57
216 62 56
216 64 55
216 65 53
217 67 52
217 68 51
217 70 50
217 71 48
217 73 47
217 74 46
217 76 45
217 77 43
217 78 42
217 80 41
217 81 40
217 83 39
217 84 38
217 86 36
217 87 35
217 88 34
217 90 33
217 91 32
216 93 31
216 94 30
216 96 28
216 97 27
216 98 26
215 100 25
215 101 24
215 102 23
215 104 22
214 105 20
214 107 19
214 108 18
214 109 17
213 111 16
213 112 15
212 113 14
212 115 12
212 116 11
211 118 10
211 119 9
210 120 8
210 122 7
209 123 6
209 124 5
208 126 5
208 127 4
207 128 4
207 130 3
206 131 3
206 132 3
205 134 3
204 135 2
204 136 3
203 138 3
202 139 3
202 140 3
201 141 4
200 143 4
199 144 5
199 145 6
198 147 7
197 148 8
196 149 9
195 151 11
194 152 12
194 153 13
193 154 15
192 156 16
191 157 18
190 158 19
189 160 21
188 161 22
187 162 24
186 163 25
184 165 27
183 166 28
182 167 30
181 168 32
180 170 33
179 171 35
177 172 37
176 173 38
175 175 40
173 176 41
172 177 43
171 178 45
169 180 47
168 181 48
166 182 50
165 183 52
163 185 54
162 186 55
160 187 57
159 188 59
157 189 61
155 191 63
154 192 65
152 193 67
150 194 69
148 195 71
146 196 73
145 198 75
143 199 77
141 200 79
139 201 81
137 202 83
135 203 85
132 204 87
130 206 89
128 207 92
126 208 94
124 209 96
121 210 98
119 211 101
117 212 103
114 213 105
112 214 108
109 215 110
107 216 112
104 217 115
102 218 117
99 219 120
97 220 122
94 221 125
91 222 127
89 223 130
86 224 132
83 224 135
81 225 137
78 226 140
75 227 143
73 228 145
70 229 148
67 229 150
65 230 153
62 231 156
60 232 158
57 232 161
55 233 163
52 234 166
50 234 169
48 235 171
46 236 174
44 236 176
42 237 179
41 238 182
39 238 184
38 239 187
37 239 189
36 240 192
36 241 194
36 241 197
36 242 199
36 242 202
36 243 204
37 243 207
38 244 209
39 244 212
40 245 214
42 245 216
43 246 219
45 246 221
46 246 224
48 247 226
50 247 228
52 248 231
53 248 233
55 249 236
57 249 238
59 250 240
61 250 243
63 250 245
64 251 247
66 251 250
68 252 252
`,Pp=`28 7 48
30 7 50
31 8 52
32 8 53
33 9 55
35 9 56
36 9 58
37 10 59
38 10 61
40 11 63
41 11 64
42 11 66
43 12 67
45 12 69
46 13 71
47 13 72
48 13 74
50 13 76
51 14 78
52 14 79
53 14 81
55 14 83
56 15 85
57 15 87
58 15 88
59 15 90
61 15 92
62 15 94
63 16 96
64 16 98
65 16 100
67 16 102
68 16 104
69 16 106
70 16 108
71 17 110
72 17 112
73 17 114
74 18 116
75 18 118
75 19 120
76 20 122
77 21 124
77 22 126
78 23 127
78 24 129
79 25 130
79 27 132
80 28 133
80 30 135
80 31 136
81 32 137
81 34 138
81 35 139
81 37 140
82 38 141
82 40 142
82 41 143
82 43 144
82 44 145
83 46 146
83 47 147
83 49 148
83 50 149
83 51 149
83 53 150
83 54 151
83 56 152
83 57 153
83 58 153
84 60 154
84 61 155
84 62 155
84 64 156
84 65 157
84 66 157
84 68 158
84 69 159
84 70 159
84 72 160
84 73 161
84 74 161
84 75 162
84 77 163
84 78 163
84 79 164
84 80 165
84 82 165
84 83 166
84 84 166
84 85 167
84 87 168
84 88 168
84 89 169
84 90 170
84 91 170
84 93 171
84 94 171
84 95 172
84 96 173
84 97 173
84 98 174
84 100 174
84 101 175
84 102 175
84 103 176
84 104 177
84 106 177
84 107 178
84 108 178
84 109 179
84 110 180
84 111 180
84 113 181
84 114 181
84 115 182
84 116 183
84 117 183
84 118 184
84 120 184
84 121 185
84 122 185
84 123 186
84 124 187
84 125 187
84 126 188
84 128 188
84 129 189
84 130 189
84 131 190
84 132 190
84 133 191
84 135 191
84 136 192
84 137 193
84 138 193
84 139 194
84 140 194
84 141 195
84 143 195
85 144 196
85 145 196
85 146 197
85 147 197
85 148 198
85 149 198
85 151 199
85 152 199
85 153 200
86 154 200
86 155 200
86 156 201
86 157 201
87 159 202
87 160 202
87 161 202
88 162 203
88 163 203
88 164 204
89 165 204
89 167 204
90 168 205
90 169 205
91 170 205
92 171 205
93 172 206
93 173 206
94 174 206
95 175 206
96 176 207
97 177 207
98 178 207
100 179 207
101 181 207
102 182 208
104 183 208
105 184 208
107 184 208
108 185 208
110 186 208
112 187 208
113 188 209
115 189 209
117 190 209
119 191 209
121 192 209
123 193 209
125 194 210
127 195 210
129 195 210
131 196 210
133 197 211
135 198 211
137 199 211
139 200 211
141 201 212
143 201 212
145 202 213
147 203 213
149 204 213
151 205 214
153 206 214
155 206 215
157 207 215
159 208 216
162 209 216
164 210 217
166 211 217
168 211 218
170 212 218
172 213 219
173 214 219
175 215 220
177 216 220
179 217 221
181 217 222
183 218 222
185 219 223
187 220 224
189 221 224
191 222 225
193 223 226
195 223 226
197 224 227
199 225 228
201 226 229
202 227 229
204 228 230
206 229 231
208 230 232
210 231 232
212 232 233
214 232 234
215 233 235
217 234 236
219 235 236
221 236 237
223 237 238
225 238 239
226 239 240
228 240 241
230 241 242
232 242 243
234 243 243
235 244 244
237 245 245
239 246 246
241 247 247
243 248 248
244 249 249
246 250 250
248 251 251
250 252 252
251 253 253
253 254 254
255 255 255
254 254 254
253 252 253
252 251 252
251 250 251
250 248 250
249 247 249
248 246 248
248 244 247
247 243 246
246 242 246
245 240 245
244 239 244
243 238 243
242 236 242
241 235 242
240 234 241
240 232 240
239 231 239
238 230 238
237 228 238
236 227 237
236 226 236
235 224 235
234 223 235
233 221 234
233 220 233
232 219 233
231 217 232
230 216 231
230 215 230
229 213 230
228 212 229
228 211 228
227 209 228
226 208 227
226 207 226
225 205 226
225 204 225
224 203 224
223 201 224
223 200 223
222 199 223
222 197 222
221 196 221
220 195 221
220 193 220
219 192 220
219 191 219
218 189 218
218 188 218
217 187 217
217 185 217
216 184 216
216 183 215
215 181 215
215 180 214
214 178 214
214 177 213
213 176 213
213 174 212
212 173 211
212 172 211
211 170 210
211 169 210
210 168 209
210 166 209
209 165 208
209 163 208
209 162 207
208 161 207
208 159 206
207 158 205
207 156 205
207 155 204
206 154 204
206 152 203
206 151 203
205 149 202
205 148 202
204 147 201
204 145 201
204 144 200
203 142 200
203 141 199
203 139 199
203 138 198
202 136 198
202 135 197
202 134 197
201 132 196
201 131 195
201 129 195
200 128 194
200 126 194
200 125 193
200 123 193
199 122 192
199 120 192
199 118 191
199 117 190
198 115 190
198 114 189
198 112 189
198 111 188
197 109 187
197 107 187
197 106 186
197 104 185
196 102 185
196 101 184
196 99 183
196 98 182
196 96 182
195 94 181
195 92 180
195 91 179
195 89 178
194 87 177
194 86 176
194 84 175
194 82 174
193 80 173
193 79 172
193 77 171
192 75 170
192 74 169
192 72 168
191 70 166
191 68 165
191 67 164
190 65 162
190 63 161
189 62 159
189 60 158
188 59 156
188 57 155
187 55 153
187 54 152
186 52 150
185 51 148
185 50 147
184 48 145
183 47 143
183 45 141
182 44 139
181 43 138
180 42 136
180 40 134
179 39 132
178 38 130
177 37 129
176 36 127
175 35 125
174 33 123
173 32 121
173 31 119
172 30 117
171 29 116
170 28 114
169 28 112
168 27 110
167 26 108
166 25 106
165 24 105
163 23 103
162 22 101
161 22 99
160 21 97
159 20 96
158 19 94
157 19 92
156 18 90
155 17 89
153 17 87
152 16 85
151 16 83
150 15 82
149 15 80
148 14 78
146 14 77
145 13 75
144 13 74
143 12 72
142 12 70
140 12 69
139 11 67
138 11 66
136 11 64
135 11 63
134 10 61
133 10 60
131 10 58
130 10 57
129 10 55
127 10 54
126 10 53
125 10 51
123 10 50
122 10 49
120 10 47
119 11 46
118 11 45
116 11 44
115 11 43
113 11 42
112 11 41
110 11 40
109 12 39
107 12 38
106 12 37
104 12 36
103 12 35
101 12 34
100 12 33
98 13 33
97 13 32
95 13 31
94 13 31
92 13 30
91 13 29
89 13 29
88 13 28
86 13 27
85 13 27
83 12 26
82 12 26
80 12 25
79 12 25
77 12 24
76 12 24
75 12 23
73 11 23
72 11 22
70 11 22
69 11 21
67 10 21
66 10 20
64 10 20
63 9 19
61 9 19
60 9 19
58 9 18
57 8 18
56 8 17
54 8 17
53 7 16
51 7 16
50 7 15
48 6 15
47 6 14
45 5 14
44 5 13
43 5 13
41 4 12
40 4 12
`,Mp=`0 0 0
0 0 0
0 0 0
1 0 0
1 1 1
2 1 1
2 1 2
3 2 2
4 2 3
5 2 4
6 3 5
8 3 6
9 4 7
11 4 8
12 5 9
14 5 11
15 6 12
17 6 13
19 7 15
20 8 16
22 8 17
23 9 19
25 9 20
26 10 22
28 11 23
29 11 24
31 12 26
32 12 27
34 13 29
36 14 30
37 14 32
39 15 33
40 15 34
42 16 36
43 16 37
45 16 39
46 17 40
48 17 42
49 18 43
51 18 45
53 18 47
54 19 48
56 19 50
57 19 51
59 19 53
60 20 55
62 20 57
63 20 58
65 20 60
66 20 62
68 21 64
70 21 65
71 21 67
73 21 69
74 21 71
76 21 73
77 21 75
79 21 77
80 21 79
82 21 81
83 21 83
85 21 85
86 20 87
88 20 89
89 20 92
91 20 94
92 19 96
94 19 99
95 19 101
97 18 103
98 18 106
100 18 108
101 17 111
103 17 113
104 16 116
105 16 118
107 16 121
108 15 124
109 15 126
110 14 129
112 14 132
113 14 134
114 14 137
115 14 140
116 14 143
117 14 145
118 14 148
119 15 151
120 15 153
121 16 156
122 17 159
123 18 161
123 19 164
124 20 166
125 21 169
125 22 171
126 24 174
127 25 176
127 27 178
128 28 181
128 30 183
129 32 185
129 33 187
129 35 189
130 37 191
130 39 193
130 41 195
130 43 197
131 44 199
131 46 201
131 48 203
131 50 205
131 52 207
131 54 208
131 56 210
131 58 212
131 59 213
131 61 215
131 63 216
131 65 218
131 67 219
131 69 221
131 71 222
131 73 223
131 74 225
130 76 226
130 78 227
130 80 228
130 82 229
129 84 231
129 86 232
129 87 233
129 89 234
128 91 235
128 93 236
127 95 237
127 97 238
127 98 239
126 100 240
126 102 241
125 104 242
125 106 242
124 107 243
124 109 244
124 111 245
123 113 245
122 114 246
122 116 247
121 118 247
121 120 248
120 121 249
120 123 249
119 125 250
119 127 250
118 128 251
118 130 251
117 132 252
117 133 252
116 135 252
115 137 253
115 138 253
114 140 253
114 142 254
113 143 254
113 145 254
113 147 254
112 148 254
112 150 254
111 152 254
111 153 254
111 155 254
111 156 254
110 158 254
110 160 254
110 161 254
110 163 254
110 164 254
110 166 254
111 167 253
111 169 253
111 170 253
112 172 252
112 173 252
113 175 252
114 176 251
115 177 251
115 179 250
116 180 250
118 182 249
119 183 249
120 184 248
121 185 248
123 187 247
124 188 247
126 189 246
128 190 246
129 192 245
131 193 245
133 194 244
135 195 244
137 196 244
139 197 243
141 199 243
143 200 242
145 201 242
147 202 242
149 203 241
152 204 241
154 205 241
156 206 241
158 207 240
160 208 240
162 209 240
165 210 240
167 211 240
169 212 240
171 213 240
174 214 240
176 215 240
178 216 240
180 217 240
183 218 240
185 220 240
187 221 240
189 222 240
191 223 240
194 224 240
196 225 241
198 226 241
200 227 241
202 228 241
205 229 242
207 230 242
209 231 242
211 232 243
213 233 243
215 234 243
218 235 244
220 236 244
222 237 245
224 238 245
226 239 246
228 240 246
230 241 247
232 243 247
234 244 248
237 245 249
239 246 249
241 247 250
243 248 251
245 249 251
247 250 252
249 252 253
251 253 253
253 254 254
255 255 255
`,Ip=`32 2 55
33 2 56
34 2 58
36 2 59
37 2 61
38 3 62
39 3 64
41 3 66
42 3 67
43 3 69
44 3 71
46 4 72
47 4 74
48 4 76
49 4 78
51 4 79
52 4 81
53 4 83
54 4 85
55 4 87
57 4 89
58 4 91
59 4 92
60 4 94
61 4 96
62 5 98
63 5 100
64 5 102
65 6 104
66 6 106
67 7 108
67 8 110
68 9 111
69 11 113
69 12 115
70 14 116
70 16 118
71 17 119
71 19 120
72 21 122
72 22 123
72 24 124
73 25 125
73 27 126
73 29 127
74 30 128
74 32 129
74 33 130
74 35 131
75 36 132
75 38 133
75 39 134
75 41 135
75 42 135
76 43 136
76 45 137
76 46 138
76 48 139
76 49 139
76 50 140
77 52 141
77 53 142
77 54 142
77 56 143
77 57 144
77 58 145
77 59 145
77 61 146
77 62 147
78 63 148
78 64 148
78 66 149
78 67 150
78 68 150
78 69 151
78 71 152
78 72 152
78 73 153
78 74 154
78 75 154
78 77 155
79 78 156
79 79 156
79 80 157
79 81 158
79 83 158
79 84 159
79 85 160
79 86 160
79 87 161
79 88 162
79 90 162
79 91 163
79 92 164
79 93 164
79 94 165
79 95 165
79 96 166
79 98 167
79 99 167
79 100 168
79 101 169
79 102 169
79 103 170
79 104 171
80 106 171
80 107 172
80 108 172
80 109 173
80 110 174
80 111 174
80 112 175
80 113 176
80 115 176
80 116 177
80 117 177
80 118 178
80 119 179
80 120 179
80 121 180
80 122 181
80 124 181
80 125 182
80 126 182
80 127 183
80 128 184
80 129 184
80 130 185
80 131 185
80 133 186
80 134 187
80 135 187
80 136 188
80 137 188
80 138 189
80 139 189
80 141 190
80 142 190
80 143 191
80 144 192
80 145 192
81 146 193
81 147 193
81 148 194
81 150 194
81 151 195
81 152 195
82 153 196
82 154 196
82 155 196
82 156 197
83 157 197
83 159 198
83 160 198
84 161 199
84 162 199
85 163 199
85 164 200
86 165 200
87 166 200
87 167 201
88 168 201
89 169 201
90 171 202
91 172 202
92 173 202
93 174 202
94 175 202
95 176 203
96 177 203
98 178 203
99 179 203
101 180 203
102 181 204
104 182 204
105 183 204
107 184 204
109 184 204
111 185 205
112 186 205
114 187 205
116 188 205
118 189 205
120 190 206
122 191 206
124 192 206
126 192 206
128 193 207
130 194 207
132 195 207
134 196 208
136 197 208
138 198 208
140 198 209
142 199 209
144 200 210
146 201 210
148 202 211
150 203 211
152 203 211
154 204 212
156 205 212
158 206 213
160 207 213
162 208 214
164 208 215
166 209 215
168 210 216
170 211 216
172 212 217
174 213 218
175 214 218
177 214 219
179 215 219
181 216 220
183 217 221
185 218 221
187 219 222
189 220 223
191 220 224
192 221 224
194 222 225
196 223 226
198 224 226
200 225 227
202 226 228
203 227 229
205 228 230
207 229 230
209 229 231
211 230 232
213 231 233
214 232 234
216 233 234
218 234 235
220 235 236
222 236 237
223 237 238
225 238 239
227 239 240
229 240 241
230 241 241
232 242 242
234 243 243
236 244 244
238 245 245
239 246 246
241 247 247
243 248 248
245 249 249
246 250 250
248 251 251
250 252 252
252 253 253
253 254 254
255 255 255
253 254 254
252 253 252
250 252 251
249 251 249
247 250 248
245 249 246
244 248 245
242 247 243
241 246 242
239 245 240
237 244 239
236 243 237
234 242 236
232 241 234
231 240 233
229 239 231
227 238 230
226 237 228
224 236 226
223 235 225
221 234 223
219 233 222
218 232 220
216 231 219
214 231 217
213 230 216
211 229 214
210 228 212
208 227 211
206 226 209
205 225 208
203 224 206
201 223 205
200 223 203
198 222 201
197 221 200
195 220 198
193 219 197
192 218 195
190 217 193
188 217 192
187 216 190
185 215 189
183 214 187
182 213 185
180 212 184
179 212 182
177 211 181
175 210 179
174 209 177
172 208 176
170 207 174
169 207 173
167 206 171
165 205 169
164 204 168
162 203 166
161 203 164
159 202 163
157 201 161
156 200 160
154 199 158
152 199 156
151 198 155
149 197 153
147 196 151
146 196 150
144 195 148
142 194 146
141 193 145
139 192 143
137 192 141
136 191 140
134 190 138
132 189 136
131 189 135
129 188 133
127 187 131
126 186 130
124 185 128
122 185 126
121 184 124
119 183 123
117 182 121
116 182 119
114 181 118
112 180 116
110 179 114
109 179 112
107 178 111
105 177 109
104 176 107
102 176 105
100 175 104
99 174 102
97 173 100
95 173 98
93 172 96
92 171 95
90 170 93
88 169 91
87 169 89
85 168 87
83 167 85
82 166 83
80 166 81
78 165 79
77 164 78
75 163 76
73 162 74
72 162 72
70 161 70
69 160 68
67 159 65
65 158 63
64 158 61
63 157 59
61 156 57
60 155 55
59 154 52
58 153 50
57 152 48
57 151 45
56 151 43
56 150 40
56 149 38
56 147 36
57 146 33
58 145 31
59 144 29
60 143 27
61 142 26
62 141 24
63 139 23
64 138 22
65 137 22
66 136 21
66 135 20
67 133 20
68 132 20
68 131 19
69 130 19
69 129 19
70 128 19
70 126 19
71 125 19
71 124 19
71 123 19
72 122 19
72 121 19
72 120 19
72 119 19
72 117 19
72 116 19
72 115 19
73 114 19
73 113 19
73 112 19
73 111 20
73 110 20
73 109 20
73 108 20
73 107 20
72 105 20
72 104 20
72 103 20
72 102 20
72 101 20
72 100 21
72 99 21
71 98 21
71 97 21
71 96 21
71 95 21
71 94 21
70 93 21
70 92 21
70 91 21
70 90 21
69 89 21
69 88 21
69 87 21
68 86 21
68 85 21
68 84 21
67 83 21
67 82 21
67 81 21
66 80 21
66 79 21
66 78 21
65 77 21
65 76 21
64 75 21
64 74 21
64 73 21
63 72 21
63 71 21
62 70 21
62 69 20
61 68 20
61 67 20
60 66 20
60 65 20
60 64 20
59 63 20
59 62 20
58 61 19
58 60 19
57 59 19
57 58 19
56 57 19
55 56 19
55 55 18
54 55 18
54 54 18
53 53 18
53 52 18
52 51 17
52 50 17
51 49 17
50 48 17
50 47 17
49 46 16
49 45 16
48 44 16
47 43 16
47 42 15
46 41 15
46 40 15
45 39 14
44 38 14
44 37 14
43 36 14
42 35 13
42 34 13
41 33 13
40 33 12
40 32 12
39 31 12
38 30 11
38 29 11
37 28 11
36 27 10
35 26 10
35 25 9
34 24 9
33 23 9
32 22 8
32 21 8
31 20 8
30 19 7
29 18 7
28 17 7
27 16 6
`,Rp=`151 252 26
149 251 27
147 250 29
145 249 30
143 248 31
141 247 32
139 246 33
137 245 34
135 244 34
133 243 35
131 242 36
129 241 37
127 240 38
125 239 39
122 238 40
120 237 40
118 236 41
116 235 42
114 234 43
112 233 44
110 232 44
108 231 45
106 230 46
104 229 46
102 228 47
100 227 48
98 226 49
96 225 49
94 224 50
92 223 51
90 222 51
88 221 52
87 220 53
85 219 53
83 218 54
81 217 54
79 216 55
77 215 56
76 214 56
74 213 57
72 212 57
70 211 58
69 210 58
67 208 59
66 207 60
64 206 60
63 205 61
61 204 61
60 203 62
59 202 62
57 201 62
56 200 63
55 199 63
54 198 64
53 197 64
52 196 65
51 194 65
50 193 65
50 192 66
49 191 66
48 190 66
48 189 66
47 188 67
47 187 67
46 186 67
46 184 67
46 183 68
46 182 68
46 181 68
45 180 68
45 179 68
45 178 68
45 177 69
45 175 69
45 174 69
46 173 69
46 172 69
46 171 69
46 170 69
46 169 69
46 168 69
47 166 69
47 165 69
47 164 69
47 163 69
48 162 69
48 161 69
48 160 69
48 159 69
49 158 69
49 156 68
49 155 68
49 154 68
50 153 68
50 152 68
50 151 68
50 150 68
51 149 67
51 148 67
51 147 67
51 145 67
52 144 67
52 143 67
52 142 66
52 141 66
52 140 66
53 139 66
53 138 65
53 137 65
53 136 65
53 135 65
53 134 64
53 133 64
54 132 64
54 130 64
54 129 63
54 128 63
54 127 63
54 126 62
54 125 62
54 124 62
54 123 61
54 122 61
54 121 61
54 120 60
54 119 60
54 118 60
54 117 59
54 116 59
54 115 59
54 114 58
54 113 58
54 112 58
54 111 57
54 110 57
54 109 57
54 108 56
54 107 56
54 106 55
54 105 55
54 104 55
53 103 54
53 102 54
53 101 53
53 100 53
53 99 53
53 98 52
53 97 52
52 96 51
52 95 51
52 94 51
52 93 50
52 92 50
51 91 49
51 90 49
51 89 48
51 88 48
51 87 48
50 86 47
50 85 47
50 84 46
50 83 46
49 82 45
49 81 45
49 80 44
48 79 44
48 78 44
48 77 43
48 76 43
47 75 42
47 74 42
47 73 41
46 72 41
46 71 40
46 70 40
45 69 39
45 68 39
44 67 38
44 66 38
44 65 37
43 65 37
43 64 36
43 63 36
42 62 35
42 61 35
41 60 34
41 59 34
40 58 33
40 57 33
40 56 32
39 55 32
39 54 31
38 53 31
38 52 30
37 51 30
37 50 29
36 49 29
36 48 28
35 48 28
35 47 27
34 46 27
34 45 26
33 44 25
33 43 25
32 42 24
32 41 24
31 40 23
30 39 23
30 38 22
29 37 22
29 36 21
28 35 20
27 34 20
27 33 19
26 32 19
26 31 18
25 30 18
24 29 17
24 29 16
23 28 16
22 27 15
22 26 15
21 25 14
20 24 13
19 23 13
19 22 12
18 21 12
17 20 11
16 19 10
16 18 10
15 17 9
14 16 8
13 15 8
12 14 7
12 13 7
11 12 6
10 11 6
9 10 5
8 9 5
7 8 4
7 7 4
6 6 3
5 5 3
4 5 3
4 4 2
3 3 2
3 3 2
2 2 1
2 2 1
1 1 1
1 1 1
1 1 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
1 1 1
1 1 1
2 1 1
2 1 1
3 2 2
4 2 2
4 3 3
5 3 3
6 4 3
7 4 4
9 5 5
10 5 5
11 6 6
12 7 6
14 8 7
15 8 8
16 9 8
17 10 9
19 11 10
20 11 11
21 12 11
22 13 12
24 14 13
25 15 14
26 15 14
27 16 15
29 17 16
30 18 17
31 18 17
32 19 18
33 20 19
35 20 19
36 21 20
37 22 21
38 23 21
40 23 22
41 24 23
42 25 23
43 25 24
44 26 25
46 27 25
47 27 26
48 28 27
49 29 27
51 29 28
52 30 29
53 30 29
54 31 30
55 32 30
57 32 31
58 33 32
59 34 32
60 34 33
61 35 33
63 35 34
64 36 35
65 37 35
66 37 36
68 38 36
69 38 37
70 39 38
71 40 38
73 40 39
74 41 39
75 41 40
76 42 41
78 42 41
79 43 42
80 44 42
81 44 43
83 45 43
84 45 44
85 46 45
86 46 45
88 47 46
89 47 46
90 48 47
91 48 47
93 49 48
94 50 49
95 50 49
97 51 50
98 51 50
99 52 51
100 52 51
102 53 52
103 53 53
104 54 53
106 54 54
107 55 54
108 55 55
110 56 55
111 56 56
112 57 57
113 57 57
115 58 58
116 58 58
117 59 59
119 59 59
120 60 60
121 60 61
123 60 61
124 61 62
125 61 62
127 62 63
128 62 64
130 63 64
131 63 65
132 64 65
134 64 66
135 65 67
136 65 67
138 65 68
139 66 69
140 66 69
142 67 70
143 67 71
145 68 71
146 68 72
147 69 73
149 69 73
150 69 74
152 70 75
153 70 75
154 71 76
156 71 77
157 71 78
159 72 78
160 72 79
161 73 80
163 73 81
164 74 82
166 74 83
167 74 84
168 75 85
170 75 86
171 76 87
172 76 88
174 77 89
175 77 90
176 78 91
178 78 92
179 79 94
180 79 95
181 80 96
182 81 98
183 81 99
184 82 100
185 83 102
186 84 103
187 85 105
188 86 106
189 87 108
190 88 109
191 88 111
191 89 112
192 90 114
193 91 115
194 93 117
195 94 118
195 95 120
196 96 121
197 97 123
197 98 124
198 99 126
199 100 127
200 101 129
200 102 130
201 103 131
202 104 133
202 106 134
203 107 136
204 108 137
204 109 139
205 110 140
206 111 142
206 112 143
207 114 144
207 115 146
208 116 147
209 117 149
209 118 150
210 119 151
211 121 153
211 122 154
212 123 156
212 124 157
213 125 158
214 127 160
214 128 161
215 129 162
215 130 164
216 131 165
217 132 167
217 134 168
218 135 169
218 136 171
219 137 172
220 139 173
220 140 175
221 141 176
221 142 177
222 143 179
222 145 180
223 146 182
224 147 183
224 148 184
225 150 186
225 151 187
226 152 188
227 153 190
227 155 191
228 156 192
228 157 193
229 158 195
229 160 196
230 161 197
231 162 199
231 163 200
232 165 201
232 166 203
233 167 204
233 168 205
234 170 207
235 171 208
235 172 209
236 174 210
236 175 212
237 176 213
237 177 214
238 179 216
239 180 217
239 181 218
240 183 219
240 184 221
241 185 222
242 187 223
242 188 224
243 189 226
243 191 227
244 192 228
245 193 230
245 195 231
246 196 232
246 197 233
247 199 235
248 200 236
248 201 237
249 203 238
250 204 239
250 205 241
251 207 242
`,Bp=`147 253 42
144 252 45
141 251 48
139 250 51
136 249 53
134 248 56
132 247 58
129 246 61
127 245 63
125 244 65
122 243 67
120 242 69
118 241 71
116 240 73
114 239 75
112 238 77
110 237 78
108 236 80
106 235 82
104 233 83
102 232 85
100 231 86
98 230 88
96 229 89
95 228 90
93 227 92
91 226 93
89 225 94
88 223 96
86 222 97
84 221 98
83 220 99
81 219 100
80 218 101
78 217 102
77 216 103
75 214 104
74 213 105
72 212 106
71 211 107
70 210 108
68 209 109
67 208 110
66 207 111
65 205 112
63 204 112
62 203 113
61 202 114
60 201 115
59 200 115
58 199 116
57 197 117
56 196 117
55 195 118
54 194 119
53 193 119
52 192 120
51 191 120
50 190 121
49 188 121
48 187 122
48 186 122
47 185 123
46 184 123
45 183 124
45 182 124
44 181 124
43 179 125
43 178 125
42 177 126
41 176 126
41 175 126
40 174 127
40 173 127
39 172 127
39 170 127
38 169 128
38 168 128
38 167 128
37 166 128
37 165 129
36 164 129
36 163 129
36 162 129
35 160 129
35 159 129
35 158 129
34 157 130
34 156 130
34 155 130
33 154 130
33 153 130
33 152 130
33 151 130
32 150 130
32 148 130
32 147 130
31 146 130
31 145 130
31 144 130
31 143 130
30 142 130
30 141 130
30 140 130
29 139 130
29 138 130
29 137 130
29 136 130
28 135 130
28 134 130
28 133 130
27 132 129
27 130 129
27 129 129
26 128 129
26 127 129
25 126 129
25 125 129
25 124 129
24 123 129
24 122 128
23 121 128
23 120 128
23 119 128
22 118 128
22 117 128
21 116 128
21 115 128
20 114 127
20 113 127
20 112 127
19 111 127
19 110 127
18 109 127
18 108 127
17 107 126
17 106 126
17 105 126
16 104 126
16 103 126
15 102 126
15 101 126
15 100 125
14 99 125
14 98 125
14 97 125
14 96 125
13 95 125
13 94 125
13 93 125
13 91 124
13 90 124
13 89 124
13 88 124
13 87 124
13 86 124
14 85 124
14 84 124
14 83 123
15 82 123
15 81 123
16 80 123
16 79 123
17 77 123
17 76 122
18 75 122
19 74 122
19 73 122
20 72 121
21 71 121
22 69 121
23 68 120
23 67 120
24 66 120
25 65 119
26 63 119
27 62 118
28 61 117
29 60 117
29 59 116
30 58 115
31 56 114
32 55 113
33 54 112
33 53 110
34 52 109
34 51 108
35 50 106
35 49 104
35 48 103
36 47 101
36 46 99
36 45 97
36 44 95
36 43 93
36 42 91
36 41 89
35 41 88
35 40 86
35 39 84
35 38 82
34 37 80
34 37 78
33 36 76
33 35 74
33 34 72
32 34 70
31 33 68
31 32 66
30 31 64
30 30 62
29 30 61
29 29 59
28 28 57
27 27 55
27 27 53
26 26 52
25 25 50
25 24 48
24 23 46
23 23 45
22 22 43
22 21 41
21 20 39
20 19 38
19 19 36
18 18 34
18 17 33
17 16 31
16 15 30
15 14 28
14 14 26
13 13 25
13 12 23
12 11 22
11 10 20
10 9 18
9 8 17
8 8 15
7 7 14
6 6 12
6 5 11
5 5 9
4 4 8
4 3 6
3 3 5
3 2 4
2 2 3
2 2 3
1 1 2
1 1 1
1 1 1
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
0 0 0
1 0 1
1 1 1
2 1 2
2 1 2
3 2 3
4 2 3
5 2 4
6 3 5
7 3 6
8 4 7
9 4 8
11 5 9
12 5 10
14 6 12
15 6 13
16 7 14
18 7 15
19 8 16
21 8 18
22 9 19
23 10 20
25 10 21
26 11 23
28 11 24
29 12 25
30 12 26
32 13 27
33 13 28
35 14 30
36 14 31
37 15 32
39 15 33
40 16 34
42 16 35
43 17 37
45 17 38
46 17 39
48 18 40
49 18 41
50 18 42
52 19 43
53 19 45
55 19 46
56 20 47
58 20 48
59 20 49
61 20 50
62 20 51
64 21 52
65 21 53
67 21 54
69 21 55
70 21 56
72 21 57
73 21 58
75 21 59
76 21 60
78 21 61
79 21 62
81 21 63
83 21 64
84 21 65
86 21 66
88 21 67
89 21 68
91 21 68
92 20 69
94 20 70
96 20 71
97 20 71
99 20 72
101 19 73
102 19 73
104 19 74
106 18 74
107 18 75
109 18 75
111 18 76
112 17 76
114 17 76
116 17 77
117 16 77
119 16 77
120 16 77
122 16 78
124 16 78
125 15 78
127 15 78
128 15 78
130 15 78
131 16 78
133 16 77
134 16 77
136 16 77
137 17 77
139 17 77
140 18 76
142 18 76
143 19 76
144 20 75
146 20 75
147 21 75
148 22 74
150 23 74
151 24 74
152 25 73
154 26 73
155 27 72
156 28 72
157 29 71
159 30 71
160 31 71
161 32 70
162 33 70
163 34 69
165 35 69
166 36 68
167 37 68
168 38 67
169 40 67
170 41 66
171 42 66
173 43 65
174 44 65
175 45 64
176 46 64
177 47 64
178 49 63
179 50 63
180 51 62
181 52 62
182 53 61
183 54 61
184 56 60
185 57 60
186 58 59
187 59 59
188 60 58
189 62 58
190 63 57
191 64 57
192 65 56
193 66 56
194 67 55
195 69 55
196 70 54
197 71 54
198 72 53
199 73 53
199 75 52
200 76 52
201 77 51
202 78 51
203 80 50
204 81 50
205 82 49
206 83 49
207 84 48
207 86 48
208 87 47
209 88 47
210 89 46
211 91 46
212 92 45
212 93 45
213 95 44
214 96 43
215 97 43
216 98 42
216 100 42
217 101 41
218 102 41
219 103 40
219 105 40
220 106 39
221 107 38
222 109 38
222 110 37
223 111 37
224 113 36
225 114 36
225 115 35
226 117 34
227 118 34
227 119 33
228 121 33
229 122 32
229 123 32
230 125 31
230 126 30
231 127 30
232 129 29
232 130 29
233 132 28
234 133 27
234 134 27
235 136 26
235 137 26
236 139 25
236 140 24
237 141 24
237 143 23
238 144 23
239 146 22
239 147 22
240 149 21
240 150 21
241 151 20
241 153 19
241 154 19
242 156 18
242 157 18
243 159 18
243 160 17
244 162 17
244 163 16
244 165 16
245 166 16
245 168 16
246 169 15
246 171 15
246 172 15
247 174 15
247 175 15
247 177 15
248 178 15
248 180 15
248 182 15
249 183 15
249 185 16
249 186 16
249 188 16
250 189 17
250 191 17
250 192 18
250 194 18
250 196 19
251 197 19
251 199 20
251 200 21
251 202 21
251 204 22
252 205 23
252 207 24
252 209 25
252 210 26
252 212 27
252 213 27
252 215 28
252 217 29
252 218 30
252 220 31
`,e0={amber:Td,amethyst:Fd,apple:Od,arctic:Dd,bubblegum:Ld,chroma:zd,copper:Vd,cosmic:Ud,dusk:Gd,eclipse:Hd,ember:Qd,emerald:jd,emergency:$d,fall:Wd,flamingo:Yd,freeze:qd,fusion:Xd,gem:Kd,ghostlight:Zd,gothic:Jd,guppy:np,holly:ep,horizon:tp,iceburn:rp,infinity:ip,jungle:ap,lavender:op,lilac:sp,neon:lp,neutral:cp,nuclear:up,ocean:hp,pepper:fp,pride:dp,prinsenvlag:pp,rainforest:vp,redshift:mp,sapphire:gp,savanna:bp,seasons:_p,seaweed:wp,sepia:yp,sunburst:xp,swamp:Ap,torch:Ep,toxic:Cp,tree:kp,tropical:Sp,viola:Pp,voltage:Mp,waterlily:Ip,watermelon:Rp,wildfire:Bp};let Np=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#bcbd22","#17becf","#aec7e8","#ffbb78","#98df8a","#ff9896","#c5b0d5","#c49c94","#f7b6d2","#dbdb8d","#9edae5"],Tp=["#B71C1C","#8B0000","#DC2C2C","#FF0000","#FF4444","#FF7070","#FFC0C0","#c0c0c0","#c0c0c0","#c0c0c0","#c0c0c0","#c0c0c0","#c0c0c0","#c0c0c0","#c0c0c0","#6495ED","#ADD8E6","#E6F7FF","#c0c0c0","#1976D2","#1E90FF","#000000","#1A237E"],Pa={};for(let n of Object.keys(e0)){let e=n.charAt(0).toUpperCase()+n.slice(1);e="interpolate"+e;let t=e0[n],o=(l=>s=>l[Math.floor(s*(l.length-1e-7))])((l=>Nd(" ").parseRows(l,s=>se(s[0],s[1],s[2])))(t));Pa[e]=o}Object.assign(Pa,{schemeCategory18:Np,schemeChr:Tp});var _i=function(){function n(e){if(!document.querySelector)return;function t(v,m){return v.classList?v.classList.contains(m):new RegExp("\\b"+m+"\\b").test(v.className)}function r(v,m,_){v.attachEvent?v.attachEvent("on"+m,_):v.addEventListener(m,_)}function a(v,m,_){v.detachEvent?v.detachEvent("on"+m,_):v.removeEventListener(m,_)}function o(v,m,_,b){r(b||document,m,function(y){for(var E,C=y.target||y.srcElement;C&&!(E=t(C,v));)C=C.parentElement;E&&_.call(C,y)})}var l={selector:0,source:0,minChars:3,delay:150,offsetLeft:0,offsetTop:1,cache:1,menuClass:"",renderItem:function(v,m){m=m.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var _=new RegExp("("+m.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+v+'">'+v.replace(_,"<b>$1</b>")+"</div>"},onSelect:function(v,m,_){}};for(var s in e)e.hasOwnProperty(s)&&(l[s]=e[s]);for(var d=typeof l.selector=="object"?[l.selector]:document.querySelectorAll(l.selector),u=0;u<d.length;u++){var h=d[u];h.sc=document.createElement("div"),h.sc.className="autocomplete-suggestions "+l.menuClass,h.autocompleteAttr=h.getAttribute("autocomplete"),h.setAttribute("autocomplete","off"),h.cache={},h.last_val="",h.updateSC=function(v,m){var _=h.getBoundingClientRect();if(h.sc.style.left=Math.round(_.left+(window.pageXOffset||document.documentElement.scrollLeft)+l.offsetLeft)+"px",h.sc.style.top=Math.round(_.bottom+(window.pageYOffset||document.documentElement.scrollTop)+l.offsetTop)+"px",h.sc.style.width=Math.round(_.right-_.left)+"px",!v&&(h.sc.style.display="block",h.sc.maxHeight||(h.sc.maxHeight=parseInt((window.getComputedStyle?getComputedStyle(h.sc,null):h.sc.currentStyle).maxHeight)),h.sc.suggestionHeight||(h.sc.suggestionHeight=h.sc.querySelector(".autocomplete-suggestion").offsetHeight),h.sc.suggestionHeight))if(!m)h.sc.scrollTop=0;else{var b=h.sc.scrollTop,y=m.getBoundingClientRect().top-h.sc.getBoundingClientRect().top;y+h.sc.suggestionHeight-h.sc.maxHeight>0?h.sc.scrollTop=y+h.sc.suggestionHeight+b-h.sc.maxHeight:y<0&&(h.sc.scrollTop=y+b)}},r(window,"resize",h.updateSC),document.body.appendChild(h.sc),o("autocomplete-suggestion","mouseleave",function(v){var m=h.sc.querySelector(".autocomplete-suggestion.selected");m&&setTimeout(function(){m.className=m.className.replace("selected","")},20)},h.sc),o("autocomplete-suggestion","mouseover",function(v){var m=h.sc.querySelector(".autocomplete-suggestion.selected");m&&(m.className=m.className.replace("selected","")),this.className+=" selected"},h.sc),o("autocomplete-suggestion","mousedown",function(v){if(t(this,"autocomplete-suggestion")){var m=this.getAttribute("data-val");h.value=m,l.onSelect(v,m,this),h.sc.style.display="none"}},h.sc),h.blurHandler=function(){try{var v=document.querySelector(".autocomplete-suggestions:hover")}catch{var v=0}v?h!==document.activeElement&&setTimeout(function(){h.focus()},20):(h.last_val=h.value,h.sc.style.display="none",setTimeout(function(){h.sc.style.display="none"},350))},r(h,"blur",h.blurHandler);var p=function(v,m){var _=h.value;if(m=typeof m<"u"?m:!0,m&&(h.cache[_]=v),v.length&&_.length>=l.minChars){for(var b="",y=0;y<v.length;y++)b+=l.renderItem(v[y],_);h.sc.innerHTML=b,h.updateSC(0)}else h.sc.style.display="none"};h.keydownHandler=function(v){var m=window.event?v.keyCode:v.which;if((m==40||m==38)&&h.sc.innerHTML){var _,b=h.sc.querySelector(".autocomplete-suggestion.selected");return b?(_=m==40?b.nextSibling:b.previousSibling,_?(b.className=b.className.replace("selected",""),_.className+=" selected",h.value=_.getAttribute("data-val")):(b.className=b.className.replace("selected",""),h.value=h.last_val,_=0)):(_=m==40?h.sc.querySelector(".autocomplete-suggestion"):h.sc.childNodes[h.sc.childNodes.length-1],_.className+=" selected",h.value=_.getAttribute("data-val")),h.updateSC(0,_),!1}else if(m==27)h.value=h.last_val,h.sc.style.display="none";else if(m==13||m==9){var b=h.sc.querySelector(".autocomplete-suggestion.selected");b&&h.sc.style.display!="none"&&(l.onSelect(v,b.getAttribute("data-val"),b),setTimeout(function(){h.sc.style.display="none"},20))}},r(h,"keydown",h.keydownHandler),h.keyupHandler=function(v){var m=window.event?v.keyCode:v.which;if(!m||(m<35||m>40)&&m!=13&&m!=27){var _=h.value;if(_.length>=l.minChars){if(_!=h.last_val){if(h.last_val=_,clearTimeout(h.timer),l.cache){if(_ in h.cache){p(h.cache[_]);return}for(var b=1;b<_.length-l.minChars;b++){var y=_.slice(0,_.length-b);if(y in h.cache&&!h.cache[y].length){p([]);return}}}h.timer=setTimeout(function(){l.source(_,p)},l.delay)}}else h.last_val=_,h.sc.style.display="none"}},r(h,"keyup",h.keyupHandler),h.focusHandler=function(v){h.last_val=`
`,h.keyupHandler(v)},l.minChars||r(h,"focus",h.focusHandler)}this.destroy=function(){for(var v=0;v<d.length;v++){var m=d[v];a(window,"resize",m.updateSC),a(m,"blur",m.blurHandler),a(m,"focus",m.focusHandler),a(m,"keydown",m.keydownHandler),a(m,"keyup",m.keyupHandler),m.autocompleteAttr?m.setAttribute("autocomplete",m.autocompleteAttr):m.removeAttribute("autocomplete"),document.body.removeChild(m.sc),m=null}}}return n}();(function(){typeof define=="function"&&define.amd?define("autoComplete",function(){return _i}):typeof module<"u"&&module.exports?module.exports=_i:window.autoComplete=_i})();var Ma={exports:{}},Fp=g4;function g4(n,e,t){n=n||{},this.handleQuery=t,this.options=n,this.locals=this.options.locals||{},this.globals=this.options.globals||{},this.rootContext=wi(n.data,n.rootContext,n.context,n.source),this.parent=n.parent,this.override=n.override,this.filters=n.filters||{},this.params=e||n.params||[],this.context=wi(n.currentItem,n.context,n.source),this.currentItem=wi(this.context,n.rootContext,n.data),this.currentKey=null,this.currentReferences=[],this.currentParents=[]}g4.prototype={setCurrent:function(n,e){(this.currentItem||this.currentKey||this.currentParents.length>0)&&this.currentParents.push({key:this.currentKey,value:this.currentItem}),this.currentItem=e,this.currentKey=n},resetCurrent:function(){this.currentItem=null,this.currentKey=null,this.currentParents=[]},force:function(n){var e=this.currentParents[this.currentParents.length-1];return!this.currentItem&&e&&this.currentKey!=null&&(this.currentItem=n||{},e.value[this.currentKey]=this.currentItem),!!this.currentItem},getLocal:function(n){if(~n.indexOf("/")){for(var e=null,t=n.split("/"),r=0;r<t.length;r++){var a=t[r];r==0?e=this.locals[a]:e&&e[a]&&(e=e[a])}return e}else return this.locals[n]},getGlobal:function(n){if(~n.indexOf("/")){for(var e=null,t=n.split("/"),r=0;r<t.length;r++){var a=t[r];r==0?e=this.globals[a]:e&&e[a]&&(e=e[a])}return e}else return this.globals[n]},getFilter:function(n){if(~n.indexOf("/")){for(var e=null,t=n.split("/"),r=0;r<t.length;r++){var a=t[r];r==0?e=this.filters[a]:e&&e[a]&&(e=e[a])}return e}else return this.filters[n]},addReferences:function(n){n&&n.forEach(this.addReference,this)},addReference:function(n){n instanceof Object&&!~this.currentReferences.indexOf(n)&&this.currentReferences.push(n)},getValues:function(n,e){return n.map(this.getValue,this)},getValue:function(n){return this.getValueFrom(n,null)},getValueFrom:function(n,e){if(n._param!=null)return this.params[n._param];if(n._sub){var t=t0(this.options);t.force=null,t.currentItem=e;var r=this.handleQuery(n._sub,t,this.params);return this.addReferences(r.references),r.value}else return n},deepQuery:function(n,e,t,r){for(var a in n)if(a in n){var t=t0(this.options);t.currentItem=n[a];var o=this.handleQuery(e,t,this.params);if(o.value)return o}return null}};function wi(n){for(var e=0;e<arguments.length;e++)if(arguments[e]!=null)return arguments[e]}function t0(n){var e={};if(n)for(var t in n)t in n&&(e[t]=n[t]);return e}var Ia={exports:{}},Op=Dp;function Dp(n,e,t){var r=t&&t.max||1/0,a=t&&t.includeDelimiters||!1,o=0,l=0,s=[],d=[];n.replace(/([\[\(\{])|([\]\)\}])/g,function(v,m,_,b){m?(o===0&&d.push([l,b]),o+=1):_&&(o-=1,o===0&&(l=b+v.length))}),o===0&&l<n.length&&d.push([l,n.length]),l=0;for(var u=0;u<d.length&&r>0;u++)for(var h=d[u][0],p=e.exec(n.slice(h,d[u][1]));p&&r>1;h+=p.index+p[0].length,l=h,p=e.exec(n.slice(h,d[u][1])))s.push(n.slice(l,p.index+h)),a&&s.push(p[0]),r-=1;return l<n.length&&s.push(n.slice(l)),s}Ia.exports;(function(n){var e=Op;n.exports=function(u,h){if(!u)return[];var p=[],v,m=u.charAt(0),_=0,b=0,y=0,E=0,C=0,k="get",w=null;h&&(u=d(u));var x={".":{mode:"get"},":":{mode:"filter"},"|":{handle:"or"},"[":{open:"select"},"]":{close:"select"},"{":{open:"meta"},"}":{close:"meta"},"(":{open:"args"},")":{close:"args"}};function A(R){w?w.push(R):p.push(R)}var P={get:function(R){var z=typeof R=="string"?R.trim():null;z&&A({get:z})},select:function(R){if(R)A(r(R));else{var z={deep:[]};p.push(z),w=z.deep}},filter:function(R){R&&A({filter:R.trim()})},or:function(){w=null,p.push({or:!0}),y=N+1},args:function(R){var z=t(R);p[p.length-1].args=z}};function M(){var R=u.slice(_,b);P[k]&&P[k](R),k="get",_=b+1}for(var N=0;N<u.length;N++){v=m,m=u.charAt(N+1),E=N-y,E===0&&v!==":"&&v!=="."&&p.push({root:!0}),E===0&&v==="."&&m==="."&&p.push({parent:!0});var F=x[v];F&&(C===0&&(F.mode||F.open)&&(M(),k=F.mode||F.open),C===0&&F.handle&&(M(),P[F.handle]()),F.open?C+=1:F.close&&(C-=1),C===0&&F.close&&M()),b=N+1}return M(),p};function t(u){return u===","?[","]:e(u,/,/).map(function(h){return l(h.trim())})}function r(u){if(u==="*")return{values:!0};if(u==="**")return{values:!0,deep:!0};var h=!1;u.charAt(0)==="*"&&(h=!0,u=u.slice(1));var p=e(u,/&|\|/,{includeDelimiters:!0});if(p.length>1){for(var v=[a(p[0].trim())],m=1;m<p.length;m+=2){var _=a(p[m+1].trim());_&&(_.booleanOp=p[m],v.push(_))}return{multiple:h,boolean:!0,select:v}}else{var v=a(u.trim());return v?(h&&(v.multiple=!0),v):{get:l(u.trim())}}}function a(u){var h=e(u,/(!)?(=|~|\:|<=|>=|<|>)/,{max:2,includeDelimiters:!0});if(h.length===3){var p=h[1].charAt(0)==="!",v=l(h[0].trim()),m={negate:p,op:p?h[1].slice(1):h[1]};if(m.op===":")m.select=[v,{_sub:n.exports(":"+h[2].trim())}];else if(m.op==="~"){var _=l(h[2].trim());if(typeof _=="string"){var b=h[2].trim().match(/^\/(.*)\/([a-z]?)$/);b?m.select=[v,new RegExp(b[1],b[2])]:m.select=[v,_]}else m.select=[v,_]}else m.select=[v,l(h[2].trim())];return m}}function o(u){return u.charAt(0)==="{"&&u.charAt(u.length-1)==="}"}function l(u){if(o(u)){var h=u.slice(1,-1);return{_sub:n.exports(h)}}else return s(u)}function s(u){if(u.charAt(0)==="?"){var h=parseInt(u.slice(1));return isNaN(h)?u:{_param:h}}else return u}function d(u){var h=0;return u.replace(/\?/g,function(p){return p+h++})}})(Ia);var Lp=Ia.exports,zp=Fp,Vp=Lp,yi={};Ma.exports=function(e,t){var r=t&&t.params||null;return Array.isArray(e)&&(r=e.slice(1),e=e[0]),yi[e]||(yi[e]=Vp(e,!0)),b4(yi[e],t,r)};Ma.exports.lastParent=function(n){var e=n.parents[n.parents.length-1];return e?e.value:null};function b4(n,e,t){for(var r=new zp(e,t,b4),a=0;a<n.length&&!r0(n[a],r);a++);if(r0(null,r),r.currentItem instanceof Object)r.addReference(r.currentItem);else{var o=Qp(r.currentParents);o&&r.addReference(o)}return{value:r.currentItem,key:r.currentKey,references:r.currentReferences,parents:r.currentParents}}function r0(n,e){if(n==null)!e.currentItem&&e.options.force&&e.force(e.options.force);else if(n.values)if(e.currentItem){var t=Object.keys(e.currentItem),r=[];t.forEach(function(p){n.deep&&Array.isArray(e.currentItem[p])?e.currentItem[p].forEach(function(v){r.push(v)}):r.push(e.currentItem[p])}),e.setCurrent(t,r)}else e.setCurrent(t,[]);else if(n.get){var a=e.getValue(n.get);if(Gp(e,a))e.setCurrent(a,e.override[a]);else if(e.currentItem||e.options.force&&e.force({}))if(Hp(e.currentItem,a)||n.multiple){var r=e.currentItem.map(function(v){return v[a]}).filter(Up);r=Array.prototype.concat.apply([],r),e.setCurrent(a,r)}else e.setCurrent(a,e.currentItem[a]);else e.setCurrent(a,null)}else if(n.select)if(Array.isArray(e.currentItem)||e.options.force&&e.force([])){var o=(n.boolean?n.select:[n]).map(function(p){if(p.op===":"){var v=e.getValue(p.select[0]);return{func:function(_){return v&&(_=_[v]),e.getValueFrom(p.select[1],_)},negate:p.negate,booleanOp:p.booleanOp}}else{var m=e.getValues(p.select);if(!e.options.allowRegexp&&p.op==="~"&&m[1]instanceof RegExp)throw new Error("options.allowRegexp is not enabled.");return{key:m[0],value:m[1],negate:p.negate,booleanOp:p.booleanOp,op:p.op}}});if(n.multiple){var t=[],l=[];e.currentItem.forEach(function(v,m){i0(v,o)&&(t.push(m),l.push(v))}),e.setCurrent(t,l)}else e.currentItem.some(function(p,v){if(i0(p,o))return e.setCurrent(v,p),!0})||e.setCurrent(null,null)}else e.setCurrent(null,null);else if(n.root)e.resetCurrent(),n.args&&n.args.length?e.setCurrent(null,e.getValue(n.args[0])):e.setCurrent(null,e.rootContext);else if(n.parent)e.resetCurrent(),e.setCurrent(null,e.options.parent);else if(n.or){if(e.currentItem)return!0;e.resetCurrent(),e.setCurrent(null,e.context)}else if(n.filter){var s=e.getLocal(n.filter)||e.getGlobal(n.filter);if(typeof s=="function"){var r=e.getValues(n.args||[]),d=s.apply(e.options,[e.currentItem].concat(r));e.setCurrent(null,d)}else{var u=e.getFilter(n.filter);if(typeof u=="function"){var r=e.getValues(n.args||[]),d=u.call(e.options,e.currentItem,{args:r,state:e,data:e.rootContext});e.setCurrent(null,d)}}}else if(n.deep)if(e.currentItem){if(n.deep.length===0)return;var d=e.deepQuery(e.currentItem,n.deep,e.options);if(d){e.setCurrent(d.key,d.value);for(var h=0;h<d.parents.length;h++)e.currentParents.push(d.parents[h])}else e.setCurrent(null,null)}else e.currentItem=null}function i0(n,e){for(var t=!1,r=0;r<e.length;r++){var a=e[r],o=!1;a.func?o=a.func(n):a.op==="~"?a.value instanceof RegExp?o=n[a.key]&&!!n[a.key].match(a.value):o=n[a.key]&&!!~n[a.key].indexOf(a.value):a.op==="="?n[a.key]===!0&&a.value==="true"||n[a.key]===!1&&a.value==="false"?o=!0:o=n[a.key]==a.value:a.op===">"?o=n[a.key]>a.value:a.op==="<"?o=n[a.key]<a.value:a.op===">="?o=n[a.key]>=a.value:a.op==="<="&&(o=n[a.key]<=a.value),a.negate&&(o=!o),a.booleanOp==="&"?t=t&&o:a.booleanOp==="|"?t=t||o:t=o}return t}function Up(n){return typeof n<"u"}function Gp(n,e){return n.override&&n.currentItem===n.rootContext&&n.override[e]!==void 0}function Hp(n,e){return n instanceof Array&&parseInt(e)!=e}function Qp(n){for(var e=0;e<n.length;e++)if(!n[e+1]||!(n[e+1].value instanceof Object))return n[e].value}var jp=Ma.exports;const $p=xl(jp);function a0(n,{title:e,titleAlignment:t="start",svg:r=null,tickSize:a=6,orientation:o="horizontal",width:l=o=="horizontal"?220:44+a,height:s=o=="horizontal"?44+a:220,marginTop:d=o=="horizontal"?18:0,marginRight:u=o=="horizontal"?0:16+a,marginBottom:h=o=="horizontal"?16+a:0,marginLeft:p=o=="horizontal"?0:18,ticks:v=o=="horizontal"?l/64:s/64,tickFormat:m,tickValues:_,themeColors:b=["black","white"]}={}){function y(P,M=256){const N=document.createElement("canvas");N.width=M,N.height=1;const F=N.getContext("2d");for(let R=0;R<M;++R)F.fillStyle=P(R/(M-1)),F.fillRect(R,0,1,1);return N}function E(P,M=256){const N=document.createElement("canvas");N.width=1,N.height=M;const F=N.getContext("2d");for(let R=0;R<M;++R)F.fillStyle=P(R/(M-1)),F.fillRect(0,M-R-1,1,1);return N}if(o!="horizontal"&&o!="vertical"){console.error("orientation must be 'horizontal' or 'vertical'");return}let C=P=>P.selectAll(".tick line").attr("y1",d+h-s-1),k=P=>P.selectAll(".tick line").attr("x1",p-l+u),w=o=="horizontal"?y:E,x=o=="horizontal"?C:k;r?r.attr("width",l).attr("height",s).style("overflow","visible"):r=Gu("svg").attr("width",l).attr("height",s).attr("viewBox",[0,0,l,s]).style("overflow","visible").style("display","block");let A;if(r.append("rect").attr("x",p).attr("y",d).attr("width",l-p-u).attr("height",s-d-h).attr("fill",b[1]).attr("stroke",b[1]).attr("stroke-width",4),r.append("rect").attr("x",p).attr("y",d).attr("width",l-p-u).attr("height",s-d-h).attr("fill",b[0]).attr("stroke",b[0]).attr("stroke-width",2),n.interpolate){const P=Math.min(n.domain().length,n.range().length);o=="horizontal"?A=n.copy().rangeRound(ai(Be(p,l-u),P)):A=n.copy().rangeRound(ai(Be(s-h,d),P)),r.append("image").attr("x",p).attr("y",d).attr("width",l-p-u).attr("height",s-d-h).attr("preserveAspectRatio","none").attr("xlink:href",w(n.copy().domain(ai(Be(0,1),P))).toDataURL())}else if(n.interpolator){if(o=="horizontal"?A=Object.assign(n.copy().interpolator(Wt(p,l-u)),{range(){return[p,l-u]}}):A=Object.assign(n.copy().interpolator(Wt(s-h,d)),{range(){return[s-h,d]}}),r.append("image").attr("x",p).attr("y",d).attr("width",l-p-u).attr("height",s-d-h).attr("preserveAspectRatio","none").attr("xlink:href",w(n.interpolator()).toDataURL()),!A.ticks){if(_===void 0){const P=Math.round(v+1);_=$i(P).map(M=>ff(n.domain(),M/(P-1)))}typeof m!="function"&&(m=ir(m===void 0?",f":m))}}else if(n.invertExtent){const P=n.thresholds?n.thresholds():n.quantiles?n.quantiles():n.domain(),M=m===void 0?N=>N:typeof m=="string"?ir(m):m;o=="horizontal"?A=qi().domain([-1,n.range().length-1]).rangeRound([p,l-u]):A=qi().domain([-1,n.range().length-1]).rangeRound([s-h,d]),o=="horizontal"?r.append("g").selectAll("rect").data(n.range()).join("rect").attr("x",(N,F)=>A(F-1)).attr("y",d).attr("width",(N,F)=>A(F)-A(F-1)).attr("height",s-d-h).attr("fill",N=>N):r.append("g").selectAll("rect").data(n.range()).join("rect").attr("x",p).attr("y",(N,F)=>A(F-1)).attr("width",l-p-u).attr("height",(N,F)=>A(F)-A(F-1)).attr("fill",N=>N),_=$i(P.length),m=N=>M(P[N],N)}else o=="horizontal"?A=Wi().domain(n.domain()).rangeRound([p,l-u]):A=Wi().domain(n.domain()).rangeRound([d,s-h]),o=="horizontal"?r.append("g").selectAll("rect").data(n.domain()).join("rect").attr("x",A).attr("y",d).attr("width",Math.max(0,A.bandwidth()-1)).attr("height",s-d-h).attr("fill",n):r.append("g").selectAll("rect").data(n.domain()).join("rect").attr("x",p).attr("y",A).attr("width",l-p-u).attr("height",Math.max(0,A.bandwidth()-1)).attr("fill",n),x=()=>{};return o=="horizontal"?r.append("g").attr("transform",`translate(0,${s-h})`).call(Md(A).ticks(v,typeof m=="string"?m:void 0).tickFormat(typeof m=="function"?m:void 0).tickSize(a).tickValues(_)).attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("stroke-dasharray","0%").attr("stroke-dashoffset",0).attr("stroke",b[1]).attr("stroke-width",2.5).attr("fill",b[1]).call(x).call(P=>{P.selectAll(".tick").select("line").attr("stroke-width",3).attr("stroke",b[1]).clone().attr("stroke-width",1.5).attr("stroke",b[0]),P.selectAll("text").attr("stroke",b[1]).clone(!0).attr("fill",b[0]).attr("stroke","none")}).call(P=>P.select(".domain").remove()).call(P=>{P.append("text").attr("x",t=="start"?p:l-u).attr("y",d+h-s-6).attr("stroke",b[1]).attr("text-anchor",t).attr("font-weight","bold").attr("class","title").attr("font-size","14px").attr("stroke-width",3).text(e).clone(!0).attr("stroke","none").attr("fill",b[0])}):r.append("g").attr("transform",`translate(${l-u},0)`).call(Pd(A).ticks(v,typeof m=="string"?m:void 0).tickFormat(typeof m=="function"?m:void 0).tickSize(a).tickValues(_)).attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("stroke-dasharray","0%").attr("stroke-dashoffset",0).attr("stroke",b[1]).attr("stroke-width",2.5).attr("fill",b[1]).call(x).call(P=>{P.selectAll(".tick").select("line").attr("stroke-width",3).attr("stroke",b[1]).clone().attr("stroke-width",1.5).attr("stroke",b[0]),P.selectAll("text").attr("stroke",b[1]).clone(!0).attr("fill",b[0]).attr("stroke","none")}).call(P=>P.select(".domain").remove()).call(P=>{P.append("text").attr("x",d+h-s+1).attr("y",-p).attr("fill",b[0]).attr("stroke",b[1]).attr("text-anchor",t).attr("font-weight","bold").attr("class","title").attr("font-size","14px").attr("stroke-width",3).attr("transform","rotate(-90)").text(e).clone(!0).attr("stroke","none").attr("fill",b[0])}),r.node()}var o0={exports:{}};/*! Tweakpane 3.1.10 (c) 2016 cocopon, licensed under the MIT license. */(function(n,e){(function(t,r){r(e)})(vh,function(t){class r{constructor(i){const[c,g]=i.split("-"),S=c.split(".");this.major=parseInt(S[0],10),this.minor=parseInt(S[1],10),this.patch=parseInt(S[2],10),this.prerelease=g??null}toString(){const i=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[i,this.prerelease].join("-"):i}}class a{constructor(i){this.controller_=i}get element(){return this.controller_.view.element}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(i){this.controller_.viewProps.set("disabled",i)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(i){this.controller_.viewProps.set("hidden",i)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class o{constructor(i){this.target=i}}class l extends o{constructor(i,c,g,S){super(i),this.value=c,this.presetKey=g,this.last=S??!0}}class s extends o{constructor(i,c,g){super(i),this.value=c,this.presetKey=g}}class d extends o{constructor(i,c){super(i),this.expanded=c}}class u extends o{constructor(i,c){super(i),this.index=c}}function h(f){return f}function p(f){return f==null}function v(f,i){if(f.length!==i.length)return!1;for(let c=0;c<f.length;c++)if(f[c]!==i[c])return!1;return!0}function m(f,i){let c=f;do{const g=Object.getOwnPropertyDescriptor(c,i);if(g&&(g.set!==void 0||g.writable===!0))return!0;c=Object.getPrototypeOf(c)}while(c!==null);return!1}const _={alreadydisposed:()=>"View has been already disposed",invalidparams:f=>`Invalid parameters for '${f.name}'`,nomatchingcontroller:f=>`No matching controller for '${f.key}'`,nomatchingview:f=>`No matching view for '${JSON.stringify(f.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:f=>`Property '${f.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class b{static alreadyDisposed(){return new b({type:"alreadydisposed"})}static notBindable(){return new b({type:"notbindable"})}static propertyNotFound(i){return new b({type:"propertynotfound",context:{name:i}})}static shouldNeverHappen(){return new b({type:"shouldneverhappen"})}constructor(i){var c;this.message=(c=_[i.type](i.context))!==null&&c!==void 0?c:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=i.type}}class y{constructor(i,c,g){this.obj_=i,this.key_=c,this.presetKey_=g??c}static isBindable(i){return!(i===null||typeof i!="object"&&typeof i!="function")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(i){this.obj_[this.key_]=i}writeProperty(i,c){const g=this.read();if(!y.isBindable(g))throw b.notBindable();if(!(i in g))throw b.propertyNotFound(i);g[i]=c}}class E extends a{get label(){return this.controller_.props.get("label")}set label(i){this.controller_.props.set("label",i)}get title(){var i;return(i=this.controller_.valueController.props.get("title"))!==null&&i!==void 0?i:""}set title(i){this.controller_.valueController.props.set("title",i)}on(i,c){const g=c.bind(this);return this.controller_.valueController.emitter.on(i,()=>{g(new o(this))}),this}}class C{constructor(){this.observers_={}}on(i,c){let g=this.observers_[i];return g||(g=this.observers_[i]=[]),g.push({handler:c}),this}off(i,c){const g=this.observers_[i];return g&&(this.observers_[i]=g.filter(S=>S.handler!==c)),this}emit(i,c){const g=this.observers_[i];g&&g.forEach(S=>{S.handler(c)})}}const k="tp";function w(f){return(c,g)=>[k,"-",f,"v",c?`_${c}`:"",g?`-${g}`:""].join("")}function x(f,i){return c=>i(f(c))}function A(f){return f.rawValue}function P(f,i){f.emitter.on("change",x(A,i)),i(f.rawValue)}function M(f,i,c){P(f.value(i),c)}function N(f,i,c){c?f.classList.add(i):f.classList.remove(i)}function F(f,i){return c=>{N(f,i,c)}}function R(f,i){P(f,c=>{i.textContent=c??""})}const z=w("btn");class Q{constructor(i,c){this.element=i.createElement("div"),this.element.classList.add(z()),c.viewProps.bindClassModifiers(this.element);const g=i.createElement("button");g.classList.add(z("b")),c.viewProps.bindDisabled(g),this.element.appendChild(g),this.buttonElement=g;const S=i.createElement("div");S.classList.add(z("t")),R(c.props.value("title"),S),this.buttonElement.appendChild(S)}}class I{constructor(i,c){this.emitter=new C,this.onClick_=this.onClick_.bind(this),this.props=c.props,this.viewProps=c.viewProps,this.view=new Q(i,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class O{constructor(i,c){var g;this.constraint_=c?.constraint,this.equals_=(g=c?.equals)!==null&&g!==void 0?g:(S,V)=>S===V,this.emitter=new C,this.rawValue_=i}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(i){this.setRawValue(i,{forceEmit:!1,last:!0})}setRawValue(i,c){const g=c??{forceEmit:!1,last:!0},S=this.constraint_?this.constraint_.constrain(i):i,V=this.rawValue_;this.equals_(V,S)&&!g.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=S,this.emitter.emit("change",{options:g,previousRawValue:V,rawValue:S,sender:this}))}}class B{constructor(i){this.emitter=new C,this.value_=i}get rawValue(){return this.value_}set rawValue(i){this.setRawValue(i,{forceEmit:!1,last:!0})}setRawValue(i,c){const g=c??{forceEmit:!1,last:!0},S=this.value_;S===i&&!g.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=i,this.emitter.emit("change",{options:g,previousRawValue:S,rawValue:this.value_,sender:this}))}}function L(f,i){const c=i?.constraint,g=i?.equals;return!c&&!g?new B(f):new O(f,i)}class T{constructor(i){this.emitter=new C,this.valMap_=i;for(const c in this.valMap_)this.valMap_[c].emitter.on("change",()=>{this.emitter.emit("change",{key:c,sender:this})})}static createCore(i){return Object.keys(i).reduce((g,S)=>Object.assign(g,{[S]:L(i[S])}),{})}static fromObject(i){const c=this.createCore(i);return new T(c)}get(i){return this.valMap_[i].rawValue}set(i,c){this.valMap_[i].rawValue=c}value(i){return this.valMap_[i]}}function U(f,i){const g=Object.keys(i).reduce((S,V)=>{if(S===void 0)return;const W=i[V],Z=W(f[V]);return Z.succeeded?Object.assign(Object.assign({},S),{[V]:Z.value}):void 0},{});return g}function G(f,i){return f.reduce((c,g)=>{if(c===void 0)return;const S=i(g);if(!(!S.succeeded||S.value===void 0))return[...c,S.value]},[])}function j(f){return f===null?!1:typeof f=="object"}function X(f){return i=>c=>{if(!i&&c===void 0)return{succeeded:!1,value:void 0};if(i&&c===void 0)return{succeeded:!0,value:void 0};const g=f(c);return g!==void 0?{succeeded:!0,value:g}:{succeeded:!1,value:void 0}}}function Y(f){return{custom:i=>X(i)(f),boolean:X(i=>typeof i=="boolean"?i:void 0)(f),number:X(i=>typeof i=="number"?i:void 0)(f),string:X(i=>typeof i=="string"?i:void 0)(f),function:X(i=>typeof i=="function"?i:void 0)(f),constant:i=>X(c=>c===i?i:void 0)(f),raw:X(i=>i)(f),object:i=>X(c=>{if(j(c))return U(c,i)})(f),array:i=>X(c=>{if(Array.isArray(c))return G(c,i)})(f)}}const q={optional:Y(!0),required:Y(!1)};function D(f,i){const c=q.required.object(i)(f);return c.succeeded?c.value:void 0}function nn(f){console.warn([`Missing '${f.key}' of ${f.target} in ${f.place}.`,"Please rebuild plugins with the latest core package."].join(" "))}function rn(f){return f&&f.parentElement&&f.parentElement.removeChild(f),null}class en{constructor(i){this.value_=i}static create(i){return[new en(i),(c,g)=>{i.setRawValue(c,g)}]}get emitter(){return this.value_.emitter}get rawValue(){return this.value_.rawValue}}const Pn=w("");function Ln(f,i){return F(f,Pn(void 0,i))}class yn extends T{constructor(i){var c;super(i),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=en.create(L(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(c=this.get("parent"))===null||c===void 0||c.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(i){var c,g,S;const V=i??{};return new yn(T.createCore({disabled:(c=V.disabled)!==null&&c!==void 0?c:!1,disposed:!1,hidden:(g=V.hidden)!==null&&g!==void 0?g:!1,parent:(S=V.parent)!==null&&S!==void 0?S:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(i){P(this.globalDisabled_,Ln(i,"disabled")),M(this,"hidden",Ln(i,"hidden"))}bindDisabled(i){P(this.globalDisabled_,c=>{i.disabled=c})}bindTabIndex(i){P(this.globalDisabled_,c=>{i.tabIndex=c?-1:0})}handleDispose(i){this.value("disposed").emitter.on("change",c=>{c&&i()})}getGlobalDisabled_(){const i=this.get("parent");return(i?i.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(i){var c;const g=i.previousRawValue;g?.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(c=this.get("parent"))===null||c===void 0||c.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}function Nn(){return["veryfirst","first","last","verylast"]}const ce=w(""),Fe={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class ee{constructor(i){this.parent_=null,this.blade=i.blade,this.view=i.view,this.viewProps=i.viewProps;const c=this.view.element;this.blade.value("positions").emitter.on("change",()=>{Nn().forEach(g=>{c.classList.remove(ce(void 0,Fe[g]))}),this.blade.get("positions").forEach(g=>{c.classList.add(ce(void 0,Fe[g]))})}),this.viewProps.handleDispose(()=>{rn(c)})}get parent(){return this.parent_}set parent(i){if(this.parent_=i,!("parent"in this.viewProps.valMap_)){nn({key:"parent",target:yn.name,place:"BladeController.parent"});return}this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}}const Fn="http://www.w3.org/2000/svg";function ue(f){f.offsetHeight}function Ze(f,i){const c=f.style.transition;f.style.transition="none",i(),f.style.transition=c}function Rn(f){return f.ontouchstart!==void 0}function te(){return globalThis}function Mn(){return te().document}function re(f){const i=f.ownerDocument.defaultView;return i&&"document"in i?f.getContext("2d",{willReadFrequently:!0}):null}const ie={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function Cn(f,i){const c=f.createElementNS(Fn,"svg");return c.innerHTML=ie[i],c}function _n(f,i,c){f.insertBefore(i,f.children[c])}function Oe(f){f.parentElement&&f.parentElement.removeChild(f)}function C1(f){for(;f.children.length>0;)f.removeChild(f.children[0])}function c2(f){for(;f.childNodes.length>0;)f.removeChild(f.childNodes[0])}function rt(f){return f.relatedTarget?f.relatedTarget:"explicitOriginalTarget"in f?f.explicitOriginalTarget:null}const Vn=w("lbl");function Je(f,i){const c=f.createDocumentFragment();return i.split(`
`).map(S=>f.createTextNode(S)).forEach((S,V)=>{V>0&&c.appendChild(f.createElement("br")),c.appendChild(S)}),c}class u2{constructor(i,c){this.element=i.createElement("div"),this.element.classList.add(Vn()),c.viewProps.bindClassModifiers(this.element);const g=i.createElement("div");g.classList.add(Vn("l")),M(c.props,"label",V=>{p(V)?this.element.classList.add(Vn(void 0,"nol")):(this.element.classList.remove(Vn(void 0,"nol")),c2(g),g.appendChild(Je(i,V)))}),this.element.appendChild(g),this.labelElement=g;const S=i.createElement("div");S.classList.add(Vn("v")),this.element.appendChild(S),this.valueElement=S}}class k1 extends ee{constructor(i,c){const g=c.valueController.viewProps;super(Object.assign(Object.assign({},c),{view:new u2(i,{props:c.props,viewProps:g}),viewProps:g})),this.props=c.props,this.valueController=c.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const h2={id:"button",type:"blade",accept(f){const i=q,c=D(f,{title:i.required.string,view:i.required.constant("button"),label:i.optional.string});return c?{params:c}:null},controller(f){return new k1(f.document,{blade:f.blade,props:T.fromObject({label:f.params.label}),valueController:new I(f.document,{props:T.fromObject({title:f.params.title}),viewProps:f.viewProps})})},api(f){return!(f.controller instanceof k1)||!(f.controller.valueController instanceof I)?null:new E(f.controller)}};class we extends ee{constructor(i){super(i),this.value=i.value}}function n1(){return new T({positions:L([],{equals:v})})}class e1 extends T{constructor(i){super(i)}static create(i){const c={completed:!0,expanded:i,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},g=T.createCore(c);return new e1(g)}get styleExpanded(){var i;return(i=this.get("temporaryExpanded"))!==null&&i!==void 0?i:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const i=this.get("expandedHeight");return this.get("shouldFixHeight")&&!p(i)?`${i}px`:"auto"}bindExpandedClass(i,c){const g=()=>{this.styleExpanded?i.classList.add(c):i.classList.remove(c)};M(this,"expanded",g),M(this,"temporaryExpanded",g)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function Pr(f,i){let c=0;return Ze(i,()=>{f.set("expandedHeight",null),f.set("temporaryExpanded",!0),ue(i),c=i.clientHeight,f.set("temporaryExpanded",null),ue(i)}),c}function S1(f,i){i.style.height=f.styleHeight}function P1(f,i){f.value("expanded").emitter.on("beforechange",()=>{if(f.set("completed",!1),p(f.get("expandedHeight"))){const c=Pr(f,i);c>0&&f.set("expandedHeight",c)}f.set("shouldFixHeight",!0),ue(i)}),f.emitter.on("change",()=>{S1(f,i)}),S1(f,i),i.addEventListener("transitionend",c=>{c.propertyName==="height"&&f.cleanUpTransition()})}class M1 extends a{constructor(i,c){super(i),this.rackApi_=c}}function De(f,i){return f.addBlade(Object.assign(Object.assign({},i),{view:"button"}))}function I1(f,i){return f.addBlade(Object.assign(Object.assign({},i),{view:"folder"}))}function it(f,i){const c=i??{};return f.addBlade(Object.assign(Object.assign({},c),{view:"separator"}))}function Mr(f,i){return f.addBlade(Object.assign(Object.assign({},i),{view:"tab"}))}class at{constructor(i){this.emitter=new C,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=i}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(i){for(const c of this.allItems())if(i(c))return c;return null}includes(i){return this.cache_.has(i)}add(i,c){if(this.includes(i))throw b.shouldNeverHappen();const g=c!==void 0?c:this.items_.length;this.items_.splice(g,0,i),this.cache_.add(i);const S=this.extract_(i);S&&(S.emitter.on("add",this.onSubListAdd_),S.emitter.on("remove",this.onSubListRemove_),S.allItems().forEach(V=>{this.cache_.add(V)})),this.emitter.emit("add",{index:g,item:i,root:this,target:this})}remove(i){const c=this.items_.indexOf(i);if(c<0)return;this.items_.splice(c,1),this.cache_.delete(i);const g=this.extract_(i);g&&(g.emitter.off("add",this.onSubListAdd_),g.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:c,item:i,root:this,target:this})}onSubListAdd_(i){this.cache_.add(i.item),this.emitter.emit("add",{index:i.index,item:i.item,root:this,target:i.target})}onSubListRemove_(i){this.cache_.delete(i.item),this.emitter.emit("remove",{index:i.index,item:i.item,root:this,target:i.target})}}class ot extends a{constructor(i){super(i),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new C,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(i){this.controller_.props.set("label",i)}on(i,c){const g=c.bind(this);return this.emitter_.on(i,S=>{g(S.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(i){const c=i.sender.target.read();this.emitter_.emit("change",{event:new l(this,c,this.controller_.binding.target.presetKey,i.options.last)})}}class qn extends k1{constructor(i,c){super(i,c),this.binding=c.binding}}class t1 extends a{constructor(i){super(i),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new C,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(i){this.controller_.props.set("label",i)}on(i,c){const g=c.bind(this);return this.emitter_.on(i,S=>{g(S.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(i){const c=i.sender.target.read();this.emitter_.emit("update",{event:new s(this,c,this.controller_.binding.target.presetKey)})}}class he extends k1{constructor(i,c){super(i,c),this.binding=c.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function Ir(f){return f instanceof K?f.apiSet_:f instanceof M1?f.rackApi_.apiSet_:null}function H(f,i){const c=f.find(g=>g.controller_===i);if(!c)throw b.shouldNeverHappen();return c}function $(f,i,c){if(!y.isBindable(f))throw b.notBindable();return new y(f,i,c)}class K extends a{constructor(i,c){super(i),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new C,this.apiSet_=new at(Ir),this.pool_=c;const g=this.controller_.rack;g.emitter.on("add",this.onRackAdd_),g.emitter.on("remove",this.onRackRemove_),g.emitter.on("inputchange",this.onRackInputChange_),g.emitter.on("monitorupdate",this.onRackMonitorUpdate_),g.children.forEach(S=>{this.setUpApi_(S)})}get children(){return this.controller_.rack.children.map(i=>H(this.apiSet_,i))}addInput(i,c,g){const S=g??{},V=this.controller_.view.element.ownerDocument,W=this.pool_.createInput(V,$(i,c,S.presetKey),S),Z=new ot(W);return this.add(Z,S.index)}addMonitor(i,c,g){const S=g??{},V=this.controller_.view.element.ownerDocument,W=this.pool_.createMonitor(V,$(i,c),S),Z=new t1(W);return this.add(Z,S.index)}addFolder(i){return I1(this,i)}addButton(i){return De(this,i)}addSeparator(i){return it(this,i)}addTab(i){return Mr(this,i)}add(i,c){this.controller_.rack.add(i.controller_,c);const g=this.apiSet_.find(S=>S.controller_===i.controller_);return g&&this.apiSet_.remove(g),this.apiSet_.add(i),i}remove(i){this.controller_.rack.remove(i.controller_)}addBlade(i){const c=this.controller_.view.element.ownerDocument,g=this.pool_.createBlade(c,i),S=this.pool_.createBladeApi(g);return this.add(S,i.index)}on(i,c){const g=c.bind(this);return this.emitter_.on(i,S=>{g(S.event)}),this}setUpApi_(i){this.apiSet_.find(g=>g.controller_===i)||this.apiSet_.add(this.pool_.createBladeApi(i))}onRackAdd_(i){this.setUpApi_(i.bladeController)}onRackRemove_(i){if(i.isRoot){const c=H(this.apiSet_,i.bladeController);this.apiSet_.remove(c)}}onRackInputChange_(i){const c=i.bladeController;if(c instanceof qn){const g=H(this.apiSet_,c),S=c.binding;this.emitter_.emit("change",{event:new l(g,S.target.read(),S.target.presetKey,i.options.last)})}else if(c instanceof we){const g=H(this.apiSet_,c);this.emitter_.emit("change",{event:new l(g,c.value.rawValue,void 0,i.options.last)})}}onRackMonitorUpdate_(i){if(!(i.bladeController instanceof he))throw b.shouldNeverHappen();const c=H(this.apiSet_,i.bladeController),g=i.bladeController.binding;this.emitter_.emit("update",{event:new s(c,g.target.read(),g.target.presetKey)})}}class J extends M1{constructor(i,c){super(i,new K(i.rackController,c)),this.emitter_=new C,this.controller_.foldable.value("expanded").emitter.on("change",g=>{this.emitter_.emit("fold",{event:new d(this,g.sender.rawValue)})}),this.rackApi_.on("change",g=>{this.emitter_.emit("change",{event:g})}),this.rackApi_.on("update",g=>{this.emitter_.emit("update",{event:g})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(i){this.controller_.foldable.set("expanded",i)}get title(){return this.controller_.props.get("title")}set title(i){this.controller_.props.set("title",i)}get children(){return this.rackApi_.children}addInput(i,c,g){return this.rackApi_.addInput(i,c,g)}addMonitor(i,c,g){return this.rackApi_.addMonitor(i,c,g)}addFolder(i){return this.rackApi_.addFolder(i)}addButton(i){return this.rackApi_.addButton(i)}addSeparator(i){return this.rackApi_.addSeparator(i)}addTab(i){return this.rackApi_.addTab(i)}add(i,c){return this.rackApi_.add(i,c)}remove(i){this.rackApi_.remove(i)}addBlade(i){return this.rackApi_.addBlade(i)}on(i,c){const g=c.bind(this);return this.emitter_.on(i,S=>{g(S.event)}),this}}class an extends ee{constructor(i){super({blade:i.blade,view:i.view,viewProps:i.rackController.viewProps}),this.rackController=i.rackController}}class cn{constructor(i,c){const g=w(c.viewName);this.element=i.createElement("div"),this.element.classList.add(g()),c.viewProps.bindClassModifiers(this.element)}}function pn(f,i){for(let c=0;c<f.length;c++){const g=f[c];if(g instanceof qn&&g.binding===i)return g}return null}function xn(f,i){for(let c=0;c<f.length;c++){const g=f[c];if(g instanceof he&&g.binding===i)return g}return null}function dn(f,i){for(let c=0;c<f.length;c++){const g=f[c];if(g instanceof we&&g.value===i)return g}return null}function kn(f){return f instanceof ct?f.rack:f instanceof an?f.rackController.rack:null}function st(f){const i=kn(f);return i?i.bcSet_:null}class lt{constructor(i){var c,g;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new C,this.blade_=(c=i.blade)!==null&&c!==void 0?c:null,(g=this.blade_)===null||g===void 0||g.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=i.viewProps,this.bcSet_=new at(st),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(i,c){var g;(g=i.parent)===null||g===void 0||g.remove(i),m(i,"parent")?i.parent=this:(i.parent_=this,nn({key:"parent",target:"BladeController",place:"BladeRack.add"})),this.bcSet_.add(i,c)}remove(i){m(i,"parent")?i.parent=null:(i.parent_=null,nn({key:"parent",target:"BladeController",place:"BladeRack.remove"})),this.bcSet_.remove(i)}find(i){return this.bcSet_.allItems().filter(c=>c instanceof i)}onSetAdd_(i){this.updatePositions_();const c=i.target===i.root;if(this.emitter.emit("add",{bladeController:i.item,index:i.index,isRoot:c,sender:this}),!c)return;const g=i.item;if(g.viewProps.emitter.on("change",this.onChildViewPropsChange_),g.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),g.viewProps.handleDispose(this.onChildDispose_),g instanceof qn)g.binding.emitter.on("change",this.onChildInputChange_);else if(g instanceof he)g.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(g instanceof we)g.value.emitter.on("change",this.onChildValueChange_);else{const S=kn(g);if(S){const V=S.emitter;V.on("layout",this.onDescendantLayout_),V.on("inputchange",this.onDescendantInputChange_),V.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(i){this.updatePositions_();const c=i.target===i.root;if(this.emitter.emit("remove",{bladeController:i.item,isRoot:c,sender:this}),!c)return;const g=i.item;if(g instanceof qn)g.binding.emitter.off("change",this.onChildInputChange_);else if(g instanceof he)g.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(g instanceof we)g.value.emitter.off("change",this.onChildValueChange_);else{const S=kn(g);if(S){const V=S.emitter;V.off("layout",this.onDescendantLayout_),V.off("inputchange",this.onDescendantInputChange_),V.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const i=this.bcSet_.items.filter(S=>!S.viewProps.get("hidden")),c=i[0],g=i[i.length-1];this.bcSet_.items.forEach(S=>{const V=[];S===c&&(V.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&V.push("veryfirst")),S===g&&(V.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&V.push("verylast")),S.blade.set("positions",V)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(i){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(c=>c.viewProps.get("disposed")).forEach(c=>{this.bcSet_.remove(c)})}onChildInputChange_(i){const c=pn(this.find(qn),i.sender);if(!c)throw b.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:c,options:i.options,sender:this})}onChildMonitorUpdate_(i){const c=xn(this.find(he),i.sender);if(!c)throw b.alreadyDisposed();this.emitter.emit("monitorupdate",{bladeController:c,sender:this})}onChildValueChange_(i){const c=dn(this.find(we),i.sender);if(!c)throw b.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:c,options:i.options,sender:this})}onDescendantLayout_(i){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(i){this.emitter.emit("inputchange",{bladeController:i.bladeController,options:i.options,sender:this})}onDescendantMonitorUpdate_(i){this.emitter.emit("monitorupdate",{bladeController:i.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class ct extends ee{constructor(i,c){super(Object.assign(Object.assign({},c),{view:new cn(i,{viewName:"brk",viewProps:c.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const g=new lt({blade:c.root?void 0:c.blade,viewProps:c.viewProps});g.emitter.on("add",this.onRackAdd_),g.emitter.on("remove",this.onRackRemove_),this.rack=g,this.viewProps.handleDispose(()=>{for(let S=this.rack.children.length-1;S>=0;S--)this.rack.children[S].viewProps.set("disposed",!0)})}onRackAdd_(i){i.isRoot&&_n(this.view.element,i.bladeController.view.element,i.index)}onRackRemove_(i){i.isRoot&&Oe(i.bladeController.view.element)}}const za=w("cnt");class t3{constructor(i,c){var g;this.className_=w((g=c.viewName)!==null&&g!==void 0?g:"fld"),this.element=i.createElement("div"),this.element.classList.add(this.className_(),za()),c.viewProps.bindClassModifiers(this.element),this.foldable_=c.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),M(this.foldable_,"completed",F(this.element,this.className_(void 0,"cpl")));const S=i.createElement("button");S.classList.add(this.className_("b")),M(c.props,"title",ln=>{p(ln)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),c.viewProps.bindDisabled(S),this.element.appendChild(S),this.buttonElement=S;const V=i.createElement("div");V.classList.add(this.className_("i")),this.element.appendChild(V);const W=i.createElement("div");W.classList.add(this.className_("t")),R(c.props.value("title"),W),this.buttonElement.appendChild(W),this.titleElement=W;const Z=i.createElement("div");Z.classList.add(this.className_("m")),this.buttonElement.appendChild(Z);const sn=c.containerElement;sn.classList.add(this.className_("c")),this.element.appendChild(sn),this.containerElement=sn}}class Rr extends an{constructor(i,c){var g;const S=e1.create((g=c.expanded)!==null&&g!==void 0?g:!0),V=new ct(i,{blade:c.blade,root:c.root,viewProps:c.viewProps});super(Object.assign(Object.assign({},c),{rackController:V,view:new t3(i,{containerElement:V.view.element,foldable:S,props:c.props,viewName:c.root?"rot":void 0,viewProps:c.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=c.props,this.foldable=S,P1(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const r3={id:"folder",type:"blade",accept(f){const i=q,c=D(f,{title:i.required.string,view:i.required.constant("folder"),expanded:i.optional.boolean});return c?{params:c}:null},controller(f){return new Rr(f.document,{blade:f.blade,expanded:f.params.expanded,props:T.fromObject({title:f.params.title}),viewProps:f.viewProps})},api(f){return f.controller instanceof Rr?new J(f.controller,f.pool):null}};class R1 extends we{constructor(i,c){const g=c.valueController.viewProps;super(Object.assign(Object.assign({},c),{value:c.valueController.value,view:new u2(i,{props:c.props,viewProps:g}),viewProps:g})),this.props=c.props,this.valueController=c.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class Va extends a{}const Ua=w("spr");class i3{constructor(i,c){this.element=i.createElement("div"),this.element.classList.add(Ua()),c.viewProps.bindClassModifiers(this.element);const g=i.createElement("hr");g.classList.add(Ua("r")),this.element.appendChild(g)}}class Ga extends ee{constructor(i,c){super(Object.assign(Object.assign({},c),{view:new i3(i,{viewProps:c.viewProps})}))}}const a3={id:"separator",type:"blade",accept(f){const c=D(f,{view:q.required.constant("separator")});return c?{params:c}:null},controller(f){return new Ga(f.document,{blade:f.blade,viewProps:f.viewProps})},api(f){return f.controller instanceof Ga?new Va(f.controller):null}},ut=w("tbi");class o3{constructor(i,c){this.element=i.createElement("div"),this.element.classList.add(ut()),c.viewProps.bindClassModifiers(this.element),M(c.props,"selected",V=>{V?this.element.classList.add(ut(void 0,"sel")):this.element.classList.remove(ut(void 0,"sel"))});const g=i.createElement("button");g.classList.add(ut("b")),c.viewProps.bindDisabled(g),this.element.appendChild(g),this.buttonElement=g;const S=i.createElement("div");S.classList.add(ut("t")),R(c.props.value("title"),S),this.buttonElement.appendChild(S),this.titleElement=S}}class s3{constructor(i,c){this.emitter=new C,this.onClick_=this.onClick_.bind(this),this.props=c.props,this.viewProps=c.viewProps,this.view=new o3(i,{props:c.props,viewProps:c.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class Ha{constructor(i,c){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new s3(i,{props:c.itemProps,viewProps:yn.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new ct(i,{blade:n1(),viewProps:yn.create()}),this.props=c.props,M(this.props,"selected",g=>{this.itemController.props.set("selected",g),this.contentController.viewProps.set("hidden",!g)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class Qa{constructor(i,c){this.controller_=i,this.rackApi_=c}get title(){var i;return(i=this.controller_.itemController.props.get("title"))!==null&&i!==void 0?i:""}set title(i){this.controller_.itemController.props.set("title",i)}get selected(){return this.controller_.props.get("selected")}set selected(i){this.controller_.props.set("selected",i)}get children(){return this.rackApi_.children}addButton(i){return this.rackApi_.addButton(i)}addFolder(i){return this.rackApi_.addFolder(i)}addSeparator(i){return this.rackApi_.addSeparator(i)}addTab(i){return this.rackApi_.addTab(i)}add(i,c){this.rackApi_.add(i,c)}remove(i){this.rackApi_.remove(i)}addInput(i,c,g){return this.rackApi_.addInput(i,c,g)}addMonitor(i,c,g){return this.rackApi_.addMonitor(i,c,g)}addBlade(i){return this.rackApi_.addBlade(i)}}class ja extends M1{constructor(i,c){super(i,new K(i.rackController,c)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onSelect_=this.onSelect_.bind(this),this.emitter_=new C,this.pageApiMap_=new Map,this.rackApi_.on("change",g=>{this.emitter_.emit("change",{event:g})}),this.rackApi_.on("update",g=>{this.emitter_.emit("update",{event:g})}),this.controller_.tab.selectedIndex.emitter.on("change",this.onSelect_),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(g=>{this.setUpPageApi_(g)})}get pages(){return this.controller_.pageSet.items.map(i=>{const c=this.pageApiMap_.get(i);if(!c)throw b.shouldNeverHappen();return c})}addPage(i){const c=this.controller_.view.element.ownerDocument,g=new Ha(c,{itemProps:T.fromObject({selected:!1,title:i.title}),props:T.fromObject({selected:!1})});this.controller_.add(g,i.index);const S=this.pageApiMap_.get(g);if(!S)throw b.shouldNeverHappen();return S}removePage(i){this.controller_.remove(i)}on(i,c){const g=c.bind(this);return this.emitter_.on(i,S=>{g(S.event)}),this}setUpPageApi_(i){const c=this.rackApi_.apiSet_.find(S=>S.controller_===i.contentController);if(!c)throw b.shouldNeverHappen();const g=new Qa(i,c);this.pageApiMap_.set(i,g)}onPageAdd_(i){this.setUpPageApi_(i.item)}onPageRemove_(i){if(!this.pageApiMap_.get(i.item))throw b.shouldNeverHappen();this.pageApiMap_.delete(i.item)}onSelect_(i){this.emitter_.emit("select",{event:new u(this,i.rawValue)})}}const $a=-1;class l3{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=L(!0),this.selectedIndex=L($a),this.items_=[]}add(i,c){const g=c??this.items_.length;this.items_.splice(g,0,i),i.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(i){const c=this.items_.indexOf(i);c<0||(this.items_.splice(c,1),i.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=$a,this.empty.rawValue=!0;return}const i=this.items_.findIndex(c=>c.rawValue);i<0?(this.items_.forEach((c,g)=>{c.rawValue=g===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((c,g)=>{c.rawValue=g===i}),this.selectedIndex.rawValue=i),this.empty.rawValue=!1}onItemSelectedChange_(i){if(i.rawValue){const c=this.items_.findIndex(g=>g===i.sender);this.items_.forEach((g,S)=>{g.rawValue=S===c}),this.selectedIndex.rawValue=c}else this.keepSelection_()}}const ht=w("tab");class c3{constructor(i,c){this.element=i.createElement("div"),this.element.classList.add(ht(),za()),c.viewProps.bindClassModifiers(this.element),P(c.empty,F(this.element,ht(void 0,"nop")));const g=i.createElement("div");g.classList.add(ht("t")),this.element.appendChild(g),this.itemsElement=g;const S=i.createElement("div");S.classList.add(ht("i")),this.element.appendChild(S);const V=c.contentsElement;V.classList.add(ht("c")),this.element.appendChild(V),this.contentsElement=V}}class Wa extends an{constructor(i,c){const g=new ct(i,{blade:c.blade,viewProps:c.viewProps}),S=new l3;super({blade:c.blade,rackController:g,view:new c3(i,{contentsElement:g.view.element,empty:S.empty,viewProps:c.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.pageSet_=new at(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.tab=S}get pageSet(){return this.pageSet_}add(i,c){this.pageSet_.add(i,c)}remove(i){this.pageSet_.remove(this.pageSet_.items[i])}onPageAdd_(i){const c=i.item;_n(this.view.itemsElement,c.itemController.view.element,i.index),c.itemController.viewProps.set("parent",this.viewProps),this.rackController.rack.add(c.contentController,i.index),this.tab.add(c.props.value("selected"))}onPageRemove_(i){const c=i.item;Oe(c.itemController.view.element),c.itemController.viewProps.set("parent",null),this.rackController.rack.remove(c.contentController),this.tab.remove(c.props.value("selected"))}}const Ya={id:"tab",type:"blade",accept(f){const i=q,c=D(f,{pages:i.required.array(i.required.object({title:i.required.string})),view:i.required.constant("tab")});return!c||c.pages.length===0?null:{params:c}},controller(f){const i=new Wa(f.document,{blade:f.blade,viewProps:f.viewProps});return f.params.pages.forEach(c=>{const g=new Ha(f.document,{itemProps:T.fromObject({selected:!1,title:c.title}),props:T.fromObject({selected:!1})});i.add(g)}),i},api(f){return f.controller instanceof Wa?new ja(f.controller,f.pool):null}};function u3(f,i){const c=f.accept(i.params);if(!c)return null;const g=q.optional.boolean(i.params.disabled).value,S=q.optional.boolean(i.params.hidden).value;return f.controller({blade:n1(),document:i.document,params:Object.assign(Object.assign({},c.params),{disabled:g,hidden:S}),viewProps:yn.create({disabled:g,hidden:S})})}class h3{constructor(){this.disabled=!1,this.emitter=new C}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class f3{constructor(i,c){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=i,this.emitter=new C,this.interval_=c,this.setTimer_()}get disabled(){return this.disabled_}set disabled(i){this.disabled_=i,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const i=this.doc_.defaultView;i&&i.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const i=this.doc_.defaultView;i&&(this.timerId_=i.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class p3{constructor(i){this.onValueChange_=this.onValueChange_.bind(this),this.reader=i.reader,this.writer=i.writer,this.emitter=new C,this.value=i.value,this.value.emitter.on("change",this.onValueChange_),this.target=i.target,this.read()}read(){const i=this.target.read();i!==void 0&&(this.value.rawValue=this.reader(i))}write_(i){this.writer(this.target,i)}onValueChange_(i){this.write_(i.rawValue),this.emitter.emit("change",{options:i.options,rawValue:i.rawValue,sender:this})}}function qa(f,i){for(;f.length<i;)f.push(void 0)}function v3(f){const i=[];return qa(i,f),L(i)}function m3(f){const i=f.indexOf(void 0);return i<0?f:f.slice(0,i)}function g3(f,i){const c=[...m3(f),i];return c.length>f.length?c.splice(0,c.length-f.length):qa(c,f.length),c}class b3{constructor(i){this.onTick_=this.onTick_.bind(this),this.reader_=i.reader,this.target=i.target,this.emitter=new C,this.value=i.value,this.ticker=i.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const i=this.target.read();if(i===void 0)return;const c=this.value.rawValue,g=this.reader_(i);this.value.rawValue=g3(c,g),this.emitter.emit("update",{rawValue:g,sender:this})}onTick_(i){this.read()}}class ft{constructor(i){this.constraints=i}constrain(i){return this.constraints.reduce((c,g)=>g.constrain(c),i)}}function ye(f,i){if(f instanceof i)return f;if(f instanceof ft){const c=f.constraints.reduce((g,S)=>g||(S instanceof i?S:null),null);if(c)return c}return null}class B1{constructor(i){this.values=T.fromObject({max:i.max,min:i.min})}constrain(i){const c=this.values.get("max"),g=this.values.get("min");return Math.min(Math.max(i,g),c)}}class dt{constructor(i){this.values=T.fromObject({options:i})}get options(){return this.values.get("options")}constrain(i){const c=this.values.get("options");return c.length===0||c.filter(S=>S.value===i).length>0?i:c[0].value}}class Xa{constructor(i){this.values=T.fromObject({max:i.max,min:i.min})}get maxValue(){return this.values.get("max")}get minValue(){return this.values.get("min")}constrain(i){const c=this.values.get("max"),g=this.values.get("min");let S=i;return p(g)||(S=Math.max(S,g)),p(c)||(S=Math.min(S,c)),S}}class f2{constructor(i,c=0){this.step=i,this.origin=c}constrain(i){const c=this.origin%this.step,g=Math.round((i-c)/this.step);return c+g*this.step}}const Br=w("lst");class _3{constructor(i,c){this.onValueChange_=this.onValueChange_.bind(this),this.props_=c.props,this.element=i.createElement("div"),this.element.classList.add(Br()),c.viewProps.bindClassModifiers(this.element);const g=i.createElement("select");g.classList.add(Br("s")),c.viewProps.bindDisabled(g),this.element.appendChild(g),this.selectElement=g;const S=i.createElement("div");S.classList.add(Br("m")),S.appendChild(Cn(i,"dropdown")),this.element.appendChild(S),c.value.emitter.on("change",this.onValueChange_),this.value_=c.value,M(this.props_,"options",V=>{C1(this.selectElement),V.forEach(W=>{const Z=i.createElement("option");Z.textContent=W.text,this.selectElement.appendChild(Z)}),this.update_()})}update_(){const i=this.props_.get("options").map(c=>c.value);this.selectElement.selectedIndex=i.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class pt{constructor(i,c){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=c.props,this.value=c.value,this.viewProps=c.viewProps,this.view=new _3(i,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(i){const c=i.currentTarget;this.value.rawValue=this.props.get("options")[c.selectedIndex].value}}const Ka=w("pop");class w3{constructor(i,c){this.element=i.createElement("div"),this.element.classList.add(Ka()),c.viewProps.bindClassModifiers(this.element),P(c.shows,F(this.element,Ka(void 0,"v")))}}class Za{constructor(i,c){this.shows=L(!1),this.viewProps=c.viewProps,this.view=new w3(i,{shows:this.shows,viewProps:this.viewProps})}}const Ja=w("txt");class y3{constructor(i,c){this.onChange_=this.onChange_.bind(this),this.element=i.createElement("div"),this.element.classList.add(Ja()),c.viewProps.bindClassModifiers(this.element),this.props_=c.props,this.props_.emitter.on("change",this.onChange_);const g=i.createElement("input");g.classList.add(Ja("i")),g.type="text",c.viewProps.bindDisabled(g),this.element.appendChild(g),this.inputElement=g,c.value.emitter.on("change",this.onChange_),this.value_=c.value,this.refresh()}refresh(){const i=this.props_.get("formatter");this.inputElement.value=i(this.value_.rawValue)}onChange_(){this.refresh()}}class d2{constructor(i,c){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=c.parser,this.props=c.props,this.value=c.value,this.viewProps=c.viewProps,this.view=new y3(i,{props:c.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(i){const g=i.currentTarget.value,S=this.parser_(g);p(S)||(this.value.rawValue=S),this.view.refresh()}}function x3(f){return String(f)}function no(f){return f==="false"?!1:!!f}function eo(f){return x3(f)}class A3{constructor(i){this.text=i}evaluate(){return Number(this.text)}toString(){return this.text}}const E3={"**":(f,i)=>Math.pow(f,i),"*":(f,i)=>f*i,"/":(f,i)=>f/i,"%":(f,i)=>f%i,"+":(f,i)=>f+i,"-":(f,i)=>f-i,"<<":(f,i)=>f<<i,">>":(f,i)=>f>>i,">>>":(f,i)=>f>>>i,"&":(f,i)=>f&i,"^":(f,i)=>f^i,"|":(f,i)=>f|i};class C3{constructor(i,c,g){this.left=c,this.operator=i,this.right=g}evaluate(){const i=E3[this.operator];if(!i)throw new Error(`unexpected binary operator: '${this.operator}`);return i(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const k3={"+":f=>f,"-":f=>-f,"~":f=>~f};class S3{constructor(i,c){this.operator=i,this.expression=c}evaluate(){const i=k3[this.operator];if(!i)throw new Error(`unexpected unary operator: '${this.operator}`);return i(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Nr(f){return(i,c)=>{for(let g=0;g<f.length;g++){const S=f[g](i,c);if(S!=="")return S}return""}}function vt(f,i){var c;const g=f.substr(i).match(/^\s+/);return(c=g&&g[0])!==null&&c!==void 0?c:""}function P3(f,i){const c=f.substr(i,1);return c.match(/^[1-9]$/)?c:""}function mt(f,i){var c;const g=f.substr(i).match(/^[0-9]+/);return(c=g&&g[0])!==null&&c!==void 0?c:""}function M3(f,i){const c=mt(f,i);if(c!=="")return c;const g=f.substr(i,1);if(i+=1,g!=="-"&&g!=="+")return"";const S=mt(f,i);return S===""?"":g+S}function Tr(f,i){const c=f.substr(i,1);if(i+=1,c.toLowerCase()!=="e")return"";const g=M3(f,i);return g===""?"":c+g}function to(f,i){const c=f.substr(i,1);if(c==="0")return c;const g=P3(f,i);return i+=g.length,g===""?"":g+mt(f,i)}function I3(f,i){const c=to(f,i);if(i+=c.length,c==="")return"";const g=f.substr(i,1);if(i+=g.length,g!==".")return"";const S=mt(f,i);return i+=S.length,c+g+S+Tr(f,i)}function R3(f,i){const c=f.substr(i,1);if(i+=c.length,c!==".")return"";const g=mt(f,i);return i+=g.length,g===""?"":c+g+Tr(f,i)}function B3(f,i){const c=to(f,i);return i+=c.length,c===""?"":c+Tr(f,i)}const N3=Nr([I3,R3,B3]);function T3(f,i){var c;const g=f.substr(i).match(/^[01]+/);return(c=g&&g[0])!==null&&c!==void 0?c:""}function F3(f,i){const c=f.substr(i,2);if(i+=c.length,c.toLowerCase()!=="0b")return"";const g=T3(f,i);return g===""?"":c+g}function O3(f,i){var c;const g=f.substr(i).match(/^[0-7]+/);return(c=g&&g[0])!==null&&c!==void 0?c:""}function D3(f,i){const c=f.substr(i,2);if(i+=c.length,c.toLowerCase()!=="0o")return"";const g=O3(f,i);return g===""?"":c+g}function L3(f,i){var c;const g=f.substr(i).match(/^[0-9a-f]+/i);return(c=g&&g[0])!==null&&c!==void 0?c:""}function z3(f,i){const c=f.substr(i,2);if(i+=c.length,c.toLowerCase()!=="0x")return"";const g=L3(f,i);return g===""?"":c+g}const V3=Nr([F3,D3,z3]),U3=Nr([V3,N3]);function G3(f,i){const c=U3(f,i);return i+=c.length,c===""?null:{evaluable:new A3(c),cursor:i}}function H3(f,i){const c=f.substr(i,1);if(i+=c.length,c!=="(")return null;const g=io(f,i);if(!g)return null;i=g.cursor,i+=vt(f,i).length;const S=f.substr(i,1);return i+=S.length,S!==")"?null:{evaluable:g.evaluable,cursor:i}}function Q3(f,i){var c;return(c=G3(f,i))!==null&&c!==void 0?c:H3(f,i)}function ro(f,i){const c=Q3(f,i);if(c)return c;const g=f.substr(i,1);if(i+=g.length,g!=="+"&&g!=="-"&&g!=="~")return null;const S=ro(f,i);return S?(i=S.cursor,{cursor:i,evaluable:new S3(g,S.evaluable)}):null}function j3(f,i,c){c+=vt(i,c).length;const g=f.filter(S=>i.startsWith(S,c))[0];return g?(c+=g.length,c+=vt(i,c).length,{cursor:c,operator:g}):null}function $3(f,i){return(c,g)=>{const S=f(c,g);if(!S)return null;g=S.cursor;let V=S.evaluable;for(;;){const W=j3(i,c,g);if(!W)break;g=W.cursor;const Z=f(c,g);if(!Z)return null;g=Z.cursor,V=new C3(W.operator,V,Z.evaluable)}return V?{cursor:g,evaluable:V}:null}}const W3=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((f,i)=>$3(f,i),ro);function io(f,i){return i+=vt(f,i).length,W3(f,i)}function Y3(f){const i=io(f,0);return!i||i.cursor+vt(f,i.cursor).length!==f.length?null:i.evaluable}function xe(f){var i;const c=Y3(f);return(i=c?.evaluate())!==null&&i!==void 0?i:null}function ao(f){if(typeof f=="number")return f;if(typeof f=="string"){const i=xe(f);if(!p(i))return i}return 0}function q3(f){return String(f)}function On(f){return i=>i.toFixed(Math.max(Math.min(f,20),0))}const X3=On(0);function p2(f){return X3(f)+"%"}function oo(f){return String(f)}function Fr(f){return f}function gt({primary:f,secondary:i,forward:c,backward:g}){let S=!1;function V(W){S||(S=!0,W(),S=!1)}f.emitter.on("change",W=>{V(()=>{i.setRawValue(c(f,i),W.options)})}),i.emitter.on("change",W=>{V(()=>{f.setRawValue(g(f,i),W.options)}),V(()=>{i.setRawValue(c(f,i),W.options)})}),V(()=>{i.setRawValue(c(f,i),{forceEmit:!1,last:!0})})}function Gn(f,i){const c=f*(i.altKey?.1:1)*(i.shiftKey?10:1);return i.upKey?+c:i.downKey?-c:0}function bt(f){return{altKey:f.altKey,downKey:f.key==="ArrowDown",shiftKey:f.shiftKey,upKey:f.key==="ArrowUp"}}function Ae(f){return{altKey:f.altKey,downKey:f.key==="ArrowLeft",shiftKey:f.shiftKey,upKey:f.key==="ArrowRight"}}function K3(f){return f==="ArrowUp"||f==="ArrowDown"}function so(f){return K3(f)||f==="ArrowLeft"||f==="ArrowRight"}function Or(f,i){var c,g;const S=i.ownerDocument.defaultView,V=i.getBoundingClientRect();return{x:f.pageX-(((c=S&&S.scrollX)!==null&&c!==void 0?c:0)+V.left),y:f.pageY-(((g=S&&S.scrollY)!==null&&g!==void 0?g:0)+V.top)}}class r1{constructor(i){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=i,this.emitter=new C,i.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),i.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),i.addEventListener("touchend",this.onTouchEnd_),i.addEventListener("mousedown",this.onMouseDown_)}computePosition_(i){const c=this.elem_.getBoundingClientRect();return{bounds:{width:c.width,height:c.height},point:i?{x:i.x,y:i.y}:null}}onMouseDown_(i){var c;i.preventDefault(),(c=i.currentTarget)===null||c===void 0||c.focus();const g=this.elem_.ownerDocument;g.addEventListener("mousemove",this.onDocumentMouseMove_),g.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:i.altKey,data:this.computePosition_(Or(i,this.elem_)),sender:this,shiftKey:i.shiftKey})}onDocumentMouseMove_(i){this.emitter.emit("move",{altKey:i.altKey,data:this.computePosition_(Or(i,this.elem_)),sender:this,shiftKey:i.shiftKey})}onDocumentMouseUp_(i){const c=this.elem_.ownerDocument;c.removeEventListener("mousemove",this.onDocumentMouseMove_),c.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:i.altKey,data:this.computePosition_(Or(i,this.elem_)),sender:this,shiftKey:i.shiftKey})}onTouchStart_(i){i.preventDefault();const c=i.targetTouches.item(0),g=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:i.altKey,data:this.computePosition_(c?{x:c.clientX-g.left,y:c.clientY-g.top}:void 0),sender:this,shiftKey:i.shiftKey}),this.lastTouch_=c}onTouchMove_(i){const c=i.targetTouches.item(0),g=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:i.altKey,data:this.computePosition_(c?{x:c.clientX-g.left,y:c.clientY-g.top}:void 0),sender:this,shiftKey:i.shiftKey}),this.lastTouch_=c}onTouchEnd_(i){var c;const g=(c=i.targetTouches.item(0))!==null&&c!==void 0?c:this.lastTouch_,S=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:i.altKey,data:this.computePosition_(g?{x:g.clientX-S.left,y:g.clientY-S.top}:void 0),sender:this,shiftKey:i.shiftKey})}}function An(f,i,c,g,S){const V=(f-i)/(c-i);return g+V*(S-g)}function lo(f){return String(f.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Bn(f,i,c){return Math.min(Math.max(f,i),c)}function co(f,i){return(f%i+i)%i}const Xn=w("txt");class Z3{constructor(i,c){this.onChange_=this.onChange_.bind(this),this.props_=c.props,this.props_.emitter.on("change",this.onChange_),this.element=i.createElement("div"),this.element.classList.add(Xn(),Xn(void 0,"num")),c.arrayPosition&&this.element.classList.add(Xn(void 0,c.arrayPosition)),c.viewProps.bindClassModifiers(this.element);const g=i.createElement("input");g.classList.add(Xn("i")),g.type="text",c.viewProps.bindDisabled(g),this.element.appendChild(g),this.inputElement=g,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=c.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Xn()),this.inputElement.classList.add(Xn("i"));const S=i.createElement("div");S.classList.add(Xn("k")),this.element.appendChild(S),this.knobElement=S;const V=i.createElementNS(Fn,"svg");V.classList.add(Xn("g")),this.knobElement.appendChild(V);const W=i.createElementNS(Fn,"path");W.classList.add(Xn("gb")),V.appendChild(W),this.guideBodyElem_=W;const Z=i.createElementNS(Fn,"path");Z.classList.add(Xn("gh")),V.appendChild(Z),this.guideHeadElem_=Z;const sn=i.createElement("div");sn.classList.add(w("tt")()),this.knobElement.appendChild(sn),this.tooltipElem_=sn,c.value.emitter.on("change",this.onChange_),this.value=c.value,this.refresh()}onDraggingChange_(i){if(i.rawValue===null){this.element.classList.remove(Xn(void 0,"drg"));return}this.element.classList.add(Xn(void 0,"drg"));const c=i.rawValue/this.props_.get("draggingScale"),g=c+(c>0?-1:c<0?1:0),S=Bn(-g,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${g+S},0 L${g},4 L${g+S},8`,`M ${c},-1 L${c},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${c},4`);const V=this.props_.get("formatter");this.tooltipElem_.textContent=V(this.value.rawValue),this.tooltipElem_.style.left=`${c}px`}refresh(){const i=this.props_.get("formatter");this.inputElement.value=i(this.value.rawValue)}onChange_(){this.refresh()}}class _t{constructor(i,c){var g;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=c.baseStep,this.parser_=c.parser,this.props=c.props,this.sliderProps_=(g=c.sliderProps)!==null&&g!==void 0?g:null,this.value=c.value,this.viewProps=c.viewProps,this.dragging_=L(null),this.view=new Z3(i,{arrayPosition:c.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const S=new r1(this.view.knobElement);S.emitter.on("down",this.onPointerDown_),S.emitter.on("move",this.onPointerMove_),S.emitter.on("up",this.onPointerUp_)}constrainValue_(i){var c,g;const S=(c=this.sliderProps_)===null||c===void 0?void 0:c.get("minValue"),V=(g=this.sliderProps_)===null||g===void 0?void 0:g.get("maxValue");let W=i;return S!==void 0&&(W=Math.max(W,S)),V!==void 0&&(W=Math.min(W,V)),W}onInputChange_(i){const g=i.currentTarget.value,S=this.parser_(g);p(S)||(this.value.rawValue=this.constrainValue_(S)),this.view.refresh()}onInputKeyDown_(i){const c=Gn(this.baseStep_,bt(i));c!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+c),{forceEmit:!1,last:!1})}onInputKeyUp_(i){Gn(this.baseStep_,bt(i))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(i){if(!i.point)return null;const c=i.point.x-i.bounds.width/2;return this.constrainValue_(this.originRawValue_+c*this.props.get("draggingScale"))}onPointerMove_(i){const c=this.computeDraggingValue_(i.data);c!==null&&(this.value.setRawValue(c,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(i){const c=this.computeDraggingValue_(i.data);c!==null&&(this.value.setRawValue(c,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const Dr=w("sld");class J3{constructor(i,c){this.onChange_=this.onChange_.bind(this),this.props_=c.props,this.props_.emitter.on("change",this.onChange_),this.element=i.createElement("div"),this.element.classList.add(Dr()),c.viewProps.bindClassModifiers(this.element);const g=i.createElement("div");g.classList.add(Dr("t")),c.viewProps.bindTabIndex(g),this.element.appendChild(g),this.trackElement=g;const S=i.createElement("div");S.classList.add(Dr("k")),this.trackElement.appendChild(S),this.knobElement=S,c.value.emitter.on("change",this.onChange_),this.value=c.value,this.update_()}update_(){const i=Bn(An(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${i}%`}onChange_(){this.update_()}}class n5{constructor(i,c){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=c.baseStep,this.value=c.value,this.viewProps=c.viewProps,this.props=c.props,this.view=new J3(i,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new r1(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(i,c){i.point&&this.value.setRawValue(An(Bn(i.point.x,0,i.bounds.width),0,i.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),c)}onPointerDownOrMove_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerUp_(i){this.handlePointerEvent_(i.data,{forceEmit:!0,last:!0})}onKeyDown_(i){const c=Gn(this.baseStep_,Ae(i));c!==0&&this.value.setRawValue(this.value.rawValue+c,{forceEmit:!1,last:!1})}onKeyUp_(i){Gn(this.baseStep_,Ae(i))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Lr=w("sldtxt");class e5{constructor(i,c){this.element=i.createElement("div"),this.element.classList.add(Lr());const g=i.createElement("div");g.classList.add(Lr("s")),this.sliderView_=c.sliderView,g.appendChild(this.sliderView_.element),this.element.appendChild(g);const S=i.createElement("div");S.classList.add(Lr("t")),this.textView_=c.textView,S.appendChild(this.textView_.element),this.element.appendChild(S)}}class zr{constructor(i,c){this.value=c.value,this.viewProps=c.viewProps,this.sliderC_=new n5(i,{baseStep:c.baseStep,props:c.sliderProps,value:c.value,viewProps:this.viewProps}),this.textC_=new _t(i,{baseStep:c.baseStep,parser:c.parser,props:c.textProps,sliderProps:c.sliderProps,value:c.value,viewProps:c.viewProps}),this.view=new e5(i,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function wt(f,i){f.write(i)}function v2(f){const i=q;if(Array.isArray(f))return i.required.array(i.required.object({text:i.required.string,value:i.required.raw}))(f).value;if(typeof f=="object")return i.required.raw(f).value}function uo(f){if(f==="inline"||f==="popup")return f}function Le(f){const i=q;return i.required.object({max:i.optional.number,min:i.optional.number,step:i.optional.number})(f).value}function ho(f){if(Array.isArray(f))return f;const i=[];return Object.keys(f).forEach(c=>{i.push({text:c,value:f[c]})}),i}function Vr(f){return p(f)?null:new dt(ho(f))}function t5(f){const i=f?ye(f,f2):null;return i?i.step:null}function m2(f,i){const c=f&&ye(f,f2);return c?lo(c.step):Math.max(lo(i),2)}function N1(f){const i=t5(f);return i??1}function T1(f,i){var c;const g=f&&ye(f,f2),S=Math.abs((c=g?.step)!==null&&c!==void 0?c:i);return S===0?.1:Math.pow(10,Math.floor(Math.log10(S))-1)}const g2=w("ckb");class r5{constructor(i,c){this.onValueChange_=this.onValueChange_.bind(this),this.element=i.createElement("div"),this.element.classList.add(g2()),c.viewProps.bindClassModifiers(this.element);const g=i.createElement("label");g.classList.add(g2("l")),this.element.appendChild(g);const S=i.createElement("input");S.classList.add(g2("i")),S.type="checkbox",g.appendChild(S),this.inputElement=S,c.viewProps.bindDisabled(this.inputElement);const V=i.createElement("div");V.classList.add(g2("w")),g.appendChild(V);const W=Cn(i,"check");V.appendChild(W),c.value.emitter.on("change",this.onValueChange_),this.value=c.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class i5{constructor(i,c){this.onInputChange_=this.onInputChange_.bind(this),this.value=c.value,this.viewProps=c.viewProps,this.view=new r5(i,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(i){const c=i.currentTarget;this.value.rawValue=c.checked}}function a5(f){const i=[],c=Vr(f.options);return c&&i.push(c),new ft(i)}const o5={id:"input-bool",type:"input",accept:(f,i)=>{if(typeof f!="boolean")return null;const g=D(i,{options:q.optional.custom(v2)});return g?{initialValue:f,params:g}:null},binding:{reader:f=>no,constraint:f=>a5(f.params),writer:f=>wt},controller:f=>{const i=f.document,c=f.value,g=f.constraint,S=g&&ye(g,dt);return S?new pt(i,{props:new T({options:S.values.value("options")}),value:c,viewProps:f.viewProps}):new i5(i,{value:c,viewProps:f.viewProps})}},i1=w("col");class s5{constructor(i,c){this.element=i.createElement("div"),this.element.classList.add(i1()),c.foldable.bindExpandedClass(this.element,i1(void 0,"expanded")),M(c.foldable,"completed",F(this.element,i1(void 0,"cpl")));const g=i.createElement("div");g.classList.add(i1("h")),this.element.appendChild(g);const S=i.createElement("div");S.classList.add(i1("s")),g.appendChild(S),this.swatchElement=S;const V=i.createElement("div");if(V.classList.add(i1("t")),g.appendChild(V),this.textElement=V,c.pickerLayout==="inline"){const W=i.createElement("div");W.classList.add(i1("p")),this.element.appendChild(W),this.pickerElement=W}else this.pickerElement=null}}function l5(f,i,c){const g=Bn(f/255,0,1),S=Bn(i/255,0,1),V=Bn(c/255,0,1),W=Math.max(g,S,V),Z=Math.min(g,S,V),sn=W-Z;let ln=0,vn=0;const mn=(Z+W)/2;return sn!==0&&(vn=sn/(1-Math.abs(W+Z-1)),g===W?ln=(S-V)/sn:S===W?ln=2+(V-g)/sn:ln=4+(g-S)/sn,ln=ln/6+(ln<0?1:0)),[ln*360,vn*100,mn*100]}function c5(f,i,c){const g=(f%360+360)%360,S=Bn(i/100,0,1),V=Bn(c/100,0,1),W=(1-Math.abs(2*V-1))*S,Z=W*(1-Math.abs(g/60%2-1)),sn=V-W/2;let ln,vn,mn;return g>=0&&g<60?[ln,vn,mn]=[W,Z,0]:g>=60&&g<120?[ln,vn,mn]=[Z,W,0]:g>=120&&g<180?[ln,vn,mn]=[0,W,Z]:g>=180&&g<240?[ln,vn,mn]=[0,Z,W]:g>=240&&g<300?[ln,vn,mn]=[Z,0,W]:[ln,vn,mn]=[W,0,Z],[(ln+sn)*255,(vn+sn)*255,(mn+sn)*255]}function u5(f,i,c){const g=Bn(f/255,0,1),S=Bn(i/255,0,1),V=Bn(c/255,0,1),W=Math.max(g,S,V),Z=Math.min(g,S,V),sn=W-Z;let ln;sn===0?ln=0:W===g?ln=60*(((S-V)/sn%6+6)%6):W===S?ln=60*((V-g)/sn+2):ln=60*((g-S)/sn+4);const vn=W===0?0:sn/W,mn=W;return[ln,vn*100,mn*100]}function fo(f,i,c){const g=co(f,360),S=Bn(i/100,0,1),V=Bn(c/100,0,1),W=V*S,Z=W*(1-Math.abs(g/60%2-1)),sn=V-W;let ln,vn,mn;return g>=0&&g<60?[ln,vn,mn]=[W,Z,0]:g>=60&&g<120?[ln,vn,mn]=[Z,W,0]:g>=120&&g<180?[ln,vn,mn]=[0,W,Z]:g>=180&&g<240?[ln,vn,mn]=[0,Z,W]:g>=240&&g<300?[ln,vn,mn]=[Z,0,W]:[ln,vn,mn]=[W,0,Z],[(ln+sn)*255,(vn+sn)*255,(mn+sn)*255]}function h5(f,i,c){const g=c+i*(100-Math.abs(2*c-100))/200;return[f,g!==0?i*(100-Math.abs(2*c-100))/g:0,c+i*(100-Math.abs(2*c-100))/(2*100)]}function f5(f,i,c){const g=100-Math.abs(c*(200-i)/100-100);return[f,g!==0?i*c/g:0,c*(200-i)/(2*100)]}function a1(f){return[f[0],f[1],f[2]]}function po(f,i){return[f[0],f[1],f[2],i]}const d5={hsl:{hsl:(f,i,c)=>[f,i,c],hsv:h5,rgb:c5},hsv:{hsl:f5,hsv:(f,i,c)=>[f,i,c],rgb:fo},rgb:{hsl:l5,hsv:u5,rgb:(f,i,c)=>[f,i,c]}};function b2(f,i){return[i==="float"?1:f==="rgb"?255:360,i==="float"?1:f==="rgb"?255:100,i==="float"?1:f==="rgb"?255:100]}function p5(f,i){return f===i?i:co(f,i)}function v5(f,i,c){var g;const S=b2(i,c);return[i==="rgb"?Bn(f[0],0,S[0]):p5(f[0],S[0]),Bn(f[1],0,S[1]),Bn(f[2],0,S[2]),Bn((g=f[3])!==null&&g!==void 0?g:1,0,1)]}function vo(f,i,c,g){const S=b2(i,c),V=b2(i,g);return f.map((W,Z)=>W/S[Z]*V[Z])}function m5(f,i,c){const g=vo(f,i.mode,i.type,"int"),S=d5[i.mode][c.mode](...g);return vo(S,c.mode,"int",c.type)}function _2(f,i){return typeof f!="object"||p(f)?!1:i in f&&typeof f[i]=="number"}class hn{static black(i="int"){return new hn([0,0,0],"rgb",i)}static fromObject(i,c="int"){const g="a"in i?[i.r,i.g,i.b,i.a]:[i.r,i.g,i.b];return new hn(g,"rgb",c)}static toRgbaObject(i,c="int"){return i.toRgbaObject(c)}static isRgbColorObject(i){return _2(i,"r")&&_2(i,"g")&&_2(i,"b")}static isRgbaColorObject(i){return this.isRgbColorObject(i)&&_2(i,"a")}static isColorObject(i){return this.isRgbColorObject(i)}static equals(i,c){if(i.mode!==c.mode)return!1;const g=i.comps_,S=c.comps_;for(let V=0;V<g.length;V++)if(g[V]!==S[V])return!1;return!0}constructor(i,c,g="int"){this.mode=c,this.type=g,this.comps_=v5(i,c,g)}getComponents(i,c="int"){return po(m5(a1(this.comps_),{mode:this.mode,type:this.type},{mode:i??this.mode,type:c}),this.comps_[3])}toRgbaObject(i="int"){const c=this.getComponents("rgb",i);return{r:c[0],g:c[1],b:c[2],a:c[3]}}}const ze=w("colp");class g5{constructor(i,c){this.alphaViews_=null,this.element=i.createElement("div"),this.element.classList.add(ze()),c.viewProps.bindClassModifiers(this.element);const g=i.createElement("div");g.classList.add(ze("hsv"));const S=i.createElement("div");S.classList.add(ze("sv")),this.svPaletteView_=c.svPaletteView,S.appendChild(this.svPaletteView_.element),g.appendChild(S);const V=i.createElement("div");V.classList.add(ze("h")),this.hPaletteView_=c.hPaletteView,V.appendChild(this.hPaletteView_.element),g.appendChild(V),this.element.appendChild(g);const W=i.createElement("div");if(W.classList.add(ze("rgb")),this.textView_=c.textView,W.appendChild(this.textView_.element),this.element.appendChild(W),c.alphaViews){this.alphaViews_={palette:c.alphaViews.palette,text:c.alphaViews.text};const Z=i.createElement("div");Z.classList.add(ze("a"));const sn=i.createElement("div");sn.classList.add(ze("ap")),sn.appendChild(this.alphaViews_.palette.element),Z.appendChild(sn);const ln=i.createElement("div");ln.classList.add(ze("at")),ln.appendChild(this.alphaViews_.text.element),Z.appendChild(ln),this.element.appendChild(Z)}}get allFocusableElements(){const i=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(c=>c.inputElement)];return this.alphaViews_&&i.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),i}}function b5(f){return f==="int"?"int":f==="float"?"float":void 0}function Ur(f){const i=q;return D(f,{alpha:i.optional.boolean,color:i.optional.object({alpha:i.optional.boolean,type:i.optional.custom(b5)}),expanded:i.optional.boolean,picker:i.optional.custom(uo)})}function o1(f){return f?.1:1}function s1(f){var i;return(i=f.color)===null||i===void 0?void 0:i.type}function _5(f,i){return f.alpha===i.alpha&&f.mode===i.mode&&f.notation===i.notation&&f.type===i.type}function Kn(f,i){const c=f.match(/^(.+)%$/);return Math.min(c?parseFloat(c[1])*.01*i:parseFloat(f),i)}const w5={deg:f=>f,grad:f=>f*360/400,rad:f=>f*360/(2*Math.PI),turn:f=>f*360};function mo(f){const i=f.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!i)return parseFloat(f);const c=parseFloat(i[1]),g=i[2];return w5[g](c)}function go(f){const i=f.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!i)return null;const c=[Kn(i[1],255),Kn(i[2],255),Kn(i[3],255)];return isNaN(c[0])||isNaN(c[1])||isNaN(c[2])?null:c}function bo(f){return i=>{const c=go(i);return c?new hn(c,"rgb",f):null}}function _o(f){const i=f.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!i)return null;const c=[Kn(i[1],255),Kn(i[2],255),Kn(i[3],255),Kn(i[4],1)];return isNaN(c[0])||isNaN(c[1])||isNaN(c[2])||isNaN(c[3])?null:c}function wo(f){return i=>{const c=_o(i);return c?new hn(c,"rgb",f):null}}function yo(f){const i=f.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!i)return null;const c=[mo(i[1]),Kn(i[2],100),Kn(i[3],100)];return isNaN(c[0])||isNaN(c[1])||isNaN(c[2])?null:c}function xo(f){return i=>{const c=yo(i);return c?new hn(c,"hsl",f):null}}function Ao(f){const i=f.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!i)return null;const c=[mo(i[1]),Kn(i[2],100),Kn(i[3],100),Kn(i[4],1)];return isNaN(c[0])||isNaN(c[1])||isNaN(c[2])||isNaN(c[3])?null:c}function Eo(f){return i=>{const c=Ao(i);return c?new hn(c,"hsl",f):null}}function Co(f){const i=f.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(i)return[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)];const c=f.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return c?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:null}function y5(f){const i=Co(f);return i?new hn(i,"rgb","int"):null}function ko(f){const i=f.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(i)return[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),An(parseInt(i[4]+i[4],16),0,255,0,1)];const c=f.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return c?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16),An(parseInt(c[4],16),0,255,0,1)]:null}function x5(f){const i=ko(f);return i?new hn(i,"rgb","int"):null}function So(f){const i=f.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!i)return null;const c=[parseFloat(i[1]),parseFloat(i[2]),parseFloat(i[3])];return isNaN(c[0])||isNaN(c[1])||isNaN(c[2])?null:c}function Po(f){return i=>{const c=So(i);return c?new hn(c,"rgb",f):null}}function Mo(f){const i=f.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!i)return null;const c=[parseFloat(i[1]),parseFloat(i[2]),parseFloat(i[3]),parseFloat(i[4])];return isNaN(c[0])||isNaN(c[1])||isNaN(c[2])||isNaN(c[3])?null:c}function Io(f){return i=>{const c=Mo(i);return c?new hn(c,"rgb",f):null}}const A5=[{parser:Co,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:ko,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:go,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:_o,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:yo,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:Ao,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:So,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:Mo,result:{alpha:!0,mode:"rgb",notation:"object"}}];function E5(f){return A5.reduce((i,{parser:c,result:g})=>i||(c(f)?g:null),null)}function Gr(f,i="int"){const c=E5(f);return c?c.notation==="hex"&&i!=="float"?Object.assign(Object.assign({},c),{type:"int"}):c.notation==="func"?Object.assign(Object.assign({},c),{type:i}):null:null}const Ro={int:[y5,x5,bo("int"),wo("int"),xo("int"),Eo("int"),Po("int"),Io("int")],float:[bo("float"),wo("float"),xo("float"),Eo("float"),Po("float"),Io("float")]};function C5(f){const i=Ro[f];return c=>{if(typeof c!="string")return hn.black(f);const g=i.reduce((S,V)=>S||V(c),null);return g??hn.black(f)}}function Hr(f){const i=Ro[f];return c=>i.reduce((g,S)=>g||S(c),null)}function Bo(f){const i=Bn(Math.floor(f),0,255).toString(16);return i.length===1?`0${i}`:i}function No(f,i="#"){const c=a1(f.getComponents("rgb")).map(Bo).join("");return`${i}${c}`}function Qr(f,i="#"){const c=f.getComponents("rgb"),g=[c[0],c[1],c[2],c[3]*255].map(Bo).join("");return`${i}${g}`}function To(f,i){const c=On(i==="float"?2:0);return`rgb(${a1(f.getComponents("rgb",i)).map(S=>c(S)).join(", ")})`}function k5(f){return i=>To(i,f)}function w2(f,i){const c=On(2),g=On(i==="float"?2:0);return`rgba(${f.getComponents("rgb",i).map((V,W)=>(W===3?c:g)(V)).join(", ")})`}function S5(f){return i=>w2(i,f)}function P5(f){const i=[On(0),p2,p2];return`hsl(${a1(f.getComponents("hsl")).map((g,S)=>i[S](g)).join(", ")})`}function M5(f){const i=[On(0),p2,p2,On(2)];return`hsla(${f.getComponents("hsl").map((g,S)=>i[S](g)).join(", ")})`}function Fo(f,i){const c=On(i==="float"?2:0),g=["r","g","b"];return`{${a1(f.getComponents("rgb",i)).map((V,W)=>`${g[W]}: ${c(V)}`).join(", ")}}`}function I5(f){return i=>Fo(i,f)}function Oo(f,i){const c=On(2),g=On(i==="float"?2:0),S=["r","g","b","a"];return`{${f.getComponents("rgb",i).map((W,Z)=>{const sn=Z===3?c:g;return`${S[Z]}: ${sn(W)}`}).join(", ")}}`}function R5(f){return i=>Oo(i,f)}const B5=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:No},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:Qr},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:P5},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:M5},...["int","float"].reduce((f,i)=>[...f,{format:{alpha:!1,mode:"rgb",notation:"func",type:i},stringifier:k5(i)},{format:{alpha:!0,mode:"rgb",notation:"func",type:i},stringifier:S5(i)},{format:{alpha:!1,mode:"rgb",notation:"object",type:i},stringifier:I5(i)},{format:{alpha:!0,mode:"rgb",notation:"object",type:i},stringifier:R5(i)}],[])];function jr(f){return B5.reduce((i,c)=>i||(_5(c.format,f)?c.stringifier:null),null)}const yt=w("apl");class N5{constructor(i,c){this.onValueChange_=this.onValueChange_.bind(this),this.value=c.value,this.value.emitter.on("change",this.onValueChange_),this.element=i.createElement("div"),this.element.classList.add(yt()),c.viewProps.bindClassModifiers(this.element),c.viewProps.bindTabIndex(this.element);const g=i.createElement("div");g.classList.add(yt("b")),this.element.appendChild(g);const S=i.createElement("div");S.classList.add(yt("c")),g.appendChild(S),this.colorElem_=S;const V=i.createElement("div");V.classList.add(yt("m")),this.element.appendChild(V),this.markerElem_=V;const W=i.createElement("div");W.classList.add(yt("p")),this.markerElem_.appendChild(W),this.previewElem_=W,this.update_()}update_(){const i=this.value.rawValue,c=i.getComponents("rgb"),g=new hn([c[0],c[1],c[2],0],"rgb"),S=new hn([c[0],c[1],c[2],255],"rgb"),V=["to right",w2(g),w2(S)];this.colorElem_.style.background=`linear-gradient(${V.join(",")})`,this.previewElem_.style.backgroundColor=w2(i);const W=An(c[3],0,1,0,100);this.markerElem_.style.left=`${W}%`}onValueChange_(){this.update_()}}class T5{constructor(i,c){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=c.value,this.viewProps=c.viewProps,this.view=new N5(i,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new r1(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(i,c){if(!i.point)return;const g=i.point.x/i.bounds.width,S=this.value.rawValue,[V,W,Z]=S.getComponents("hsv");this.value.setRawValue(new hn([V,W,Z,g],"hsv"),c)}onPointerDown_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerMove_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerUp_(i){this.handlePointerEvent_(i.data,{forceEmit:!0,last:!0})}onKeyDown_(i){const c=Gn(o1(!0),Ae(i));if(c===0)return;const g=this.value.rawValue,[S,V,W,Z]=g.getComponents("hsv");this.value.setRawValue(new hn([S,V,W,Z+c],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(i){Gn(o1(!0),Ae(i))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const F1=w("coltxt");function F5(f){const i=f.createElement("select"),c=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return i.appendChild(c.reduce((g,S)=>{const V=f.createElement("option");return V.textContent=S.text,V.value=S.value,g.appendChild(V),g},f.createDocumentFragment())),i}class O5{constructor(i,c){this.element=i.createElement("div"),this.element.classList.add(F1()),c.viewProps.bindClassModifiers(this.element);const g=i.createElement("div");g.classList.add(F1("m")),this.modeElem_=F5(i),this.modeElem_.classList.add(F1("ms")),g.appendChild(this.modeSelectElement),c.viewProps.bindDisabled(this.modeElem_);const S=i.createElement("div");S.classList.add(F1("mm")),S.appendChild(Cn(i,"dropdown")),g.appendChild(S),this.element.appendChild(g);const V=i.createElement("div");V.classList.add(F1("w")),this.element.appendChild(V),this.textsElem_=V,this.textViews_=c.textViews,this.applyTextViews_(),P(c.colorMode,W=>{this.modeElem_.value=W})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(i){this.textViews_=i,this.applyTextViews_()}applyTextViews_(){C1(this.textsElem_);const i=this.element.ownerDocument;this.textViews_.forEach(c=>{const g=i.createElement("div");g.classList.add(F1("c")),g.appendChild(c.element),this.textsElem_.appendChild(g)})}}function D5(f){return On(f==="float"?2:0)}function L5(f,i,c){const g=b2(f,i)[c];return new B1({min:0,max:g})}function $r(f,i,c){return new _t(f,{arrayPosition:c===0?"fst":c===3-1?"lst":"mid",baseStep:o1(!1),parser:i.parser,props:T.fromObject({draggingScale:i.colorType==="float"?.01:1,formatter:D5(i.colorType)}),value:L(0,{constraint:L5(i.colorMode,i.colorType,c)}),viewProps:i.viewProps})}class z5{constructor(i,c){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=c.colorType,this.parser_=c.parser,this.value=c.value,this.viewProps=c.viewProps,this.colorMode=L(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(i),this.view=new O5(i,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(i){const c={colorMode:this.colorMode.rawValue,colorType:this.colorType_,parser:this.parser_,viewProps:this.viewProps},g=[$r(i,c,0),$r(i,c,1),$r(i,c,2)];return g.forEach((S,V)=>{gt({primary:this.value,secondary:S.value,forward:W=>W.rawValue.getComponents(this.colorMode.rawValue,this.colorType_)[V],backward:(W,Z)=>{const sn=this.colorMode.rawValue,ln=W.rawValue.getComponents(sn,this.colorType_);return ln[V]=Z.rawValue,new hn(po(a1(ln),ln[3]),sn,this.colorType_)}})}),g}onModeSelectChange_(i){const c=i.currentTarget;this.colorMode.rawValue=c.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const Wr=w("hpl");class V5{constructor(i,c){this.onValueChange_=this.onValueChange_.bind(this),this.value=c.value,this.value.emitter.on("change",this.onValueChange_),this.element=i.createElement("div"),this.element.classList.add(Wr()),c.viewProps.bindClassModifiers(this.element),c.viewProps.bindTabIndex(this.element);const g=i.createElement("div");g.classList.add(Wr("c")),this.element.appendChild(g);const S=i.createElement("div");S.classList.add(Wr("m")),this.element.appendChild(S),this.markerElem_=S,this.update_()}update_(){const i=this.value.rawValue,[c]=i.getComponents("hsv");this.markerElem_.style.backgroundColor=To(new hn([c,100,100],"hsv"));const g=An(c,0,360,0,100);this.markerElem_.style.left=`${g}%`}onValueChange_(){this.update_()}}class U5{constructor(i,c){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=c.value,this.viewProps=c.viewProps,this.view=new V5(i,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new r1(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(i,c){if(!i.point)return;const g=An(Bn(i.point.x,0,i.bounds.width),0,i.bounds.width,0,360),S=this.value.rawValue,[,V,W,Z]=S.getComponents("hsv");this.value.setRawValue(new hn([g,V,W,Z],"hsv"),c)}onPointerDown_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerMove_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerUp_(i){this.handlePointerEvent_(i.data,{forceEmit:!0,last:!0})}onKeyDown_(i){const c=Gn(o1(!1),Ae(i));if(c===0)return;const g=this.value.rawValue,[S,V,W,Z]=g.getComponents("hsv");this.value.setRawValue(new hn([S+c,V,W,Z],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(i){Gn(o1(!1),Ae(i))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Yr=w("svp"),Do=64;class G5{constructor(i,c){this.onValueChange_=this.onValueChange_.bind(this),this.value=c.value,this.value.emitter.on("change",this.onValueChange_),this.element=i.createElement("div"),this.element.classList.add(Yr()),c.viewProps.bindClassModifiers(this.element),c.viewProps.bindTabIndex(this.element);const g=i.createElement("canvas");g.height=Do,g.width=Do,g.classList.add(Yr("c")),this.element.appendChild(g),this.canvasElement=g;const S=i.createElement("div");S.classList.add(Yr("m")),this.element.appendChild(S),this.markerElem_=S,this.update_()}update_(){const i=re(this.canvasElement);if(!i)return;const g=this.value.rawValue.getComponents("hsv"),S=this.canvasElement.width,V=this.canvasElement.height,W=i.getImageData(0,0,S,V),Z=W.data;for(let vn=0;vn<V;vn++)for(let mn=0;mn<S;mn++){const l1=An(mn,0,S,0,100),At=An(vn,0,V,100,0),Et=fo(g[0],l1,At),y2=(vn*S+mn)*4;Z[y2]=Et[0],Z[y2+1]=Et[1],Z[y2+2]=Et[2],Z[y2+3]=255}i.putImageData(W,0,0);const sn=An(g[1],0,100,0,100);this.markerElem_.style.left=`${sn}%`;const ln=An(g[2],0,100,100,0);this.markerElem_.style.top=`${ln}%`}onValueChange_(){this.update_()}}class H5{constructor(i,c){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=c.value,this.viewProps=c.viewProps,this.view=new G5(i,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new r1(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(i,c){if(!i.point)return;const g=An(i.point.x,0,i.bounds.width,0,100),S=An(i.point.y,0,i.bounds.height,100,0),[V,,,W]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new hn([V,g,S,W],"hsv"),c)}onPointerDown_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerMove_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerUp_(i){this.handlePointerEvent_(i.data,{forceEmit:!0,last:!0})}onKeyDown_(i){so(i.key)&&i.preventDefault();const[c,g,S,V]=this.value.rawValue.getComponents("hsv"),W=o1(!1),Z=Gn(W,Ae(i)),sn=Gn(W,bt(i));Z===0&&sn===0||this.value.setRawValue(new hn([c,g+Z,S+sn,V],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(i){const c=o1(!1),g=Gn(c,Ae(i)),S=Gn(c,bt(i));g===0&&S===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Q5{constructor(i,c){this.value=c.value,this.viewProps=c.viewProps,this.hPaletteC_=new U5(i,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new H5(i,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=c.supportsAlpha?{palette:new T5(i,{value:this.value,viewProps:this.viewProps}),text:new _t(i,{parser:xe,baseStep:.1,props:T.fromObject({draggingScale:.01,formatter:On(2)}),value:L(0,{constraint:new B1({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&gt({primary:this.value,secondary:this.alphaIcs_.text.value,forward:g=>g.rawValue.getComponents()[3],backward:(g,S)=>{const V=g.rawValue.getComponents();return V[3]=S.rawValue,new hn(V,g.rawValue.mode)}}),this.textC_=new z5(i,{colorType:c.colorType,parser:xe,value:this.value,viewProps:this.viewProps}),this.view=new g5(i,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:c.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view,viewProps:this.viewProps})}get textController(){return this.textC_}}const qr=w("colsw");class j5{constructor(i,c){this.onValueChange_=this.onValueChange_.bind(this),c.value.emitter.on("change",this.onValueChange_),this.value=c.value,this.element=i.createElement("div"),this.element.classList.add(qr()),c.viewProps.bindClassModifiers(this.element);const g=i.createElement("div");g.classList.add(qr("sw")),this.element.appendChild(g),this.swatchElem_=g;const S=i.createElement("button");S.classList.add(qr("b")),c.viewProps.bindDisabled(S),this.element.appendChild(S),this.buttonElement=S,this.update_()}update_(){const i=this.value.rawValue;this.swatchElem_.style.backgroundColor=Qr(i)}onValueChange_(){this.update_()}}class $5{constructor(i,c){this.value=c.value,this.viewProps=c.viewProps,this.view=new j5(i,{value:this.value,viewProps:this.viewProps})}}class Xr{constructor(i,c){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=c.value,this.viewProps=c.viewProps,this.foldable_=e1.create(c.expanded),this.swatchC_=new $5(i,{value:this.value,viewProps:this.viewProps});const g=this.swatchC_.view.buttonElement;g.addEventListener("blur",this.onButtonBlur_),g.addEventListener("click",this.onButtonClick_),this.textC_=new d2(i,{parser:c.parser,props:T.fromObject({formatter:c.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new s5(i,{foldable:this.foldable_,pickerLayout:c.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=c.pickerLayout==="popup"?new Za(i,{viewProps:this.viewProps}):null;const S=new Q5(i,{colorType:c.colorType,supportsAlpha:c.supportsAlpha,value:this.value,viewProps:this.viewProps});S.view.allFocusableElements.forEach(V=>{V.addEventListener("blur",this.onPopupChildBlur_),V.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=S,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(S.view.element),gt({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:V=>V.rawValue,backward:(V,W)=>W.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),P1(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(i){if(!this.popC_)return;const c=this.view.element,g=i.relatedTarget;(!g||!c.contains(g))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(i){if(!this.popC_)return;const c=this.popC_.view.element,g=rt(i);g&&c.contains(g)||g&&g===this.swatchC_.view.buttonElement&&!Rn(c.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(i){this.popC_?i.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&i.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function W5(f,i){return hn.isColorObject(f)?hn.fromObject(f,i):hn.black(i)}function Y5(f){return a1(f.getComponents("rgb")).reduce((i,c)=>i<<8|Math.floor(c)&255,0)}function q5(f){return f.getComponents("rgb").reduce((i,c,g)=>{const S=Math.floor(g===3?c*255:c)&255;return i<<8|S},0)>>>0}function X5(f){return new hn([f>>16&255,f>>8&255,f&255],"rgb")}function K5(f){return new hn([f>>24&255,f>>16&255,f>>8&255,An(f&255,0,255,0,1)],"rgb")}function Z5(f){return typeof f!="number"?hn.black():X5(f)}function J5(f){return typeof f!="number"?hn.black():K5(f)}function nc(f){const i=jr(f);return i?(c,g)=>{wt(c,i(g))}:null}function ec(f){const i=f?q5:Y5;return(c,g)=>{wt(c,i(g))}}function tc(f,i,c){const g=i.toRgbaObject(c);f.writeProperty("r",g.r),f.writeProperty("g",g.g),f.writeProperty("b",g.b),f.writeProperty("a",g.a)}function rc(f,i,c){const g=i.toRgbaObject(c);f.writeProperty("r",g.r),f.writeProperty("g",g.g),f.writeProperty("b",g.b)}function ic(f,i){return(c,g)=>{f?tc(c,g,i):rc(c,g,i)}}function Kr(f){var i;return!!(f?.alpha||!((i=f?.color)===null||i===void 0)&&i.alpha)}function ac(f){return f?i=>Qr(i,"0x"):i=>No(i,"0x")}function oc(f){return"color"in f||"view"in f&&f.view==="color"}const sc={id:"input-color-number",type:"input",accept:(f,i)=>{if(typeof f!="number"||!oc(i))return null;const c=Ur(i);return c?{initialValue:f,params:c}:null},binding:{reader:f=>Kr(f.params)?J5:Z5,equals:hn.equals,writer:f=>ec(Kr(f.params))},controller:f=>{const i=Kr(f.params),c="expanded"in f.params?f.params.expanded:void 0,g="picker"in f.params?f.params.picker:void 0;return new Xr(f.document,{colorType:"int",expanded:c??!1,formatter:ac(i),parser:Hr("int"),pickerLayout:g??"popup",supportsAlpha:i,value:f.value,viewProps:f.viewProps})}};function lc(f){return hn.isRgbaColorObject(f)}function cc(f){return i=>W5(i,f)}function uc(f,i){return c=>f?Oo(c,i):Fo(c,i)}const hc={id:"input-color-object",type:"input",accept:(f,i)=>{if(!hn.isColorObject(f))return null;const c=Ur(i);return c?{initialValue:f,params:c}:null},binding:{reader:f=>cc(s1(f.params)),equals:hn.equals,writer:f=>ic(lc(f.initialValue),s1(f.params))},controller:f=>{var i;const c=hn.isRgbaColorObject(f.initialValue),g="expanded"in f.params?f.params.expanded:void 0,S="picker"in f.params?f.params.picker:void 0,V=(i=s1(f.params))!==null&&i!==void 0?i:"int";return new Xr(f.document,{colorType:V,expanded:g??!1,formatter:uc(c,V),parser:Hr(V),pickerLayout:S??"popup",supportsAlpha:c,value:f.value,viewProps:f.viewProps})}},fc={id:"input-color-string",type:"input",accept:(f,i)=>{if(typeof f!="string"||"view"in i&&i.view==="text")return null;const c=Gr(f,s1(i));if(!c||!jr(c))return null;const S=Ur(i);return S?{initialValue:f,params:S}:null},binding:{reader:f=>{var i;return C5((i=s1(f.params))!==null&&i!==void 0?i:"int")},equals:hn.equals,writer:f=>{const i=Gr(f.initialValue,s1(f.params));if(!i)throw b.shouldNeverHappen();const c=nc(i);if(!c)throw b.notBindable();return c}},controller:f=>{const i=Gr(f.initialValue,s1(f.params));if(!i)throw b.shouldNeverHappen();const c=jr(i);if(!c)throw b.shouldNeverHappen();const g="expanded"in f.params?f.params.expanded:void 0,S="picker"in f.params?f.params.picker:void 0;return new Xr(f.document,{colorType:i.type,expanded:g??!1,formatter:c,parser:Hr(i.type),pickerLayout:S??"popup",supportsAlpha:i.alpha,value:f.value,viewProps:f.viewProps})}};class Ve{constructor(i){this.components=i.components,this.asm_=i.assembly}constrain(i){const c=this.asm_.toComponents(i).map((g,S)=>{var V,W;return(W=(V=this.components[S])===null||V===void 0?void 0:V.constrain(g))!==null&&W!==void 0?W:g});return this.asm_.fromComponents(c)}}const Lo=w("pndtxt");class dc{constructor(i,c){this.textViews=c.textViews,this.element=i.createElement("div"),this.element.classList.add(Lo()),this.textViews.forEach(g=>{const S=i.createElement("div");S.classList.add(Lo("a")),S.appendChild(g.element),this.element.appendChild(S)})}}function pc(f,i,c){return new _t(f,{arrayPosition:c===0?"fst":c===i.axes.length-1?"lst":"mid",baseStep:i.axes[c].baseStep,parser:i.parser,props:i.axes[c].textProps,value:L(0,{constraint:i.axes[c].constraint}),viewProps:i.viewProps})}class Zr{constructor(i,c){this.value=c.value,this.viewProps=c.viewProps,this.acs_=c.axes.map((g,S)=>pc(i,c,S)),this.acs_.forEach((g,S)=>{gt({primary:this.value,secondary:g.value,forward:V=>c.assembly.toComponents(V.rawValue)[S],backward:(V,W)=>{const Z=c.assembly.toComponents(V.rawValue);return Z[S]=W.rawValue,c.assembly.fromComponents(Z)}})}),this.view=new dc(i,{textViews:this.acs_.map(g=>g.view)})}}function zo(f,i){return"step"in f&&!p(f.step)?new f2(f.step,i):null}function Vo(f){return!p(f.max)&&!p(f.min)?new B1({max:f.max,min:f.min}):!p(f.max)||!p(f.min)?new Xa({max:f.max,min:f.min}):null}function vc(f){const i=ye(f,B1);if(i)return[i.values.get("min"),i.values.get("max")];const c=ye(f,Xa);return c?[c.minValue,c.maxValue]:[void 0,void 0]}function mc(f,i){const c=[],g=zo(f,i);g&&c.push(g);const S=Vo(f);S&&c.push(S);const V=Vr(f.options);return V&&c.push(V),new ft(c)}const gc={id:"input-number",type:"input",accept:(f,i)=>{if(typeof f!="number")return null;const c=q,g=D(i,{format:c.optional.function,max:c.optional.number,min:c.optional.number,options:c.optional.custom(v2),step:c.optional.number});return g?{initialValue:f,params:g}:null},binding:{reader:f=>ao,constraint:f=>mc(f.params,f.initialValue),writer:f=>wt},controller:f=>{var i;const c=f.value,g=f.constraint,S=g&&ye(g,dt);if(S)return new pt(f.document,{props:new T({options:S.values.value("options")}),value:c,viewProps:f.viewProps});const V=(i="format"in f.params?f.params.format:void 0)!==null&&i!==void 0?i:On(m2(g,c.rawValue)),W=g&&ye(g,B1);return W?new zr(f.document,{baseStep:N1(g),parser:xe,sliderProps:new T({maxValue:W.values.value("max"),minValue:W.values.value("min")}),textProps:T.fromObject({draggingScale:T1(g,c.rawValue),formatter:V}),value:c,viewProps:f.viewProps}):new _t(f.document,{baseStep:N1(g),parser:xe,props:T.fromObject({draggingScale:T1(g,c.rawValue),formatter:V}),value:c,viewProps:f.viewProps})}};class Ue{constructor(i=0,c=0){this.x=i,this.y=c}getComponents(){return[this.x,this.y]}static isObject(i){if(p(i))return!1;const c=i.x,g=i.y;return!(typeof c!="number"||typeof g!="number")}static equals(i,c){return i.x===c.x&&i.y===c.y}toObject(){return{x:this.x,y:this.y}}}const Uo={toComponents:f=>f.getComponents(),fromComponents:f=>new Ue(...f)},O1=w("p2d");class bc{constructor(i,c){this.element=i.createElement("div"),this.element.classList.add(O1()),c.viewProps.bindClassModifiers(this.element),P(c.expanded,F(this.element,O1(void 0,"expanded")));const g=i.createElement("div");g.classList.add(O1("h")),this.element.appendChild(g);const S=i.createElement("button");S.classList.add(O1("b")),S.appendChild(Cn(i,"p2dpad")),c.viewProps.bindDisabled(S),g.appendChild(S),this.buttonElement=S;const V=i.createElement("div");if(V.classList.add(O1("t")),g.appendChild(V),this.textElement=V,c.pickerLayout==="inline"){const W=i.createElement("div");W.classList.add(O1("p")),this.element.appendChild(W),this.pickerElement=W}else this.pickerElement=null}}const Ge=w("p2dp");class _c{constructor(i,c){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=c.invertsY,this.maxValue_=c.maxValue,this.element=i.createElement("div"),this.element.classList.add(Ge()),c.layout==="popup"&&this.element.classList.add(Ge(void 0,"p")),c.viewProps.bindClassModifiers(this.element);const g=i.createElement("div");g.classList.add(Ge("p")),c.viewProps.bindTabIndex(g),this.element.appendChild(g),this.padElement=g;const S=i.createElementNS(Fn,"svg");S.classList.add(Ge("g")),this.padElement.appendChild(S),this.svgElem_=S;const V=i.createElementNS(Fn,"line");V.classList.add(Ge("ax")),V.setAttributeNS(null,"x1","0"),V.setAttributeNS(null,"y1","50%"),V.setAttributeNS(null,"x2","100%"),V.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(V);const W=i.createElementNS(Fn,"line");W.classList.add(Ge("ax")),W.setAttributeNS(null,"x1","50%"),W.setAttributeNS(null,"y1","0"),W.setAttributeNS(null,"x2","50%"),W.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(W);const Z=i.createElementNS(Fn,"line");Z.classList.add(Ge("l")),Z.setAttributeNS(null,"x1","50%"),Z.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(Z),this.lineElem_=Z;const sn=i.createElement("div");sn.classList.add(Ge("m")),this.padElement.appendChild(sn),this.markerElem_=sn,c.value.emitter.on("change",this.onValueChange_),this.value=c.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[i,c]=this.value.rawValue.getComponents(),g=this.maxValue_,S=An(i,-g,+g,0,100),V=An(c,-g,+g,0,100),W=this.invertsY_?100-V:V;this.lineElem_.setAttributeNS(null,"x2",`${S}%`),this.lineElem_.setAttributeNS(null,"y2",`${W}%`),this.markerElem_.style.left=`${S}%`,this.markerElem_.style.top=`${W}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Go(f,i,c){return[Gn(i[0],Ae(f)),Gn(i[1],bt(f))*(c?1:-1)]}class wc{constructor(i,c){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=c.value,this.viewProps=c.viewProps,this.baseSteps_=c.baseSteps,this.maxValue_=c.maxValue,this.invertsY_=c.invertsY,this.view=new _c(i,{invertsY:this.invertsY_,layout:c.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new r1(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(i,c){if(!i.point)return;const g=this.maxValue_,S=An(i.point.x,0,i.bounds.width,-g,+g),V=An(this.invertsY_?i.bounds.height-i.point.y:i.point.y,0,i.bounds.height,-g,+g);this.value.setRawValue(new Ue(S,V),c)}onPointerDown_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerMove_(i){this.handlePointerEvent_(i.data,{forceEmit:!1,last:!1})}onPointerUp_(i){this.handlePointerEvent_(i.data,{forceEmit:!0,last:!0})}onPadKeyDown_(i){so(i.key)&&i.preventDefault();const[c,g]=Go(i,this.baseSteps_,this.invertsY_);c===0&&g===0||this.value.setRawValue(new Ue(this.value.rawValue.x+c,this.value.rawValue.y+g),{forceEmit:!1,last:!1})}onPadKeyUp_(i){const[c,g]=Go(i,this.baseSteps_,this.invertsY_);c===0&&g===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class yc{constructor(i,c){var g,S;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=c.value,this.viewProps=c.viewProps,this.foldable_=e1.create(c.expanded),this.popC_=c.pickerLayout==="popup"?new Za(i,{viewProps:this.viewProps}):null;const V=new wc(i,{baseSteps:[c.axes[0].baseStep,c.axes[1].baseStep],invertsY:c.invertsY,layout:c.pickerLayout,maxValue:c.maxValue,value:this.value,viewProps:this.viewProps});V.view.allFocusableElements.forEach(W=>{W.addEventListener("blur",this.onPopupChildBlur_),W.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=V,this.textC_=new Zr(i,{assembly:Uo,axes:c.axes,parser:c.parser,value:this.value,viewProps:this.viewProps}),this.view=new bc(i,{expanded:this.foldable_.value("expanded"),pickerLayout:c.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(g=this.view.buttonElement)===null||g===void 0||g.addEventListener("blur",this.onPadButtonBlur_),(S=this.view.buttonElement)===null||S===void 0||S.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),gt({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:W=>W.rawValue,backward:(W,Z)=>Z.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),P1(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(i){if(!this.popC_)return;const c=this.view.element,g=i.relatedTarget;(!g||!c.contains(g))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(i){if(!this.popC_)return;const c=this.popC_.view.element,g=rt(i);g&&c.contains(g)||g&&g===this.view.buttonElement&&!Rn(c.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(i){this.popC_?i.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&i.key==="Escape"&&this.view.buttonElement.focus()}}class D1{constructor(i=0,c=0,g=0){this.x=i,this.y=c,this.z=g}getComponents(){return[this.x,this.y,this.z]}static isObject(i){if(p(i))return!1;const c=i.x,g=i.y,S=i.z;return!(typeof c!="number"||typeof g!="number"||typeof S!="number")}static equals(i,c){return i.x===c.x&&i.y===c.y&&i.z===c.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const Ho={toComponents:f=>f.getComponents(),fromComponents:f=>new D1(...f)};function xc(f){return D1.isObject(f)?new D1(f.x,f.y,f.z):new D1}function Ac(f,i){f.writeProperty("x",i.x),f.writeProperty("y",i.y),f.writeProperty("z",i.z)}function Ec(f,i){return new Ve({assembly:Ho,components:[Ee("x"in f?f.x:void 0,i.x),Ee("y"in f?f.y:void 0,i.y),Ee("z"in f?f.z:void 0,i.z)]})}function Jr(f,i){return{baseStep:N1(i),constraint:i,textProps:T.fromObject({draggingScale:T1(i,f),formatter:On(m2(i,f))})}}const Cc={id:"input-point3d",type:"input",accept:(f,i)=>{if(!D1.isObject(f))return null;const c=q,g=D(i,{x:c.optional.custom(Le),y:c.optional.custom(Le),z:c.optional.custom(Le)});return g?{initialValue:f,params:g}:null},binding:{reader:f=>xc,constraint:f=>Ec(f.params,f.initialValue),equals:D1.equals,writer:f=>Ac},controller:f=>{const i=f.value,c=f.constraint;if(!(c instanceof Ve))throw b.shouldNeverHappen();return new Zr(f.document,{assembly:Ho,axes:[Jr(i.rawValue.x,c.components[0]),Jr(i.rawValue.y,c.components[1]),Jr(i.rawValue.z,c.components[2])],parser:xe,value:i,viewProps:f.viewProps})}};class L1{constructor(i=0,c=0,g=0,S=0){this.x=i,this.y=c,this.z=g,this.w=S}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(i){if(p(i))return!1;const c=i.x,g=i.y,S=i.z,V=i.w;return!(typeof c!="number"||typeof g!="number"||typeof S!="number"||typeof V!="number")}static equals(i,c){return i.x===c.x&&i.y===c.y&&i.z===c.z&&i.w===c.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const Qo={toComponents:f=>f.getComponents(),fromComponents:f=>new L1(...f)};function kc(f){return L1.isObject(f)?new L1(f.x,f.y,f.z,f.w):new L1}function Sc(f,i){f.writeProperty("x",i.x),f.writeProperty("y",i.y),f.writeProperty("z",i.z),f.writeProperty("w",i.w)}function Pc(f,i){return new Ve({assembly:Qo,components:[Ee("x"in f?f.x:void 0,i.x),Ee("y"in f?f.y:void 0,i.y),Ee("z"in f?f.z:void 0,i.z),Ee("w"in f?f.w:void 0,i.w)]})}function Mc(f,i){return{baseStep:N1(i),constraint:i,textProps:T.fromObject({draggingScale:T1(i,f),formatter:On(m2(i,f))})}}const Ic={id:"input-point4d",type:"input",accept:(f,i)=>{if(!L1.isObject(f))return null;const c=q,g=D(i,{x:c.optional.custom(Le),y:c.optional.custom(Le),z:c.optional.custom(Le),w:c.optional.custom(Le)});return g?{initialValue:f,params:g}:null},binding:{reader:f=>kc,constraint:f=>Pc(f.params,f.initialValue),equals:L1.equals,writer:f=>Sc},controller:f=>{const i=f.value,c=f.constraint;if(!(c instanceof Ve))throw b.shouldNeverHappen();return new Zr(f.document,{assembly:Qo,axes:i.rawValue.getComponents().map((g,S)=>Mc(g,c.components[S])),parser:xe,value:i,viewProps:f.viewProps})}};function Rc(f){const i=[],c=Vr(f.options);return c&&i.push(c),new ft(i)}const Bc={id:"input-string",type:"input",accept:(f,i)=>{if(typeof f!="string")return null;const g=D(i,{options:q.optional.custom(v2)});return g?{initialValue:f,params:g}:null},binding:{reader:f=>oo,constraint:f=>Rc(f.params),writer:f=>wt},controller:f=>{const i=f.document,c=f.value,g=f.constraint,S=g&&ye(g,dt);return S?new pt(i,{props:new T({options:S.values.value("options")}),value:c,viewProps:f.viewProps}):new d2(i,{parser:V=>V,props:T.fromObject({formatter:Fr}),value:c,viewProps:f.viewProps})}},xt={monitor:{defaultInterval:200,defaultLineCount:3}},jo=w("mll");class Nc{constructor(i,c){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=c.formatter,this.element=i.createElement("div"),this.element.classList.add(jo()),c.viewProps.bindClassModifiers(this.element);const g=i.createElement("textarea");g.classList.add(jo("i")),g.style.height=`calc(var(--bld-us) * ${c.lineCount})`,g.readOnly=!0,c.viewProps.bindDisabled(g),this.element.appendChild(g),this.textareaElem_=g,c.value.emitter.on("change",this.onValueUpdate_),this.value=c.value,this.update_()}update_(){const i=this.textareaElem_,c=i.scrollTop===i.scrollHeight-i.clientHeight,g=[];this.value.rawValue.forEach(S=>{S!==void 0&&g.push(this.formatter_(S))}),i.textContent=g.join(`
`),c&&(i.scrollTop=i.scrollHeight)}onValueUpdate_(){this.update_()}}class ni{constructor(i,c){this.value=c.value,this.viewProps=c.viewProps,this.view=new Nc(i,{formatter:c.formatter,lineCount:c.lineCount,value:this.value,viewProps:this.viewProps})}}const $o=w("sgl");class Tc{constructor(i,c){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=c.formatter,this.element=i.createElement("div"),this.element.classList.add($o()),c.viewProps.bindClassModifiers(this.element);const g=i.createElement("input");g.classList.add($o("i")),g.readOnly=!0,g.type="text",c.viewProps.bindDisabled(g),this.element.appendChild(g),this.inputElement=g,c.value.emitter.on("change",this.onValueUpdate_),this.value=c.value,this.update_()}update_(){const i=this.value.rawValue,c=i[i.length-1];this.inputElement.value=c!==void 0?this.formatter_(c):""}onValueUpdate_(){this.update_()}}class ei{constructor(i,c){this.value=c.value,this.viewProps=c.viewProps,this.view=new Tc(i,{formatter:c.formatter,value:this.value,viewProps:this.viewProps})}}const Fc={id:"monitor-bool",type:"monitor",accept:(f,i)=>{if(typeof f!="boolean")return null;const g=D(i,{lineCount:q.optional.number});return g?{initialValue:f,params:g}:null},binding:{reader:f=>no},controller:f=>{var i;return f.value.rawValue.length===1?new ei(f.document,{formatter:eo,value:f.value,viewProps:f.viewProps}):new ni(f.document,{formatter:eo,lineCount:(i=f.params.lineCount)!==null&&i!==void 0?i:xt.monitor.defaultLineCount,value:f.value,viewProps:f.viewProps})}},He=w("grl");class Oc{constructor(i,c){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=i.createElement("div"),this.element.classList.add(He()),c.viewProps.bindClassModifiers(this.element),this.formatter_=c.formatter,this.props_=c.props,this.cursor_=c.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const g=i.createElementNS(Fn,"svg");g.classList.add(He("g")),g.style.height=`calc(var(--bld-us) * ${c.lineCount})`,this.element.appendChild(g),this.svgElem_=g;const S=i.createElementNS(Fn,"polyline");this.svgElem_.appendChild(S),this.lineElem_=S;const V=i.createElement("div");V.classList.add(He("t"),w("tt")()),this.element.appendChild(V),this.tooltipElem_=V,c.value.emitter.on("change",this.onValueUpdate_),this.value=c.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const i=this.svgElem_.getBoundingClientRect(),c=this.value.rawValue.length-1,g=this.props_.get("minValue"),S=this.props_.get("maxValue"),V=[];this.value.rawValue.forEach((vn,mn)=>{if(vn===void 0)return;const l1=An(mn,0,c,0,i.width),At=An(vn,g,S,i.height,0);V.push([l1,At].join(","))}),this.lineElem_.setAttributeNS(null,"points",V.join(" "));const W=this.tooltipElem_,Z=this.value.rawValue[this.cursor_.rawValue];if(Z===void 0){W.classList.remove(He("t","a"));return}const sn=An(this.cursor_.rawValue,0,c,0,i.width),ln=An(Z,g,S,i.height,0);W.style.left=`${sn}px`,W.style.top=`${ln}px`,W.textContent=`${this.formatter_(Z)}`,W.classList.contains(He("t","a"))||(W.classList.add(He("t","a"),He("t","in")),ue(W),W.classList.remove(He("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class Dc{constructor(i,c){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props_=c.props,this.value=c.value,this.viewProps=c.viewProps,this.cursor_=L(-1),this.view=new Oc(i,{cursor:this.cursor_,formatter:c.formatter,lineCount:c.lineCount,props:this.props_,value:this.value,viewProps:this.viewProps}),!Rn(i))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const g=new r1(this.view.element);g.emitter.on("down",this.onGraphPointerDown_),g.emitter.on("move",this.onGraphPointerMove_),g.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(i){const c=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(An(i.offsetX,0,c.width,0,this.value.rawValue.length))}onGraphPointerDown_(i){this.onGraphPointerMove_(i)}onGraphPointerMove_(i){if(!i.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(An(i.data.point.x,0,i.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function ti(f){return"format"in f&&!p(f.format)?f.format:On(2)}function Lc(f){var i;return f.value.rawValue.length===1?new ei(f.document,{formatter:ti(f.params),value:f.value,viewProps:f.viewProps}):new ni(f.document,{formatter:ti(f.params),lineCount:(i=f.params.lineCount)!==null&&i!==void 0?i:xt.monitor.defaultLineCount,value:f.value,viewProps:f.viewProps})}function zc(f){var i,c,g;return new Dc(f.document,{formatter:ti(f.params),lineCount:(i=f.params.lineCount)!==null&&i!==void 0?i:xt.monitor.defaultLineCount,props:T.fromObject({maxValue:(c="max"in f.params?f.params.max:null)!==null&&c!==void 0?c:100,minValue:(g="min"in f.params?f.params.min:null)!==null&&g!==void 0?g:0}),value:f.value,viewProps:f.viewProps})}function Wo(f){return"view"in f&&f.view==="graph"}const Vc={id:"monitor-number",type:"monitor",accept:(f,i)=>{if(typeof f!="number")return null;const c=q,g=D(i,{format:c.optional.function,lineCount:c.optional.number,max:c.optional.number,min:c.optional.number,view:c.optional.string});return g?{initialValue:f,params:g}:null},binding:{defaultBufferSize:f=>Wo(f)?64:1,reader:f=>ao},controller:f=>Wo(f.params)?zc(f):Lc(f)},Uc={id:"monitor-string",type:"monitor",accept:(f,i)=>{if(typeof f!="string")return null;const c=q,g=D(i,{lineCount:c.optional.number,multiline:c.optional.boolean});return g?{initialValue:f,params:g}:null},binding:{reader:f=>oo},controller:f=>{var i;const c=f.value;return c.rawValue.length>1||"multiline"in f.params&&f.params.multiline?new ni(f.document,{formatter:Fr,lineCount:(i=f.params.lineCount)!==null&&i!==void 0?i:xt.monitor.defaultLineCount,value:c,viewProps:f.viewProps}):new ei(f.document,{formatter:Fr,value:c,viewProps:f.viewProps})}};function Gc(f,i){var c;const g=f.accept(i.target.read(),i.params);if(p(g))return null;const S=q,V={target:i.target,initialValue:g.initialValue,params:g.params},W=f.binding.reader(V),Z=f.binding.constraint?f.binding.constraint(V):void 0,sn=L(W(g.initialValue),{constraint:Z,equals:f.binding.equals}),ln=new p3({reader:W,target:i.target,value:sn,writer:f.binding.writer(V)}),vn=S.optional.boolean(i.params.disabled).value,mn=S.optional.boolean(i.params.hidden).value,l1=f.controller({constraint:Z,document:i.document,initialValue:g.initialValue,params:g.params,value:ln.value,viewProps:yn.create({disabled:vn,hidden:mn})});return new qn(i.document,{binding:ln,blade:n1(),props:T.fromObject({label:"label"in i.params?(c=S.optional.string(i.params.label).value)!==null&&c!==void 0?c:null:i.target.key}),valueController:l1})}function Hc(f,i){return i===0?new h3:new f3(f,i??xt.monitor.defaultInterval)}function Qc(f,i){var c,g,S;const V=q,W=f.accept(i.target.read(),i.params);if(p(W))return null;const Z={target:i.target,initialValue:W.initialValue,params:W.params},sn=f.binding.reader(Z),ln=(g=(c=V.optional.number(i.params.bufferSize).value)!==null&&c!==void 0?c:f.binding.defaultBufferSize&&f.binding.defaultBufferSize(W.params))!==null&&g!==void 0?g:1,vn=V.optional.number(i.params.interval).value,mn=new b3({reader:sn,target:i.target,ticker:Hc(i.document,vn),value:v3(ln)}),l1=V.optional.boolean(i.params.disabled).value,At=V.optional.boolean(i.params.hidden).value,Et=f.controller({document:i.document,params:W.params,value:mn.value,viewProps:yn.create({disabled:l1,hidden:At})});return new he(i.document,{binding:mn,blade:n1(),props:T.fromObject({label:"label"in i.params?(S=V.optional.string(i.params.label).value)!==null&&S!==void 0?S:null:i.target.key}),valueController:Et})}class jc{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(i){i.type==="blade"?this.pluginsMap_.blades.unshift(i):i.type==="input"?this.pluginsMap_.inputs.unshift(i):i.type==="monitor"&&this.pluginsMap_.monitors.unshift(i)}createInput(i,c,g){const S=c.read();if(p(S))throw new b({context:{key:c.key},type:"nomatchingcontroller"});const V=this.pluginsMap_.inputs.reduce((W,Z)=>W??Gc(Z,{document:i,target:c,params:g}),null);if(V)return V;throw new b({context:{key:c.key},type:"nomatchingcontroller"})}createMonitor(i,c,g){const S=this.pluginsMap_.monitors.reduce((V,W)=>V??Qc(W,{document:i,params:g,target:c}),null);if(S)return S;throw new b({context:{key:c.key},type:"nomatchingcontroller"})}createBlade(i,c){const g=this.pluginsMap_.blades.reduce((S,V)=>S??u3(V,{document:i,params:c}),null);if(!g)throw new b({type:"nomatchingview",context:{params:c}});return g}createBladeApi(i){if(i instanceof qn)return new ot(i);if(i instanceof he)return new t1(i);if(i instanceof ct)return new K(i,this);const c=this.pluginsMap_.blades.reduce((g,S)=>g??S.api({controller:i,pool:this}),null);if(!c)throw b.shouldNeverHappen();return c}}function $c(){const f=new jc;return[Zc,Cc,Ic,Bc,gc,fc,hc,sc,o5,Fc,Uc,Vc,h2,r3,a3,Ya].forEach(i=>{f.register(i)}),f}function Wc(f){return Ue.isObject(f)?new Ue(f.x,f.y):new Ue}function Yc(f,i){f.writeProperty("x",i.x),f.writeProperty("y",i.y)}function Ee(f,i){if(!f)return;const c=[],g=zo(f,i);g&&c.push(g);const S=Vo(f);return S&&c.push(S),new ft(c)}function qc(f,i){return new Ve({assembly:Uo,components:[Ee("x"in f?f.x:void 0,i.x),Ee("y"in f?f.y:void 0,i.y)]})}function Yo(f,i){const[c,g]=f?vc(f):[];if(!p(c)||!p(g))return Math.max(Math.abs(c??0),Math.abs(g??0));const S=N1(f);return Math.max(Math.abs(S)*10,Math.abs(i)*10)}function Xc(f,i){const c=i instanceof Ve?i.components[0]:void 0,g=i instanceof Ve?i.components[1]:void 0,S=Yo(c,f.x),V=Yo(g,f.y);return Math.max(S,V)}function qo(f,i){return{baseStep:N1(i),constraint:i,textProps:T.fromObject({draggingScale:T1(i,f),formatter:On(m2(i,f))})}}function Kc(f){if(!("y"in f))return!1;const i=f.y;return i&&"inverted"in i?!!i.inverted:!1}const Zc={id:"input-point2d",type:"input",accept:(f,i)=>{if(!Ue.isObject(f))return null;const c=q,g=D(i,{expanded:c.optional.boolean,picker:c.optional.custom(uo),x:c.optional.custom(Le),y:c.optional.object({inverted:c.optional.boolean,max:c.optional.number,min:c.optional.number,step:c.optional.number})});return g?{initialValue:f,params:g}:null},binding:{reader:f=>Wc,constraint:f=>qc(f.params,f.initialValue),equals:Ue.equals,writer:f=>Yc},controller:f=>{const i=f.document,c=f.value,g=f.constraint;if(!(g instanceof Ve))throw b.shouldNeverHappen();const S="expanded"in f.params?f.params.expanded:void 0,V="picker"in f.params?f.params.picker:void 0;return new yc(i,{axes:[qo(c.rawValue.x,g.components[0]),qo(c.rawValue.y,g.components[1])],expanded:S??!1,invertsY:Kc(f.params),maxValue:Xc(c.rawValue,g),parser:xe,pickerLayout:V??"popup",value:c,viewProps:f.viewProps})}};class Xo extends a{constructor(i){super(i),this.emitter_=new C,this.controller_.valueController.value.emitter.on("change",c=>{this.emitter_.emit("change",{event:new l(this,c.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(i){this.controller_.props.set("label",i)}get options(){return this.controller_.valueController.props.get("options")}set options(i){this.controller_.valueController.props.set("options",i)}get value(){return this.controller_.valueController.value.rawValue}set value(i){this.controller_.valueController.value.rawValue=i}on(i,c){const g=c.bind(this);return this.emitter_.on(i,S=>{g(S.event)}),this}}class Ko extends a{constructor(i){super(i),this.emitter_=new C,this.controller_.valueController.value.emitter.on("change",c=>{this.emitter_.emit("change",{event:new l(this,c.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(i){this.controller_.props.set("label",i)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(i){this.controller_.valueController.sliderController.props.set("maxValue",i)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(i){this.controller_.valueController.sliderController.props.set("minValue",i)}get value(){return this.controller_.valueController.value.rawValue}set value(i){this.controller_.valueController.value.rawValue=i}on(i,c){const g=c.bind(this);return this.emitter_.on(i,S=>{g(S.event)}),this}}class Zo extends a{constructor(i){super(i),this.emitter_=new C,this.controller_.valueController.value.emitter.on("change",c=>{this.emitter_.emit("change",{event:new l(this,c.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(i){this.controller_.props.set("label",i)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(i){this.controller_.valueController.props.set("formatter",i)}get value(){return this.controller_.valueController.value.rawValue}set value(i){this.controller_.valueController.value.rawValue=i}on(i,c){const g=c.bind(this);return this.emitter_.on(i,S=>{g(S.event)}),this}}const Jc=function(){return{id:"list",type:"blade",accept(f){const i=q,c=D(f,{options:i.required.custom(v2),value:i.required.raw,view:i.required.constant("list"),label:i.optional.string});return c?{params:c}:null},controller(f){const i=new dt(ho(f.params.options)),c=L(f.params.value,{constraint:i}),g=new pt(f.document,{props:new T({options:i.values.value("options")}),value:c,viewProps:f.viewProps});return new R1(f.document,{blade:f.blade,props:T.fromObject({label:f.params.label}),valueController:g})},api(f){return!(f.controller instanceof R1)||!(f.controller.valueController instanceof pt)?null:new Xo(f.controller)}}}();function n6(f){return f.reduce((i,c)=>Object.assign(i,{[c.presetKey]:c.read()}),{})}function e6(f,i){f.forEach(c=>{const g=i[c.target.presetKey];g!==void 0&&c.writer(c.target,c.reader(g))})}class t6 extends J{constructor(i,c){super(i,c)}get element(){return this.controller_.view.element}importPreset(i){const c=this.controller_.rackController.rack.find(qn).map(g=>g.binding);e6(c,i),this.refresh()}exportPreset(){const i=this.controller_.rackController.rack.find(qn).map(c=>c.binding.target);return n6(i)}refresh(){this.controller_.rackController.rack.find(qn).forEach(i=>{i.binding.read()}),this.controller_.rackController.rack.find(he).forEach(i=>{i.binding.read()})}}class r6 extends Rr{constructor(i,c){super(i,{expanded:c.expanded,blade:c.blade,props:c.props,root:!0,viewProps:c.viewProps})}}const i6={id:"slider",type:"blade",accept(f){const i=q,c=D(f,{max:i.required.number,min:i.required.number,view:i.required.constant("slider"),format:i.optional.function,label:i.optional.string,value:i.optional.number});return c?{params:c}:null},controller(f){var i,c;const g=(i=f.params.value)!==null&&i!==void 0?i:0,S=new B1({max:f.params.max,min:f.params.min}),V=new zr(f.document,{baseStep:1,parser:xe,sliderProps:new T({maxValue:S.values.value("max"),minValue:S.values.value("min")}),textProps:T.fromObject({draggingScale:T1(void 0,g),formatter:(c=f.params.format)!==null&&c!==void 0?c:q3}),value:L(g,{constraint:S}),viewProps:f.viewProps});return new R1(f.document,{blade:f.blade,props:T.fromObject({label:f.params.label}),valueController:V})},api(f){return!(f.controller instanceof R1)||!(f.controller.valueController instanceof zr)?null:new Ko(f.controller)}},a6=function(){return{id:"text",type:"blade",accept(f){const i=q,c=D(f,{parse:i.required.function,value:i.required.raw,view:i.required.constant("text"),format:i.optional.function,label:i.optional.string});return c?{params:c}:null},controller(f){var i;const c=new d2(f.document,{parser:f.params.parse,props:T.fromObject({formatter:(i=f.params.format)!==null&&i!==void 0?i:g=>String(g)}),value:L(f.params.value),viewProps:f.viewProps});return new R1(f.document,{blade:f.blade,props:T.fromObject({label:f.params.label}),valueController:c})},api(f){return!(f.controller instanceof R1)||!(f.controller.valueController instanceof d2)?null:new Zo(f.controller)}}}();function o6(f){const i=f.createElement("div");return i.classList.add(w("dfw")()),f.body&&f.body.appendChild(i),i}function Jo(f,i,c){if(f.querySelector(`style[data-tp-style=${i}]`))return;const g=f.createElement("style");g.dataset.tpStyle=i,g.textContent=c,f.head.appendChild(g)}class s6 extends t6{constructor(i){var c,g;const S=i??{},V=(c=S.document)!==null&&c!==void 0?c:Mn(),W=$c(),Z=new r6(V,{expanded:S.expanded,blade:n1(),props:T.fromObject({title:S.title}),viewProps:yn.create()});super(Z,W),this.pool_=W,this.containerElem_=(g=S.container)!==null&&g!==void 0?g:o6(V),this.containerElem_.appendChild(this.element),this.doc_=V,this.usesDefaultWrapper_=!S.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw b.alreadyDisposed();return this.doc_}dispose(){const i=this.containerElem_;if(!i)throw b.alreadyDisposed();if(this.usesDefaultWrapper_){const c=i.parentElement;c&&c.removeChild(i)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(i){("plugin"in i?[i.plugin]:"plugins"in i?i.plugins:[]).forEach(g=>{this.pool_.register(g),this.embedPluginStyle_(g)})}embedPluginStyle_(i){i.css&&Jo(this.document,`plugin-${i.id}`,i.css)}setUpDefaultPlugins_(){Jo(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tabv_c .tp-brkv>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--bld-us) + 4px);width:var(--bs-br)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:"";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{padding-bottom:var(--cnt-v-p);padding-left:4px;padding-top:var(--cnt-v-p)}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--bld-us) + 4px);width:var(--bs-br)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);bottom:2px;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(i=>{this.embedPluginStyle_(i)}),this.registerPlugin({plugins:[i6,Jc,Ya,a6]})}}const l6=new r("3.1.10");t.BladeApi=a,t.ButtonApi=E,t.FolderApi=J,t.InputBindingApi=ot,t.ListApi=Xo,t.MonitorBindingApi=t1,t.Pane=s6,t.SeparatorApi=Va,t.SliderApi=Ko,t.TabApi=ja,t.TabPageApi=Qa,t.TextApi=Zo,t.TpChangeEvent=l,t.VERSION=l6,Object.defineProperty(t,"__esModule",{value:!0})})})(o0,o0.exports);document.documentElement.style.setProperty("--tp-base-border-radius","0px");/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Wp=4,s0=0,l0=1,Yp=2;function nt(n){let e=n.length;for(;--e>=0;)n[e]=0}const qp=0,_4=1,Xp=2,Kp=3,Zp=258,Ra=29,o2=256,qt=o2+1+Ra,j1=30,Ba=19,w4=2*qt+1,f1=15,xi=16,Jp=7,Na=256,y4=16,x4=17,A4=18,ra=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),$2=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),nv=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),E4=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ev=512,Me=new Array((qt+2)*2);nt(Me);const Gt=new Array(j1*2);nt(Gt);const Xt=new Array(ev);nt(Xt);const Kt=new Array(Zp-Kp+1);nt(Kt);const Ta=new Array(Ra);nt(Ta);const lr=new Array(j1);nt(lr);function Ai(n,e,t,r,a){this.static_tree=n,this.extra_bits=e,this.extra_base=t,this.elems=r,this.max_length=a,this.has_stree=n&&n.length}let C4,k4,S4;function Ei(n,e){this.dyn_tree=n,this.max_code=0,this.stat_desc=e}const P4=n=>n<256?Xt[n]:Xt[256+(n>>>7)],Zt=(n,e)=>{n.pending_buf[n.pending++]=e&255,n.pending_buf[n.pending++]=e>>>8&255},Qn=(n,e,t)=>{n.bi_valid>xi-t?(n.bi_buf|=e<<n.bi_valid&65535,Zt(n,n.bi_buf),n.bi_buf=e>>xi-n.bi_valid,n.bi_valid+=t-xi):(n.bi_buf|=e<<n.bi_valid&65535,n.bi_valid+=t)},de=(n,e,t)=>{Qn(n,t[e*2],t[e*2+1])},M4=(n,e)=>{let t=0;do t|=n&1,n>>>=1,t<<=1;while(--e>0);return t>>>1},tv=n=>{n.bi_valid===16?(Zt(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},rv=(n,e)=>{const t=e.dyn_tree,r=e.max_code,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,d=e.stat_desc.max_length;let u,h,p,v,m,_,b=0;for(v=0;v<=f1;v++)n.bl_count[v]=0;for(t[n.heap[n.heap_max]*2+1]=0,u=n.heap_max+1;u<w4;u++)h=n.heap[u],v=t[t[h*2+1]*2+1]+1,v>d&&(v=d,b++),t[h*2+1]=v,!(h>r)&&(n.bl_count[v]++,m=0,h>=s&&(m=l[h-s]),_=t[h*2],n.opt_len+=_*(v+m),o&&(n.static_len+=_*(a[h*2+1]+m)));if(b!==0){do{for(v=d-1;n.bl_count[v]===0;)v--;n.bl_count[v]--,n.bl_count[v+1]+=2,n.bl_count[d]--,b-=2}while(b>0);for(v=d;v!==0;v--)for(h=n.bl_count[v];h!==0;)p=n.heap[--u],!(p>r)&&(t[p*2+1]!==v&&(n.opt_len+=(v-t[p*2+1])*t[p*2],t[p*2+1]=v),h--)}},I4=(n,e,t)=>{const r=new Array(f1+1);let a=0,o,l;for(o=1;o<=f1;o++)a=a+t[o-1]<<1,r[o]=a;for(l=0;l<=e;l++){let s=n[l*2+1];s!==0&&(n[l*2]=M4(r[s]++,s))}},iv=()=>{let n,e,t,r,a;const o=new Array(f1+1);for(t=0,r=0;r<Ra-1;r++)for(Ta[r]=t,n=0;n<1<<ra[r];n++)Kt[t++]=r;for(Kt[t-1]=r,a=0,r=0;r<16;r++)for(lr[r]=a,n=0;n<1<<$2[r];n++)Xt[a++]=r;for(a>>=7;r<j1;r++)for(lr[r]=a<<7,n=0;n<1<<$2[r]-7;n++)Xt[256+a++]=r;for(e=0;e<=f1;e++)o[e]=0;for(n=0;n<=143;)Me[n*2+1]=8,n++,o[8]++;for(;n<=255;)Me[n*2+1]=9,n++,o[9]++;for(;n<=279;)Me[n*2+1]=7,n++,o[7]++;for(;n<=287;)Me[n*2+1]=8,n++,o[8]++;for(I4(Me,qt+1,o),n=0;n<j1;n++)Gt[n*2+1]=5,Gt[n*2]=M4(n,5);C4=new Ai(Me,ra,o2+1,qt,f1),k4=new Ai(Gt,$2,0,j1,f1),S4=new Ai(new Array(0),nv,0,Ba,Jp)},R4=n=>{let e;for(e=0;e<qt;e++)n.dyn_ltree[e*2]=0;for(e=0;e<j1;e++)n.dyn_dtree[e*2]=0;for(e=0;e<Ba;e++)n.bl_tree[e*2]=0;n.dyn_ltree[Na*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},B4=n=>{n.bi_valid>8?Zt(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},c0=(n,e,t,r)=>{const a=e*2,o=t*2;return n[a]<n[o]||n[a]===n[o]&&r[e]<=r[t]},Ci=(n,e,t)=>{const r=n.heap[t];let a=t<<1;for(;a<=n.heap_len&&(a<n.heap_len&&c0(e,n.heap[a+1],n.heap[a],n.depth)&&a++,!c0(e,r,n.heap[a],n.depth));)n.heap[t]=n.heap[a],t=a,a<<=1;n.heap[t]=r},u0=(n,e,t)=>{let r,a,o=0,l,s;if(n.sym_next!==0)do r=n.pending_buf[n.sym_buf+o++]&255,r+=(n.pending_buf[n.sym_buf+o++]&255)<<8,a=n.pending_buf[n.sym_buf+o++],r===0?de(n,a,e):(l=Kt[a],de(n,l+o2+1,e),s=ra[l],s!==0&&(a-=Ta[l],Qn(n,a,s)),r--,l=P4(r),de(n,l,t),s=$2[l],s!==0&&(r-=lr[l],Qn(n,r,s)));while(o<n.sym_next);de(n,Na,e)},ia=(n,e)=>{const t=e.dyn_tree,r=e.stat_desc.static_tree,a=e.stat_desc.has_stree,o=e.stat_desc.elems;let l,s,d=-1,u;for(n.heap_len=0,n.heap_max=w4,l=0;l<o;l++)t[l*2]!==0?(n.heap[++n.heap_len]=d=l,n.depth[l]=0):t[l*2+1]=0;for(;n.heap_len<2;)u=n.heap[++n.heap_len]=d<2?++d:0,t[u*2]=1,n.depth[u]=0,n.opt_len--,a&&(n.static_len-=r[u*2+1]);for(e.max_code=d,l=n.heap_len>>1;l>=1;l--)Ci(n,t,l);u=o;do l=n.heap[1],n.heap[1]=n.heap[n.heap_len--],Ci(n,t,1),s=n.heap[1],n.heap[--n.heap_max]=l,n.heap[--n.heap_max]=s,t[u*2]=t[l*2]+t[s*2],n.depth[u]=(n.depth[l]>=n.depth[s]?n.depth[l]:n.depth[s])+1,t[l*2+1]=t[s*2+1]=u,n.heap[1]=u++,Ci(n,t,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],rv(n,e),I4(t,d,n.bl_count)},h0=(n,e,t)=>{let r,a=-1,o,l=e[0*2+1],s=0,d=7,u=4;for(l===0&&(d=138,u=3),e[(t+1)*2+1]=65535,r=0;r<=t;r++)o=l,l=e[(r+1)*2+1],!(++s<d&&o===l)&&(s<u?n.bl_tree[o*2]+=s:o!==0?(o!==a&&n.bl_tree[o*2]++,n.bl_tree[y4*2]++):s<=10?n.bl_tree[x4*2]++:n.bl_tree[A4*2]++,s=0,a=o,l===0?(d=138,u=3):o===l?(d=6,u=3):(d=7,u=4))},f0=(n,e,t)=>{let r,a=-1,o,l=e[0*2+1],s=0,d=7,u=4;for(l===0&&(d=138,u=3),r=0;r<=t;r++)if(o=l,l=e[(r+1)*2+1],!(++s<d&&o===l)){if(s<u)do de(n,o,n.bl_tree);while(--s!==0);else o!==0?(o!==a&&(de(n,o,n.bl_tree),s--),de(n,y4,n.bl_tree),Qn(n,s-3,2)):s<=10?(de(n,x4,n.bl_tree),Qn(n,s-3,3)):(de(n,A4,n.bl_tree),Qn(n,s-11,7));s=0,a=o,l===0?(d=138,u=3):o===l?(d=6,u=3):(d=7,u=4)}},av=n=>{let e;for(h0(n,n.dyn_ltree,n.l_desc.max_code),h0(n,n.dyn_dtree,n.d_desc.max_code),ia(n,n.bl_desc),e=Ba-1;e>=3&&n.bl_tree[E4[e]*2+1]===0;e--);return n.opt_len+=3*(e+1)+5+5+4,e},ov=(n,e,t,r)=>{let a;for(Qn(n,e-257,5),Qn(n,t-1,5),Qn(n,r-4,4),a=0;a<r;a++)Qn(n,n.bl_tree[E4[a]*2+1],3);f0(n,n.dyn_ltree,e-1),f0(n,n.dyn_dtree,t-1)},sv=n=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&n.dyn_ltree[t*2]!==0)return s0;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return l0;for(t=32;t<o2;t++)if(n.dyn_ltree[t*2]!==0)return l0;return s0};let d0=!1;const lv=n=>{d0||(iv(),d0=!0),n.l_desc=new Ei(n.dyn_ltree,C4),n.d_desc=new Ei(n.dyn_dtree,k4),n.bl_desc=new Ei(n.bl_tree,S4),n.bi_buf=0,n.bi_valid=0,R4(n)},N4=(n,e,t,r)=>{Qn(n,(qp<<1)+(r?1:0),3),B4(n),Zt(n,t),Zt(n,~t),t&&n.pending_buf.set(n.window.subarray(e,e+t),n.pending),n.pending+=t},cv=n=>{Qn(n,_4<<1,3),de(n,Na,Me),tv(n)},uv=(n,e,t,r)=>{let a,o,l=0;n.level>0?(n.strm.data_type===Yp&&(n.strm.data_type=sv(n)),ia(n,n.l_desc),ia(n,n.d_desc),l=av(n),a=n.opt_len+3+7>>>3,o=n.static_len+3+7>>>3,o<=a&&(a=o)):a=o=t+5,t+4<=a&&e!==-1?N4(n,e,t,r):n.strategy===Wp||o===a?(Qn(n,(_4<<1)+(r?1:0),3),u0(n,Me,Gt)):(Qn(n,(Xp<<1)+(r?1:0),3),ov(n,n.l_desc.max_code+1,n.d_desc.max_code+1,l+1),u0(n,n.dyn_ltree,n.dyn_dtree)),R4(n),r&&B4(n)},hv=(n,e,t)=>(n.pending_buf[n.sym_buf+n.sym_next++]=e,n.pending_buf[n.sym_buf+n.sym_next++]=e>>8,n.pending_buf[n.sym_buf+n.sym_next++]=t,e===0?n.dyn_ltree[t*2]++:(n.matches++,e--,n.dyn_ltree[(Kt[t]+o2+1)*2]++,n.dyn_dtree[P4(e)*2]++),n.sym_next===n.sym_end);var fv=lv,dv=N4,pv=uv,vv=hv,mv=cv,gv={_tr_init:fv,_tr_stored_block:dv,_tr_flush_block:pv,_tr_tally:vv,_tr_align:mv};const bv=(n,e,t,r)=>{let a=n&65535|0,o=n>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do a=a+e[r++]|0,o=o+a|0;while(--l);a%=65521,o%=65521}return a|o<<16|0};var Jt=bv;const _v=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},wv=new Uint32Array(_v()),yv=(n,e,t,r)=>{const a=wv,o=r+t;n^=-1;for(let l=r;l<o;l++)n=n>>>8^a[(n^e[l])&255];return n^-1};var Tn=yv,n2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Er={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:xv,_tr_stored_block:aa,_tr_flush_block:Av,_tr_tally:We,_tr_align:Ev}=gv,{Z_NO_FLUSH:Ye,Z_PARTIAL_FLUSH:Cv,Z_FULL_FLUSH:kv,Z_FINISH:Jn,Z_BLOCK:p0,Z_OK:Dn,Z_STREAM_END:v0,Z_STREAM_ERROR:me,Z_DATA_ERROR:Sv,Z_BUF_ERROR:ki,Z_DEFAULT_COMPRESSION:Pv,Z_FILTERED:Mv,Z_HUFFMAN_ONLY:N2,Z_RLE:Iv,Z_FIXED:Rv,Z_DEFAULT_STRATEGY:Bv,Z_UNKNOWN:Nv,Z_DEFLATED:Cr}=Er,Tv=9,Fv=15,Ov=8,Dv=29,Lv=256,oa=Lv+1+Dv,zv=30,Vv=19,Uv=2*oa+1,Gv=15,fn=3,$e=258,ge=$e+fn+1,Hv=32,X1=42,Fa=57,sa=69,la=73,ca=91,ua=103,d1=113,zt=666,Un=1,et=2,w1=3,tt=4,Qv=3,p1=(n,e)=>(n.msg=n2[e],e),m0=n=>n*2-(n>4?9:0),je=n=>{let e=n.length;for(;--e>=0;)n[e]=0},jv=n=>{let e,t,r,a=n.w_size;e=n.hash_size,r=e;do t=n.head[--r],n.head[r]=t>=a?t-a:0;while(--e);e=a,r=e;do t=n.prev[--r],n.prev[r]=t>=a?t-a:0;while(--e)};let $v=(n,e,t)=>(e<<n.hash_shift^t)&n.hash_mask,qe=$v;const jn=n=>{const e=n.state;let t=e.pending;t>n.avail_out&&(t=n.avail_out),t!==0&&(n.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),n.next_out),n.next_out+=t,e.pending_out+=t,n.total_out+=t,n.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},Wn=(n,e)=>{Av(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,e),n.block_start=n.strstart,jn(n.strm)},gn=(n,e)=>{n.pending_buf[n.pending++]=e},Ot=(n,e)=>{n.pending_buf[n.pending++]=e>>>8&255,n.pending_buf[n.pending++]=e&255},ha=(n,e,t,r)=>{let a=n.avail_in;return a>r&&(a=r),a===0?0:(n.avail_in-=a,e.set(n.input.subarray(n.next_in,n.next_in+a),t),n.state.wrap===1?n.adler=Jt(n.adler,e,a,t):n.state.wrap===2&&(n.adler=Tn(n.adler,e,a,t)),n.next_in+=a,n.total_in+=a,a)},T4=(n,e)=>{let t=n.max_chain_length,r=n.strstart,a,o,l=n.prev_length,s=n.nice_match;const d=n.strstart>n.w_size-ge?n.strstart-(n.w_size-ge):0,u=n.window,h=n.w_mask,p=n.prev,v=n.strstart+$e;let m=u[r+l-1],_=u[r+l];n.prev_length>=n.good_match&&(t>>=2),s>n.lookahead&&(s=n.lookahead);do if(a=e,!(u[a+l]!==_||u[a+l-1]!==m||u[a]!==u[r]||u[++a]!==u[r+1])){r+=2,a++;do;while(u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&r<v);if(o=$e-(v-r),r=v-$e,o>l){if(n.match_start=e,l=o,o>=s)break;m=u[r+l-1],_=u[r+l]}}while((e=p[e&h])>d&&--t!==0);return l<=n.lookahead?l:n.lookahead},K1=n=>{const e=n.w_size;let t,r,a;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=e+(e-ge)&&(n.window.set(n.window.subarray(e,e+e-r),0),n.match_start-=e,n.strstart-=e,n.block_start-=e,n.insert>n.strstart&&(n.insert=n.strstart),jv(n),r+=e),n.strm.avail_in===0)break;if(t=ha(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=t,n.lookahead+n.insert>=fn)for(a=n.strstart-n.insert,n.ins_h=n.window[a],n.ins_h=qe(n,n.ins_h,n.window[a+1]);n.insert&&(n.ins_h=qe(n,n.ins_h,n.window[a+fn-1]),n.prev[a&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=a,a++,n.insert--,!(n.lookahead+n.insert<fn)););}while(n.lookahead<ge&&n.strm.avail_in!==0)},F4=(n,e)=>{let t=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,r,a,o,l=0,s=n.strm.avail_in;do{if(r=65535,o=n.bi_valid+42>>3,n.strm.avail_out<o||(o=n.strm.avail_out-o,a=n.strstart-n.block_start,r>a+n.strm.avail_in&&(r=a+n.strm.avail_in),r>o&&(r=o),r<t&&(r===0&&e!==Jn||e===Ye||r!==a+n.strm.avail_in)))break;l=e===Jn&&r===a+n.strm.avail_in?1:0,aa(n,0,0,l),n.pending_buf[n.pending-4]=r,n.pending_buf[n.pending-3]=r>>8,n.pending_buf[n.pending-2]=~r,n.pending_buf[n.pending-1]=~r>>8,jn(n.strm),a&&(a>r&&(a=r),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+a),n.strm.next_out),n.strm.next_out+=a,n.strm.avail_out-=a,n.strm.total_out+=a,n.block_start+=a,r-=a),r&&(ha(n.strm,n.strm.output,n.strm.next_out,r),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r)}while(l===0);return s-=n.strm.avail_in,s&&(s>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=s&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-s,n.strm.next_in),n.strstart),n.strstart+=s,n.insert+=s>n.w_size-n.insert?n.w_size-n.insert:s),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),l?tt:e!==Ye&&e!==Jn&&n.strm.avail_in===0&&n.strstart===n.block_start?et:(o=n.window_size-n.strstart,n.strm.avail_in>o&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,o+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),o>n.strm.avail_in&&(o=n.strm.avail_in),o&&(ha(n.strm,n.window,n.strstart,o),n.strstart+=o,n.insert+=o>n.w_size-n.insert?n.w_size-n.insert:o),n.high_water<n.strstart&&(n.high_water=n.strstart),o=n.bi_valid+42>>3,o=n.pending_buf_size-o>65535?65535:n.pending_buf_size-o,t=o>n.w_size?n.w_size:o,a=n.strstart-n.block_start,(a>=t||(a||e===Jn)&&e!==Ye&&n.strm.avail_in===0&&a<=o)&&(r=a>o?o:a,l=e===Jn&&n.strm.avail_in===0&&r===a?1:0,aa(n,n.block_start,r,l),n.block_start+=r,jn(n.strm)),l?w1:Un)},Si=(n,e)=>{let t,r;for(;;){if(n.lookahead<ge){if(K1(n),n.lookahead<ge&&e===Ye)return Un;if(n.lookahead===0)break}if(t=0,n.lookahead>=fn&&(n.ins_h=qe(n,n.ins_h,n.window[n.strstart+fn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),t!==0&&n.strstart-t<=n.w_size-ge&&(n.match_length=T4(n,t)),n.match_length>=fn)if(r=We(n,n.strstart-n.match_start,n.match_length-fn),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=fn){n.match_length--;do n.strstart++,n.ins_h=qe(n,n.ins_h,n.window[n.strstart+fn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=qe(n,n.ins_h,n.window[n.strstart+1]);else r=We(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(Wn(n,!1),n.strm.avail_out===0))return Un}return n.insert=n.strstart<fn-1?n.strstart:fn-1,e===Jn?(Wn(n,!0),n.strm.avail_out===0?w1:tt):n.sym_next&&(Wn(n,!1),n.strm.avail_out===0)?Un:et},V1=(n,e)=>{let t,r,a;for(;;){if(n.lookahead<ge){if(K1(n),n.lookahead<ge&&e===Ye)return Un;if(n.lookahead===0)break}if(t=0,n.lookahead>=fn&&(n.ins_h=qe(n,n.ins_h,n.window[n.strstart+fn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=fn-1,t!==0&&n.prev_length<n.max_lazy_match&&n.strstart-t<=n.w_size-ge&&(n.match_length=T4(n,t),n.match_length<=5&&(n.strategy===Mv||n.match_length===fn&&n.strstart-n.match_start>4096)&&(n.match_length=fn-1)),n.prev_length>=fn&&n.match_length<=n.prev_length){a=n.strstart+n.lookahead-fn,r=We(n,n.strstart-1-n.prev_match,n.prev_length-fn),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=a&&(n.ins_h=qe(n,n.ins_h,n.window[n.strstart+fn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=fn-1,n.strstart++,r&&(Wn(n,!1),n.strm.avail_out===0))return Un}else if(n.match_available){if(r=We(n,0,n.window[n.strstart-1]),r&&Wn(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return Un}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=We(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<fn-1?n.strstart:fn-1,e===Jn?(Wn(n,!0),n.strm.avail_out===0?w1:tt):n.sym_next&&(Wn(n,!1),n.strm.avail_out===0)?Un:et},Wv=(n,e)=>{let t,r,a,o;const l=n.window;for(;;){if(n.lookahead<=$e){if(K1(n),n.lookahead<=$e&&e===Ye)return Un;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=fn&&n.strstart>0&&(a=n.strstart-1,r=l[a],r===l[++a]&&r===l[++a]&&r===l[++a])){o=n.strstart+$e;do;while(r===l[++a]&&r===l[++a]&&r===l[++a]&&r===l[++a]&&r===l[++a]&&r===l[++a]&&r===l[++a]&&r===l[++a]&&a<o);n.match_length=$e-(o-a),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=fn?(t=We(n,1,n.match_length-fn),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(t=We(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),t&&(Wn(n,!1),n.strm.avail_out===0))return Un}return n.insert=0,e===Jn?(Wn(n,!0),n.strm.avail_out===0?w1:tt):n.sym_next&&(Wn(n,!1),n.strm.avail_out===0)?Un:et},Yv=(n,e)=>{let t;for(;;){if(n.lookahead===0&&(K1(n),n.lookahead===0)){if(e===Ye)return Un;break}if(n.match_length=0,t=We(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,t&&(Wn(n,!1),n.strm.avail_out===0))return Un}return n.insert=0,e===Jn?(Wn(n,!0),n.strm.avail_out===0?w1:tt):n.sym_next&&(Wn(n,!1),n.strm.avail_out===0)?Un:et};function fe(n,e,t,r,a){this.good_length=n,this.max_lazy=e,this.nice_length=t,this.max_chain=r,this.func=a}const Vt=[new fe(0,0,0,0,F4),new fe(4,4,8,4,Si),new fe(4,5,16,8,Si),new fe(4,6,32,32,Si),new fe(4,4,16,16,V1),new fe(8,16,32,32,V1),new fe(8,16,128,128,V1),new fe(8,32,128,256,V1),new fe(32,128,258,1024,V1),new fe(32,258,258,4096,V1)],qv=n=>{n.window_size=2*n.w_size,je(n.head),n.max_lazy_match=Vt[n.level].max_lazy,n.good_match=Vt[n.level].good_length,n.nice_match=Vt[n.level].nice_length,n.max_chain_length=Vt[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=fn-1,n.match_available=0,n.ins_h=0};function Xv(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Cr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Uv*2),this.dyn_dtree=new Uint16Array((2*zv+1)*2),this.bl_tree=new Uint16Array((2*Vv+1)*2),je(this.dyn_ltree),je(this.dyn_dtree),je(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Gv+1),this.heap=new Uint16Array(2*oa+1),je(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*oa+1),je(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const s2=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.status!==X1&&e.status!==Fa&&e.status!==sa&&e.status!==la&&e.status!==ca&&e.status!==ua&&e.status!==d1&&e.status!==zt?1:0},O4=n=>{if(s2(n))return p1(n,me);n.total_in=n.total_out=0,n.data_type=Nv;const e=n.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?Fa:e.wrap?X1:d1,n.adler=e.wrap===2?0:1,e.last_flush=-2,xv(e),Dn},D4=n=>{const e=O4(n);return e===Dn&&qv(n.state),e},Kv=(n,e)=>s2(n)||n.state.wrap!==2?me:(n.state.gzhead=e,Dn),L4=(n,e,t,r,a,o)=>{if(!n)return me;let l=1;if(e===Pv&&(e=6),r<0?(l=0,r=-r):r>15&&(l=2,r-=16),a<1||a>Tv||t!==Cr||r<8||r>15||e<0||e>9||o<0||o>Rv||r===8&&l!==1)return p1(n,me);r===8&&(r=9);const s=new Xv;return n.state=s,s.strm=n,s.status=X1,s.wrap=l,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+fn-1)/fn),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=e,s.strategy=o,s.method=t,D4(n)},Zv=(n,e)=>L4(n,e,Cr,Fv,Ov,Bv),Jv=(n,e)=>{if(s2(n)||e>p0||e<0)return n?p1(n,me):me;const t=n.state;if(!n.output||n.avail_in!==0&&!n.input||t.status===zt&&e!==Jn)return p1(n,n.avail_out===0?ki:me);const r=t.last_flush;if(t.last_flush=e,t.pending!==0){if(jn(n),n.avail_out===0)return t.last_flush=-1,Dn}else if(n.avail_in===0&&m0(e)<=m0(r)&&e!==Jn)return p1(n,ki);if(t.status===zt&&n.avail_in!==0)return p1(n,ki);if(t.status===X1&&t.wrap===0&&(t.status=d1),t.status===X1){let a=Cr+(t.w_bits-8<<4)<<8,o=-1;if(t.strategy>=N2||t.level<2?o=0:t.level<6?o=1:t.level===6?o=2:o=3,a|=o<<6,t.strstart!==0&&(a|=Hv),a+=31-a%31,Ot(t,a),t.strstart!==0&&(Ot(t,n.adler>>>16),Ot(t,n.adler&65535)),n.adler=1,t.status=d1,jn(n),t.pending!==0)return t.last_flush=-1,Dn}if(t.status===Fa){if(n.adler=0,gn(t,31),gn(t,139),gn(t,8),t.gzhead)gn(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),gn(t,t.gzhead.time&255),gn(t,t.gzhead.time>>8&255),gn(t,t.gzhead.time>>16&255),gn(t,t.gzhead.time>>24&255),gn(t,t.level===9?2:t.strategy>=N2||t.level<2?4:0),gn(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(gn(t,t.gzhead.extra.length&255),gn(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(n.adler=Tn(n.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=sa;else if(gn(t,0),gn(t,0),gn(t,0),gn(t,0),gn(t,0),gn(t,t.level===9?2:t.strategy>=N2||t.level<2?4:0),gn(t,Qv),t.status=d1,jn(n),t.pending!==0)return t.last_flush=-1,Dn}if(t.status===sa){if(t.gzhead.extra){let a=t.pending,o=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+o>t.pending_buf_size;){let s=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>a&&(n.adler=Tn(n.adler,t.pending_buf,t.pending-a,a)),t.gzindex+=s,jn(n),t.pending!==0)return t.last_flush=-1,Dn;a=0,o-=s}let l=new Uint8Array(t.gzhead.extra);t.pending_buf.set(l.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending+=o,t.gzhead.hcrc&&t.pending>a&&(n.adler=Tn(n.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=la}if(t.status===la){if(t.gzhead.name){let a=t.pending,o;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(n.adler=Tn(n.adler,t.pending_buf,t.pending-a,a)),jn(n),t.pending!==0)return t.last_flush=-1,Dn;a=0}t.gzindex<t.gzhead.name.length?o=t.gzhead.name.charCodeAt(t.gzindex++)&255:o=0,gn(t,o)}while(o!==0);t.gzhead.hcrc&&t.pending>a&&(n.adler=Tn(n.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=ca}if(t.status===ca){if(t.gzhead.comment){let a=t.pending,o;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(n.adler=Tn(n.adler,t.pending_buf,t.pending-a,a)),jn(n),t.pending!==0)return t.last_flush=-1,Dn;a=0}t.gzindex<t.gzhead.comment.length?o=t.gzhead.comment.charCodeAt(t.gzindex++)&255:o=0,gn(t,o)}while(o!==0);t.gzhead.hcrc&&t.pending>a&&(n.adler=Tn(n.adler,t.pending_buf,t.pending-a,a))}t.status=ua}if(t.status===ua){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(jn(n),t.pending!==0))return t.last_flush=-1,Dn;gn(t,n.adler&255),gn(t,n.adler>>8&255),n.adler=0}if(t.status=d1,jn(n),t.pending!==0)return t.last_flush=-1,Dn}if(n.avail_in!==0||t.lookahead!==0||e!==Ye&&t.status!==zt){let a=t.level===0?F4(t,e):t.strategy===N2?Yv(t,e):t.strategy===Iv?Wv(t,e):Vt[t.level].func(t,e);if((a===w1||a===tt)&&(t.status=zt),a===Un||a===w1)return n.avail_out===0&&(t.last_flush=-1),Dn;if(a===et&&(e===Cv?Ev(t):e!==p0&&(aa(t,0,0,!1),e===kv&&(je(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),jn(n),n.avail_out===0))return t.last_flush=-1,Dn}return e!==Jn?Dn:t.wrap<=0?v0:(t.wrap===2?(gn(t,n.adler&255),gn(t,n.adler>>8&255),gn(t,n.adler>>16&255),gn(t,n.adler>>24&255),gn(t,n.total_in&255),gn(t,n.total_in>>8&255),gn(t,n.total_in>>16&255),gn(t,n.total_in>>24&255)):(Ot(t,n.adler>>>16),Ot(t,n.adler&65535)),jn(n),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?Dn:v0)},nm=n=>{if(s2(n))return me;const e=n.state.status;return n.state=null,e===d1?p1(n,Sv):Dn},em=(n,e)=>{let t=e.length;if(s2(n))return me;const r=n.state,a=r.wrap;if(a===2||a===1&&r.status!==X1||r.lookahead)return me;if(a===1&&(n.adler=Jt(n.adler,e,t,0)),r.wrap=0,t>=r.w_size){a===0&&(je(r.head),r.strstart=0,r.block_start=0,r.insert=0);let d=new Uint8Array(r.w_size);d.set(e.subarray(t-r.w_size,t),0),e=d,t=r.w_size}const o=n.avail_in,l=n.next_in,s=n.input;for(n.avail_in=t,n.next_in=0,n.input=e,K1(r);r.lookahead>=fn;){let d=r.strstart,u=r.lookahead-(fn-1);do r.ins_h=qe(r,r.ins_h,r.window[d+fn-1]),r.prev[d&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=d,d++;while(--u);r.strstart=d,r.lookahead=fn-1,K1(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=fn-1,r.match_available=0,n.next_in=l,n.input=s,n.avail_in=o,r.wrap=a,Dn};var tm=Zv,rm=L4,im=D4,am=O4,om=Kv,sm=Jv,lm=nm,cm=em,um="pako deflate (from Nodeca project)",Ht={deflateInit:tm,deflateInit2:rm,deflateReset:im,deflateResetKeep:am,deflateSetHeader:om,deflate:sm,deflateEnd:lm,deflateSetDictionary:cm,deflateInfo:um};const hm=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var fm=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)hm(t,r)&&(n[r]=t[r])}}return n},dm=n=>{let e=0;for(let r=0,a=n.length;r<a;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,a=0,o=n.length;r<o;r++){let l=n[r];t.set(l,a),a+=l.length}return t},kr={assign:fm,flattenChunks:dm};let z4=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{z4=!1}const e2=new Uint8Array(256);for(let n=0;n<256;n++)e2[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;e2[254]=e2[254]=1;var pm=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,a,o,l=n.length,s=0;for(a=0;a<l;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<l&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),s+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(s),o=0,a=0;o<s;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<l&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const vm=(n,e)=>{if(e<65534&&n.subarray&&z4)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var mm=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,a;const o=new Array(t*2);for(a=0,r=0;r<t;){let l=n[r++];if(l<128){o[a++]=l;continue}let s=e2[l];if(s>4){o[a++]=65533,r+=s-1;continue}for(l&=s===2?31:s===3?15:7;s>1&&r<t;)l=l<<6|n[r++]&63,s--;if(s>1){o[a++]=65533;continue}l<65536?o[a++]=l:(l-=65536,o[a++]=55296|l>>10&1023,o[a++]=56320|l&1023)}return vm(o,a)},gm=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+e2[n[t]]>e?t:e},t2={string2buf:pm,buf2string:mm,utf8border:gm};function bm(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var V4=bm;const U4=Object.prototype.toString,{Z_NO_FLUSH:_m,Z_SYNC_FLUSH:wm,Z_FULL_FLUSH:ym,Z_FINISH:xm,Z_OK:cr,Z_STREAM_END:Am,Z_DEFAULT_COMPRESSION:Em,Z_DEFAULT_STRATEGY:Cm,Z_DEFLATED:km}=Er;function Oa(n){this.options=kr.assign({level:Em,method:km,chunkSize:16384,windowBits:15,memLevel:8,strategy:Cm},n||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new V4,this.strm.avail_out=0;let t=Ht.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==cr)throw new Error(n2[t]);if(e.header&&Ht.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=t2.string2buf(e.dictionary):U4.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,t=Ht.deflateSetDictionary(this.strm,r),t!==cr)throw new Error(n2[t]);this._dict_set=!0}}Oa.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize;let a,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?xm:_m,typeof n=="string"?t.input=t2.string2buf(n):U4.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(o===wm||o===ym)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(a=Ht.deflate(t,o),a===Am)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),a=Ht.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===cr;if(t.avail_out===0){this.onData(t.output);continue}if(o>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Oa.prototype.onData=function(n){this.chunks.push(n)};Oa.prototype.onEnd=function(n){n===cr&&(this.result=kr.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};const T2=16209,Sm=16191;var Pm=function(e,t){let r,a,o,l,s,d,u,h,p,v,m,_,b,y,E,C,k,w,x,A,P,M,N,F;const R=e.state;r=e.next_in,N=e.input,a=r+(e.avail_in-5),o=e.next_out,F=e.output,l=o-(t-e.avail_out),s=o+(e.avail_out-257),d=R.dmax,u=R.wsize,h=R.whave,p=R.wnext,v=R.window,m=R.hold,_=R.bits,b=R.lencode,y=R.distcode,E=(1<<R.lenbits)-1,C=(1<<R.distbits)-1;n:do{_<15&&(m+=N[r++]<<_,_+=8,m+=N[r++]<<_,_+=8),k=b[m&E];e:for(;;){if(w=k>>>24,m>>>=w,_-=w,w=k>>>16&255,w===0)F[o++]=k&65535;else if(w&16){x=k&65535,w&=15,w&&(_<w&&(m+=N[r++]<<_,_+=8),x+=m&(1<<w)-1,m>>>=w,_-=w),_<15&&(m+=N[r++]<<_,_+=8,m+=N[r++]<<_,_+=8),k=y[m&C];t:for(;;){if(w=k>>>24,m>>>=w,_-=w,w=k>>>16&255,w&16){if(A=k&65535,w&=15,_<w&&(m+=N[r++]<<_,_+=8,_<w&&(m+=N[r++]<<_,_+=8)),A+=m&(1<<w)-1,A>d){e.msg="invalid distance too far back",R.mode=T2;break n}if(m>>>=w,_-=w,w=o-l,A>w){if(w=A-w,w>h&&R.sane){e.msg="invalid distance too far back",R.mode=T2;break n}if(P=0,M=v,p===0){if(P+=u-w,w<x){x-=w;do F[o++]=v[P++];while(--w);P=o-A,M=F}}else if(p<w){if(P+=u+p-w,w-=p,w<x){x-=w;do F[o++]=v[P++];while(--w);if(P=0,p<x){w=p,x-=w;do F[o++]=v[P++];while(--w);P=o-A,M=F}}}else if(P+=p-w,w<x){x-=w;do F[o++]=v[P++];while(--w);P=o-A,M=F}for(;x>2;)F[o++]=M[P++],F[o++]=M[P++],F[o++]=M[P++],x-=3;x&&(F[o++]=M[P++],x>1&&(F[o++]=M[P++]))}else{P=o-A;do F[o++]=F[P++],F[o++]=F[P++],F[o++]=F[P++],x-=3;while(x>2);x&&(F[o++]=F[P++],x>1&&(F[o++]=F[P++]))}}else if(w&64){e.msg="invalid distance code",R.mode=T2;break n}else{k=y[(k&65535)+(m&(1<<w)-1)];continue t}break}}else if(w&64)if(w&32){R.mode=Sm;break n}else{e.msg="invalid literal/length code",R.mode=T2;break n}else{k=b[(k&65535)+(m&(1<<w)-1)];continue e}break}}while(r<a&&o<s);x=_>>3,r-=x,_-=x<<3,m&=(1<<_)-1,e.next_in=r,e.next_out=o,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=o<s?257+(s-o):257-(o-s),R.hold=m,R.bits=_};const U1=15,g0=852,b0=592,_0=0,Pi=1,w0=2,Mm=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Im=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Rm=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Bm=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Nm=(n,e,t,r,a,o,l,s)=>{const d=s.bits;let u=0,h=0,p=0,v=0,m=0,_=0,b=0,y=0,E=0,C=0,k,w,x,A,P,M=null,N;const F=new Uint16Array(U1+1),R=new Uint16Array(U1+1);let z=null,Q,I,O;for(u=0;u<=U1;u++)F[u]=0;for(h=0;h<r;h++)F[e[t+h]]++;for(m=d,v=U1;v>=1&&F[v]===0;v--);if(m>v&&(m=v),v===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,s.bits=1,0;for(p=1;p<v&&F[p]===0;p++);for(m<p&&(m=p),y=1,u=1;u<=U1;u++)if(y<<=1,y-=F[u],y<0)return-1;if(y>0&&(n===_0||v!==1))return-1;for(R[1]=0,u=1;u<U1;u++)R[u+1]=R[u]+F[u];for(h=0;h<r;h++)e[t+h]!==0&&(l[R[e[t+h]]++]=h);if(n===_0?(M=z=l,N=20):n===Pi?(M=Mm,z=Im,N=257):(M=Rm,z=Bm,N=0),C=0,h=0,u=p,P=o,_=m,b=0,x=-1,E=1<<m,A=E-1,n===Pi&&E>g0||n===w0&&E>b0)return 1;for(;;){Q=u-b,l[h]+1<N?(I=0,O=l[h]):l[h]>=N?(I=z[l[h]-N],O=M[l[h]-N]):(I=32+64,O=0),k=1<<u-b,w=1<<_,p=w;do w-=k,a[P+(C>>b)+w]=Q<<24|I<<16|O|0;while(w!==0);for(k=1<<u-1;C&k;)k>>=1;if(k!==0?(C&=k-1,C+=k):C=0,h++,--F[u]===0){if(u===v)break;u=e[t+l[h]]}if(u>m&&(C&A)!==x){for(b===0&&(b=m),P+=p,_=u-b,y=1<<_;_+b<v&&(y-=F[_+b],!(y<=0));)_++,y<<=1;if(E+=1<<_,n===Pi&&E>g0||n===w0&&E>b0)return 1;x=C&A,a[x]=m<<24|_<<16|P-o|0}}return C!==0&&(a[P+C]=u-b<<24|64<<16|0),s.bits=m,0};var Qt=Nm;const Tm=0,G4=1,H4=2,{Z_FINISH:y0,Z_BLOCK:Fm,Z_TREES:F2,Z_OK:y1,Z_STREAM_END:Om,Z_NEED_DICT:Dm,Z_STREAM_ERROR:ne,Z_DATA_ERROR:Q4,Z_MEM_ERROR:j4,Z_BUF_ERROR:Lm,Z_DEFLATED:x0}=Er,Sr=16180,A0=16181,E0=16182,C0=16183,k0=16184,S0=16185,P0=16186,M0=16187,I0=16188,R0=16189,ur=16190,Pe=16191,Mi=16192,B0=16193,Ii=16194,N0=16195,T0=16196,F0=16197,O0=16198,O2=16199,D2=16200,D0=16201,L0=16202,z0=16203,V0=16204,U0=16205,Ri=16206,G0=16207,H0=16208,En=16209,$4=16210,W4=16211,zm=852,Vm=592,Um=15,Gm=Um,Q0=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function Hm(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const A1=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Sr||e.mode>W4?1:0},Y4=n=>{if(A1(n))return ne;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Sr,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(zm),e.distcode=e.distdyn=new Int32Array(Vm),e.sane=1,e.back=-1,y1},q4=n=>{if(A1(n))return ne;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,Y4(n)},X4=(n,e)=>{let t;if(A1(n))return ne;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ne:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,q4(n))},K4=(n,e)=>{if(!n)return ne;const t=new Hm;n.state=t,t.strm=n,t.window=null,t.mode=Sr;const r=X4(n,e);return r!==y1&&(n.state=null),r},Qm=n=>K4(n,Gm);let j0=!0,Bi,Ni;const jm=n=>{if(j0){Bi=new Int32Array(512),Ni=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Qt(G4,n.lens,0,288,Bi,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Qt(H4,n.lens,0,32,Ni,0,n.work,{bits:5}),j0=!1}n.lencode=Bi,n.lenbits=9,n.distcode=Ni,n.distbits=5},Z4=(n,e,t,r)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(e.subarray(t-r,t-r+a),o.wnext),r-=a,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},$m=(n,e)=>{let t,r,a,o,l,s,d,u,h,p,v,m,_,b,y=0,E,C,k,w,x,A,P,M;const N=new Uint8Array(4);let F,R;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(A1(n)||!n.output||!n.input&&n.avail_in!==0)return ne;t=n.state,t.mode===Pe&&(t.mode=Mi),l=n.next_out,a=n.output,d=n.avail_out,o=n.next_in,r=n.input,s=n.avail_in,u=t.hold,h=t.bits,p=s,v=d,M=y1;n:for(;;)switch(t.mode){case Sr:if(t.wrap===0){t.mode=Mi;break}for(;h<16;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,N[0]=u&255,N[1]=u>>>8&255,t.check=Tn(t.check,N,2,0),u=0,h=0,t.mode=A0;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){n.msg="incorrect header check",t.mode=En;break}if((u&15)!==x0){n.msg="unknown compression method",t.mode=En;break}if(u>>>=4,h-=4,P=(u&15)+8,t.wbits===0&&(t.wbits=P),P>15||P>t.wbits){n.msg="invalid window size",t.mode=En;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=u&512?R0:Pe,u=0,h=0;break;case A0:for(;h<16;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}if(t.flags=u,(t.flags&255)!==x0){n.msg="unknown compression method",t.mode=En;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=En;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,t.check=Tn(t.check,N,2,0)),u=0,h=0,t.mode=E0;case E0:for(;h<32;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,N[2]=u>>>16&255,N[3]=u>>>24&255,t.check=Tn(t.check,N,4,0)),u=0,h=0,t.mode=C0;case C0:for(;h<16;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,t.check=Tn(t.check,N,2,0)),u=0,h=0,t.mode=k0;case k0:if(t.flags&1024){for(;h<16;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(N[0]=u&255,N[1]=u>>>8&255,t.check=Tn(t.check,N,2,0)),u=0,h=0}else t.head&&(t.head.extra=null);t.mode=S0;case S0:if(t.flags&1024&&(m=t.length,m>s&&(m=s),m&&(t.head&&(P=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+m),P)),t.flags&512&&t.wrap&4&&(t.check=Tn(t.check,r,m,o)),s-=m,o+=m,t.length-=m),t.length))break n;t.length=0,t.mode=P0;case P0:if(t.flags&2048){if(s===0)break n;m=0;do P=r[o+m++],t.head&&P&&t.length<65536&&(t.head.name+=String.fromCharCode(P));while(P&&m<s);if(t.flags&512&&t.wrap&4&&(t.check=Tn(t.check,r,m,o)),s-=m,o+=m,P)break n}else t.head&&(t.head.name=null);t.length=0,t.mode=M0;case M0:if(t.flags&4096){if(s===0)break n;m=0;do P=r[o+m++],t.head&&P&&t.length<65536&&(t.head.comment+=String.fromCharCode(P));while(P&&m<s);if(t.flags&512&&t.wrap&4&&(t.check=Tn(t.check,r,m,o)),s-=m,o+=m,P)break n}else t.head&&(t.head.comment=null);t.mode=I0;case I0:if(t.flags&512){for(;h<16;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}if(t.wrap&4&&u!==(t.check&65535)){n.msg="header crc mismatch",t.mode=En;break}u=0,h=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Pe;break;case R0:for(;h<32;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}n.adler=t.check=Q0(u),u=0,h=0,t.mode=ur;case ur:if(t.havedict===0)return n.next_out=l,n.avail_out=d,n.next_in=o,n.avail_in=s,t.hold=u,t.bits=h,Dm;n.adler=t.check=1,t.mode=Pe;case Pe:if(e===Fm||e===F2)break n;case Mi:if(t.last){u>>>=h&7,h-=h&7,t.mode=Ri;break}for(;h<3;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}switch(t.last=u&1,u>>>=1,h-=1,u&3){case 0:t.mode=B0;break;case 1:if(jm(t),t.mode=O2,e===F2){u>>>=2,h-=2;break n}break;case 2:t.mode=T0;break;case 3:n.msg="invalid block type",t.mode=En}u>>>=2,h-=2;break;case B0:for(u>>>=h&7,h-=h&7;h<32;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){n.msg="invalid stored block lengths",t.mode=En;break}if(t.length=u&65535,u=0,h=0,t.mode=Ii,e===F2)break n;case Ii:t.mode=N0;case N0:if(m=t.length,m){if(m>s&&(m=s),m>d&&(m=d),m===0)break n;a.set(r.subarray(o,o+m),l),s-=m,o+=m,d-=m,l+=m,t.length-=m;break}t.mode=Pe;break;case T0:for(;h<14;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}if(t.nlen=(u&31)+257,u>>>=5,h-=5,t.ndist=(u&31)+1,u>>>=5,h-=5,t.ncode=(u&15)+4,u>>>=4,h-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=En;break}t.have=0,t.mode=F0;case F0:for(;t.have<t.ncode;){for(;h<3;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}t.lens[z[t.have++]]=u&7,u>>>=3,h-=3}for(;t.have<19;)t.lens[z[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,F={bits:t.lenbits},M=Qt(Tm,t.lens,0,19,t.lencode,0,t.work,F),t.lenbits=F.bits,M){n.msg="invalid code lengths set",t.mode=En;break}t.have=0,t.mode=O0;case O0:for(;t.have<t.nlen+t.ndist;){for(;y=t.lencode[u&(1<<t.lenbits)-1],E=y>>>24,C=y>>>16&255,k=y&65535,!(E<=h);){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}if(k<16)u>>>=E,h-=E,t.lens[t.have++]=k;else{if(k===16){for(R=E+2;h<R;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}if(u>>>=E,h-=E,t.have===0){n.msg="invalid bit length repeat",t.mode=En;break}P=t.lens[t.have-1],m=3+(u&3),u>>>=2,h-=2}else if(k===17){for(R=E+3;h<R;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}u>>>=E,h-=E,P=0,m=3+(u&7),u>>>=3,h-=3}else{for(R=E+7;h<R;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}u>>>=E,h-=E,P=0,m=11+(u&127),u>>>=7,h-=7}if(t.have+m>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=En;break}for(;m--;)t.lens[t.have++]=P}}if(t.mode===En)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=En;break}if(t.lenbits=9,F={bits:t.lenbits},M=Qt(G4,t.lens,0,t.nlen,t.lencode,0,t.work,F),t.lenbits=F.bits,M){n.msg="invalid literal/lengths set",t.mode=En;break}if(t.distbits=6,t.distcode=t.distdyn,F={bits:t.distbits},M=Qt(H4,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,F),t.distbits=F.bits,M){n.msg="invalid distances set",t.mode=En;break}if(t.mode=O2,e===F2)break n;case O2:t.mode=D2;case D2:if(s>=6&&d>=258){n.next_out=l,n.avail_out=d,n.next_in=o,n.avail_in=s,t.hold=u,t.bits=h,Pm(n,v),l=n.next_out,a=n.output,d=n.avail_out,o=n.next_in,r=n.input,s=n.avail_in,u=t.hold,h=t.bits,t.mode===Pe&&(t.back=-1);break}for(t.back=0;y=t.lencode[u&(1<<t.lenbits)-1],E=y>>>24,C=y>>>16&255,k=y&65535,!(E<=h);){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}if(C&&!(C&240)){for(w=E,x=C,A=k;y=t.lencode[A+((u&(1<<w+x)-1)>>w)],E=y>>>24,C=y>>>16&255,k=y&65535,!(w+E<=h);){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}u>>>=w,h-=w,t.back+=w}if(u>>>=E,h-=E,t.back+=E,t.length=k,C===0){t.mode=U0;break}if(C&32){t.back=-1,t.mode=Pe;break}if(C&64){n.msg="invalid literal/length code",t.mode=En;break}t.extra=C&15,t.mode=D0;case D0:if(t.extra){for(R=t.extra;h<R;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,h-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=L0;case L0:for(;y=t.distcode[u&(1<<t.distbits)-1],E=y>>>24,C=y>>>16&255,k=y&65535,!(E<=h);){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}if(!(C&240)){for(w=E,x=C,A=k;y=t.distcode[A+((u&(1<<w+x)-1)>>w)],E=y>>>24,C=y>>>16&255,k=y&65535,!(w+E<=h);){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}u>>>=w,h-=w,t.back+=w}if(u>>>=E,h-=E,t.back+=E,C&64){n.msg="invalid distance code",t.mode=En;break}t.offset=k,t.extra=C&15,t.mode=z0;case z0:if(t.extra){for(R=t.extra;h<R;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,h-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=En;break}t.mode=V0;case V0:if(d===0)break n;if(m=v-d,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=En;break}m>t.wnext?(m-=t.wnext,_=t.wsize-m):_=t.wnext-m,m>t.length&&(m=t.length),b=t.window}else b=a,_=l-t.offset,m=t.length;m>d&&(m=d),d-=m,t.length-=m;do a[l++]=b[_++];while(--m);t.length===0&&(t.mode=D2);break;case U0:if(d===0)break n;a[l++]=t.length,d--,t.mode=D2;break;case Ri:if(t.wrap){for(;h<32;){if(s===0)break n;s--,u|=r[o++]<<h,h+=8}if(v-=d,n.total_out+=v,t.total+=v,t.wrap&4&&v&&(n.adler=t.check=t.flags?Tn(t.check,a,v,l-v):Jt(t.check,a,v,l-v)),v=d,t.wrap&4&&(t.flags?u:Q0(u))!==t.check){n.msg="incorrect data check",t.mode=En;break}u=0,h=0}t.mode=G0;case G0:if(t.wrap&&t.flags){for(;h<32;){if(s===0)break n;s--,u+=r[o++]<<h,h+=8}if(t.wrap&4&&u!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=En;break}u=0,h=0}t.mode=H0;case H0:M=Om;break n;case En:M=Q4;break n;case $4:return j4;case W4:default:return ne}return n.next_out=l,n.avail_out=d,n.next_in=o,n.avail_in=s,t.hold=u,t.bits=h,(t.wsize||v!==n.avail_out&&t.mode<En&&(t.mode<Ri||e!==y0))&&Z4(n,n.output,n.next_out,v-n.avail_out),p-=n.avail_in,v-=n.avail_out,n.total_in+=p,n.total_out+=v,t.total+=v,t.wrap&4&&v&&(n.adler=t.check=t.flags?Tn(t.check,a,v,n.next_out-v):Jt(t.check,a,v,n.next_out-v)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Pe?128:0)+(t.mode===O2||t.mode===Ii?256:0),(p===0&&v===0||e===y0)&&M===y1&&(M=Lm),M},Wm=n=>{if(A1(n))return ne;let e=n.state;return e.window&&(e.window=null),n.state=null,y1},Ym=(n,e)=>{if(A1(n))return ne;const t=n.state;return t.wrap&2?(t.head=e,e.done=!1,y1):ne},qm=(n,e)=>{const t=e.length;let r,a,o;return A1(n)||(r=n.state,r.wrap!==0&&r.mode!==ur)?ne:r.mode===ur&&(a=1,a=Jt(a,e,t,0),a!==r.check)?Q4:(o=Z4(n,e,t,t),o?(r.mode=$4,j4):(r.havedict=1,y1))};var Xm=q4,Km=X4,Zm=Y4,Jm=Qm,ng=K4,eg=$m,tg=Wm,rg=Ym,ig=qm,ag="pako inflate (from Nodeca project)",Ie={inflateReset:Xm,inflateReset2:Km,inflateResetKeep:Zm,inflateInit:Jm,inflateInit2:ng,inflate:eg,inflateEnd:tg,inflateGetHeader:rg,inflateSetDictionary:ig,inflateInfo:ag};function og(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var sg=og;const J4=Object.prototype.toString,{Z_NO_FLUSH:lg,Z_FINISH:cg,Z_OK:r2,Z_STREAM_END:Ti,Z_NEED_DICT:Fi,Z_STREAM_ERROR:ug,Z_DATA_ERROR:$0,Z_MEM_ERROR:hg}=Er;function Da(n){this.options=kr.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new V4,this.strm.avail_out=0;let t=Ie.inflateInit2(this.strm,e.windowBits);if(t!==r2)throw new Error(n2[t]);if(this.header=new sg,Ie.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=t2.string2buf(e.dictionary):J4.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Ie.inflateSetDictionary(this.strm,e.dictionary),t!==r2)))throw new Error(n2[t])}Da.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,l,s;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?cg:lg,J4.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Ie.inflate(t,l),o===Fi&&a&&(o=Ie.inflateSetDictionary(t,a),o===r2?o=Ie.inflate(t,l):o===$0&&(o=Fi));t.avail_in>0&&o===Ti&&t.state.wrap>0&&n[t.next_in]!==0;)Ie.inflateReset(t),o=Ie.inflate(t,l);switch(o){case ug:case $0:case Fi:case hg:return this.onEnd(o),this.ended=!0,!1}if(s=t.avail_out,t.next_out&&(t.avail_out===0||o===Ti))if(this.options.to==="string"){let d=t2.utf8border(t.output,t.next_out),u=t.next_out-d,h=t2.buf2string(t.output,d);t.next_out=u,t.avail_out=r-u,u&&t.output.set(t.output.subarray(d,d+u),0),this.onData(h)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===r2&&s===0)){if(o===Ti)return o=Ie.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Da.prototype.onData=function(n){this.chunks.push(n)};Da.prototype.onEnd=function(n){n===r2&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=kr.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};let $n={};Object.assign($n,Y7);Object.assign($n,Pa);$n=Object.keys($n).sort().reduce((n,e)=>(n[e]=$n[e],n),{});let W2=new Set(["ID","edges","neighbors"]);function fg(n,e,t){let r=null;return function(){r&&clearTimeout(r);let a=arguments;r=setTimeout(function(){r=null,n.apply(t,a)},e)}}function dg(n){let e=n.reduce((r,a)=>(r.set(a,(r.get(a)||0)+1),r),new Map),t=Array.from(e.keys()).sort((r,a)=>e.get(a)-e.get(r));return t.includes("None")&&(t=t.filter(r=>r!="None"),t.push("None")),t.includes("Other")&&(t=t.filter(r=>r!="Other"),t.push("Other")),t}function pg(n,e){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download",n),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}function vg(){let n=300,e=10,t=tn(this),r=t.node().getComputedTextLength(),a=t.text();for(;r>n-2*e&&a.length>0;)a=a.slice(0,-1),t.text(a+""),r=t.node().getComputedTextLength()}const mg=window.location.search,bn=new URLSearchParams(mg),on={};on.networkName="WS_10000_10_001";bn.has("network")&&(on.networkName=bn.get("network"));on.use2D=!1;bn.has("use2d")&&(on.use2D=!0);bn.has("2d")&&(on.use2D=!0);bn.has("format")&&(on.format=bn.get("format"));on.searchEnabled=!0;bn.has("nosearch")&&(on.searchEnabled=!1);on.legendsEnabled=!0;bn.has("nolegends")&&(on.legendsEnabled=!1);on.hyperbolic=!1;bn.has("hyperbolic")&&(on.hyperbolic=!0);on.shaded=!1;bn.has("shaded")&&(on.shaded=!0);on.advancedEdges=!1;bn.has("advanced")&&(on.advancedEdges=!0);on.definedSize=null;bn.has("size")&&(on.definedSize=+bn.get("size"));on.definedOpacity=null;bn.has("opacity")&&(on.definedOpacity=+bn.get("opacity"));on.startZoomLevel=null;bn.has("zoom")&&(on.startZoomLevel=+bn.get("zoom"));on.autoStartLayout=null;bn.has("layout")&&(on.autoStartLayout=+bn.get("layout")!=0);on.darkBackground=!1;on.backgroundColor=[1,1,1,1];bn.has("dark")&&(on.darkBackground=!0,on.backgroundColor=[0,0,0,1]);on.densityEnabled=!1;bn.has("density")&&(on.densityEnabled=!0);on.additiveBlending=!1;bn.has("additive")&&on.darkBackground&&(on.additiveBlending=!0);on.colorProperty="index";bn.has("colorProperty")&&(on.colorProperty=bn.get("colorProperty"));on.densityProperty="Uniform";bn.has("densityProperty")&&(on.densityProperty=bn.get("densityProperty"));on.vsDensityProperty="None";bn.has("vsDensityProperty")&&(on.vsDensityProperty=bn.get("vsDensityProperty"));on.shallNormalizeVsDensity=!1;bn.has("shallNormalizeVsDensity")&&(on.vsDensityNormalize=bn.get("shallNormalizeVsDensity"));let n3=async(n,e=on)=>{let t=e.colorProperty,r=1,a=1,o=e.backgroundColor,l=.5,s=H=>H._originalSize,d=[];e.shaded&&(l=0);let u=.75,h=.35,p=4,v=1,m=1,_=28.1,b=398.1071705534973,y=e.densityProperty,E=e.vsDensityProperty,C=e.vsDensityNormalize,k=!0,w=1.5,x=1e10,A=3,P=1e10,M=[.9,.9,0],N=2,F=1.5,R=1,z=.5,Q=1.5,I=.5,O="interpolateInferno",B="interpolateOrRd";e.darkBackground&&(B="interpolateInferno");let L="interpolatePrinsenvlag";e.darkBackground&&(L="interpolateRedshift");let T="schemeCategory10",U=!1;const G=await yd(),j=!G.isMobile&&G.tier>2;let X="Network";e.networkName!==null&&(X=e.networkName);let q=Object.keys(n.nodes).length>1e5;e.autoStartLayout===null&&(e.autoStartLayout=!q);let D=new Wf({elementID:"netviz",density:e.densityEnabled,nodes:n.nodes,edges:n.edges,use2D:e.use2D,tracking:!0,hyperbolic:e.hyperbolic,fastEdges:!e.advancedEdges&&q,forceSupersample:j,autoStartLayout:!1});for(let[H,$]of Object.entries(D.network.nodes)){let K=$.edges.length;$._originalSize=r*(1+Math.log10(K+1))}let nn=H=>{typeof H._highlighted>"u"&&(H._highlighted=!1),typeof H._filtered>"u"&&(H._filtered=!1),typeof H._selected>"u"&&(H._selected=!1),typeof H._selectedNeighbor>"u"&&(H._selectedNeighbor=!1);let $=H._originalSize,K=l,J=a;H._selected?($*=A,J*=P,H.outlineColor=M,K*=A):H._selectedNeighbor?($*=N,J*=F,H.outlineColor=o,K*=N):H.outlineColor=o,H._highlighted&&($*=w,J*=x,K*=w),H._filtered&&($*=.05,J*=1,K*=.1),H.size=$,H.opacity=J,H.outlineWidth=K},rn=(H,$,K=!0)=>{H.forEach(J=>{J._highlighted=$,nn(J)}),K&&(D.update(),D.render())},en=new md(D),Pn=(H,$,K=!0)=>{H.forEach(J=>{J._selected=$,J._selectedNeighbor=$,J.neighbors.forEach(an=>{an._selectedNeighbor=$,nn(an)}),nn(J)}),H?.length&&$?(ee(!0),Fn(!0)):(ee(),Fn()),K&&(D.update(),D.render())},Ln=H=>{!H||H.length>0?(D.zoomFactor()<p&&D.zoomFactor(p,500),Pn(D.centeredNodes(),!1,!1),Pn(H,!0,!1),D.centerOnNodes(H,500),H.forEach($=>{D.pickeableEdges($.edges)}),D.update(),D.render()):(Pn(D.centeredNodes(),!1,!1),D.zoomFactor(u,500),D.centerOnNodes([],500),D.pickeableEdges([]),D.update(),D.render())},yn=H=>{let $=se(H[0]*255,H[1]*255,H[2]*255),K=ol($),J,an,cn;return K.l>.3?(cn=$.brighter(.25).formatRgb(),an="rgba(0,0,0,1.0)",J=1):(cn=$.darker(.25).formatRgb(),an="rgba(200,200,200,1.0)",J=1.25),{fill:cn,stroke:an,strokeWidth:J}},Nn=(H,$,K,J,an)=>{if(H){if(typeof K<"u"&&typeof J<"u"&&(_n.group.style.transform=`translate(${K}px, ${J}px)`),an){let cn=yn($);_n.fillText.setAttribute("fill",cn.fill),_n.outlineText.setAttribute("stroke",cn.stroke),_n.outlineText.setAttribute("stroke-width",cn.strokeWidth*3),_n.group.setAttribute("visibility","visible")}_n.fillText.textContent=H,_n.outlineText.textContent=H}else _n.group.setAttribute("visibility","hidden")},ce=(H,$,K,J)=>{if(H){let an=H.Label??H.Title??H.ID;Nn(an,H.color,$,K,J)}else Nn(null)},Fe=(H,$,K,J)=>{if(H){let an=H.source.Label??H.source.Title??H.source.ID,cn=H.target.Label??H.target.Title??H.target.ID,pn=an+" - "+cn;Nn(pn,H.source.color,$,K,J)}else Nn(null)},ee=H=>{typeof H>"u"&&(H=D.network.index2Node.some($=>$._selected)),H?(D.nodesGlobalOpacityScale(R),D.nodesGlobalSizeScale(z*v),D.nodesGlobalOutlineWidthScale(z*v),D.edgesGlobalOpacityScale(m*R)):(D.nodesGlobalOpacityScale(a),D.nodesGlobalSizeScale(v),D.nodesGlobalOutlineWidthScale(v),D.edgesGlobalOpacityScale(m))},Fn=H=>{typeof H>"u"&&(H=D.network.index2Node.some($=>$._selected||$._highlighted||$._selectedNeighbor)),H?D.nodeColor($=>$._selected||$._highlighted||$._selectedNeighbor?$._originalColor:e.darkBackground?$._darkerColor:$._brighterColor):D.nodeColor($=>$._originalColor)},ue=Math.log10(D.network.indexedEdges.length/D.network.index2Node.length),Ze=Math.log10(D.network.index2Node.length),Rn=Math.log10(2*D.network.indexedEdges.length/D.network.index2Node.length/(D.network.index2Node.length-1)),te=Math.pow(10,1.2601+.2488*ue+-.3631*Ze+0*Rn),Mn=Math.pow(10,1.9968+-.6822*ue+-.4954*Ze+0*Rn);q?te=h:te=u;let re=Math.log10(te),ie=Math.pow(10,.8744+.1766*ue+-.2989*Ze+-.9187*re+0*Rn)*.75;e.definedSize?v=e.definedSize:v=ie,D.network.indexedEdges.length,e.definedOpacity?m=e.definedOpacity:m=Mn,u=te,D.onNodeHoverStart((H,$)=>{ce(H,$?.clientX,$?.clientY,!0),rn([H],!0)}),D.onNodeHoverMove((H,$)=>{ce(H,$?.clientX,$?.clientY,!1)}),D.onNodeHoverEnd((H,$)=>{H&&rn([H],!1),ce(null)}),D.onNodeClick((H,$)=>{console.log(H?`Clicked: ${H.ID}`:"Clicked on background")}),D.onNodeDoubleClick((H,$)=>{H?(console.log(`Double Clicked: ${H.ID}`),Ln([H]),"mag id"in H&&window.open(`https://explore.openalex.org/works/W${H["mag id"]}`,"helios_mag")):(console.log("Double clicked on background"),Ln([]))}),D.onEdgeHoverStart((H,$)=>{Fe(H,$?.clientX,$?.clientY,!0),H&&rn([H.source,H.target].filter(K=>!K._selected),!0)}),D.onEdgeHoverMove((H,$)=>{Fe(H,$?.clientX,$?.clientY,!1)}),D.onEdgeHoverEnd((H,$)=>{H&&rn([H.source,H.target].filter(K=>!K._selected),!1),Fe(null)}),D.onEdgeClick((H,$)=>{console.log("Edge clicked"),console.log(H)}),D.onLayoutStart(()=>{console.log("Layout start"),tn("#loading").style("display","block"),tn("#message").style("display","none")}),D.onLayoutStop(()=>{console.log("Layout end"),tn("#loading").style("display","none"),tn("#message").style("display","block")}),D.backgroundColor(e.backgroundColor).edgesGlobalOpacityScale(1).nodeSize(s).nodeOutlineWidth(l).nodeOutlineColor(e.backgroundColor).additiveBlending(e.additiveBlending).shadedNodes(e.shaded);let Cn={Load:{name:"",mapColor:"#B1C3B6",color:"#008758",tooltipText:"Load network",action:(H,$,K)=>{let J=document.createElement("input");J.style.display="none",document.body.appendChild(J),J.type="file",J.accept=".gml,.xnet,.gexf,.json",J.onchange=an=>{let cn=an.target.files[0];console.log("Loading file"),e3(cn),document.body.removeChild(J)},J.click()},extra:H=>{}},Save:{name:"",mapColor:"#B1C3B6",color:"#A72850",tooltipText:"Download network",action:(H,$,K)=>{let J=xg(D.network);pg(X+"_helios.gml",J)},extra:H=>{}},Export:{name:"SVG",mapColor:"#B1C3B6",color:"#777722",tooltipText:"Export image",action:(H,$,K)=>{let J=window.devicePixelRatio||1;D.exportFigure(X+".svg",{scale:J,supersampleFactor:2,backgroundColor:e.backgroundColor})},extra:H=>{}},Size:{name:"Size",mapColor:"#AFB9C9",color:"#1E6099",tooltipText:"Set node sizes",action:null,extra:H=>{H.append("input").attr("type","range").attr("min","-1").attr("max","1").attr("step","0.1").attr("value",""+Math.log10(v)).attr("id","nodeSizeSlider").classed("slider",!0).style("min-width","30px").on("input",($,K)=>{v=Math.pow(10,parseFloat(tn("#nodeSizeSlider").property("value"))),ee(),D.render(),$.stopPropagation()})}},Color:{name:"Color",mapColor:"#AFB9C9",color:"#1E6099",tooltipText:"Set color property and colormap",action:null,extra:H=>{H.append("select").attr("id","colorSelector").classed("selector",!0).style("min-width","30px").on("change",($,K)=>{M1()}).selectAll("option").data(Object.entries(D.network.index2Node[0])).enter().filter($=>!$[0].startsWith("_")).filter($=>!W2.has($[0])&&!$[0].startsWith("_")).append("option").attr("value",$=>$[0]).property("selected",$=>$[0]==t).text($=>$[0]),H.append("select").attr("id","colormapSelector").classed("selector",!0).style("min-width","30px")}},Edges:{name:"Edges",mapColor:"#B1A58C",color:"#903C22",tooltipText:"Set edges opacity",action:null,extra:H=>{console.log("CALLED"),H.append("input").attr("type","range").attr("min","0").attr("max","1").attr("step",1/255+"").attr("value",""+Math.round(255*m)/255).attr("id","edgeOpacitySlider").classed("slider",!0).style("min-width","30px").on("input",($,K)=>{m=parseFloat(tn("#edgeOpacitySlider").property("value")),D.edgesGlobalOpacityScale(m),D.render(),$.stopPropagation()})}},Density:{name:"Density",mapColor:"#A1A152",color:"#505005",tooltipText:"Set the density property",action:null,extra:H=>{H.append("select").attr("id","densitySelector").classed("selector",!0).style("min-width","30px").on("change",($,K)=>{De(),$.stopPropagation()}).selectAll("option").data(Object.entries(D.network.index2Node[0]).concat([["Uniform",0],["Degree",0]])).enter().filter($=>!$[0].startsWith("_")).filter($=>!W2.has($[0])&&!$[0].startsWith("_")).filter($=>$[0]!="index").filter($=>Number.isFinite($[1])).append("option").attr("value",$=>$[0]).property("selected",$=>$[0]==y).text($=>$[0])}},vs:{name:"vs",mapColor:"#A1A152",color:"#505005",tooltipText:"Set a second density property to compare with the first one.",action:null,extra:H=>{H.append("select").attr("id","vsDensitySelector").classed("selector",!0).style("min-width","30px").on("change",($,K)=>{De(),$.stopPropagation()}).selectAll("option").data(Object.entries(D.network.index2Node[0]).concat([["Uniform",0],["Degree",0],["None",0]])).enter().filter($=>!$[0].startsWith("_")).filter($=>!W2.has($[0])&&!$[0].startsWith("_")).filter($=>$[0]!="index").filter($=>Number.isFinite($[1])).append("option").attr("value",$=>$[0]).property("selected",$=>$[0]==E).text($=>$[0])}},"Norm.":{name:"Norm.",mapColor:"#A1A152",color:"#505005",tooltipText:"Use the checkbox for independent normalization.",action:null,extra:H=>{H.append("input").attr("type","checkbox").attr("id","vsNormCheckbox").property("checked",C).on("change",($,K)=>{C=tn("#vsNormCheckbox").property("checked"),De(),$.stopPropagation()})}},Bandwidth:{name:"Bandwidth",mapColor:"#A1A152",color:"#505005",action:null,tooltipText:"Controls the bandwidth of the density map",extra:H=>{H.append("input").attr("type","range").attr("min","-0.9").attr("max","2.5").attr("step",.05+"").attr("value",""+Math.log10(_)).attr("id","densityBandwidthSlider").classed("slider",!0).style("min-width","60px").on("input",($,K)=>{_=Math.pow(10,parseFloat(tn("#densityBandwidthSlider").property("value"))),D.densityMap?.setBandwidth(_),D.redraw(),$.stopPropagation()}),D.densityMap?.setBandwidth(_)}},Weight:{name:"Weight",mapColor:"#A1A152",color:"#505005",tooltipText:"Controls the intensity of the density map",action:null,extra:H=>{H.append("input").attr("type","range").attr("min","0").attr("max","10").attr("step",.1+"").attr("value",""+Math.log10(b)).attr("id","densityWeightSlider").classed("slider",!0).style("min-width","60px").on("input",($,K)=>{b=Math.pow(10,parseFloat(tn("#densityWeightSlider").property("value"))),D.densityMap?.setKernelWeightScale(b),D.redraw(),$.stopPropagation()}),D.densityMap?.setKernelWeightScale(b)}},Map:{name:"Map",mapColor:"#A1A152",color:"#505005",action:null,tooltipText:"Colormap for the density map",extra:H=>{H.append("select").attr("id","densityColormapSelector").classed("selector",!0).style("min-width","30px").on("change",($,K)=>{S1()}),Pr()}}},_n={group:D.svgLayer.appendChild(document.createElementNS("http://www.w3.org/2000/svg","g"))};_n.group.setAttribute("id","tooltips"),_n.outlineText=_n.group.appendChild(document.createElementNS("http://www.w3.org/2000/svg","text")),_n.fillText=_n.group.appendChild(document.createElementNS("http://www.w3.org/2000/svg","text"));let Oe=tn(D.svgLayer).append("g").attr("transform","translate(10,10)").attr("id","legendView"),C1=tn(D.svgLayer).append("g").attr("id","densityLegendView"),c2=()=>{C1.attr("transform","translate("+(D.svgLayer.clientWidth-170)+" "+(D.svgLayer.clientHeight-75)+")")},rt=new ResizeObserver(H=>{if(D.isReady())for(let $ of H)c2()});c2(),rt.observe(D.canvasElement),D.onCleanup(()=>{rt.disconnect()});let Vn=[],Je=H=>{if(D.network.index2Node,H?.length>0){let K=new Set(H);en.setFilter("categoryFilter",J=>!K.has(J[t]),H)}else en.setFilter("categoryFilter",K=>K[t]=="None",H);en.applyFilters(),en.updatedNodes().forEach(K=>{nn(K)}),De(!1),D.update(),D.render()},u2=H=>{Oe.selectAll("*").remove();let $=Oe.selectAll(".legend").data(H.keys());Oe.style("width","350px").style("height",(H.size+1)*20+"px");let K=$.enter().append("g").classed("legend",!0).attr("transform",(J,an)=>"translate(0,"+an*20+")");K.append("rect"),K.append("g").append("text"),$=$.merge(K),$.select("rect").attr("x",0).attr("y",0).attr("width",30).attr("height",15).attr("fill",J=>H.get(J)).on("mouseenter",function(J,an){Vn.length==0&&(tn(this).attr("stroke","#555555"),tn(this).attr("stroke-width","4px"),Je([an]))}).on("mouseleave",function(J,an){Vn.length==0&&(tn(this).attr("stroke",null),tn(this).attr("stroke-width",null),Je([]))}).on("click",function(J,an){Vn.indexOf(an)==-1?(Vn.push(an),tn(this).attr("stroke","#555555"),tn(this).attr("stroke-width","4px"),Je(Vn)):(Vn.splice(Vn.indexOf(an),1),tn(this).attr("stroke",null),tn(this).attr("stroke-width",null),Je(Vn))}).style("pointer-events","all"),$.select("g").attr("transform",J=>`translate(35,${15/2})`).select("text").style("font-size","12px").append("tspan").attr("dy","0.33em").text(J=>J).attr("fill",e.darkBackground?"white":"black").each(vg)},k1=(H,$)=>{Oe.selectAll("*").remove(),e.legendsEnabled&&a0(H,{svg:Oe,title:$,orientation:"vertical",themeColors:[e.darkBackground?"white":"black",e.darkBackground?"black":"white"]})},h2=H=>{if(H!=k){k=H;let $=k?L:B;tn("#densityColormapSelector").property("value",$),S1()}};k=!1;let we=()=>{let H=$n[B];k&&(H=$n[L]);let $=Xi(H).domain([0,1]);k&&($=s4(H).domain([-1,0,1])),C1.selectAll("*").remove();let K=["-","0","+"],J=y;E!="None"&&(K=[y,0,E],J=""),e.legendsEnabled&&a0($,{svg:C1,title:J,titleAlignment:"end",width:150,tickValues:k?[-1,0,1]:[0,1],tickFormat:k?an=>K[an+1]:an=>["0","+"][an],themeColors:[e.darkBackground?"white":"black",e.darkBackground?"black":"white"]})};function n1(){let H=[];for(let[xn,dn]of Object.entries(D.network.nodes))H.push(dn[t]);let $=dg(H),K=$n[T];if(K.filter(Array.isArray).length>0){let xn=K.findIndex(dn=>typeof dn<"u");typeof K[$.length-1]<"u"?K=K[$.length]:$.length-1<xn?K=K[xn]:K=K[K.length-1]}let an=Ca(K),cn=new Map,pn=new Map;$.forEach((xn,dn)=>{dn<K.length?(cn.set(xn,an(xn)),pn.set(xn,K[dn])):cn.set(xn,"#bbbbbb")}),pn.size<$.length&&pn.set("Other","#bbbbbb");for(let[xn,dn]of Object.entries(D.network.nodes)){let kn=se(cn.get(dn[t])),st=kn.darker(Q),lt=kn.brighter(I);dn._originalColor=[kn.r/255,kn.g/255,kn.b/255],dn._darkerColor=[st.r/255,st.g/255,st.b/255],dn._brighterColor=[lt.r/255,lt.g/255,lt.b/255]}Fn(),D.update(),D.render(),u2(pn)}function e1(){let H=[],$=-1/0,K=1/0;for(let[cn,pn]of Object.entries(D.network.nodes))H.push(pn[t]),$=Math.max($,pn[t]),K=Math.min(K,pn[t]);let J=$n[O],an=Xi(J).domain([K,$]);for(let[cn,pn]of Object.entries(D.network.nodes)){let xn=se(an(pn[t])),dn=xn.darker(Q),kn=xn.brighter(I);pn._originalColor=[xn.r/255,xn.g/255,xn.b/255],pn._darkerColor=[dn.r/255,dn.g/255,dn.b/255],pn._brighterColor=[kn.r/255,kn.g/255,kn.b/255]}k1(an,t),Fn(),D.update(),D.render()}function Pr(){tn("#densityColormapSelector").classed("selector",!0).style("min-width","30px").on("change",(H,$)=>{S1()}).selectAll("option").data(Object.entries($n).filter(H=>H[0].startsWith("interpolate"))).join("option").attr("value",H=>H[0]).property("selected",H=>H[0]==(k?L:B)).text(H=>H[0].replace("interpolate","").replace("scheme",""))}function S1(){k?L=tn("#densityColormapSelector").property("value"):B=tn("#densityColormapSelector").property("value");let H=k?L:B;console.log(H);let $=$n[H];D.densityMap.setColormap($),we(),D.render()}let P1=()=>{Vn=[],Je([]),U?(T=tn("#colormapSelector").property("value"),n1()):(O=tn("#colormapSelector").property("value"),e1())},M1=()=>{t=tn("#colorSelector").property("value");let H=!1;for(let[$,K]of Object.entries(D.network.nodes))if(typeof K[t]!="number"){H=!0;break}U=H,console.log(H?"categorical":"continuous"),tn("#colormapSelector").classed("selector",!0).style("min-width","30px").on("change",($,K)=>{P1()}).selectAll("option").data(Object.entries($n).filter($=>$[0].startsWith(H?"scheme":"interpolate"))).join("option").attr("value",$=>$[0]).property("selected",$=>$[0]==(H?T:O)).text($=>$[0].replace("interpolate","").replace("scheme","")),P1()};function De(H=!0){if(D.densityMap){y=tn("#densitySelector").property("value"),E=tn("#vsDensitySelector").property("value");for(let cn=0;cn<D.densityWeights.length;cn++)D.densityWeights[cn]=0;let $=[];E=="None"?$=[[y,1]]:$=[[E,1],[y,-1]];for(let[cn,pn]of $)if(cn=="Uniform")for(let xn=0;xn<D.densityWeights.length;xn++)D.densityWeights[xn]+=pn;else if(cn=="Degree")for(let[xn,dn]of Object.entries(D.network.nodes)){let kn=dn.edges.length;D.densityWeights[dn.index]+=pn*kn}else for(let[xn,dn]of Object.entries(D.network.nodes)){let kn=dn[cn];D.densityWeights[dn.index]+=pn*kn}let K=0,J=0,an=0;for(let[cn,pn]of Object.entries(D.network.nodes)){let xn=pn._filtered?0:1;D.densityWeights[pn.index]*=xn;let dn=D.densityWeights[pn.index];K+=Math.abs(dn),dn<0?an+=dn:J+=dn}if(K>0&&an==0){for(let[cn,pn]of Object.entries(D.network.nodes))D.densityWeights[pn.index]/=K;D?.densityMap?.divergingColormap(!1),h2(!1)}else{let cn=Math.max(Math.abs(an),Math.abs(J)),pn=Math.max(Math.abs(an),Math.abs(J));C&&(cn=Math.max(Math.abs(J)),pn=Math.max(Math.abs(an)));for(let[xn,dn]of Object.entries(D.network.nodes)){let kn=D.densityWeights[dn.index];kn<0&&an<0?D.densityWeights[dn.index]=kn/pn:kn>0&&J>0?D.densityWeights[dn.index]=kn/cn:D.densityWeights[dn.index]/=K}D?.densityMap?.divergingColormap(!0),h2(!0)}we(),D.updateDensityMap(),H&&D.redraw()}}let I1=["Load","Save","Export","Size","Color"];D.network.indexedEdges.length>0&&I1.push("Edges"),e.densityEnabled&&(I1=I1.concat(["Density","vs","Norm.","Bandwidth","Weight","Map"])),tn(D.overlay).select("div.selectionMenu").remove(),tn(D.overlay).append("div").classed("selectionMenu",!0).selectAll("span.menuEntry").style("pointer-events","none").data(I1).enter().append("span").classed("menuEntry",!0).classed("tooltip",H=>Cn[H].tooltipText).style("--color",H=>Cn[H].color).text(H=>Cn[H].name).each(function(H){tn(this).call(Cn[H].extra)}).on("mouseover",function(H,$){let K=tn(this).select(".tooltiptext"),J=this.getBoundingClientRect();K.classed("tooltiptop",!1),K.classed("tooltipbottom",!1),J.top<window.innerHeight/2?K.classed("tooltipbottom",!0):K.classed("tooltiptop",!0),K.classed("leftAlign",!1),K.classed("rightAlign",!1);let an=(J.left+J.right)/2;an<60&&K.classed("leftAlign",!0),an>window.innerWidth-60&&K.classed("rightAlign",!0)}),tn(D.overlay).select("div.selectionMenu").selectAll("span.menuEntry").filter(H=>Cn[H].action!=null).on("click",(H,$)=>{Cn[$].action&&Cn[$].action(tn(globalThis),$,H)}).classed("hasAction",!0),tn(D.overlay).select("div.selectionMenu").selectAll("span.menuEntry").filter(H=>Cn[H].tooltipText).append("span").classed("tooltiptext",!0).classed("tooltiptop",!0).text(H=>Cn[H].tooltipText),tn(D.overlay).select("div.selectionMenu").selectAll("span.menuEntry"),document.addEventListener("keypress",H=>{H.target.nodeName.toLowerCase()!=="input"&&D?.layoutWorker&&H.code==="Space"&&(D?.layoutWorker?.isRunning?.()?D.pauseLayout():D.resumeLayout())}),e.startZoomLevel?(u=e.startZoomLevel,D.zoomFactor(u)):q?D.zoomFactor(u):(D.zoomFactor(.05),D.zoomFactor(u,1e3)),D.nodesGlobalSizeScale(v),D.nodesGlobalOutlineWidthScale(v),D.edgesGlobalOpacityScale(m),e.densityEnabled&&D.densityMap.setColormap($n[k?L:B]);let it=5e-4,Mr=.001,at=10,ot=2;tn(D.svgLayer).append("g").attr("id","categoricalLabelsGroup").style("text-anchor","middle").style("font-size","12px").attr("stroke-linejoin","round").style("font-family","HelveticaNeue,Roboto,Helvetica,Arial,sans-serif").attr("pointer-events","none");let qn=tn(D.svgLayer).append("g").attr("id","labelsGroup").style("text-anchor","middle").style("font-size","12px").attr("stroke-linejoin","round").style("font-family","HelveticaNeue,Roboto,Helvetica,Arial,sans-serif").attr("pointer-events","none"),t1=H=>{let $=(H-it)/(Mr-it);return Math.max(0,Math.min(1,$))},he=()=>{qn.selectAll(".label").data(d,H=>+H[0]).join(H=>{let $=H.append("g").classed("label",!0),K=J=>{let an=D.network.index2Node[+J[0]];return an.Label??an.title??an.ID};return $.append("text").classed("labelOutline",!0).attr("dy","0.25em").attr("stroke-linejoin","round").text(K),$.append("text").classed("labelFill",!0).attr("dy","0.25em").text(K),$.attr("transform",J=>{let an=D.getProjectedPositions([+J[0]]);if(an[2]<-1&&!D._use2D)return null;let cn=t1(J[1]);return`translate(${an[0]} ${an[1]}) scale(${cn},${cn})`}),$},H=>H,H=>H.remove()).style("opacity",H=>t1(H[1])).each(function(H){let $=D.network.index2Node[+H[0]],K=tn(this),J=K.select(".labelFill").node(),an=K.select(".labelOutline").node(),cn=yn($.color);J.style.fill=cn.fill,an.style.stroke=cn.stroke,an.style.strokeWidth=cn.strokeWidth*3}).attr("transform",H=>{let $=D.getProjectedPositions([+H[0]]);if($[2]<-1&&!D._use2D)return null;let K=t1(H[1]);return`translate(${$[0]} ${$[1]}) scale(${K},${K})`})};D.onReady(()=>{if(D.trackAttribute("indexTracker","index",{minProportion:it,smoothness:ot,maxLabels:at,onTrack:(H,$)=>{d=H,he()}}),tn("#loadingPanel").style("display","none"),e.searchEnabled){tn(D.overlay).select("div.filterPanel").remove();let H=tn(D.overlay).append("div").classed("filterPanel",!0).classed("tooltip",!0).append("form").attr("autocomplete","off").attr("action","");H.append("input").attr("autocomplete","false").attr("name","hidden").attr("type","text").style("display","none"),H.append("input").classed("searchSelector",!0).attr("placeholder","Search"),H.append("span").classed("tooltiptext",!0).classed("tooltipbottom",!0).text("Search in labels")}e.autoStartLayout&&D.resumeLayout(),De(!1),M1()});let Ir=fg(()=>{let H=tn(D.overlay).select("div.filterPanel").select(".searchSelector").property("value"),$=D.network.index2Node;if(!H.startsWith("*"))H.length>0?(H=H.toLowerCase(),en.setFilter("searchFilter",J=>!J.Label.toLowerCase().includes(H))):en.removeFilter("searchFilter");else{let J="node[*"+H.substring(1)+"]",an=$p(J,{data:{node:$},allowRegexp:!0}),cn=new Set(an.value);en.setFilter("searchFilter",pn=>!cn.has(pn))}en.applyFilters(),en.updatedNodes().forEach(J=>{nn(J)}),De(!1),D.update(),D.render()},250);return tn(D.overlay).select("div.filterPanel").select(".searchSelector").on("input",(H,$)=>{Ir()}),window.helios=D,D},La=null,In=on.networkName;on.format||(In.endsWith(".xnet")?(on.format="xnet",In=In.substring(0,In.length-5)):In.endsWith(".gexf")?(on.format="gexf",In=In.substring(0,In.length-5)):In.endsWith(".gml")?(on.format="gml",In=In.substring(0,In.length-4)):In.endsWith(".json")?(on.format="json",In=In.substring(0,In.length-5)):on.format="xnet");let Ut;if(on.format==="xnet"){let n=await ad("networks/"+In+".xnet");Ut=c4(n)}else if(on.format==="gexf"){let n=await hd("networks/"+In+".gexf");Ut=h4(n)}else on.format==="gml"?Ut=await vd("networks/"+In+".gml"):on.format==="json"?Ut=await fetch("networks/"+In+".json").then(n=>n.json()):console.error("Unknown network format: "+on.format);async function gg(n,e){let t;if(e==="gml")t=d4(n);else if(e==="xnet"){let r=l4(n);t=c4(r)}else if(e==="gexf"){let r=ud(n);t=h4(r)}else e==="json"&&(t=JSON.parse(n));La=await n3(t,on)}async function e3(n){let t=n.name.split(".").pop().toLowerCase();if(t==="gml"||t==="xnet"||t==="gexf"||t==="json"){tn("#loadingPanel").style("display",null),La?.cleanup();let r=await n.text();gg(r,t).catch(a=>{console.error(a),alert("Error loading network: "+a),tn("#loadingPanel").style("display","none")})}else alert("File format not supported. Supported formats: gml, xnet, gexf, json"),tn("#loadingPanel").style("display","none")}let E1=document.getElementById("netviz");E1.addEventListener("dragenter",bg,!1);E1.addEventListener("dragleave",_g,!1);E1.addEventListener("dragover",wg,!1);E1.addEventListener("drop",yg,!1);let l2=document.createElement("div");l2.classList.add("dragdropmessage");l2.innerHTML="<h1>Drop a network file here</h1><br/>Supported formats: gml, xnet, gexf, json";function bg(n){E1.appendChild(l2),console.log("Enter"),n.stopPropagation(),n.preventDefault()}function _g(n){E1.removeChild(l2),console.log("Leave"),n.stopPropagation(),n.preventDefault()}function wg(n){n.stopPropagation(),n.preventDefault()}async function yg(n){n.stopPropagation(),n.preventDefault(),console.log("Drop");let e=n.dataTransfer.files[0];e3(e),E1.removeChild(l2)}function xg(n){let e=[],t=[],r=0;for(let o of n.index2Node){let l={},s=helios.network.positions;for(let[d,u]of Object.entries(o)){!d.startsWith("_")&&!W2.has(d)&&(l[d]=u);let h=s[r*3],p=s[r*3+1],v=s[r*3+2];l.posx=h,l.posy=p,l.posz=v}l.id=r,l.label===void 0&&(l.label=r+""),e.push(l),r+=1}for(let o=0;o<n.indexedEdges.length;o+=2){let l=n.indexedEdges[o],s=n.indexedEdges[o+1];t.push({source:l,target:s})}return dd({nodes:e,edges:t},{nodeAttributes:Object.keys(e[0])})}La=await n3(Ut,on);
//# sourceMappingURL=main-c9742021.js.map
